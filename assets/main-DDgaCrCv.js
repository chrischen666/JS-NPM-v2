var KT=(h,tt)=>()=>(tt||h((tt={exports:{}}).exports,tt),tt.exports);var JT=KT((es,ns)=>{(function(){const tt=document.createElement("link").relList;if(tt&&tt.supports&&tt.supports("modulepreload"))return;for(const Ut of document.querySelectorAll('link[rel="modulepreload"]'))an(Ut);new MutationObserver(Ut=>{for(const Tt of Ut)if(Tt.type==="childList")for(const _e of Tt.addedNodes)_e.tagName==="LINK"&&_e.rel==="modulepreload"&&an(_e)}).observe(document,{childList:!0,subtree:!0});function ye(Ut){const Tt={};return Ut.integrity&&(Tt.integrity=Ut.integrity),Ut.referrerPolicy&&(Tt.referrerPolicy=Ut.referrerPolicy),Ut.crossOrigin==="use-credentials"?Tt.credentials="include":Ut.crossOrigin==="anonymous"?Tt.credentials="omit":Tt.credentials="same-origin",Tt}function an(Ut){if(Ut.ep)return;Ut.ep=!0;const Tt=ye(Ut);fetch(Ut.href,Tt)}})();/* @license C3.js v0.7.20 | (c) C3 Team and other contributors | http://c3js.org/ */(function(h,tt){typeof es=="object"&&typeof ns<"u"?ns.exports=tt():typeof define=="function"&&define.amd?define(tt):(h=h||self,h.c3=tt())})(void 0,function(){function h(n){var r=this;r.d3=window.d3?window.d3:typeof require<"u"?require("d3"):void 0,r.api=n,r.config=r.getDefaultConfig(),r.data={},r.cache={},r.axes={}}function tt(n){this.internal=new h(this),this.internal.loadConfig(n),this.internal.beforeInit(n),this.internal.init(),this.internal.afterInit(n),function r(s,c,p){Object.keys(s).forEach(function(v){c[v]=s[v].bind(p),Object.keys(s[v]).length>0&&r(s[v],c[v],p)})}(tt.prototype,this,this)}var ye=function(n){return Math.ceil(n)+.5},an=function(n){return Math.ceil(n/10)*10},Ut=function(n){return n[1]-n[0]},Tt=function(n,r,s){return Zt(n[r])?n[r]:s},_e=function(n){var r=qe(n),s=[n.pathSegList.getItem(0),n.pathSegList.getItem(1)],c=s[0].x,p=Math.min(s[0].y,s[1].y);return{x:c,y:p,width:r.width,height:r.height}},qe=function(n){try{return n.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},is=function(n,r){var s=!1;return Object.keys(n).forEach(function(c){n[c]===r&&(s=!0)}),s},Bn=function(n){return Array.isArray(n)},Zt=function(n){return typeof n<"u"},ji=function(n){return typeof n>"u"||n===null||ee(n)&&n.length===0||typeof n=="object"&&Object.keys(n).length===0},Yt=function(n){return typeof n=="function"},Ki=function(n){return typeof n=="number"},ee=function(n){return typeof n=="string"},le=function(n){return typeof n>"u"},Mt=function(n){return n||n===0},Ee=function(n){return!ji(n)},$n=function(n){return typeof n=="string"?n.replace(/</g,"&lt;").replace(/>/g,"&gt;"):n},_i=function(n){return Array.isArray(n)?[].concat.apply([],n):[]},rs=function(n,r,s){var c=r.x-s,p=r.x+r.width+s,v=r.y+r.height+s,w=r.y-s;return c<n[0]&&n[0]<p&&w<n[1]&&n[1]<v},me=function(n){typeof n>"u"&&(n=window.navigator.userAgent);var r=n.indexOf("MSIE ");return r>0?parseInt(n.substring(r+5,n.indexOf(".",r)),10):(r=n.indexOf("Trident/"),r>0?(r=n.indexOf("rv:"),parseInt(n.substring(r+3,n.indexOf(".",r)),10)):!1)},mi=function(n){var r=me();return typeof n>"u"?!!r:n===r};function zt(n,r){var s=this;s.component=n,s.params=r||{},s.d3=n.d3,s.scale=s.d3.scaleLinear(),s.range,s.orient="bottom",s.innerTickSize=6,s.outerTickSize=this.params.withOuterTick?6:0,s.tickPadding=3,s.tickValues=null,s.tickFormat,s.tickArguments,s.tickOffset=0,s.tickCulling=!0,s.tickCentered,s.tickTextCharSize,s.tickTextRotate=s.params.tickTextRotate,s.tickLength,s.axis=s.generateAxis()}zt.prototype.axisX=function(n,r,s){n.attr("transform",function(c){return"translate("+Math.ceil(r(c)+s)+", 0)"})},zt.prototype.axisY=function(n,r){n.attr("transform",function(s){return"translate(0,"+Math.ceil(r(s))+")"})},zt.prototype.scaleExtent=function(n){var r=n[0],s=n[n.length-1];return r<s?[r,s]:[s,r]},zt.prototype.generateTicks=function(n){var r=this,s,c,p=[];if(n.ticks)return n.ticks.apply(n,r.tickArguments);for(c=n.domain(),s=Math.ceil(c[0]);s<c[1];s++)p.push(s);return p.length>0&&p[0]>0&&p.unshift(p[0]-(p[1]-p[0])),p},zt.prototype.copyScale=function(){var n=this,r=n.scale.copy(),s;return n.params.isCategory&&(s=n.scale.domain(),r.domain([s[0],s[1]-1])),r},zt.prototype.textFormatted=function(n){var r=this,s=r.tickFormat?r.tickFormat(n):n;return typeof s<"u"?s:""},zt.prototype.updateRange=function(){var n=this;return n.range=n.scale.rangeExtent?n.scale.rangeExtent():n.scaleExtent(n.scale.range()),n.range},zt.prototype.updateTickTextCharSize=function(n){var r=this;if(r.tickTextCharSize)return r.tickTextCharSize;var s={h:11.5,w:5.5};return n.select("text").text(function(c){return r.textFormatted(c)}).each(function(c){var p=qe(this),v=r.textFormatted(c),w=p.height,A=v?p.width/v.length:void 0;w&&A&&(s.h=w,s.w=A)}).text(""),r.tickTextCharSize=s,s},zt.prototype.isVertical=function(){return this.orient==="left"||this.orient==="right"},zt.prototype.tspanData=function(n,r,s){var c=this,p=c.params.tickMultiline?c.splitTickText(n,s):[].concat(c.textFormatted(n));return c.params.tickMultiline&&c.params.tickMultilineMax>0&&(p=c.ellipsify(p,c.params.tickMultilineMax)),p.map(function(v){return{index:r,splitted:v,length:p.length}})},zt.prototype.splitTickText=function(n,r){var s=this,c=s.textFormatted(n),p=s.params.tickWidth,v,w,A,M=[];if(Object.prototype.toString.call(c)==="[object Array]")return c;(!p||p<=0)&&(p=s.isVertical()?95:s.params.isCategory?Math.ceil(r(1)-r(0))-12:110);function C(G,V){w=void 0;for(var H=1;H<V.length;H++)if(V.charAt(H)===" "&&(w=H),v=V.substr(0,H+1),A=s.tickTextCharSize.w*v.length,p<A)return C(G.concat(V.substr(0,w||H)),V.slice(w?w+1:H));return G.concat(V)}return C(M,c+"")},zt.prototype.ellipsify=function(n,r){if(n.length<=r)return n;for(var s=n.slice(0,r),c=3,p=r-1;p>=0;p--){var v=s[p].length;if(s[p]=s[p].substr(0,v-c).padEnd(v,"."),c-=v,c<=0)break}return s},zt.prototype.updateTickLength=function(){var n=this;n.tickLength=Math.max(n.innerTickSize,0)+n.tickPadding},zt.prototype.lineY2=function(n){var r=this,s=r.scale(n)+(r.tickCentered?0:r.tickOffset);return r.range[0]<s&&s<r.range[1]?r.innerTickSize:0},zt.prototype.textY=function(){var n=this,r=n.tickTextRotate;return r?11.5-2.5*(r/15)*(r>0?1:-1):n.tickLength},zt.prototype.textTransform=function(){var n=this,r=n.tickTextRotate;return r?"rotate("+r+")":""},zt.prototype.textTextAnchor=function(){var n=this,r=n.tickTextRotate;return r?r>0?"start":"end":"middle"},zt.prototype.tspanDx=function(){var n=this,r=n.tickTextRotate;return r?8*Math.sin(Math.PI*(r/180)):0},zt.prototype.tspanDy=function(n,r){var s=this,c=s.tickTextCharSize.h;return r===0&&(s.isVertical()?c=-((n.length-1)*(s.tickTextCharSize.h/2)-3):c=".71em"),c},zt.prototype.generateAxis=function(){var n=this,r=n.d3,s=n.params;function c(p,v){var w;return p.each(function(){var A=c.g=r.select(this),M=this.__chart__||n.scale,C=this.__chart__=n.copyScale(),G=n.tickValues?n.tickValues:n.generateTicks(C),V=A.selectAll(".tick").data(G,C),H=V.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),N=V.exit().remove(),Y=V.merge(H),W,j,et;s.isCategory?(n.tickOffset=Math.ceil((C(1)-C(0))/2),j=n.tickCentered?0:n.tickOffset,et=n.tickCentered?n.tickOffset:0):n.tickOffset=j=0,n.updateRange(),n.updateTickLength(),n.updateTickTextCharSize(A.select(".tick"));var pt=Y.select("line").merge(H.append("line")),Lt=Y.select("text").merge(H.append("text")),At=Y.selectAll("text").selectAll("tspan").data(function(ot,ct){return n.tspanData(ot,ct,C)}),Vt=At.enter().append("tspan"),Et=Vt.merge(At).text(function(ot){return ot.splitted});At.exit().remove();var lt=A.selectAll(".domain").data([0]),wt=lt.enter().append("path").merge(lt).attr("class","domain");switch(n.orient){case"bottom":{W=n.axisX,pt.attr("x1",j).attr("x2",j).attr("y2",function(ot,ct){return n.lineY2(ot,ct)}),Lt.attr("x",0).attr("y",function(ot,ct){return n.textY(ot,ct)}).attr("transform",function(ot,ct){return n.textTransform(ot,ct)}).style("text-anchor",function(ot,ct){return n.textTextAnchor(ot,ct)}),Et.attr("x",0).attr("dy",function(ot,ct){return n.tspanDy(ot,ct)}).attr("dx",function(ot,ct){return n.tspanDx(ot,ct)}),wt.attr("d","M"+n.range[0]+","+n.outerTickSize+"V0H"+n.range[1]+"V"+n.outerTickSize);break}case"top":{W=n.axisX,pt.attr("x1",j).attr("x2",j).attr("y2",function(ot,ct){return-1*n.lineY2(ot,ct)}),Lt.attr("x",0).attr("y",function(ot,ct){return-1*n.textY(ot,ct)-(s.isCategory?2:n.tickLength-2)}).attr("transform",function(ot,ct){return n.textTransform(ot,ct)}).style("text-anchor",function(ot,ct){return n.textTextAnchor(ot,ct)}),Et.attr("x",0).attr("dy",function(ot,ct){return n.tspanDy(ot,ct)}).attr("dx",function(ot,ct){return n.tspanDx(ot,ct)}),wt.attr("d","M"+n.range[0]+","+-n.outerTickSize+"V0H"+n.range[1]+"V"+-n.outerTickSize);break}case"left":{W=n.axisY,pt.attr("x2",-n.innerTickSize).attr("y1",et).attr("y2",et),Lt.attr("x",-n.tickLength).attr("y",n.tickOffset).style("text-anchor","end"),Et.attr("x",-n.tickLength).attr("dy",function(ot,ct){return n.tspanDy(ot,ct)}),wt.attr("d","M"+-n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+-n.outerTickSize);break}case"right":{W=n.axisY,pt.attr("x2",n.innerTickSize).attr("y1",et).attr("y2",et),Lt.attr("x",n.tickLength).attr("y",n.tickOffset).style("text-anchor","start"),Et.attr("x",n.tickLength).attr("dy",function(ot,ct){return n.tspanDy(ot,ct)}),wt.attr("d","M"+n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+n.outerTickSize);break}}if(C.rangeBand){var bt=C,vt=bt.rangeBand()/2;M=C=function(ot){return bt(ot)+vt}}else M.rangeBand?M=C:N.call(W,C,n.tickOffset);H.call(W,M,n.tickOffset),w=(v?Y.transition(v):Y).style("opacity",1).call(W,C,n.tickOffset)}),w}return c.scale=function(p){return arguments.length?(n.scale=p,c):n.scale},c.orient=function(p){return arguments.length?(n.orient=p in{top:1,right:1,bottom:1,left:1}?p+"":"bottom",c):n.orient},c.tickFormat=function(p){return arguments.length?(n.tickFormat=p,c):n.tickFormat},c.tickCentered=function(p){return arguments.length?(n.tickCentered=p,c):n.tickCentered},c.tickOffset=function(){return n.tickOffset},c.tickInterval=function(){var p,v;return s.isCategory?p=n.tickOffset*2:(v=c.g.select("path.domain").node().getTotalLength()-n.outerTickSize*2,p=v/c.g.selectAll("line").size()),p===1/0?0:p},c.ticks=function(){return arguments.length?(n.tickArguments=arguments,c):n.tickArguments},c.tickCulling=function(p){return arguments.length?(n.tickCulling=p,c):n.tickCulling},c.tickValues=function(p){if(typeof p=="function")n.tickValues=function(){return p(n.scale.domain())};else{if(!arguments.length)return n.tickValues;n.tickValues=p}return c},c};var E={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},Hn=function(){function n(r){this.owner=r,this.d3=r.d3,this.internal=zt}return n}(),dt=Hn;dt.prototype.init=function(){var r=this.owner,s=r.config,c=r.main;r.axes.x=c.append("g").attr("class",E.axis+" "+E.axisX).attr("clip-path",s.axis_x_inner?"":r.clipPathForXAxis).attr("transform",r.getTranslate("x")).style("visibility",s.axis_x_show?"visible":"hidden"),r.axes.x.append("text").attr("class",E.axisXLabel).attr("transform",s.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),r.axes.y=c.append("g").attr("class",E.axis+" "+E.axisY).attr("clip-path",s.axis_y_inner?"":r.clipPathForYAxis).attr("transform",r.getTranslate("y")).style("visibility",s.axis_y_show?"visible":"hidden"),r.axes.y.append("text").attr("class",E.axisYLabel).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),r.axes.y2=c.append("g").attr("class",E.axis+" "+E.axisY2).attr("transform",r.getTranslate("y2")).style("visibility",s.axis_y2_show?"visible":"hidden"),r.axes.y2.append("text").attr("class",E.axisY2Label).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},dt.prototype.getXAxis=function(r,s,c,p,v,w,A){var M=this.owner,C=M.config,G={isCategory:M.isCategorized(),withOuterTick:v,tickMultiline:C.axis_x_tick_multiline,tickMultilineMax:C.axis_x_tick_multiline?Number(C.axis_x_tick_multilineMax):0,tickWidth:C.axis_x_tick_width,tickTextRotate:A?0:C.axis_x_tick_rotate,withoutTransition:w},V=new this.internal(this,G).axis.scale(r).orient(s);return M.isTimeSeries()&&p&&typeof p!="function"&&(p=p.map(function(H){return M.parseDate(H)})),V.tickFormat(c).tickValues(p),M.isCategorized()&&(V.tickCentered(C.axis_x_tick_centered),ji(C.axis_x_tick_culling)&&(C.axis_x_tick_culling=!1)),V},dt.prototype.updateXAxisTickValues=function(r,s){var c=this.owner,p=c.config,v;return(p.axis_x_tick_fit||p.axis_x_tick_count)&&(v=this.generateTickValues(c.mapTargetsToUniqueXs(r),p.axis_x_tick_count,c.isTimeSeries())),s?s.tickValues(v):(c.xAxis.tickValues(v),c.subXAxis.tickValues(v)),v},dt.prototype.getYAxis=function(r,s,c,p,v,w,A){var M=this.owner,C=M.config,G=C["axis_"+r+"_tick_format"];!G&&M.isAxisNormalized(r)&&(G=function(H){return H+"%"});var V=new this.internal(this,{withOuterTick:v,withoutTransition:w,tickTextRotate:A?0:C.axis_y_tick_rotate}).axis.scale(s).orient(c);return G&&V.tickFormat(G),M.isTimeSeriesY()?V.ticks(C.axis_y_tick_time_type,C.axis_y_tick_time_interval):V.tickValues(p),V},dt.prototype.getId=function(r){var s=this.owner.config;return r in s.data_axes?s.data_axes[r]:"y"},dt.prototype.getXAxisTickFormat=function(){var r=this.owner,s=r.config,c=r.isTimeSeries()?r.defaultAxisTimeFormat:r.isCategorized()?r.categoryName:function(p){return p};return s.axis_x_tick_format&&(Yt(s.axis_x_tick_format)?c=s.axis_x_tick_format:r.isTimeSeries()&&(c=function(p){return p?r.axisTimeFormat(s.axis_x_tick_format)(p):""})),Yt(c)?function(p){return c.call(r,p)}:c},dt.prototype.getTickValues=function(r,s){return r||(s?s.tickValues():void 0)},dt.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},dt.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},dt.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},dt.prototype.getLabelOptionByAxisId=function(r){var s=this.owner,c=s.config,p;return r==="y"?p=c.axis_y_label:r==="y2"?p=c.axis_y2_label:r==="x"&&(p=c.axis_x_label),p},dt.prototype.getLabelText=function(r){var s=this.getLabelOptionByAxisId(r);return ee(s)?s:s?s.text:null},dt.prototype.setLabelText=function(r,s){var c=this.owner,p=c.config,v=this.getLabelOptionByAxisId(r);ee(v)?r==="y"?p.axis_y_label=s:r==="y2"?p.axis_y2_label=s:r==="x"&&(p.axis_x_label=s):v&&(v.text=s)},dt.prototype.getLabelPosition=function(r,s){var c=this.getLabelOptionByAxisId(r),p=c&&typeof c=="object"&&c.position?c.position:s;return{isInner:p.indexOf("inner")>=0,isOuter:p.indexOf("outer")>=0,isLeft:p.indexOf("left")>=0,isCenter:p.indexOf("center")>=0,isRight:p.indexOf("right")>=0,isTop:p.indexOf("top")>=0,isMiddle:p.indexOf("middle")>=0,isBottom:p.indexOf("bottom")>=0}},dt.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},dt.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},dt.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},dt.prototype.getLabelPositionById=function(r){return r==="y2"?this.getY2AxisLabelPosition():r==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},dt.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},dt.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},dt.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},dt.prototype.xForAxisLabel=function(r,s){var c=this.owner;return r?s.isLeft?0:s.isCenter?c.width/2:c.width:s.isBottom?-c.height:s.isMiddle?-c.height/2:0},dt.prototype.dxForAxisLabel=function(r,s){return r?s.isLeft?"0.5em":s.isRight?"-0.5em":"0":s.isTop?"-0.5em":s.isBottom?"0.5em":"0"},dt.prototype.textAnchorForAxisLabel=function(r,s){return r?s.isLeft?"start":s.isCenter?"middle":"end":s.isBottom?"start":s.isMiddle?"middle":"end"},dt.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},dt.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},dt.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},dt.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},dt.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},dt.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},dt.prototype.dyForXAxisLabel=function(){var r=this.owner,s=r.config,c=this.getXAxisLabelPosition();return s.axis_rotated?c.isInner?"1.2em":-25-(r.config.axis_x_inner?0:this.getMaxTickWidth("x")):c.isInner?"-0.5em":r.getHorizontalAxisHeight("x")-10},dt.prototype.dyForYAxisLabel=function(){var r=this.owner,s=this.getYAxisLabelPosition();return r.config.axis_rotated?s.isInner?"-0.5em":"3em":s.isInner?"1.2em":-10-(r.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},dt.prototype.dyForY2AxisLabel=function(){var r=this.owner,s=this.getY2AxisLabelPosition();return r.config.axis_rotated?s.isInner?"1.2em":"-2.2em":s.isInner?"-0.5em":15+(r.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},dt.prototype.textAnchorForXAxisLabel=function(){var r=this.owner;return this.textAnchorForAxisLabel(!r.config.axis_rotated,this.getXAxisLabelPosition())},dt.prototype.textAnchorForYAxisLabel=function(){var r=this.owner;return this.textAnchorForAxisLabel(r.config.axis_rotated,this.getYAxisLabelPosition())},dt.prototype.textAnchorForY2AxisLabel=function(){var r=this.owner;return this.textAnchorForAxisLabel(r.config.axis_rotated,this.getY2AxisLabelPosition())},dt.prototype.getMaxTickWidth=function(r,s){var c=this.owner,p=0,v,w,A,M,C;return s&&c.currentMaxTickWidths[r]||(c.svg&&(v=c.filterTargetsToShow(c.data.targets),r==="y"?(w=c.y.copy().domain(c.getYDomain(v,"y")),A=this.getYAxis(r,w,c.yOrient,c.yAxisTickValues,!1,!0,!0)):r==="y2"?(w=c.y2.copy().domain(c.getYDomain(v,"y2")),A=this.getYAxis(r,w,c.y2Orient,c.y2AxisTickValues,!1,!0,!0)):(w=c.x.copy().domain(c.getXDomain(v)),A=this.getXAxis(w,c.xOrient,c.xAxisTickFormat,c.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(v,A)),M=c.d3.select("body").append("div").classed("c3",!0),C=M.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),C.append("g").call(A).each(function(){c.d3.select(this).selectAll("text").each(function(){var G=qe(this);p<G.width&&(p=G.width)}),M.remove()})),c.currentMaxTickWidths[r]=p<=0?c.currentMaxTickWidths[r]:p),c.currentMaxTickWidths[r]},dt.prototype.updateLabels=function(r){var s=this.owner,c=s.main.select("."+E.axisX+" ."+E.axisXLabel),p=s.main.select("."+E.axisY+" ."+E.axisYLabel),v=s.main.select("."+E.axisY2+" ."+E.axisY2Label);(r?c.transition():c).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(r?p.transition():p).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(r?v.transition():v).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},dt.prototype.getPadding=function(r,s,c,p){var v=typeof r=="number"?r:r[s];return Mt(v)?r.unit==="ratio"?r[s]*p:this.convertPixelsToAxisPadding(v,p):c},dt.prototype.convertPixelsToAxisPadding=function(r,s){var c=this.owner,p=c.config.axis_rotated?c.width:c.height;return s*(r/p)},dt.prototype.generateTickValues=function(r,s,c){var p=r,v,w,A,M,C,G,V;if(s){if(v=Yt(s)?s():s,v===1)p=[r[0]];else if(v===2)p=[r[0],r[r.length-1]];else if(v>2){for(M=v-2,w=r[0],A=r[r.length-1],C=(A-w)/(M+1),p=[w],G=0;G<M;G++)V=+w+C*(G+1),p.push(c?new Date(V):V);p.push(A)}}return c||(p=p.sort(function(H,N){return H-N})),p},dt.prototype.generateTransitions=function(r){var s=this.owner,c=s.axes;return{axisX:r?c.x.transition().duration(r):c.x,axisY:r?c.y.transition().duration(r):c.y,axisY2:r?c.y2.transition().duration(r):c.y2,axisSubX:r?c.subx.transition().duration(r):c.subx}},dt.prototype.redraw=function(r,s){var c=this.owner,p=r?c.d3.transition().duration(r):null;c.axes.x.style("opacity",s?0:1).call(c.xAxis,p),c.axes.y.style("opacity",s?0:1).call(c.yAxis,p),c.axes.y2.style("opacity",s?0:1).call(c.y2Axis,p),c.axes.subx.style("opacity",s?0:1).call(c.subXAxis,p)};var _n={version:"0.7.20",chart:{fn:tt.prototype,internal:{fn:h.prototype,axis:{fn:Hn.prototype,internal:{fn:zt.prototype}}}},generate:function(n){return new tt(n)}};h.prototype.beforeInit=function(){},h.prototype.afterInit=function(){},h.prototype.init=function(){var n=this,r=n.config;if(n.initParams(),r.data_url)n.convertUrlToData(r.data_url,r.data_mimeType,r.data_headers,r.data_keys,n.initWithData);else if(r.data_json)n.initWithData(n.convertJsonToData(r.data_json,r.data_keys));else if(r.data_rows)n.initWithData(n.convertRowsToData(r.data_rows));else if(r.data_columns)n.initWithData(n.convertColumnsToData(r.data_columns));else throw Error("url or json or rows or columns is required.")},h.prototype.initParams=function(){var n=this,r=n.d3,s=n.config;n.clipId="c3-"+new Date().valueOf()+"-clip",n.clipIdForXAxis=n.clipId+"-xaxis",n.clipIdForYAxis=n.clipId+"-yaxis",n.clipIdForGrid=n.clipId+"-grid",n.clipIdForSubchart=n.clipId+"-subchart",n.clipPath=n.getClipPath(n.clipId),n.clipPathForXAxis=n.getClipPath(n.clipIdForXAxis),n.clipPathForYAxis=n.getClipPath(n.clipIdForYAxis),n.clipPathForGrid=n.getClipPath(n.clipIdForGrid),n.clipPathForSubchart=n.getClipPath(n.clipIdForSubchart),n.dragStart=null,n.dragging=!1,n.flowing=!1,n.cancelClick=!1,n.mouseover=void 0,n.transiting=!1,n.color=n.generateColor(),n.levelColor=n.generateLevelColor(),n.dataTimeParse=(s.data_xLocaltime?r.timeParse:r.utcParse)(n.config.data_xFormat),n.axisTimeFormat=s.axis_x_localtime?r.timeFormat:r.utcFormat,n.defaultAxisTimeFormat=function(c){return c.getMilliseconds()?r.timeFormat(".%L")(c):c.getSeconds()?r.timeFormat(":%S")(c):c.getMinutes()?r.timeFormat("%I:%M")(c):c.getHours()?r.timeFormat("%I %p")(c):c.getDay()&&c.getDate()!==1||c.getDate()!==1||c.getMonth()?r.timeFormat("%-m/%-d")(c):r.timeFormat("%Y/%-m/%-d")(c)},n.hiddenTargetIds=[],n.hiddenLegendIds=[],n.focusedTargetIds=[],n.defocusedTargetIds=[],n.xOrient=s.axis_rotated?s.axis_x_inner?"right":"left":s.axis_x_inner?"top":"bottom",n.yOrient=s.axis_rotated?s.axis_y_inner?"top":"bottom":s.axis_y_inner?"right":"left",n.y2Orient=s.axis_rotated?s.axis_y2_inner?"bottom":"top":s.axis_y2_inner?"left":"right",n.subXOrient=s.axis_rotated?"left":"bottom",n.isLegendRight=s.legend_position==="right",n.isLegendInset=s.legend_position==="inset",n.isLegendTop=s.legend_inset_anchor==="top-left"||s.legend_inset_anchor==="top-right",n.isLegendLeft=s.legend_inset_anchor==="top-left"||s.legend_inset_anchor==="bottom-left",n.legendStep=0,n.legendItemWidth=0,n.legendItemHeight=0,n.currentMaxTickWidths={x:0,y:0,y2:0},n.rotated_padding_left=30,n.rotated_padding_right=s.axis_rotated&&!s.axis_x_show?0:30,n.rotated_padding_top=5,n.withoutFadeIn={},n.intervalForObserveInserted=void 0,n.axes.subx=r.selectAll([])},h.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},h.prototype.initWithData=function(n){var r=this,s=r.d3,c=r.config,p,v,w=!0;r.axis=new Hn(r),c.bindto?typeof c.bindto.node=="function"?r.selectChart=c.bindto:r.selectChart=s.select(c.bindto):r.selectChart=s.selectAll([]),r.selectChart.empty()&&(r.selectChart=s.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),w=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(n),c.data_filter&&(r.data.targets=r.data.targets.filter(c.data_filter)),c.data_hide&&r.addHiddenTargetIds(c.data_hide===!0?r.mapToIds(r.data.targets):c.data_hide),c.legend_hide&&r.addHiddenLegendIds(c.legend_hide===!0?r.mapToIds(r.data.targets):c.legend_hide),r.isStanfordGraphType()&&r.initStanfordData(),r.updateSizes(),r.updateScales(),r.x.domain(s.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return c.onmouseover.call(r)}).on("mouseleave",function(){return c.onmouseout.call(r)}),r.config.svg_classname&&r.svg.attr("class",r.config.svg_classname),p=r.svg.append("defs"),r.clipChart=r.appendClip(p,r.clipId),r.clipXAxis=r.appendClip(p,r.clipIdForXAxis),r.clipYAxis=r.appendClip(p,r.clipIdForYAxis),r.clipGrid=r.appendClip(p,r.clipIdForGrid),r.clipSubchart=r.appendClip(p,r.clipIdForSubchart),r.updateSvgSize(),v=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initPie&&r.initPie(),r.initDragZoom&&r.initDragZoom(),c.subchart_show&&r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),r.initZoom&&r.initZoom(),r.isStanfordGraphType()&&r.drawColorScale(),c.subchart_show&&r.initSubchartBrush&&r.initSubchartBrush(),v.append("text").attr("class",E.text+" "+E.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),v.append("g").attr("clip-path",r.clipPath).attr("class",E.chart),c.grid_lines_front&&r.initGridLines(),r.initStanfordElements(),r.initEventRect(),r.initChartElements(),r.axis.init(),r.updateTargets(r.data.targets),c.axis_x_selection&&r.brush.selectionAsValue(r.getDefaultSelection()),w&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.bindWindowFocus(),r.api.element=r.selectChart.node()},h.prototype.smoothLines=function(n,r){var s=this;r==="grid"&&n.each(function(){var c=s.d3.select(this),p=c.attr("x1"),v=c.attr("x2"),w=c.attr("y1"),A=c.attr("y2");c.attr({x1:Math.ceil(p),x2:Math.ceil(v),y1:Math.ceil(w),y2:Math.ceil(A)})})},h.prototype.updateSizes=function(){var n=this,r=n.config,s=n.legend?n.getLegendHeight():0,c=n.legend?n.getLegendWidth():0,p=n.isLegendRight||n.isLegendInset?0:s,v=n.hasArcType(),w=r.axis_rotated||v?0:n.getHorizontalAxisHeight("x"),A=r.axis_rotated||v?0:n.getHorizontalAxisHeight("x",!0),M=r.subchart_show&&!v?r.subchart_size_height+A:0;n.currentWidth=n.getCurrentWidth(),n.currentHeight=n.getCurrentHeight(),n.margin=r.axis_rotated?{top:n.getHorizontalAxisHeight("y2")+n.getCurrentPaddingTop(),right:v?0:n.getCurrentPaddingRight(),bottom:n.getHorizontalAxisHeight("y")+p+n.getCurrentPaddingBottom(),left:M+(v?0:n.getCurrentPaddingLeft())}:{top:4+n.getCurrentPaddingTop(),right:v?0:n.getCurrentPaddingRight(),bottom:w+M+p+n.getCurrentPaddingBottom(),left:v?0:n.getCurrentPaddingLeft()},n.margin2=r.axis_rotated?{top:n.margin.top,right:NaN,bottom:20+p,left:n.rotated_padding_left}:{top:n.currentHeight-M-p,right:NaN,bottom:A+p,left:n.margin.left},n.margin3={top:0,right:NaN,bottom:0,left:0},n.updateSizeForLegend&&n.updateSizeForLegend(s,c),n.width=n.currentWidth-n.margin.left-n.margin.right,n.height=n.currentHeight-n.margin.top-n.margin.bottom,n.width<0&&(n.width=0),n.height<0&&(n.height=0),n.width2=r.axis_rotated?n.margin.left-n.rotated_padding_left-n.rotated_padding_right:n.width,n.height2=r.axis_rotated?n.height:n.currentHeight-n.margin2.top-n.margin2.bottom,n.width2<0&&(n.width2=0),n.height2<0&&(n.height2=0),n.arcWidth=n.width-(n.isLegendRight?c+10:0),n.arcHeight=n.height-(n.isLegendRight?0:10),n.hasType("gauge")&&!r.gauge_fullCircle&&(n.arcHeight+=n.height-n.getGaugeLabelHeight()),n.updateRadius&&n.updateRadius(),n.isLegendRight&&v&&(n.margin3.left=n.arcWidth/2+n.radiusExpanded*1.1)},h.prototype.updateTargets=function(n){var r=this,s=r.config;r.updateTargetsForText(n),r.updateTargetsForBar(n),r.updateTargetsForLine(n),r.hasArcType()&&r.updateTargetsForArc&&r.updateTargetsForArc(n),s.subchart_show&&r.updateTargetsForSubchart&&r.updateTargetsForSubchart(n),r.showTargets()},h.prototype.showTargets=function(){var n=this;n.svg.selectAll("."+E.target).filter(function(r){return n.isTargetToShow(r.id)}).transition().duration(n.config.transition_duration).style("opacity",1)},h.prototype.redraw=function(n,r){var s=this,c=s.main,p=s.d3,v=s.config,w=s.getShapeIndices(s.isAreaType),A=s.getShapeIndices(s.isBarType),M=s.getShapeIndices(s.isLineType),C,G,V,H,N,Y,W,j,et,pt,Lt,At,Vt,Et=s.hasArcType(),lt,wt,bt,vt,ot,ct,Kt,Wt,Jt,Oe,re,se,Gt=s.filterTargetsToShow(s.data.targets),J,gt,Fe,Wn,En=s.xv.bind(s),on,ve;if(n=n||{},C=Tt(n,"withY",!0),G=Tt(n,"withSubchart",!0),V=Tt(n,"withTransition",!0),Y=Tt(n,"withTransform",!1),W=Tt(n,"withUpdateXDomain",!1),j=Tt(n,"withUpdateOrgXDomain",!1),et=Tt(n,"withTrimXDomain",!0),Vt=Tt(n,"withUpdateXAxis",W),pt=Tt(n,"withLegend",!1),Lt=Tt(n,"withEventRect",!0),At=Tt(n,"withDimension",!0),H=Tt(n,"withTransitionForExit",V),N=Tt(n,"withTransitionForAxis",V),ct=V?v.transition_duration:0,Kt=H?ct:0,Wt=N?ct:0,r=r||s.axis.generateTransitions(Wt),pt&&v.legend_show?s.updateLegend(s.mapToIds(s.data.targets),n,r):At&&s.updateDimension(!0),s.isCategorized()&&Gt.length===0&&s.x.domain([0,s.axes.x.selectAll(".tick").size()]),Gt.length?(s.updateXDomain(Gt,W,j,et),v.axis_x_tick_values||(J=s.axis.updateXAxisTickValues(Gt))):(s.xAxis.tickValues([]),s.subXAxis.tickValues([])),v.zoom_rescale&&!n.flow&&(Wn=s.x.orgDomain()),s.y.domain(s.getYDomain(Gt,"y",Wn)),s.y2.domain(s.getYDomain(Gt,"y2",Wn)),!v.axis_y_tick_values&&v.axis_y_tick_count&&s.yAxis.tickValues(s.axis.generateTickValues(s.y.domain(),v.axis_y_tick_count)),!v.axis_y2_tick_values&&v.axis_y2_tick_count&&s.y2Axis.tickValues(s.axis.generateTickValues(s.y2.domain(),v.axis_y2_tick_count)),s.axis.redraw(Wt,Et),s.axis.updateLabels(V),(W||Vt)&&Gt.length)if(v.axis_x_tick_culling&&J){for(gt=1;gt<J.length;gt++)if(J.length/gt<v.axis_x_tick_culling_max){Fe=gt;break}s.svg.selectAll("."+E.axisX+" .tick text").each(function(ke){var sn=J.indexOf(ke);sn>=0&&p.select(this).style("display",sn%Fe?"none":"block")})}else s.svg.selectAll("."+E.axisX+" .tick text").style("display","block");lt=s.generateDrawArea?s.generateDrawArea(w,!1):void 0,wt=s.generateDrawBar?s.generateDrawBar(A):void 0,bt=s.generateDrawLine?s.generateDrawLine(M,!1):void 0,vt=s.generateXYForText(w,A,M,!0),ot=s.generateXYForText(w,A,M,!1),s.updateCircleY(),on=(s.config.axis_rotated?s.circleY:s.circleX).bind(s),ve=(s.config.axis_rotated?s.circleX:s.circleY).bind(s),C&&(s.subY.domain(s.getYDomain(Gt,"y")),s.subY2.domain(s.getYDomain(Gt,"y2"))),s.updateXgridFocus(),c.select("text."+E.text+"."+E.empty).attr("x",s.width/2).attr("y",s.height/2).text(v.data_empty_label_text).transition().style("opacity",Gt.length?0:1),Lt&&s.redrawEventRect(),s.updateGrid(ct),s.updateStanfordElements(ct),s.updateRegion(ct),s.updateBar(Kt),s.updateLine(Kt),s.updateArea(Kt),s.updateCircle(on,ve),s.hasDataLabel()&&s.updateText(vt,ot,Kt),s.redrawTitle&&s.redrawTitle(),s.redrawArc&&s.redrawArc(ct,Kt,Y),v.subchart_show&&s.redrawSubchart&&s.redrawSubchart(G,r,ct,Kt,w,A,M),s.isStanfordGraphType()&&s.drawColorScale(),c.selectAll("."+E.selectedCircles).filter(s.isBarType.bind(s)).selectAll("circle").remove(),n.flow&&(re=s.generateFlow({targets:Gt,flow:n.flow,duration:n.flow.duration,drawBar:wt,drawLine:bt,drawArea:lt,cx:on,cy:ve,xv:En,xForText:vt,yForText:ot})),ct&&s.isTabVisible()?(se=p.transition().duration(ct),Jt=[],[s.redrawBar(wt,!0,se),s.redrawLine(bt,!0,se),s.redrawArea(lt,!0,se),s.redrawCircle(on,ve,!0,se),s.redrawText(vt,ot,n.flow,!0,se),s.redrawRegion(!0,se),s.redrawGrid(!0,se)].forEach(function(ke){ke.forEach(function(sn){Jt.push(sn)})}),Oe=s.generateWait(),Jt.forEach(function(ke){Oe.add(ke)}),Oe(function(){re&&re(),v.onrendered&&v.onrendered.call(s)})):(s.redrawBar(wt),s.redrawLine(bt),s.redrawArea(lt),s.redrawCircle(on,ve),s.redrawText(vt,ot,n.flow),s.redrawRegion(),s.redrawGrid(),re&&re(),v.onrendered&&v.onrendered.call(s)),s.mapToIds(s.data.targets).forEach(function(ke){s.withoutFadeIn[ke]=!0})},h.prototype.updateAndRedraw=function(n){var r=this,s=r.config,c;n=n||{},n.withTransition=Tt(n,"withTransition",!0),n.withTransform=Tt(n,"withTransform",!1),n.withLegend=Tt(n,"withLegend",!1),n.withUpdateXDomain=Tt(n,"withUpdateXDomain",!0),n.withUpdateOrgXDomain=Tt(n,"withUpdateOrgXDomain",!0),n.withTransitionForExit=!1,n.withTransitionForTransform=Tt(n,"withTransitionForTransform",n.withTransition),r.updateSizes(),n.withLegend&&s.legend_show||(c=r.axis.generateTransitions(n.withTransitionForAxis?s.transition_duration:0),r.updateScales(),r.updateSvgSize(),r.transformAll(n.withTransitionForTransform,c)),r.redraw(n,c)},h.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},h.prototype.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"},h.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},h.prototype.isCustomX=function(){var n=this,r=n.config;return!n.isTimeSeries()&&(r.data_x||Ee(r.data_xs))},h.prototype.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"},h.prototype.getTranslate=function(n){var r=this,s=r.config,c,p;return n==="main"?(c=ye(r.margin.left),p=ye(r.margin.top)):n==="context"?(c=ye(r.margin2.left),p=ye(r.margin2.top)):n==="legend"?(c=r.margin3.left,p=r.margin3.top):n==="x"?(c=0,p=s.axis_rotated?0:r.height):n==="y"?(c=0,p=s.axis_rotated?r.height:0):n==="y2"?(c=s.axis_rotated?0:r.width,p=s.axis_rotated?1:0):n==="subx"?(c=0,p=s.axis_rotated?0:r.height2):n==="arc"&&(c=r.arcWidth/2,p=r.arcHeight/2-(r.hasType("gauge")?6:0)),"translate("+c+","+p+")"},h.prototype.initialOpacity=function(n){return n.value!==null&&this.withoutFadeIn[n.id]?1:0},h.prototype.initialOpacityForCircle=function(n){return n.value!==null&&this.withoutFadeIn[n.id]?this.opacityForCircle(n):0},h.prototype.opacityForCircle=function(n){var r=Yt(this.config.point_show)?this.config.point_show(n):this.config.point_show,s=r||this.isStanfordType(n)?1:0;return Mt(n.value)?this.isScatterType(n)?.5:s:0},h.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},h.prototype.xx=function(n){return n?this.x(n.x):null},h.prototype.xvCustom=function(n,r){var s=this,c=r?n[r]:n.value;return s.isTimeSeries()?c=s.parseDate(n.value):s.isCategorized()&&typeof n.value=="string"&&(c=s.config.axis_x_categories.indexOf(n.value)),Math.ceil(s.x(c))},h.prototype.yvCustom=function(n,r){var s=this,c=n.axis&&n.axis==="y2"?s.y2:s.y,p=r?n[r]:n.value;return Math.ceil(c(p))},h.prototype.xv=function(n){var r=this,s=n.value;return r.isTimeSeries()?s=r.parseDate(n.value):r.isCategorized()&&typeof n.value=="string"&&(s=r.config.axis_x_categories.indexOf(n.value)),Math.ceil(r.x(s))},h.prototype.yv=function(n){var r=this,s=n.axis&&n.axis==="y2"?r.y2:r.y;return Math.ceil(s(n.value))},h.prototype.subxx=function(n){return n?this.subX(n.x):null},h.prototype.transformMain=function(n,r){var s=this,c,p,v;r&&r.axisX?c=r.axisX:(c=s.main.select("."+E.axisX),n&&(c=c.transition())),r&&r.axisY?p=r.axisY:(p=s.main.select("."+E.axisY),n&&(p=p.transition())),r&&r.axisY2?v=r.axisY2:(v=s.main.select("."+E.axisY2),n&&(v=v.transition())),(n?s.main.transition():s.main).attr("transform",s.getTranslate("main")),c.attr("transform",s.getTranslate("x")),p.attr("transform",s.getTranslate("y")),v.attr("transform",s.getTranslate("y2")),s.main.select("."+E.chartArcs).attr("transform",s.getTranslate("arc"))},h.prototype.transformAll=function(n,r){var s=this;s.transformMain(n,r),s.config.subchart_show&&s.transformContext(n,r),s.legend&&s.transformLegend(n)},h.prototype.updateSvgSize=function(){var n=this,r=n.svg.select("."+E.brush+" .overlay");n.svg.attr("width",n.currentWidth).attr("height",n.currentHeight),n.svg.selectAll(["#"+n.clipId,"#"+n.clipIdForGrid]).select("rect").attr("width",n.width).attr("height",n.height),n.svg.select("#"+n.clipIdForXAxis).select("rect").attr("x",n.getXAxisClipX.bind(n)).attr("y",n.getXAxisClipY.bind(n)).attr("width",n.getXAxisClipWidth.bind(n)).attr("height",n.getXAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForYAxis).select("rect").attr("x",n.getYAxisClipX.bind(n)).attr("y",n.getYAxisClipY.bind(n)).attr("width",n.getYAxisClipWidth.bind(n)).attr("height",n.getYAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForSubchart).select("rect").attr("width",n.width).attr("height",r.size()&&r.attr("height")||0),n.selectChart.style("max-height",n.currentHeight+"px")},h.prototype.updateDimension=function(n){var r=this;n||(r.config.axis_rotated?(r.axes.x.call(r.xAxis),r.axes.subx.call(r.subXAxis)):(r.axes.y.call(r.yAxis),r.axes.y2.call(r.y2Axis))),r.updateSizes(),r.updateScales(),r.updateSvgSize(),r.transformAll(!1)},h.prototype.observeInserted=function(n){var r=this,s;if(typeof MutationObserver>"u"){window.console.error("MutationObserver not defined.");return}s=new MutationObserver(function(c){c.forEach(function(p){p.type==="childList"&&p.previousSibling&&(s.disconnect(),r.intervalForObserveInserted=window.setInterval(function(){n.node().parentNode&&(window.clearInterval(r.intervalForObserveInserted),r.updateDimension(),r.brush&&r.brush.update(),r.config.oninit.call(r),r.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.transition().style("opacity",1))},10))})}),s.observe(n.node(),{attributes:!0,childList:!0,characterData:!0})},h.prototype.bindResize=function(){var n=this,r=n.config;n.resizeFunction=n.generateResize(),n.resizeFunction.add(function(){r.onresize.call(n)}),r.resize_auto&&n.resizeFunction.add(function(){n.resizeTimeout!==void 0&&window.clearTimeout(n.resizeTimeout),n.resizeTimeout=window.setTimeout(function(){delete n.resizeTimeout,n.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.brush&&n.brush.update()},100)}),n.resizeFunction.add(function(){r.onresized.call(n)}),n.resizeIfElementDisplayed=function(){n.api==null||!n.api.element.offsetParent||n.resizeFunction()},window.addEventListener("resize",n.resizeIfElementDisplayed,!1)},h.prototype.bindWindowFocus=function(){var n=this;this.windowFocusHandler||(this.windowFocusHandler=function(){n.redraw()},window.addEventListener("focus",this.windowFocusHandler))},h.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},h.prototype.generateResize=function(){var n=[];function r(){n.forEach(function(s){s()})}return r.add=function(s){n.push(s)},r.remove=function(s){for(var c=0;c<n.length;c++)if(n[c]===s){n.splice(c,1);break}},r},h.prototype.endall=function(n,r){var s=0;n.each(function(){++s}).on("end",function(){--s||r.apply(this,arguments)})},h.prototype.generateWait=function(){var n=this,r=[],s=function(c){var p=setInterval(function(){if(n.isTabVisible()){var v=0;r.forEach(function(w){if(w.empty()){v+=1;return}try{w.transition()}catch{v+=1}}),v===r.length&&(clearInterval(p),c&&c())}},50)};return s.add=function(c){r.push(c)},s},h.prototype.parseDate=function(n){var r=this,s;return n instanceof Date?s=n:typeof n=="string"?s=r.dataTimeParse(n):typeof n=="object"?s=new Date(+n):typeof n=="number"&&!isNaN(n)&&(s=new Date(+n)),(!s||isNaN(+s))&&window.console.error("Failed to parse x '"+n+"' to Date object"),s},h.prototype.isTabVisible=function(){return!document.hidden},h.prototype.getPathBox=_e,h.prototype.CLASS=E,function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(n,r,s){this.pathSegType=n,this.pathSegTypeAsLetter=r,this._owningPathSegList=s},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",n)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",n),this._x=r,this._y=s},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",n),this._x=r,this._y=s},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",n),this._x=r,this._y=s},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",n),this._x=r,this._y=s},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(n,r,s,c,p,v,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",n),this._x=r,this._y=s,this._x1=c,this._y1=p,this._x2=v,this._y2=w},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(n,r,s,c,p,v,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",n),this._x=r,this._y=s,this._x1=c,this._y1=p,this._x2=v,this._y2=w},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(n,r,s,c,p){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",n),this._x=r,this._y=s,this._x1=c,this._y1=p},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(n,r,s,c,p){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",n),this._x=r,this._y=s,this._x1=c,this._y1=p},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(n,r,s,c,p,v,w,A){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",n),this._x=r,this._y=s,this._r1=c,this._r2=p,this._angle=v,this._largeArcFlag=w,this._sweepFlag=A},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(n,r,s,c,p,v,w,A){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",n),this._x=r,this._y=s,this._r1=c,this._r2=p,this._angle=v,this._largeArcFlag=w,this._sweepFlag=A},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",n),this._x=r},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",n),this._x=r},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",n),this._y=r},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",n),this._y=r},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(n,r,s,c,p){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",n),this._x=r,this._y=s,this._x2=c,this._y2=p},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(n,r,s,c,p){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",n),this._x=r,this._y=s,this._x2=c,this._y2=p},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",n),this._x=r,this._y=s},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",n),this._x=r,this._y=s},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(n,r){return new window.SVGPathSegMovetoAbs(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(n,r){return new window.SVGPathSegMovetoRel(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(n,r){return new window.SVGPathSegLinetoAbs(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(n,r){return new window.SVGPathSegLinetoRel(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(n,r,s,c,p,v){return new window.SVGPathSegCurvetoCubicAbs(void 0,n,r,s,c,p,v)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(n,r,s,c,p,v){return new window.SVGPathSegCurvetoCubicRel(void 0,n,r,s,c,p,v)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(n,r,s,c){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,n,r,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(n,r,s,c){return new window.SVGPathSegCurvetoQuadraticRel(void 0,n,r,s,c)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(n,r,s,c,p,v,w){return new window.SVGPathSegArcAbs(void 0,n,r,s,c,p,v,w)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(n,r,s,c,p,v,w){return new window.SVGPathSegArcRel(void 0,n,r,s,c,p,v,w)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(n){return new window.SVGPathSegLinetoHorizontalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(n){return new window.SVGPathSegLinetoHorizontalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(n){return new window.SVGPathSegLinetoVerticalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(n){return new window.SVGPathSegLinetoVerticalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(n,r,s,c){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,n,r,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(n,r,s,c){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,n,r,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(n,r){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(n,r){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,n,r)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(n){if(n===void 0||!isFinite(n))throw"Invalid arguments.";var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",this.getAttribute("d"));var s=r.pathSegList.numberOfItems-1;if(s<=0)return 0;do{if(r.pathSegList.removeItem(s),n>r.getTotalLength())break;s--}while(s>0);return s})),"SVGPathSegList"in window||(window.SVGPathSegList=function(n){this._pathElement=n,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(n){if(this._pathElement){var r=!1;n.forEach(function(s){s.attributeName=="d"&&(r=!0)}),r&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(n){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(n){n._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(n){return this._checkPathSynchronizedToList(),this._list=[n],n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype._checkValidIndex=function(n){if(isNaN(n)||n<0||n>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(n){return this._checkPathSynchronizedToList(),this._checkValidIndex(n),this._list[n]},window.SVGPathSegList.prototype.insertItemBefore=function(n,r){return this._checkPathSynchronizedToList(),r>this.numberOfItems&&(r=this.numberOfItems),n._owningPathSegList&&(n=n.clone()),this._list.splice(r,0,n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.replaceItem=function(n,r){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._checkValidIndex(r),this._list[r]=n,n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.removeItem=function(n){this._checkPathSynchronizedToList(),this._checkValidIndex(n);var r=this._list[n];return this._list.splice(n,1),this._writeListToPath(),r},window.SVGPathSegList.prototype.appendItem=function(n){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._list.push(n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList._pathSegArrayAsString=function(n){var r="",s=!0;return n.forEach(function(c){s?(s=!1,r+=c._asPathString()):r+=" "+c._asPathString()}),r},window.SVGPathSegList.prototype._parsePath=function(n){if(!n||n.length==0)return[];var r=this,s=function(){this.pathSegList=[]};s.prototype.appendSegment=function(A){this.pathSegList.push(A)};var c=function(A){this._string=A,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};c.prototype._isCurrentSpace=function(){var A=this._string[this._currentIndex];return A<=" "&&(A==" "||A==`
`||A=="	"||A=="\r"||A=="\f")},c.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},c.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},c.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},c.prototype.peekSegmentType=function(){var A=this._string[this._currentIndex];return this._pathSegTypeFromChar(A)},c.prototype._pathSegTypeFromChar=function(A){switch(A){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},c.prototype._nextCommandHelper=function(A,M){return(A=="+"||A=="-"||A=="."||A>="0"&&A<="9")&&M!=window.SVGPathSeg.PATHSEG_CLOSEPATH?M==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:M==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:M:window.SVGPathSeg.PATHSEG_UNKNOWN},c.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var A=this.peekSegmentType();return A==window.SVGPathSeg.PATHSEG_MOVETO_ABS||A==window.SVGPathSeg.PATHSEG_MOVETO_REL},c.prototype._parseNumber=function(){var A=0,M=0,C=1,G=0,V=1,H=1,N=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,V=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")){for(var Y=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=Y)for(var W=this._currentIndex-1,j=1;W>=Y;)M+=j*(this._string.charAt(W--)-"0"),j*=10;if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)C*=10,G+=(this._string.charAt(this._currentIndex)-"0")/C,this._currentIndex+=1}if(this._currentIndex!=N&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,H=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)A*=10,A+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var et=M+G;if(et*=V,A&&(et*=Math.pow(10,H*A)),N!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),et}},c.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var A=!1,M=this._string.charAt(this._currentIndex++);if(M=="0")A=!1;else if(M=="1")A=!0;else return;return this._skipOptionalSpacesOrDelimiter(),A}},c.prototype.parseSegment=function(){var A=this._string[this._currentIndex],M=this._pathSegTypeFromChar(A);if(M==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(M=this._nextCommandHelper(A,this._previousCommand),M==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;switch(this._previousCommand=M,M){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(r);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var C={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(r,C.x,C.y,C.x1,C.y1,C.x2,C.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var C={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(r,C.x,C.y,C.x1,C.y1,C.x2,C.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var C={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(r,C.x,C.y,C.x2,C.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var C={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(r,C.x,C.y,C.x2,C.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var C={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(r,C.x,C.y,C.x1,C.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var C={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(r,C.x,C.y,C.x1,C.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var C={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(r,C.x,C.y,C.x1,C.y1,C.arcAngle,C.arcLarge,C.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var C={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(r,C.x,C.y,C.x1,C.y1,C.arcAngle,C.arcLarge,C.arcSweep);default:throw"Unknown path seg type."}};var p=new s,v=new c(n);if(!v.initialCommandIsMoveTo())return[];for(;v.hasMoreData();){var w=v.parseSegment();if(!w)return[];p.appendSegment(w)}return p.pathSegList})}(),String.prototype.padEnd||(String.prototype.padEnd=function(r,s){return r=r>>0,s=String(typeof s<"u"?s:" "),this.length>r?String(this):(r=r-this.length,r>s.length&&(s+=s.repeat(r/s.length)),String(this)+s.slice(0,r))}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(r,s){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(r),p=1;p<arguments.length;p++){var v=arguments[p];if(v!=null)for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(c[w]=v[w])}return c},writable:!0,configurable:!0}),tt.prototype.axis=function(){},tt.prototype.axis.labels=function(n){var r=this.internal;arguments.length&&(Object.keys(n).forEach(function(s){r.axis.setLabelText(s,n[s])}),r.axis.updateLabels())},tt.prototype.axis.max=function(n){var r=this.internal,s=r.config;if(arguments.length)typeof n=="object"?(Mt(n.x)&&(s.axis_x_max=n.x),Mt(n.y)&&(s.axis_y_max=n.y),Mt(n.y2)&&(s.axis_y2_max=n.y2)):s.axis_y_max=s.axis_y2_max=n,r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:s.axis_x_max,y:s.axis_y_max,y2:s.axis_y2_max}},tt.prototype.axis.min=function(n){var r=this.internal,s=r.config;if(arguments.length)typeof n=="object"?(Mt(n.x)&&(s.axis_x_min=n.x),Mt(n.y)&&(s.axis_y_min=n.y),Mt(n.y2)&&(s.axis_y2_min=n.y2)):s.axis_y_min=s.axis_y2_min=n,r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:s.axis_x_min,y:s.axis_y_min,y2:s.axis_y2_min}},tt.prototype.axis.range=function(n){if(arguments.length)Zt(n.max)&&this.axis.max(n.max),Zt(n.min)&&this.axis.min(n.min);else return{max:this.axis.max(),min:this.axis.min()}},tt.prototype.axis.types=function(n){var r=this.internal;if(n===void 0)return{y:r.config.axis_y_type,y2:r.config.axis_y2_type};Zt(n.y)&&(r.config.axis_y_type=n.y),Zt(n.y2)&&(r.config.axis_y2_type=n.y2),r.updateScales(),r.redraw()},tt.prototype.category=function(n,r){var s=this.internal,c=s.config;return arguments.length>1&&(c.axis_x_categories[n]=r,s.redraw()),c.axis_x_categories[n]},tt.prototype.categories=function(n){var r=this.internal,s=r.config;return arguments.length&&(s.axis_x_categories=n,r.redraw()),s.axis_x_categories},tt.prototype.resize=function(n){var r=this.internal,s=r.config;s.size_width=n?n.width:null,s.size_height=n?n.height:null,this.flush()},tt.prototype.flush=function(){var n=this.internal;n.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},tt.prototype.destroy=function(){var n=this.internal;return window.clearInterval(n.intervalForObserveInserted),n.resizeTimeout!==void 0&&window.clearTimeout(n.resizeTimeout),window.removeEventListener("resize",n.resizeIfElementDisplayed),n.resizeFunction.remove(),n.unbindWindowFocus(),n.selectChart.classed("c3",!1).html(""),Object.keys(n).forEach(function(r){n[r]=null}),null},tt.prototype.color=function(n){var r=this.internal;return r.color(n)},tt.prototype.data=function(n){var r=this.internal.data.targets;return typeof n>"u"?r:r.filter(function(s){return[].concat(n).indexOf(s.id)>=0})},tt.prototype.data.shown=function(n){return this.internal.filterTargetsToShow(this.data(n))},tt.prototype.data.values=function(n,r){r===void 0&&(r=!0);var s=null;if(n){var c=this.data(n);c&&Bn(c)&&(s=c.reduce(function(p,v){var w=v.values.map(function(A){return A.value});return r?p=p.concat(w):p.push(w),p},[]))}return s},tt.prototype.data.names=function(n){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",n)},tt.prototype.data.colors=function(n){return this.internal.updateDataAttributes("colors",n)},tt.prototype.data.axes=function(n){return this.internal.updateDataAttributes("axes",n)},tt.prototype.data.stackNormalized=function(n){if(n===void 0)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!n,this.internal.redraw()},tt.prototype.donut=function(){},tt.prototype.donut.padAngle=function(n){if(n===void 0)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=n,this.flush()},tt.prototype.flow=function(n){var r=this.internal,s,c,p=[],v=r.getMaxDataCount(),w,A,M,C=0,G=0,V,H;if(n.json)c=r.convertJsonToData(n.json,n.keys);else if(n.rows)c=r.convertRowsToData(n.rows);else if(n.columns)c=r.convertColumnsToData(n.columns);else return;s=r.convertDataToTargets(c,!0),r.data.targets.forEach(function(N){var Y=!1,W,j;for(W=0;W<s.length;W++)if(N.id===s[W].id){for(Y=!0,N.values[N.values.length-1]&&(G=N.values[N.values.length-1].index+1),C=s[W].values.length,j=0;j<C;j++)s[W].values[j].index=G+j,r.isTimeSeries()||(s[W].values[j].x=G+j);N.values=N.values.concat(s[W].values),s.splice(W,1);break}Y||p.push(N.id)}),r.data.targets.forEach(function(N){var Y,W;for(Y=0;Y<p.length;Y++)if(N.id===p[Y])for(G=N.values[N.values.length-1].index+1,W=0;W<C;W++)N.values.push({id:N.id,index:G+W,x:r.isTimeSeries()?r.getOtherTargetX(G+W):G+W,value:null})}),r.data.targets.length&&s.forEach(function(N){var Y,W=[];for(Y=r.data.targets[0].values[0].index;Y<G;Y++)W.push({id:N.id,index:Y,x:r.isTimeSeries()?r.getOtherTargetX(Y):Y,value:null});N.values.forEach(function(j){j.index+=G,r.isTimeSeries()||(j.x+=G)}),N.values=W.concat(N.values)}),r.data.targets=r.data.targets.concat(s),r.getMaxDataCount(),A=r.data.targets[0],M=A.values[0],Zt(n.to)?(C=0,H=r.isTimeSeries()?r.parseDate(n.to):n.to,A.values.forEach(function(N){N.x<H&&C++})):Zt(n.length)&&(C=n.length),v?v===1&&r.isTimeSeries()&&(V=(A.values[A.values.length-1].x-M.x)/2,w=[new Date(+M.x-V),new Date(+M.x+V)],r.updateXDomain(null,!0,!0,!1,w)):(r.isTimeSeries()?A.values.length>1?V=A.values[A.values.length-1].x-M.x:V=M.x-r.getXDomain(r.data.targets)[0]:V=1,w=[M.x-V,M.x],r.updateXDomain(null,!0,!0,!1,w)),r.updateTargets(r.data.targets),r.redraw({flow:{index:M.index,length:C,duration:Mt(n.duration)?n.duration:r.config.transition_duration,done:n.done,orgDataCount:v},withLegend:!0,withTransition:v>1,withTrimXDomain:!1,withUpdateXAxis:!0})},h.prototype.generateFlow=function(n){var r=this,s=r.config,c=r.d3;return function(){var p=n.targets,v=n.flow,w=n.drawBar,A=n.drawLine,M=n.drawArea,C=n.cx,G=n.cy,V=n.xv,H=n.xForText,N=n.yForText,Y=n.duration,W,j=1,et,pt=v.index,Lt=v.length,At=r.getValueOnIndex(r.data.targets[0].values,pt),Vt=r.getValueOnIndex(r.data.targets[0].values,pt+Lt),Et=r.x.domain(),lt,wt=v.duration||Y,bt=v.done||function(){},vt=r.generateWait(),ot,ct,Kt,Wt,Jt,Oe,re,se;r.flowing=!0,r.data.targets.forEach(function(J){J.values.splice(0,Lt)}),lt=r.updateXDomain(p,!0,!0),r.updateXGrid&&r.updateXGrid(!0),ot=r.xgrid||c.selectAll([]),ct=r.xgridLines||c.selectAll([]),Kt=r.mainRegion||c.selectAll([]),Wt=r.mainText||c.selectAll([]),Jt=r.mainBar||c.selectAll([]),Oe=r.mainLine||c.selectAll([]),re=r.mainArea||c.selectAll([]),se=r.mainCircle||c.selectAll([]),v.orgDataCount?v.orgDataCount===1||(At&&At.x)===(Vt&&Vt.x)||r.isTimeSeries()?W=r.x(Et[0])-r.x(lt[0]):W=r.x(At.x)-r.x(Vt.x):r.data.targets[0].values.length!==1?W=r.x(Et[0])-r.x(lt[0]):r.isTimeSeries()?(At=r.getValueOnIndex(r.data.targets[0].values,0),Vt=r.getValueOnIndex(r.data.targets[0].values,r.data.targets[0].values.length-1),W=r.x(At.x)-r.x(Vt.x)):W=Ut(lt)/2,j=Ut(Et)/Ut(lt),et="translate("+W+",0) scale("+j+",1)",r.hideXGridFocus();var Gt=c.transition().ease(c.easeLinear).duration(wt);vt.add(r.xAxis(r.axes.x,Gt)),vt.add(Jt.transition(Gt).attr("transform",et)),vt.add(Oe.transition(Gt).attr("transform",et)),vt.add(re.transition(Gt).attr("transform",et)),vt.add(se.transition(Gt).attr("transform",et)),vt.add(Wt.transition(Gt).attr("transform",et)),vt.add(Kt.filter(r.isRegionOnX).transition(Gt).attr("transform",et)),vt.add(ot.transition(Gt).attr("transform",et)),vt.add(ct.transition(Gt).attr("transform",et)),vt(function(){var J,gt=[],Fe=[];if(Lt){for(J=0;J<Lt;J++)gt.push("."+E.shape+"-"+(pt+J)),Fe.push("."+E.text+"-"+(pt+J));r.svg.selectAll("."+E.shapes).selectAll(gt).remove(),r.svg.selectAll("."+E.texts).selectAll(Fe).remove(),r.svg.select("."+E.xgrid).remove()}ot.attr("transform",null).attr("x1",r.xgridAttr.x1).attr("x2",r.xgridAttr.x2).attr("y1",r.xgridAttr.y1).attr("y2",r.xgridAttr.y2).style("opacity",r.xgridAttr.opacity),ct.attr("transform",null),ct.select("line").attr("x1",s.axis_rotated?0:V).attr("x2",s.axis_rotated?r.width:V),ct.select("text").attr("x",s.axis_rotated?r.width:0).attr("y",V),Jt.attr("transform",null).attr("d",w),Oe.attr("transform",null).attr("d",A),re.attr("transform",null).attr("d",M),se.attr("transform",null).attr("cx",C).attr("cy",G),Wt.attr("transform",null).attr("x",H).attr("y",N).style("fill-opacity",r.opacityForText.bind(r)),Kt.attr("transform",null),Kt.filter(r.isRegionOnX).attr("x",r.regionX.bind(r)).attr("width",r.regionWidth.bind(r)),bt(),r.flowing=!1})}},tt.prototype.focus=function(n){var r=this.internal,s;n=r.mapToTargetIds(n),s=r.svg.selectAll(r.selectorTargets(n.filter(r.isTargetToShow,r))),this.revert(),this.defocus(),s.classed(E.focused,!0).classed(E.defocused,!1),r.hasArcType()&&r.expandArc(n),r.toggleFocusLegend(n,!0),r.focusedTargetIds=n,r.defocusedTargetIds=r.defocusedTargetIds.filter(function(c){return n.indexOf(c)<0})},tt.prototype.defocus=function(n){var r=this.internal,s;n=r.mapToTargetIds(n),s=r.svg.selectAll(r.selectorTargets(n.filter(r.isTargetToShow,r))),s.classed(E.focused,!1).classed(E.defocused,!0),r.hasArcType()&&r.unexpandArc(n),r.toggleFocusLegend(n,!1),r.focusedTargetIds=r.focusedTargetIds.filter(function(c){return n.indexOf(c)<0}),r.defocusedTargetIds=n},tt.prototype.revert=function(n){var r=this.internal,s;n=r.mapToTargetIds(n),s=r.svg.selectAll(r.selectorTargets(n)),s.classed(E.focused,!1).classed(E.defocused,!1),r.hasArcType()&&r.unexpandArc(n),r.config.legend_show&&(r.showLegend(n.filter(r.isLegendToShow.bind(r))),r.legend.selectAll(r.selectorLegends(n)).filter(function(){return r.d3.select(this).classed(E.legendItemFocused)}).classed(E.legendItemFocused,!1)),r.focusedTargetIds=[],r.defocusedTargetIds=[]},tt.prototype.xgrids=function(n){var r=this.internal,s=r.config;return n&&(s.grid_x_lines=n,r.redrawWithoutRescale()),s.grid_x_lines},tt.prototype.xgrids.add=function(n){var r=this.internal;return this.xgrids(r.config.grid_x_lines.concat(n||[]))},tt.prototype.xgrids.remove=function(n){var r=this.internal;r.removeGridLines(n,!0)},tt.prototype.ygrids=function(n){var r=this.internal,s=r.config;return n&&(s.grid_y_lines=n,r.redrawWithoutRescale()),s.grid_y_lines},tt.prototype.ygrids.add=function(n){var r=this.internal;return this.ygrids(r.config.grid_y_lines.concat(n||[]))},tt.prototype.ygrids.remove=function(n){var r=this.internal;r.removeGridLines(n,!1)},tt.prototype.groups=function(n){var r=this.internal,s=r.config;return le(n)||(s.data_groups=n,r.redraw()),s.data_groups},tt.prototype.legend=function(){},tt.prototype.legend.show=function(n){var r=this.internal;r.showLegend(r.mapToTargetIds(n)),r.updateAndRedraw({withLegend:!0})},tt.prototype.legend.hide=function(n){var r=this.internal;r.hideLegend(r.mapToTargetIds(n)),r.updateAndRedraw({withLegend:!1})},tt.prototype.load=function(n){var r=this.internal,s=r.config;if(n.xs&&r.addXs(n.xs),"names"in n&&tt.prototype.data.names.bind(this)(n.names),"classes"in n&&Object.keys(n.classes).forEach(function(c){s.data_classes[c]=n.classes[c]}),"categories"in n&&r.isCategorized()&&(s.axis_x_categories=n.categories),"axes"in n&&Object.keys(n.axes).forEach(function(c){s.data_axes[c]=n.axes[c]}),"colors"in n&&Object.keys(n.colors).forEach(function(c){s.data_colors[c]=n.colors[c]}),"cacheIds"in n&&r.hasCaches(n.cacheIds)){r.load(r.getCaches(n.cacheIds),n.done);return}n.unload?r.unload(r.mapToTargetIds(n.unload===!0?null:n.unload),function(){r.loadFromArgs(n)}):r.loadFromArgs(n)},tt.prototype.unload=function(n){var r=this.internal;n=n||{},n instanceof Array?n={ids:n}:typeof n=="string"&&(n={ids:[n]}),r.unload(r.mapToTargetIds(n.ids),function(){r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()})},tt.prototype.pie=function(){},tt.prototype.pie.padAngle=function(n){if(n===void 0)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=n,this.flush()},tt.prototype.regions=function(n){var r=this.internal,s=r.config;return n&&(s.regions=n,r.redrawWithoutRescale()),s.regions},tt.prototype.regions.add=function(n){var r=this.internal,s=r.config;return n&&(s.regions=s.regions.concat(n),r.redrawWithoutRescale()),s.regions},tt.prototype.regions.remove=function(n){var r=this.internal,s=r.config,c,p,v;return n=n||{},c=Tt(n,"duration",s.transition_duration),p=Tt(n,"classes",[E.region]),v=r.main.select("."+E.regions).selectAll(p.map(function(w){return"."+w})),(c?v.transition().duration(c):v).style("opacity",0).remove(),s.regions=s.regions.filter(function(w){var A=!1;return w.class?(w.class.split(" ").forEach(function(M){p.indexOf(M)>=0&&(A=!0)}),!A):!0}),s.regions},tt.prototype.selected=function(n){var r=this.internal,s=r.d3;return r.main.selectAll("."+E.shapes+r.getTargetSelectorSuffix(n)).selectAll("."+E.shape).filter(function(){return s.select(this).classed(E.SELECTED)}).nodes().map(function(c){var p=c.__data__;return p.data?p.data:p})},tt.prototype.select=function(n,r,s){var c=this.internal,p=c.d3,v=c.config;v.data_selection_enabled&&c.main.selectAll("."+E.shapes).selectAll("."+E.shape).each(function(w,A){var M=p.select(this),C=w.data?w.data.id:w.id,G=c.getToggle(this,w).bind(c),V=v.data_selection_grouped||!n||n.indexOf(C)>=0,H=!r||r.indexOf(A)>=0,N=M.classed(E.SELECTED);M.classed(E.line)||M.classed(E.area)||(V&&H?v.data_selection_isselectable(w)&&!N&&G(!0,M.classed(E.SELECTED,!0),w,A):Zt(s)&&s&&N&&G(!1,M.classed(E.SELECTED,!1),w,A))})},tt.prototype.unselect=function(n,r){var s=this.internal,c=s.d3,p=s.config;p.data_selection_enabled&&s.main.selectAll("."+E.shapes).selectAll("."+E.shape).each(function(v,w){var A=c.select(this),M=v.data?v.data.id:v.id,C=s.getToggle(this,v).bind(s),G=p.data_selection_grouped||!n||n.indexOf(M)>=0,V=!r||r.indexOf(w)>=0,H=A.classed(E.SELECTED);A.classed(E.line)||A.classed(E.area)||G&&V&&p.data_selection_isselectable(v)&&H&&C(!1,A.classed(E.SELECTED,!1),v,w)})},tt.prototype.show=function(n,r){var s=this.internal,c;n=s.mapToTargetIds(n),r=r||{},s.removeHiddenTargetIds(n),c=s.svg.selectAll(s.selectorTargets(n)),c.transition().style("display",mi()?"block":"initial","important").style("opacity",1,"important").call(s.endall,function(){c.style("opacity",null).style("opacity",1)}),r.withLegend&&s.showLegend(n),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},tt.prototype.hide=function(n,r){var s=this.internal,c;n=s.mapToTargetIds(n),r=r||{},s.addHiddenTargetIds(n),c=s.svg.selectAll(s.selectorTargets(n)),c.transition().style("opacity",0,"important").call(s.endall,function(){c.style("opacity",null).style("opacity",0),c.style("display","none")}),r.withLegend&&s.hideLegend(n),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},tt.prototype.toggle=function(n,r){var s=this,c=this.internal;c.mapToTargetIds(n).forEach(function(p){c.isTargetToShow(p)?s.hide(p,r):s.show(p,r)})},tt.prototype.subchart=function(){},tt.prototype.subchart.isShown=function(){var n=this.internal;return n.config.subchart_show},tt.prototype.subchart.show=function(){var n=this.internal;n.config.subchart_show||(n.config.subchart_show=!0,n.initSubchart(),n.updateDimension(),n.initSubchartBrush(),n.updateTargetsForSubchart(n.getTargets()),n.mapToIds(n.data.targets).forEach(function(r){n.withoutFadeIn[r]=!1}),n.updateAndRedraw(),n.showTargets())},tt.prototype.subchart.hide=function(){var n=this.internal;n.config.subchart_show&&(n.config.subchart_show=!1,n.removeSubchart(),n.redraw())},tt.prototype.tooltip=function(){},tt.prototype.tooltip.show=function(n){var r=this.internal,s,c,p={};n.mouse?p=n.mouse:(n.data?c=n.data:typeof n.x<"u"&&(n.id?s=r.data.targets.filter(function(v){return v.id===n.id}):s=r.data.targets,c=r.filterByX(s,n.x).slice(0,1)[0]),p=c?r.getMousePosition(c):null),r.dispatchEvent("mousemove",p),r.config.tooltip_onshow.call(r,c)},tt.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},tt.prototype.transform=function(n,r){var s=this.internal,c=["pie","donut"].indexOf(n)>=0?{withTransform:!0}:null;s.transformTo(r,n,c)},h.prototype.transformTo=function(n,r,s){var c=this,p=!c.hasArcType(),v=s||{withTransitionForAxis:p};v.withTransitionForTransform=!1,c.transiting=!1,c.setTargetType(n,r),c.updateTargets(c.data.targets),c.updateAndRedraw(v)},tt.prototype.x=function(n){var r=this.internal;return arguments.length&&(r.updateTargetX(r.data.targets,n),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),r.data.xs},tt.prototype.xs=function(n){var r=this.internal;return arguments.length&&(r.updateTargetXs(r.data.targets,n),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),r.data.xs},tt.prototype.zoom=function(n){var r=this.internal;return n?(r.isTimeSeries()&&(n=n.map(function(s){return r.parseDate(s)})),r.config.subchart_show?r.brush.selectionAsValue(n,!0):(r.updateXDomain(null,!0,!1,!1,n),r.redraw({withY:r.config.zoom_rescale,withSubchart:!1})),r.config.zoom_onzoom.call(this,r.x.orgDomain()),n):r.x.domain()},tt.prototype.zoom.enable=function(n){var r=this.internal;r.config.zoom_enabled=n,r.updateAndRedraw()},tt.prototype.unzoom=function(){var n=this.internal;n.config.subchart_show?n.brush.clear():(n.updateXDomain(null,!0,!1,!1,n.subX.domain()),n.redraw({withY:n.config.zoom_rescale,withSubchart:!1}))},tt.prototype.zoom.max=function(n){var r=this.internal,s=r.config,c=r.d3;if(n===0||n)s.zoom_x_max=c.max([r.orgXDomain[1],n]);else return s.zoom_x_max},tt.prototype.zoom.min=function(n){var r=this.internal,s=r.config,c=r.d3;if(n===0||n)s.zoom_x_min=c.min([r.orgXDomain[0],n]);else return s.zoom_x_min},tt.prototype.zoom.range=function(n){if(arguments.length)Zt(n.max)&&this.domain.max(n.max),Zt(n.min)&&this.domain.min(n.min);else return{max:this.domain.max(),min:this.domain.min()}},h.prototype.initPie=function(){var n=this,r=n.d3;n.pie=r.pie().padAngle(this.getPadAngle.bind(this)).value(function(p){return p.values.reduce(function(v,w){return v+w.value},0)});var s=n.getOrderFunction();if(s&&(n.isOrderAsc()||n.isOrderDesc())){var c=s;s=function(p,v){return c(p,v)*-1}}n.pie.sort(s||null)},h.prototype.updateRadius=function(){var n=this,r=n.config,s=r.gauge_width||r.donut_width,c=n.filterTargetsToShow(n.data.targets).length*n.config.gauge_arcs_minWidth;n.radiusExpanded=Math.min(n.arcWidth,n.arcHeight)/2*(n.hasType("gauge")?.85:1),n.radius=n.radiusExpanded*.95,n.innerRadiusRatio=s?(n.radius-s)/n.radius:.6,n.innerRadius=n.hasType("donut")||n.hasType("gauge")?n.radius*n.innerRadiusRatio:0,n.gaugeArcWidth=s||(c<=n.radius-n.innerRadius?n.radius-n.innerRadius:c<=n.radius?c:n.radius)},h.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},h.prototype.updateArc=function(){var n=this;n.svgArc=n.getSvgArc(),n.svgArcExpanded=n.getSvgArcExpanded(),n.svgArcExpandedSub=n.getSvgArcExpanded(.98)},h.prototype.updateAngle=function(n){var r=this,s=r.config,c=!1,p=0,v,w,A,M;return s?(r.pie(r.filterTargetsToShow(r.data.targets)).forEach(function(C){!c&&C.data.id===n.data.id&&(c=!0,n=C,n.index=p),p++}),isNaN(n.startAngle)&&(n.startAngle=0),isNaN(n.endAngle)&&(n.endAngle=n.startAngle),r.isGaugeType(n.data)&&(v=s.gauge_min,w=s.gauge_max,A=Math.PI*(s.gauge_fullCircle?2:1)/(w-v),M=n.value<v?0:n.value<w?n.value-v:w-v,n.startAngle=s.gauge_startingAngle,n.endAngle=n.startAngle+A*M),c?n:null):null},h.prototype.getSvgArc=function(){var n=this,r=n.hasType("gauge"),s=n.gaugeArcWidth/n.filterTargetsToShow(n.data.targets).length,c=n.d3.arc().outerRadius(function(v){return r?n.radius-s*v.index:n.radius}).innerRadius(function(v){return r?n.radius-s*(v.index+1):n.innerRadius}),p=function(v,w){var A;return w?c(v):(A=n.updateAngle(v),A?c(A):"M 0 0")};return p.centroid=c.centroid,p},h.prototype.getSvgArcExpanded=function(n){n=n||1;var r=this,s=r.hasType("gauge"),c=r.gaugeArcWidth/r.filterTargetsToShow(r.data.targets).length,p=Math.min(r.radiusExpanded*n-r.radius,c*.8-(1-n)*100),v=r.d3.arc().outerRadius(function(w){return s?r.radius-c*w.index+p:r.radiusExpanded*n}).innerRadius(function(w){return s?r.radius-c*(w.index+1):r.innerRadius});return function(w){var A=r.updateAngle(w);return A?v(A):"M 0 0"}},h.prototype.getArc=function(n,r,s){return s||this.isArcType(n.data)?this.svgArc(n,r):"M 0 0"},h.prototype.transformForArcLabel=function(n){var r=this,s=r.config,c=r.updateAngle(n),p,v,w,A,M,C="",G=r.hasType("gauge");if(c&&!G)p=this.svgArc.centroid(c),v=isNaN(p[0])?0:p[0],w=isNaN(p[1])?0:p[1],A=Math.sqrt(v*v+w*w),r.hasType("donut")&&s.donut_label_ratio?M=Yt(s.donut_label_ratio)?s.donut_label_ratio(n,r.radius,A):s.donut_label_ratio:r.hasType("pie")&&s.pie_label_ratio?M=Yt(s.pie_label_ratio)?s.pie_label_ratio(n,r.radius,A):s.pie_label_ratio:M=r.radius&&A?(36/r.radius>.375?1.175-36/r.radius:.8)*r.radius/A:0,C="translate("+v*M+","+w*M+")";else if(c&&G&&r.filterTargetsToShow(r.data.targets).length>1){var V=Math.sin(c.endAngle-Math.PI/2);v=Math.cos(c.endAngle-Math.PI/2)*(r.radiusExpanded+25),w=V*(r.radiusExpanded+15-Math.abs(V*10))+3,C="translate("+v+","+w+")"}return C},h.prototype.getArcRatio=function(n){return this.getRatio("arc",n)},h.prototype.convertToArcData=function(n){return this.addName({id:n.data.id,value:n.value,ratio:this.getRatio("arc",n),index:n.index})},h.prototype.textForArcLabel=function(n){var r=this,s,c,p,v,w;return!r.shouldShowArcLabel()||(s=r.updateAngle(n),c=s?s.value:null,p=r.getRatio("arc",s),v=n.data.id,!r.hasType("gauge")&&!r.meetsArcLabelThreshold(p))?"":(w=r.getArcLabelFormat(),w?w(c,p,v):r.defaultArcValueFormat(c,p))},h.prototype.textForGaugeMinMax=function(n,r){var s=this,c=s.getGaugeLabelExtents();return c?c(n,r):n},h.prototype.expandArc=function(n){var r=this,s;if(r.transiting){s=window.setInterval(function(){r.transiting||(window.clearInterval(s),r.legend.selectAll(".c3-legend-item-focused").size()>0&&r.expandArc(n))},10);return}n=r.mapToTargetIds(n),r.svg.selectAll(r.selectorTargets(n,"."+E.chartArc)).each(function(c){r.shouldExpand(c.data.id)&&r.d3.select(this).selectAll("path").transition().duration(r.expandDuration(c.data.id)).attr("d",r.svgArcExpanded).transition().duration(r.expandDuration(c.data.id)*2).attr("d",r.svgArcExpandedSub).each(function(p){r.isDonutType(p.data)})})},h.prototype.unexpandArc=function(n){var r=this;r.transiting||(n=r.mapToTargetIds(n),r.svg.selectAll(r.selectorTargets(n,"."+E.chartArc)).selectAll("path").transition().duration(function(s){return r.expandDuration(s.data.id)}).attr("d",r.svgArc),r.svg.selectAll("."+E.arc))},h.prototype.expandDuration=function(n){var r=this,s=r.config;return r.isDonutType(n)?s.donut_expand_duration:r.isGaugeType(n)?s.gauge_expand_duration:r.isPieType(n)?s.pie_expand_duration:50},h.prototype.shouldExpand=function(n){var r=this,s=r.config;return r.isDonutType(n)&&s.donut_expand||r.isGaugeType(n)&&s.gauge_expand||r.isPieType(n)&&s.pie_expand},h.prototype.shouldShowArcLabel=function(){var n=this,r=n.config,s=!0;return n.hasType("donut")?s=r.donut_label_show:n.hasType("pie")&&(s=r.pie_label_show),s},h.prototype.meetsArcLabelThreshold=function(n){var r=this,s=r.config,c=r.hasType("donut")?s.donut_label_threshold:s.pie_label_threshold;return n>=c},h.prototype.getArcLabelFormat=function(){var n=this,r=n.config,s=r.pie_label_format;return n.hasType("gauge")?s=r.gauge_label_format:n.hasType("donut")&&(s=r.donut_label_format),s},h.prototype.getGaugeLabelExtents=function(){var n=this,r=n.config;return r.gauge_label_extents},h.prototype.getArcTitle=function(){var n=this;return n.hasType("donut")?n.config.donut_title:""},h.prototype.updateTargetsForArc=function(n){var r=this,s=r.main,c,p,v=r.classChartArc.bind(r),w=r.classArcs.bind(r),A=r.classFocus.bind(r);c=s.select("."+E.chartArcs).selectAll("."+E.chartArc).data(r.pie(n)).attr("class",function(M){return v(M)+A(M.data)}),p=c.enter().append("g").attr("class",v),p.append("g").attr("class",w),p.append("text").attr("dy",r.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},h.prototype.initArc=function(){var n=this;n.arcs=n.main.select("."+E.chart).append("g").attr("class",E.chartArcs).attr("transform",n.getTranslate("arc")),n.arcs.append("text").attr("class",E.chartArcsTitle).style("text-anchor","middle").text(n.getArcTitle())},h.prototype.redrawArc=function(n,r,s){var c=this,p=c.d3,v=c.config,w=c.main,A,M,C,G,V=c.hasType("gauge");if(A=w.selectAll("."+E.arcs).selectAll("."+E.arc).data(c.arcData.bind(c)),M=A.enter().append("path").attr("class",c.classArc.bind(c)).style("fill",function(Y){return c.color(Y.data)}).style("cursor",function(Y){return v.interaction_enabled&&v.data_selection_isselectable(Y)?"pointer":null}).each(function(Y){c.isGaugeType(Y.data)&&(Y.startAngle=Y.endAngle=v.gauge_startingAngle),this._current=Y}).merge(A),V&&(C=w.selectAll("."+E.arcs).selectAll("."+E.arcLabelLine).data(c.arcData.bind(c)),G=C.enter().append("rect").attr("class",function(Y){return E.arcLabelLine+" "+E.target+" "+E.target+"-"+Y.data.id}).merge(C),c.filterTargetsToShow(c.data.targets).length===1?G.style("display","none"):G.style("fill",function(Y){return c.levelColor?c.levelColor(Y.data.values.reduce(function(W,j){return W+j.value},0)):c.color(Y.data)}).style("display",v.gauge_labelLine_show?"":"none").each(function(Y){var W=0,j=2,et=0,pt=0,Lt="";if(c.hiddenTargetIds.indexOf(Y.data.id)<0){var At=c.updateAngle(Y),Vt=c.gaugeArcWidth/c.filterTargetsToShow(c.data.targets).length*(At.index+1),Et=At.endAngle-Math.PI/2,lt=c.radius-Vt,wt=Et-(lt===0?0:1/lt);W=c.radiusExpanded-c.radius+Vt,et=Math.cos(wt)*lt,pt=Math.sin(wt)*lt,Lt="rotate("+Et*180/Math.PI+", "+et+", "+pt+")"}p.select(this).attr("x",et).attr("y",pt).attr("width",W).attr("height",j).attr("transform",Lt).style("stroke-dasharray","0, "+(W+j)+", 0")})),M.attr("transform",function(Y){return!c.isGaugeType(Y.data)&&s?"scale(0)":""}).on("mouseover",v.interaction_enabled?function(Y){var W,j;c.transiting||(W=c.updateAngle(Y),W&&(j=c.convertToArcData(W),c.expandArc(W.data.id),c.api.focus(W.data.id),c.toggleFocusLegend(W.data.id,!0),c.config.data_onmouseover(j,this)))}:null).on("mousemove",v.interaction_enabled?function(Y){var W=c.updateAngle(Y),j,et;W&&(j=c.convertToArcData(W),et=[j],c.showTooltip(et,this))}:null).on("mouseout",v.interaction_enabled?function(Y){var W,j;c.transiting||(W=c.updateAngle(Y),W&&(j=c.convertToArcData(W),c.unexpandArc(W.data.id),c.api.revert(),c.revertLegend(),c.hideTooltip(),c.config.data_onmouseout(j,this)))}:null).on("click",v.interaction_enabled?function(Y,W){var j=c.updateAngle(Y),et;j&&(et=c.convertToArcData(j),c.toggleShape&&c.toggleShape(this,et,W),c.config.data_onclick.call(c.api,et,this))}:null).each(function(){c.transiting=!0}).transition().duration(n).attrTween("d",function(Y){var W=c.updateAngle(Y),j;return W?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),j=p.interpolate(this._current,W),this._current=j(0),function(et){if(c.config===null)return"M 0 0";var pt=j(et);return pt.data=Y.data,c.getArc(pt,!0)}):function(){return"M 0 0"}}).attr("transform",s?"scale(1)":"").style("fill",function(Y){return c.levelColor?c.levelColor(Y.data.values.reduce(function(W,j){return W+j.value},0)):c.color(Y.data.id)}).call(c.endall,function(){c.transiting=!1}),A.exit().transition().duration(r).style("opacity",0).remove(),w.selectAll("."+E.chartArc).select("text").style("opacity",0).attr("class",function(Y){return c.isGaugeType(Y.data)?E.gaugeValue:""}).text(c.textForArcLabel.bind(c)).attr("transform",c.transformForArcLabel.bind(c)).style("font-size",function(Y){return c.isGaugeType(Y.data)&&c.filterTargetsToShow(c.data.targets).length===1?Math.round(c.radius/5)+"px":""}).transition().duration(n).style("opacity",function(Y){return c.isTargetToShow(Y.data.id)&&c.isArcType(Y.data)?1:0}),w.select("."+E.chartArcsTitle).style("opacity",c.hasType("donut")||V?1:0),V){var H=0,N=c.arcs.select("g."+E.chartArcsBackground).selectAll("path."+E.chartArcsBackground).data(c.data.targets);N.enter().append("path").attr("class",function(Y,W){return E.chartArcsBackground+" "+E.chartArcsBackground+"-"+W}).merge(N).attr("d",function(Y){if(c.hiddenTargetIds.indexOf(Y.id)>=0)return"M 0 0";var W={data:[{value:v.gauge_max}],startAngle:v.gauge_startingAngle,endAngle:-1*v.gauge_startingAngle*(v.gauge_fullCircle?Math.PI:1),index:H++};return c.getArc(W,!0,!0)}),N.exit().remove(),c.arcs.select("."+E.chartArcsGaugeUnit).attr("dy",".75em").text(v.gauge_label_show?v.gauge_units:""),c.arcs.select("."+E.chartArcsGaugeMin).attr("dx",-1*(c.innerRadius+(c.radius-c.innerRadius)/(v.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(v.gauge_label_show?c.textForGaugeMinMax(v.gauge_min,!1):""),c.arcs.select("."+E.chartArcsGaugeMax).attr("dx",c.innerRadius+(c.radius-c.innerRadius)/(v.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(v.gauge_label_show?c.textForGaugeMinMax(v.gauge_max,!0):"")}},h.prototype.initGauge=function(){var n=this.arcs;this.hasType("gauge")&&(n.append("g").attr("class",E.chartArcsBackground),n.append("text").attr("class",E.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",E.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",E.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},h.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},h.prototype.addToCache=function(n,r){this.cache["$"+n]=r},h.prototype.getFromCache=function(n){return this.cache["$"+n]},h.prototype.resetCache=function(){var n=this;Object.keys(this.cache).filter(function(r){return/^\$/.test(r)}).forEach(function(r){delete n.cache[r]})},h.prototype.hasCaches=function(n){for(var r=0;r<n.length;r++)if(!(n[r]in this.cache))return!1;return!0},h.prototype.addCache=function(n,r){this.cache[n]=this.cloneTarget(r)},h.prototype.getCaches=function(n){var r=[],s;for(s=0;s<n.length;s++)n[s]in this.cache&&r.push(this.cloneTarget(this.cache[n[s]]));return r},h.prototype.categoryName=function(n){var r=this.config;return n<r.axis_x_categories.length?r.axis_x_categories[n]:n},h.prototype.generateTargetClass=function(n){return n||n===0?("-"+n).replace(/\s/g,"-"):""},h.prototype.generateClass=function(n,r){return" "+n+" "+n+this.generateTargetClass(r)},h.prototype.classText=function(n){return this.generateClass(E.text,n.index)},h.prototype.classTexts=function(n){return this.generateClass(E.texts,n.id)},h.prototype.classShape=function(n){return this.generateClass(E.shape,n.index)},h.prototype.classShapes=function(n){return this.generateClass(E.shapes,n.id)},h.prototype.classLine=function(n){return this.classShape(n)+this.generateClass(E.line,n.id)},h.prototype.classLines=function(n){return this.classShapes(n)+this.generateClass(E.lines,n.id)},h.prototype.classCircle=function(n){return this.classShape(n)+this.generateClass(E.circle,n.index)},h.prototype.classCircles=function(n){return this.classShapes(n)+this.generateClass(E.circles,n.id)},h.prototype.classBar=function(n){return this.classShape(n)+this.generateClass(E.bar,n.index)},h.prototype.classBars=function(n){return this.classShapes(n)+this.generateClass(E.bars,n.id)},h.prototype.classArc=function(n){return this.classShape(n.data)+this.generateClass(E.arc,n.data.id)},h.prototype.classArcs=function(n){return this.classShapes(n.data)+this.generateClass(E.arcs,n.data.id)},h.prototype.classArea=function(n){return this.classShape(n)+this.generateClass(E.area,n.id)},h.prototype.classAreas=function(n){return this.classShapes(n)+this.generateClass(E.areas,n.id)},h.prototype.classRegion=function(n,r){return this.generateClass(E.region,r)+" "+("class"in n?n.class:"")},h.prototype.classEvent=function(n){return this.generateClass(E.eventRect,n.index)},h.prototype.classTarget=function(n){var r=this,s=r.config.data_classes[n],c="";return s&&(c=" "+E.target+"-"+s),r.generateClass(E.target,n)+c},h.prototype.classFocus=function(n){return this.classFocused(n)+this.classDefocused(n)},h.prototype.classFocused=function(n){return" "+(this.focusedTargetIds.indexOf(n.id)>=0?E.focused:"")},h.prototype.classDefocused=function(n){return" "+(this.defocusedTargetIds.indexOf(n.id)>=0?E.defocused:"")},h.prototype.classChartText=function(n){return E.chartText+this.classTarget(n.id)},h.prototype.classChartLine=function(n){return E.chartLine+this.classTarget(n.id)},h.prototype.classChartBar=function(n){return E.chartBar+this.classTarget(n.id)},h.prototype.classChartArc=function(n){return E.chartArc+this.classTarget(n.data.id)},h.prototype.getTargetSelectorSuffix=function(n){var r=this.generateTargetClass(n);return window.CSS&&window.CSS.escape?window.CSS.escape(r):r.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},h.prototype.selectorTarget=function(n,r){return(r||"")+"."+E.target+this.getTargetSelectorSuffix(n)},h.prototype.selectorTargets=function(n,r){var s=this;return n=n||[],n.length?n.map(function(c){return s.selectorTarget(c,r)}):null},h.prototype.selectorLegend=function(n){return"."+E.legendItem+this.getTargetSelectorSuffix(n)},h.prototype.selectorLegends=function(n){var r=this;return n&&n.length?n.map(function(s){return r.selectorLegend(s)}):null},h.prototype.getClipPath=function(n){return"url("+(mi(9)?"":document.URL.split("#")[0])+"#"+n+")"},h.prototype.appendClip=function(n,r){return n.append("clipPath").attr("id",r).append("rect")},h.prototype.getAxisClipX=function(n){var r=Math.max(30,this.margin.left);return n?-(1+r):-(r-1)},h.prototype.getAxisClipY=function(n){return n?-20:-this.margin.top},h.prototype.getXAxisClipX=function(){var n=this;return n.getAxisClipX(!n.config.axis_rotated)},h.prototype.getXAxisClipY=function(){var n=this;return n.getAxisClipY(!n.config.axis_rotated)},h.prototype.getYAxisClipX=function(){var n=this;return n.config.axis_y_inner?-1:n.getAxisClipX(n.config.axis_rotated)},h.prototype.getYAxisClipY=function(){var n=this;return n.getAxisClipY(n.config.axis_rotated)},h.prototype.getAxisClipWidth=function(n){var r=this,s=Math.max(30,r.margin.left),c=Math.max(30,r.margin.right);return n?r.width+2+s+c:r.margin.left+20},h.prototype.getAxisClipHeight=function(n){return(n?this.margin.bottom:this.margin.top+this.height)+20},h.prototype.getXAxisClipWidth=function(){var n=this;return n.getAxisClipWidth(!n.config.axis_rotated)},h.prototype.getXAxisClipHeight=function(){var n=this;return n.getAxisClipHeight(!n.config.axis_rotated)},h.prototype.getYAxisClipWidth=function(){var n=this;return n.getAxisClipWidth(n.config.axis_rotated)+(n.config.axis_y_inner?20:0)},h.prototype.getYAxisClipHeight=function(){var n=this;return n.getAxisClipHeight(n.config.axis_rotated)},h.prototype.generateColor=function(){var n=this,r=n.config,s=n.d3,c=r.data_colors,p=Ee(r.color_pattern)?r.color_pattern:s.schemeCategory10,v=r.data_color,w=[];return function(A){var M=A.id||A.data&&A.data.id||A,C;return c[M]instanceof Function?C=c[M](A):c[M]?C=c[M]:(w.indexOf(M)<0&&w.push(M),C=p[w.indexOf(M)%p.length],c[M]=C),v instanceof Function?v(C,A):C}},h.prototype.generateLevelColor=function(){var n=this,r=n.config,s=r.color_pattern,c=r.color_threshold,p=c.unit==="value",v=c.values&&c.values.length?c.values:[],w=c.max||100;return Ee(c)&&Ee(s)?function(A){var M,C,G=s[s.length-1];for(M=0;M<v.length;M++)if(C=p?A:A*100/w,C<v[M]){G=s[M];break}return G}:null},h.prototype.getDefaultConfig=function(){var n={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(r){return r},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(r,s,c,p){return this.getTooltipContent?this.getTooltipContent(r,s,c,p):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(r){n[r]=this.additionalConfig[r]},this),n},h.prototype.additionalConfig={},h.prototype.loadConfig=function(n){var r=this.config,s,c,p;function v(){var w=c.shift();return w&&s&&typeof s=="object"&&w in s?(s=s[w],v()):w?void 0:s}Object.keys(r).forEach(function(w){s=n,c=w.split("_"),p=v(),Zt(p)&&(r[w]=p)})},h.prototype.convertUrlToData=function(n,r,s,c,p){var v=this,w=r||"csv",A,M;w==="json"?(A=v.d3.json,M=v.convertJsonToData):w==="tsv"?(A=v.d3.tsv,M=v.convertXsvToData):(A=v.d3.csv,M=v.convertXsvToData),A(n,s).then(function(C){p.call(v,M.call(v,C,c))}).catch(function(C){throw C})},h.prototype.convertXsvToData=function(n){var r=n.columns,s=n;return s.length===0?{keys:r,rows:[r.reduce(function(c,p){var v;return Object.assign(c,(v={},v[p]=null,v))},{})]}:{keys:r,rows:[].concat(n)}},h.prototype.convertJsonToData=function(n,r){var s=this,c=[],p,v;return r?(r.x?(p=r.value.concat(r.x),s.config.data_x=r.x):p=r.value,c.push(p),n.forEach(function(w){var A=[];p.forEach(function(M){var C=s.findValueInJson(w,M);le(C)&&(C=null),A.push(C)}),c.push(A)}),v=s.convertRowsToData(c)):(Object.keys(n).forEach(function(w){c.push([w].concat(n[w]))}),v=s.convertColumnsToData(c)),v},h.prototype.findValueInJson=function(n,r){if(r in n)return n[r];r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,"");for(var s=r.split("."),c=0;c<s.length;++c){var p=s[c];if(p in n)n=n[p];else return}return n},h.prototype.convertRowsToData=function(n){for(var r=[],s=n[0],c=1;c<n.length;c++){for(var p={},v=0;v<n[c].length;v++){if(le(n[c][v]))throw new Error("Source data is missing a component at ("+c+","+v+")!");p[s[v]]=n[c][v]}r.push(p)}return{keys:s,rows:r}},h.prototype.convertColumnsToData=function(n){for(var r=[],s=[],c=0;c<n.length;c++){for(var p=n[c][0],v=1;v<n[c].length;v++){if(le(r[v-1])&&(r[v-1]={}),le(n[c][v]))throw new Error("Source data is missing a component at ("+c+","+v+")!");r[v-1][p]=n[c][v]}s.push(p)}return{keys:s,rows:r}},h.prototype.convertDataToTargets=function(n,r){var s=this,c=s.config,p,v,w,A,M;if(Bn(n)?A=Object.keys(n[0]):(A=n.keys,n=n.rows),w=A.filter(s.isX,s),!s.isStanfordGraphType())v=A.filter(s.isNotX,s);else if(M=A.filter(s.isEpochs,s),v=A.filter(s.isNotXAndNotEpochs,s),w.length!==1||M.length!==1||v.length!==1)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams");return v.forEach(function(C){var G=s.getXKey(C);s.isCustomX()||s.isTimeSeries()?w.indexOf(G)>=0?s.data.xs[C]=(r&&s.data.xs[C]?s.data.xs[C]:[]).concat(n.map(function(V){return V[G]}).filter(Mt).map(function(V,H){return s.generateTargetX(V,C,H)})):c.data_x?s.data.xs[C]=s.getOtherTargetXs():Ee(c.data_xs)&&(s.data.xs[C]=s.getXValuesOfXKey(G,s.data.targets)):s.data.xs[C]=n.map(function(V,H){return H})}),v.forEach(function(C){if(!s.data.xs[C])throw new Error('x is not defined for id = "'+C+'".')}),p=v.map(function(C,G){var V=c.data_idConverter(C);return{id:V,id_org:C,values:n.map(function(H,N){var Y=s.getXKey(C),W=H[Y],j=H[C]!==null&&!isNaN(H[C])?+H[C]:null,et,pt;return s.isCustomX()&&s.isCategorized()&&!le(W)?(G===0&&N===0&&(c.axis_x_categories=[]),et=c.axis_x_categories.indexOf(W),et===-1&&(et=c.axis_x_categories.length,c.axis_x_categories.push(W))):et=s.generateTargetX(W,C,N),(le(H[C])||s.data.xs[C].length<=N)&&(et=void 0),pt={x:et,value:j,id:V},s.isStanfordGraphType()&&(pt.epochs=H[M]),pt}).filter(function(H){return Zt(H.x)})}}),p.forEach(function(C){var G;c.data_xSort&&(C.values=C.values.sort(function(V,H){var N=V.x||V.x===0?V.x:1/0,Y=H.x||H.x===0?H.x:1/0;return N-Y})),G=0,C.values.forEach(function(V){V.index=G++}),s.data.xs[C.id].sort(function(V,H){return V-H})}),s.hasNegativeValue=s.hasNegativeValueInTargets(p),s.hasPositiveValue=s.hasPositiveValueInTargets(p),c.data_type&&s.setTargetType(s.mapToIds(p).filter(function(C){return!(C in c.data_types)}),c.data_type),p.forEach(function(C){s.addCache(C.id_org,C)}),p},h.prototype.isEpochs=function(n){var r=this,s=r.config;return s.data_epochs&&n===s.data_epochs},h.prototype.isX=function(n){var r=this,s=r.config;return s.data_x&&n===s.data_x||Ee(s.data_xs)&&is(s.data_xs,n)},h.prototype.isNotX=function(n){return!this.isX(n)},h.prototype.isNotXAndNotEpochs=function(n){return!this.isX(n)&&!this.isEpochs(n)},h.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},h.prototype.isAxisNormalized=function(n){var r=this;return r.isStackNormalized()?r.data.targets.filter(function(s){return r.axis.getId(s.id)===n}).some(function(s){return r.isTargetNormalized(s.id)}):!1},h.prototype.isTargetNormalized=function(n){var r=this;return r.isStackNormalized()&&r.config.data_groups.some(function(s){return s.includes(n)})},h.prototype.getXKey=function(n){var r=this,s=r.config;return s.data_x?s.data_x:Ee(s.data_xs)?s.data_xs[n]:null},h.prototype.getTotalPerIndex=function(n){var r=this;if(!r.isStackNormalized())return null;var s=r.getFromCache("getTotalPerIndex");if(s!==void 0)return s[n];var c={y:[],y2:[]};return r.data.targets.filter(function(p){return r.isTargetNormalized(p.id)}).filter(function(p){return r.isTargetToShow(p.id)}).forEach(function(p){var v=c[r.axis.getId(p.id)];p.values.forEach(function(w,A){v[A]||(v[A]=0),v[A]+=Ki(w.value)?w.value:0})}),r.addToCache("getTotalPerIndex",c),c[n]},h.prototype.getTotalDataSum=function(){var n=this,r=n.getFromCache("getTotalDataSum");if(r!==void 0)return r;var s=_i(n.data.targets.filter(function(c){return n.isTargetToShow(c.id)}).map(function(c){return c.values})).map(function(c){return c.value}).reduce(function(c,p){return c+p},0);return n.addToCache("getTotalDataSum",s),s},h.prototype.getXValuesOfXKey=function(n,r){var s=this,c,p=r&&Ee(r)?s.mapToIds(r):[];return p.forEach(function(v){s.getXKey(v)===n&&(c=s.data.xs[v])}),c},h.prototype.getXValue=function(n,r){var s=this;return n in s.data.xs&&s.data.xs[n]&&Mt(s.data.xs[n][r])?s.data.xs[n][r]:r},h.prototype.getOtherTargetXs=function(){var n=this,r=Object.keys(n.data.xs);return r.length?n.data.xs[r[0]]:null},h.prototype.getOtherTargetX=function(n){var r=this.getOtherTargetXs();return r&&n<r.length?r[n]:null},h.prototype.addXs=function(n){var r=this;Object.keys(n).forEach(function(s){r.config.data_xs[s]=n[s]})},h.prototype.addName=function(n){var r=this,s;return n&&(s=r.config.data_names[n.id],n.name=s!==void 0?s:n.id),n},h.prototype.getValueOnIndex=function(n,r){var s=n.filter(function(c){return c.index===r});return s.length?s[0]:null},h.prototype.updateTargetX=function(n,r){var s=this;n.forEach(function(c){c.values.forEach(function(p,v){p.x=s.generateTargetX(r[v],c.id,v)}),s.data.xs[c.id]=r})},h.prototype.updateTargetXs=function(n,r){var s=this;n.forEach(function(c){r[c.id]&&s.updateTargetX([c],r[c.id])})},h.prototype.generateTargetX=function(n,r,s){var c=this,p;return c.isTimeSeries()?p=n?c.parseDate(n):c.parseDate(c.getXValue(r,s)):c.isCustomX()&&!c.isCategorized()?p=Mt(n)?+n:c.getXValue(r,s):p=s,p},h.prototype.cloneTarget=function(n){return{id:n.id,id_org:n.id_org,values:n.values.map(function(r){return{x:r.x,value:r.value,id:r.id}})}},h.prototype.getMaxDataCount=function(){var n=this;return n.d3.max(n.data.targets,function(r){return r.values.length})},h.prototype.mapToIds=function(n){return n.map(function(r){return r.id})},h.prototype.mapToTargetIds=function(n){var r=this;return n?[].concat(n):r.mapToIds(r.data.targets)},h.prototype.hasTarget=function(n,r){var s=this.mapToIds(n),c;for(c=0;c<s.length;c++)if(s[c]===r)return!0;return!1},h.prototype.isTargetToShow=function(n){return this.hiddenTargetIds.indexOf(n)<0},h.prototype.isLegendToShow=function(n){return this.hiddenLegendIds.indexOf(n)<0},h.prototype.getTargetsToShow=function(){var n=this;return n.filterTargetsToShow(n.data.targets)},h.prototype.filterTargetsToShow=function(n){var r=this;return n.filter(function(s){return r.isTargetToShow(s.id)})},h.prototype.getTargets=function(){var n=this;return n.data.targets},h.prototype.mapTargetsToUniqueXs=function(n){var r=this,s=r.d3.set(r.d3.merge(n.map(function(c){return c.values.map(function(p){return+p.x})}))).values();return s=r.isTimeSeries()?s.map(function(c){return new Date(+c)}):s.map(function(c){return+c}),s.sort(function(c,p){return c<p?-1:c>p?1:c>=p?0:NaN})},h.prototype.addHiddenTargetIds=function(n){n=n instanceof Array?n:new Array(n);for(var r=0;r<n.length;r++)this.hiddenTargetIds.indexOf(n[r])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(n[r]));this.resetCache()},h.prototype.removeHiddenTargetIds=function(n){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(r){return n.indexOf(r)<0}),this.resetCache()},h.prototype.addHiddenLegendIds=function(n){n=n instanceof Array?n:new Array(n);for(var r=0;r<n.length;r++)this.hiddenLegendIds.indexOf(n[r])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(n[r]))},h.prototype.removeHiddenLegendIds=function(n){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(r){return n.indexOf(r)<0})},h.prototype.getValuesAsIdKeyed=function(n){var r={};return n.forEach(function(s){r[s.id]=[],s.values.forEach(function(c){r[s.id].push(c.value)})}),r},h.prototype.checkValueInTargets=function(n,r){var s=Object.keys(n),c,p,v;for(c=0;c<s.length;c++)for(v=n[s[c]].values,p=0;p<v.length;p++)if(r(v[p].value))return!0;return!1},h.prototype.hasNegativeValueInTargets=function(n){return this.checkValueInTargets(n,function(r){return r<0})},h.prototype.hasPositiveValueInTargets=function(n){return this.checkValueInTargets(n,function(r){return r>0})},h.prototype.isOrderDesc=function(){var n=this.config;return typeof n.data_order=="string"&&n.data_order.toLowerCase()==="desc"},h.prototype.isOrderAsc=function(){var n=this.config;return typeof n.data_order=="string"&&n.data_order.toLowerCase()==="asc"},h.prototype.getOrderFunction=function(){var n=this,r=n.config,s=n.isOrderAsc(),c=n.isOrderDesc();if(s||c){var p=function(w,A){return w+Math.abs(A.value)};return function(w,A){var M=w.values.reduce(p,0),C=A.values.reduce(p,0);return s?C-M:M-C}}else{if(Yt(r.data_order))return r.data_order;if(Bn(r.data_order)){var v=r.data_order;return function(w,A){return v.indexOf(w.id)-v.indexOf(A.id)}}}},h.prototype.orderTargets=function(n){var r=this.getOrderFunction();return r&&n.sort(r),n},h.prototype.filterByIndex=function(n,r){return this.d3.merge(n.map(function(s){return s.values.filter(function(c){return c.index===r})}))},h.prototype.filterByX=function(n,r){return this.d3.merge(n.map(function(s){return s.values})).filter(function(s){return s.x-r===0})},h.prototype.filterRemoveNull=function(n){return n.filter(function(r){return Mt(r.value)})},h.prototype.filterByXDomain=function(n,r){return n.map(function(s){return{id:s.id,id_org:s.id_org,values:s.values.filter(function(c){return r[0]<=c.x&&c.x<=r[1]})}})},h.prototype.hasDataLabel=function(){var n=this.config;return typeof n.data_labels=="boolean"&&n.data_labels?!0:!!(typeof n.data_labels=="object"&&Ee(n.data_labels))},h.prototype.getDataLabelLength=function(n,r,s){var c=this,p=[0,0],v=1.3;return c.selectChart.select("svg").selectAll(".dummy").data([n,r]).enter().append("text").text(function(w){return c.dataLabelFormat(w.id)(w)}).each(function(w,A){p[A]=qe(this)[s]*v}).remove(),p},h.prototype.isNoneArc=function(n){return this.hasTarget(this.data.targets,n.id)},h.prototype.isArc=function(n){return"data"in n&&this.hasTarget(this.data.targets,n.data.id)},h.prototype.findClosestFromTargets=function(n,r){var s=this,c=n.map(function(p){return s.findClosest(p.values,r,s.config.tooltip_horizontal?s.horizontalDistance.bind(s):s.dist.bind(s),s.config.point_sensitivity)}).filter(function(p){return p});if(c.length!==0)return c.length===1?c[0]:s.findClosest(c,r,s.dist.bind(s))},h.prototype.findClosestFromTargetsByX=function(n,r){var s,c;return n.forEach(function(p){p.values.forEach(function(v){var w=Math.abs(r-v.x);(c===void 0||w<c)&&(s=v,c=w)})}),s},h.prototype.findClosest=function(n,r,s,c){c===void 0&&(c=1/0);var p=this,v;return n.filter(function(w){return w&&p.isBarType(w.id)}).forEach(function(w){if(!v){var A=p.main.select("."+E.bars+p.getTargetSelectorSuffix(w.id)+" ."+E.bar+"-"+w.index).node();p.isWithinBar(r,A)&&(v=w)}}),n.filter(function(w){return w&&!p.isBarType(w.id)}).forEach(function(w){var A=s(w,r);A<c&&(c=A,v=w)}),v},h.prototype.dist=function(n,r){var s=this,c=s.config,p=c.axis_rotated?1:0,v=c.axis_rotated?0:1,w=s.circleY(n,n.index),A=s.x(n.x);return Math.sqrt(Math.pow(A-r[p],2)+Math.pow(w-r[v],2))},h.prototype.horizontalDistance=function(n,r){var s=this,c=s.config,p=c.axis_rotated?1:0,v=s.x(n.x);return Math.abs(v-r[p])},h.prototype.convertValuesToStep=function(n){var r=[].concat(n),s;if(!this.isCategorized())return n;for(s=n.length+1;0<s;s--)r[s]=r[s-1];return r[0]={x:r[0].x-1,value:r[0].value,id:r[0].id},r[n.length+1]={x:r[n.length].x+1,value:r[n.length].value,id:r[n.length].id},r},h.prototype.getRatio=function(n,r,s){s===void 0&&(s=!1);var c=this,p=c.api,v=0;if(r&&p.data.shown.call(p).length){if(v=r.ratio||r.value,n==="arc")if(c.hasType("gauge"))v=(r.endAngle-r.startAngle)/(Math.PI*(c.config.gauge_fullCircle?2:1));else{var w=c.getTotalDataSum();v=r.value/w}else if(n==="index"){var w=c.getTotalPerIndex(c.axis.getId(r.id));r.ratio=Ki(r.value)&&w&&w[r.index]>0?r.value/w[r.index]:0,v=r.ratio}}return s&&v?v*100:v},h.prototype.updateDataAttributes=function(n,r){var s=this,c=s.config,p=c["data_"+n];return typeof r>"u"||(Object.keys(r).forEach(function(v){p[v]=r[v]}),s.redraw({withLegend:!0})),p},h.prototype.load=function(n,r){var s=this;n&&(r.filter&&(n=n.filter(r.filter)),(r.type||r.types)&&n.forEach(function(c){var p=r.types&&r.types[c.id]?r.types[c.id]:r.type;s.setTargetType(c.id,p)}),s.data.targets.forEach(function(c){for(var p=0;p<n.length;p++)if(c.id===n[p].id){c.values=n[p].values,n.splice(p,1);break}}),s.data.targets=s.data.targets.concat(n)),s.updateTargets(s.data.targets),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),r.done&&r.done()},h.prototype.loadFromArgs=function(n){var r=this;r.resetCache(),n.data?r.load(r.convertDataToTargets(n.data),n):n.url?r.convertUrlToData(n.url,n.mimeType,n.headers,n.keys,function(s){r.load(r.convertDataToTargets(s),n)}):n.json?r.load(r.convertDataToTargets(r.convertJsonToData(n.json,n.keys)),n):n.rows?r.load(r.convertDataToTargets(r.convertRowsToData(n.rows)),n):n.columns?r.load(r.convertDataToTargets(r.convertColumnsToData(n.columns)),n):r.load(null,n)},h.prototype.unload=function(n,r){var s=this;if(s.resetCache(),r||(r=function(){}),n=n.filter(function(c){return s.hasTarget(s.data.targets,c)}),!n||n.length===0){r();return}s.svg.selectAll(n.map(function(c){return s.selectorTarget(c)})).transition().style("opacity",0).remove().call(s.endall,r),n.forEach(function(c){s.withoutFadeIn[c]=!1,s.legend&&s.legend.selectAll("."+E.legendItem+s.getTargetSelectorSuffix(c)).remove(),s.data.targets=s.data.targets.filter(function(p){return p.id!==c})})},h.prototype.getYDomainMin=function(n){var r=this,s=r.config,c=r.mapToIds(n),p=r.getValuesAsIdKeyed(n),v,w,A,M,C,G;if(s.data_groups.length>0){for(G=r.hasNegativeValueInTargets(n),v=0;v<s.data_groups.length;v++)if(M=s.data_groups[v].filter(function(V){return c.indexOf(V)>=0}),M.length!==0)for(A=M[0],G&&p[A]&&p[A].forEach(function(V,H){p[A][H]=V<0?V:0}),w=1;w<M.length;w++)C=M[w],p[C]&&p[C].forEach(function(V,H){r.axis.getId(C)===r.axis.getId(A)&&p[A]&&!(G&&+V>0)&&(p[A][H]+=+V)})}return r.d3.min(Object.keys(p).map(function(V){return r.d3.min(p[V])}))},h.prototype.getYDomainMax=function(n){var r=this,s=r.config,c=r.mapToIds(n),p=r.getValuesAsIdKeyed(n),v,w,A,M,C,G;if(s.data_groups.length>0){for(G=r.hasPositiveValueInTargets(n),v=0;v<s.data_groups.length;v++)if(M=s.data_groups[v].filter(function(V){return c.indexOf(V)>=0}),M.length!==0)for(A=M[0],G&&p[A]&&p[A].forEach(function(V,H){p[A][H]=V>0?V:0}),w=1;w<M.length;w++)C=M[w],p[C]&&p[C].forEach(function(V,H){r.axis.getId(C)===r.axis.getId(A)&&p[A]&&!(G&&+V<0)&&(p[A][H]+=+V)})}return r.d3.max(Object.keys(p).map(function(V){return r.d3.max(p[V])}))},h.prototype.getYDomain=function(n,r,s){var c=this,p=c.config;if(c.isAxisNormalized(r))return[0,100];var v=n.filter(function(ot){return c.axis.getId(ot.id)===r}),w=s?c.filterByXDomain(v,s):v,A=r==="y2"?p.axis_y2_min:p.axis_y_min,M=r==="y2"?p.axis_y2_max:p.axis_y_max,C=c.getYDomainMin(w),G=c.getYDomainMax(w),V,H,N,Y,W=r==="y2"?p.axis_y2_center:p.axis_y_center,j,et,pt,Lt,At,Vt,Et=c.hasType("bar",w)&&p.bar_zerobased||c.hasType("area",w)&&p.area_zerobased,lt=r==="y2"?p.axis_y2_inverted:p.axis_y_inverted,wt=c.hasDataLabel()&&p.axis_rotated,bt=c.hasDataLabel()&&!p.axis_rotated;if(C=Mt(A)?A:Mt(M)?C<M?C:M-10:C,G=Mt(M)?M:Mt(A)?A<G?G:A+10:G,w.length===0)return r==="y2"?c.y2.domain():c.y.domain();if(isNaN(C)&&(C=0),isNaN(G)&&(G=C),C===G&&(C<0?G=0:C=0),At=C>=0&&G>=0,Vt=C<=0&&G<=0,(Mt(A)&&At||Mt(M)&&Vt)&&(Et=!1),Et&&(At&&(C=0),Vt&&(G=0)),H=Math.abs(G-C),N=Y=H*.1,typeof W<"u"&&(j=Math.max(Math.abs(C),Math.abs(G)),G=W+j,C=W-j),wt)et=c.getDataLabelLength(C,G,"width"),pt=Ut(c.y.range()),Lt=[et[0]/pt,et[1]/pt],N+=H*(Lt[1]/(1-Lt[0]-Lt[1])),Y+=H*(Lt[0]/(1-Lt[0]-Lt[1]));else if(bt){et=c.getDataLabelLength(C,G,"height");var vt=c.getY(p["axis_"+r+"_type"],[0,p.axis_rotated?c.width:c.height],[0,H]);N+=vt(et[1]),Y+=vt(et[0])}return r==="y"&&Ee(p.axis_y_padding)&&(N=c.axis.getPadding(p.axis_y_padding,"top",N,H),Y=c.axis.getPadding(p.axis_y_padding,"bottom",Y,H)),r==="y2"&&Ee(p.axis_y2_padding)&&(N=c.axis.getPadding(p.axis_y2_padding,"top",N,H),Y=c.axis.getPadding(p.axis_y2_padding,"bottom",Y,H)),Et&&(At&&(Y=C),Vt&&(N=-G)),V=[C-Y,G+N],lt?V.reverse():V},h.prototype.getXDomainMin=function(n){var r=this,s=r.config;return Zt(s.axis_x_min)?r.isTimeSeries()?this.parseDate(s.axis_x_min):s.axis_x_min:r.d3.min(n,function(c){return r.d3.min(c.values,function(p){return p.x})})},h.prototype.getXDomainMax=function(n){var r=this,s=r.config;return Zt(s.axis_x_max)?r.isTimeSeries()?this.parseDate(s.axis_x_max):s.axis_x_max:r.d3.max(n,function(c){return r.d3.max(c.values,function(p){return p.x})})},h.prototype.getXDomainPadding=function(n){var r=this,s=r.config,c=n[1]-n[0],p,v,w,A;return r.isCategorized()?v=0:r.hasType("bar")?(p=r.getMaxDataCount(),v=p>1?c/(p-1)/2:.5):v=c*.01,typeof s.axis_x_padding=="object"&&Ee(s.axis_x_padding)?(w=Mt(s.axis_x_padding.left)?s.axis_x_padding.left:v,A=Mt(s.axis_x_padding.right)?s.axis_x_padding.right:v):typeof s.axis_x_padding=="number"?w=A=s.axis_x_padding:w=A=v,{left:w,right:A}},h.prototype.getXDomain=function(n){var r=this,s=[r.getXDomainMin(n),r.getXDomainMax(n)],c=s[0],p=s[1],v=r.getXDomainPadding(s),w=0,A=0;return c-p===0&&!r.isCategorized()&&(r.isTimeSeries()?(c=new Date(c.getTime()*.5),p=new Date(p.getTime()*1.5)):(c=c===0?1:c*.5,p=p===0?-1:p*1.5)),(c||c===0)&&(w=r.isTimeSeries()?new Date(c.getTime()-v.left):c-v.left),(p||p===0)&&(A=r.isTimeSeries()?new Date(p.getTime()+v.right):p+v.right),[w,A]},h.prototype.updateXDomain=function(n,r,s,c,p){var v=this,w=v.config;return s&&(v.x.domain(p||v.d3.extent(v.getXDomain(n))),v.orgXDomain=v.x.domain(),w.zoom_enabled&&v.zoom.update(),v.subX.domain(v.x.domain()),v.brush&&v.brush.updateScale(v.subX)),r&&v.x.domain(p||(!v.brush||v.brush.empty()?v.orgXDomain:v.brush.selectionAsValue())),c&&v.x.domain(v.trimXDomain(v.x.orgDomain())),v.x.domain()},h.prototype.trimXDomain=function(n){var r=this.getZoomDomain(),s=r[0],c=r[1];return n[0]<=s&&(n[1]=+n[1]+(s-n[0]),n[0]=s),c<=n[1]&&(n[0]=+n[0]-(n[1]-c),n[1]=c),n},h.prototype.drag=function(n){var r=this,s=r.config,c=r.main,p=r.d3,v,w,A,M,C,G,V,H;r.hasArcType()||s.data_selection_enabled&&s.data_selection_multiple&&(v=r.dragStart[0],w=r.dragStart[1],A=n[0],M=n[1],C=Math.min(v,A),G=Math.max(v,A),V=s.data_selection_grouped?r.margin.top:Math.min(w,M),H=s.data_selection_grouped?r.height:Math.max(w,M),c.select("."+E.dragarea).attr("x",C).attr("y",V).attr("width",G-C).attr("height",H-V),c.selectAll("."+E.shapes).selectAll("."+E.shape).each(function(N,Y){if(s.data_selection_isselectable(N)){var W=p.select(this),j=W.classed(E.SELECTED),et=W.classed(E.INCLUDED),pt,Lt,At,Vt,Et,lt=!1,wt;if(W.classed(E.circle))pt=W.attr("cx")*1,Lt=W.attr("cy")*1,Et=r.togglePoint,lt=C<pt&&pt<G&&V<Lt&&Lt<H;else if(W.classed(E.bar))wt=_e(this),pt=wt.x,Lt=wt.y,At=wt.width,Vt=wt.height,Et=r.togglePath,lt=!(G<pt||pt+At<C)&&!(H<Lt||Lt+Vt<V);else return;lt^et&&(W.classed(E.INCLUDED,!et),W.classed(E.SELECTED,!j),Et.call(r,!j,W,N,Y))}}))},h.prototype.dragstart=function(n){var r=this,s=r.config;r.hasArcType()||s.data_selection_enabled&&(r.dragStart=n,r.main.select("."+E.chart).append("rect").attr("class",E.dragarea).style("opacity",.1),r.dragging=!0)},h.prototype.dragend=function(){var n=this,r=n.config;n.hasArcType()||r.data_selection_enabled&&(n.main.select("."+E.dragarea).transition().duration(100).style("opacity",0).remove(),n.main.selectAll("."+E.shape).classed(E.INCLUDED,!1),n.dragging=!1)},h.prototype.getYFormat=function(n){var r=this,s=n&&!r.hasType("gauge")?r.defaultArcValueFormat:r.yFormat,c=n&&!r.hasType("gauge")?r.defaultArcValueFormat:r.y2Format;return function(p,v,w){var A=r.axis.getId(w)==="y2"?c:s;return A.call(r,p,v)}},h.prototype.yFormat=function(n){var r=this,s=r.config,c=s.axis_y_tick_format?s.axis_y_tick_format:r.defaultValueFormat;return c(n)},h.prototype.y2Format=function(n){var r=this,s=r.config,c=s.axis_y2_tick_format?s.axis_y2_tick_format:r.defaultValueFormat;return c(n)},h.prototype.defaultValueFormat=function(n){return Mt(n)?+n:""},h.prototype.defaultArcValueFormat=function(n,r){return(r*100).toFixed(1)+"%"},h.prototype.dataLabelFormat=function(n){var r=this,s=r.config.data_labels,c,p=function(v){return Mt(v)?+v:""};return typeof s.format=="function"?c=s.format:typeof s.format=="object"?s.format[n]?c=s.format[n]===!0?p:s.format[n]:c=function(){return""}:c=p,c},h.prototype.initGrid=function(){var n=this,r=n.config,s=n.d3;n.grid=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",E.grid),r.grid_x_show&&n.grid.append("g").attr("class",E.xgrids),r.grid_y_show&&n.grid.append("g").attr("class",E.ygrids),r.grid_focus_show&&n.grid.append("g").attr("class",E.xgridFocus).append("line").attr("class",E.xgridFocus),n.xgrid=s.selectAll([]),r.grid_lines_front||n.initGridLines()},h.prototype.initGridLines=function(){var n=this,r=n.d3;n.gridLines=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",E.grid+" "+E.gridLines),n.gridLines.append("g").attr("class",E.xgridLines),n.gridLines.append("g").attr("class",E.ygridLines),n.xgridLines=r.selectAll([])},h.prototype.updateXGrid=function(n){var r=this,s=r.config,c=r.d3,p=r.generateGridData(s.grid_x_type,r.x),v=r.isCategorized()?r.xAxis.tickOffset():0;r.xgridAttr=s.axis_rotated?{x1:0,x2:r.width,y1:function(M){return r.x(M)-v},y2:function(M){return r.x(M)-v}}:{x1:function(M){return r.x(M)+v},x2:function(M){return r.x(M)+v},y1:0,y2:r.height},r.xgridAttr.opacity=function(){var M=+c.select(this).attr(s.axis_rotated?"y1":"x1");return M===(s.axis_rotated?r.height:0)?0:1};var w=r.main.select("."+E.xgrids).selectAll("."+E.xgrid).data(p),A=w.enter().append("line").attr("class",E.xgrid).attr("x1",r.xgridAttr.x1).attr("x2",r.xgridAttr.x2).attr("y1",r.xgridAttr.y1).attr("y2",r.xgridAttr.y2).style("opacity",0);r.xgrid=A.merge(w),n||r.xgrid.attr("x1",r.xgridAttr.x1).attr("x2",r.xgridAttr.x2).attr("y1",r.xgridAttr.y1).attr("y2",r.xgridAttr.y2).style("opacity",r.xgridAttr.opacity),w.exit().remove()},h.prototype.updateYGrid=function(){var n=this,r=n.config,s=n.yAxis.tickValues()||n.y.ticks(r.grid_y_ticks),c=n.main.select("."+E.ygrids).selectAll("."+E.ygrid).data(s),p=c.enter().append("line").attr("class",E.ygrid);n.ygrid=p.merge(c),n.ygrid.attr("x1",r.axis_rotated?n.y:0).attr("x2",r.axis_rotated?n.y:n.width).attr("y1",r.axis_rotated?0:n.y).attr("y2",r.axis_rotated?n.height:n.y),c.exit().remove(),n.smoothLines(n.ygrid,"grid")},h.prototype.gridTextAnchor=function(n){return n.position?n.position:"end"},h.prototype.gridTextDx=function(n){return n.position==="start"?4:n.position==="middle"?0:-4},h.prototype.xGridTextX=function(n){return n.position==="start"?-this.height:n.position==="middle"?-this.height/2:0},h.prototype.yGridTextX=function(n){return n.position==="start"?0:n.position==="middle"?this.width/2:this.width},h.prototype.updateGrid=function(n){var r=this,s=r.main,c=r.config,p,v,w,A,M=r.xv.bind(r),C=r.yv.bind(r),G=r.xGridTextX.bind(r),V=r.yGridTextX.bind(r);r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),s.select("line."+E.xgridFocus).style("visibility","hidden"),c.grid_x_show&&r.updateXGrid(),p=s.select("."+E.xgridLines).selectAll("."+E.xgridLine).data(c.grid_x_lines),v=p.enter().append("g").attr("class",function(H){return E.xgridLine+(H.class?" "+H.class:"")}),v.append("line").attr("x1",c.axis_rotated?0:M).attr("x2",c.axis_rotated?r.width:M).attr("y1",c.axis_rotated?M:0).attr("y2",c.axis_rotated?M:r.height).style("opacity",0),v.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",c.axis_rotated?"":"rotate(-90)").attr("x",c.axis_rotated?V:G).attr("y",M).attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines=v.merge(p),p.exit().transition().duration(n).style("opacity",0).remove(),c.grid_y_show&&r.updateYGrid(),w=s.select("."+E.ygridLines).selectAll("."+E.ygridLine).data(c.grid_y_lines),A=w.enter().append("g").attr("class",function(H){return E.ygridLine+(H.class?" "+H.class:"")}),A.append("line").attr("x1",c.axis_rotated?C:0).attr("x2",c.axis_rotated?C:r.width).attr("y1",c.axis_rotated?0:C).attr("y2",c.axis_rotated?r.height:C).style("opacity",0),A.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",c.axis_rotated?"rotate(-90)":"").attr("x",c.axis_rotated?G:V).attr("y",C).attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.ygridLines=A.merge(w),r.ygridLines.select("line").transition().duration(n).attr("x1",c.axis_rotated?C:0).attr("x2",c.axis_rotated?C:r.width).attr("y1",c.axis_rotated?0:C).attr("y2",c.axis_rotated?r.height:C).style("opacity",1),r.ygridLines.select("text").transition().duration(n).attr("x",c.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",C).text(function(H){return H.text}).style("opacity",1),w.exit().transition().duration(n).style("opacity",0).remove()},h.prototype.redrawGrid=function(n,r){var s=this,c=s.config,p=s.xv.bind(s),v=s.xgridLines.select("line"),w=s.xgridLines.select("text");return[(n?v.transition(r):v).attr("x1",c.axis_rotated?0:p).attr("x2",c.axis_rotated?s.width:p).attr("y1",c.axis_rotated?p:0).attr("y2",c.axis_rotated?p:s.height).style("opacity",1),(n?w.transition(r):w).attr("x",c.axis_rotated?s.yGridTextX.bind(s):s.xGridTextX.bind(s)).attr("y",p).text(function(A){return A.text}).style("opacity",1)]},h.prototype.showXGridFocus=function(n){var r=this,s=r.config,c=n.filter(function(w){return w&&Mt(w.value)}),p=r.main.selectAll("line."+E.xgridFocus),v=r.xx.bind(r);s.tooltip_show&&(r.hasType("stanford")||r.hasArcType()||(p.style("visibility","visible").data([c[0]]).attr(s.axis_rotated?"y1":"x1",v).attr(s.axis_rotated?"y2":"x2",v),r.smoothLines(p,"grid")))},h.prototype.hideXGridFocus=function(){this.main.select("line."+E.xgridFocus).style("visibility","hidden")},h.prototype.updateXgridFocus=function(){var n=this,r=n.config;n.main.select("line."+E.xgridFocus).attr("x1",r.axis_rotated?0:-10).attr("x2",r.axis_rotated?n.width:-10).attr("y1",r.axis_rotated?-10:0).attr("y2",r.axis_rotated?-10:n.height)},h.prototype.generateGridData=function(n,r){var s=this,c=[],p,v,w,A,M=s.main.select("."+E.axisX).selectAll(".tick").size();if(n==="year")for(p=s.getXDomain(),v=p[0].getFullYear(),w=p[1].getFullYear(),A=v;A<=w;A++)c.push(new Date(A+"-01-01 00:00:00"));else c=r.ticks(10),c.length>M&&(c=c.filter(function(C){return(""+C).indexOf(".")<0}));return c},h.prototype.getGridFilterToRemove=function(n){return n?function(r){var s=!1;return[].concat(n).forEach(function(c){("value"in c&&r.value===c.value||"class"in c&&r.class===c.class)&&(s=!0)}),s}:function(){return!0}},h.prototype.removeGridLines=function(n,r){var s=this,c=s.config,p=s.getGridFilterToRemove(n),v=function(M){return!p(M)},w=r?E.xgridLines:E.ygridLines,A=r?E.xgridLine:E.ygridLine;s.main.select("."+w).selectAll("."+A).filter(p).transition().duration(c.transition_duration).style("opacity",0).remove(),r?c.grid_x_lines=c.grid_x_lines.filter(v):c.grid_y_lines=c.grid_y_lines.filter(v)},h.prototype.initEventRect=function(){var n=this,r=n.config;n.main.select("."+E.chart).append("g").attr("class",E.eventRects).style("fill-opacity",0),n.eventRect=n.main.select("."+E.eventRects).append("rect").attr("class",E.eventRect),r.zoom_enabled&&n.zoom&&(n.eventRect.call(n.zoom).on("dblclick.zoom",null),r.zoom_initialRange&&n.eventRect.transition().duration(0).call(n.zoom.transform,n.zoomTransform(r.zoom_initialRange)))},h.prototype.redrawEventRect=function(){var n=this,r=n.d3,s=n.config;function c(){n.svg.select("."+E.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var p=function(w,A){return A&&(n.isBarType(A.id)||n.dist(A,w)<s.point_sensitivity)},v=function(w){return w?n.addName(Object.assign({},w)):null};n.main.select("."+E.eventRects).style("cursor",s.zoom_enabled?s.axis_rotated?"ns-resize":"ew-resize":null),n.eventRect.attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).on("mouseout",s.interaction_enabled?function(){s&&(n.hasArcType()||(n.mouseover&&(s.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),c()))}:null).on("mousemove",s.interaction_enabled?function(){if(!n.dragging){var w=n.getTargetsToShow();if(!n.hasArcType(w)){var A=r.mouse(this),M=v(n.findClosestFromTargets(w,A)),C=p(A,M);n.mouseover&&(!M||M.id!==n.mouseover.id||M.index!==n.mouseover.index)&&(s.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),M&&!n.mouseover&&(s.data_onmouseover.call(n.api,M),n.mouseover=M),n.svg.select("."+E.eventRect).style("cursor",C?"pointer":null);var G=!s.tooltip_grouped||n.hasType("stanford",w),V;if(G)M&&(V=[M]);else{var H=void 0;if(M)H=M;else{var N=s.axis_rotated?A[1]:A[0];H=n.findClosestFromTargetsByX(w,n.x.invert(N))}H&&(V=n.filterByX(w,H.x))}if(!V||V.length===0)return c();V=V.map(v),n.showTooltip(V,this),s.point_focus_expand_enabled&&(n.unexpandCircles(),V.forEach(function(Y){n.expandCircles(Y.index,Y.id,!1)})),n.unexpandBars(),V.forEach(function(Y){n.expandBars(Y.index,Y.id,!1)}),n.showXGridFocus(V)}}}:null).on("click",s.interaction_enabled?function(){var w=n.getTargetsToShow();if(!n.hasArcType(w)){var A=r.mouse(this),M=v(n.findClosestFromTargets(w,A));if(p(A,M)){var C;if(!s.data_selection_grouped||n.isStanfordType(M)?C=[M]:C=n.filterByX(w,M.x),C.forEach(function(V){n.main.selectAll("."+E.shapes+n.getTargetSelectorSuffix(V.id)).selectAll("."+E.shape+"-"+V.index).each(function(){(s.data_selection_grouped||n.isWithinShape(this,V))&&n.toggleShape(this,V,V.index)})}),M){var G=n.main.selectAll("."+E.shapes+n.getTargetSelectorSuffix(M.id)).select("."+E.shape+"-"+M.index);s.data_onclick.call(n.api,M,G.node())}}}}:null).call(s.interaction_enabled&&s.data_selection_draggable&&n.drag?r.drag().on("drag",function(){n.drag(r.mouse(this))}).on("start",function(){n.dragstart(r.mouse(this))}).on("end",function(){n.dragend()}):function(){})},h.prototype.getMousePosition=function(n){var r=this;return[r.x(n.x),r.getYScale(n.id)(n.value)]},h.prototype.dispatchEvent=function(n,r){var s=this,c="."+E.eventRect,p=s.main.select(c).node(),v=p.getBoundingClientRect(),w=v.left+(r?r[0]:0),A=v.top+(r?r[1]:0),M=document.createEvent("MouseEvents");M.initMouseEvent(n,!0,!0,window,0,w,A,w,A,!1,!1,!1,!1,0,null),p.dispatchEvent(M)},h.prototype.initLegend=function(){var n=this;if(n.legendItemTextBox={},n.legendHasRendered=!1,n.legend=n.svg.append("g").attr("transform",n.getTranslate("legend")),!n.config.legend_show){n.legend.style("visibility","hidden"),n.hiddenLegendIds=n.mapToIds(n.data.targets);return}n.updateLegendWithDefaults()},h.prototype.updateLegendWithDefaults=function(){var n=this;n.updateLegend(n.mapToIds(n.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},h.prototype.updateSizeForLegend=function(n,r){var s=this,c=s.config,p={top:s.isLegendTop?s.getCurrentPaddingTop()+c.legend_inset_y+5.5:s.currentHeight-n-s.getCurrentPaddingBottom()-c.legend_inset_y,left:s.isLegendLeft?s.getCurrentPaddingLeft()+c.legend_inset_x+.5:s.currentWidth-r-s.getCurrentPaddingRight()-c.legend_inset_x+.5};s.margin3={top:s.isLegendRight?0:s.isLegendInset?p.top:s.currentHeight-n,right:NaN,bottom:0,left:s.isLegendRight?s.currentWidth-r:s.isLegendInset?p.left:0}},h.prototype.transformLegend=function(n){var r=this;(n?r.legend.transition():r.legend).attr("transform",r.getTranslate("legend"))},h.prototype.updateLegendStep=function(n){this.legendStep=n},h.prototype.updateLegendItemWidth=function(n){this.legendItemWidth=n},h.prototype.updateLegendItemHeight=function(n){this.legendItemHeight=n},h.prototype.getLegendWidth=function(){var n=this;return n.config.legend_show?n.isLegendRight||n.isLegendInset?n.legendItemWidth*(n.legendStep+1):n.currentWidth:0},h.prototype.getLegendHeight=function(){var n=this,r=0;return n.config.legend_show&&(n.isLegendRight?r=n.currentHeight:r=Math.max(20,n.legendItemHeight)*(n.legendStep+1)),r},h.prototype.opacityForLegend=function(n){return n.classed(E.legendItemHidden)?null:1},h.prototype.opacityForUnfocusedLegend=function(n){return n.classed(E.legendItemHidden)?null:.3},h.prototype.toggleFocusLegend=function(n,r){var s=this;n=s.mapToTargetIds(n),s.legend.selectAll("."+E.legendItem).filter(function(c){return n.indexOf(c)>=0}).classed(E.legendItemFocused,r).transition().duration(100).style("opacity",function(){var c=r?s.opacityForLegend:s.opacityForUnfocusedLegend;return c.call(s,s.d3.select(this))})},h.prototype.revertLegend=function(){var n=this,r=n.d3;n.legend.selectAll("."+E.legendItem).classed(E.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return n.opacityForLegend(r.select(this))})},h.prototype.showLegend=function(n){var r=this,s=r.config;s.legend_show||(s.legend_show=!0,r.legend.style("visibility","visible"),r.legendHasRendered||r.updateLegendWithDefaults()),r.removeHiddenLegendIds(n),r.legend.selectAll(r.selectorLegends(n)).style("visibility","visible").transition().style("opacity",function(){return r.opacityForLegend(r.d3.select(this))})},h.prototype.hideLegend=function(n){var r=this,s=r.config;s.legend_show&&ji(n)&&(s.legend_show=!1,r.legend.style("visibility","hidden")),r.addHiddenLegendIds(n),r.legend.selectAll(r.selectorLegends(n)).style("opacity",0).style("visibility","hidden")},h.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},h.prototype.updateLegend=function(n,r,s){var c=this,p=c.config,v,w,A,M,C,G,V,H,N,Y=4,W=10,j=0,et=0,pt=10,Lt=p.legend_item_tile_width+5,At,Vt=0,Et={},lt={},wt={},bt=[0],vt={},ot=0,ct,Kt,Wt,Jt,Oe,re;n=n.filter(function(J){return!Zt(p.data_names[J])||p.data_names[J]!==null}),r=r||{},ct=Tt(r,"withTransition",!0),Kt=Tt(r,"withTransitionForTransform",!0);function se(J,gt){return c.legendItemTextBox[gt]||(c.legendItemTextBox[gt]=c.getTextRect(J.textContent,E.legendItem,J)),c.legendItemTextBox[gt]}function Gt(J,gt,Fe){var Wn=Fe===0,En=Fe===n.length-1,on=se(J,gt),ve=on.width+Lt+(En&&!(c.isLegendRight||c.isLegendInset)?0:W)+p.legend_padding,ke=on.height+Y,sn=c.isLegendRight||c.isLegendInset?ke:ve,qn=c.isLegendRight||c.isLegendInset?c.getLegendHeight():c.getLegendWidth(),kn,xi;function Ji(Qe,us){us||(kn=(qn-Vt-sn)/2,kn<pt&&(kn=(qn-sn)/2,Vt=0,ot++)),vt[Qe]=ot,bt[ot]=c.isLegendInset?10:kn,Et[Qe]=Vt,Vt+=sn}if(Wn&&(Vt=0,ot=0,j=0,et=0),p.legend_show&&!c.isLegendToShow(gt)){lt[gt]=wt[gt]=vt[gt]=Et[gt]=0;return}lt[gt]=ve,wt[gt]=ke,(!j||ve>=j)&&(j=ve),(!et||ke>=et)&&(et=ke),xi=c.isLegendRight||c.isLegendInset?et:j,p.legend_equally?(Object.keys(lt).forEach(function(Qe){lt[Qe]=j}),Object.keys(wt).forEach(function(Qe){wt[Qe]=et}),kn=(qn-xi*n.length)/2,kn<pt?(Vt=0,ot=0,n.forEach(function(Qe){Ji(Qe)})):Ji(gt,!0)):Ji(gt)}c.isLegendInset&&(ot=p.legend_inset_step?p.legend_inset_step:n.length,c.updateLegendStep(ot)),c.isLegendRight?(v=function(J){return j*vt[J]},M=function(J){return bt[vt[J]]+Et[J]}):c.isLegendInset?(v=function(J){return j*vt[J]+10},M=function(J){return bt[vt[J]]+Et[J]}):(v=function(J){return bt[vt[J]]+Et[J]},M=function(J){return et*vt[J]}),w=function(J,gt){return v(J,gt)+4+p.legend_item_tile_width},C=function(J,gt){return M(J,gt)+9},A=function(J,gt){return v(J,gt)},G=function(J,gt){return M(J,gt)-5},V=function(J,gt){return v(J,gt)-2},H=function(J,gt){return v(J,gt)-2+p.legend_item_tile_width},N=function(J,gt){return M(J,gt)+4},At=c.legend.selectAll("."+E.legendItem).data(n).enter().append("g").attr("class",function(J){return c.generateClass(E.legendItem,J)}).style("visibility",function(J){return c.isLegendToShow(J)?"visible":"hidden"}).style("cursor",function(){return p.interaction_enabled?"pointer":"auto"}).on("click",p.interaction_enabled?function(J){p.legend_item_onclick?p.legend_item_onclick.call(c,J):c.d3.event.altKey?(c.api.hide(),c.api.show(J)):(c.api.toggle(J),c.isTargetToShow(J)?c.api.focus(J):c.api.revert())}:null).on("mouseover",p.interaction_enabled?function(J){p.legend_item_onmouseover?p.legend_item_onmouseover.call(c,J):(c.d3.select(this).classed(E.legendItemFocused,!0),!c.transiting&&c.isTargetToShow(J)&&c.api.focus(J))}:null).on("mouseout",p.interaction_enabled?function(J){p.legend_item_onmouseout?p.legend_item_onmouseout.call(c,J):(c.d3.select(this).classed(E.legendItemFocused,!1),c.api.revert())}:null),At.append("text").text(function(J){return Zt(p.data_names[J])?p.data_names[J]:J}).each(function(J,gt){Gt(this,J,gt)}).style("pointer-events","none").attr("x",c.isLegendRight||c.isLegendInset?w:-200).attr("y",c.isLegendRight||c.isLegendInset?-200:C),At.append("rect").attr("class",E.legendItemEvent).style("fill-opacity",0).attr("x",c.isLegendRight||c.isLegendInset?A:-200).attr("y",c.isLegendRight||c.isLegendInset?-200:G),At.append("line").attr("class",E.legendItemTile).style("stroke",c.color).style("pointer-events","none").attr("x1",c.isLegendRight||c.isLegendInset?V:-200).attr("y1",c.isLegendRight||c.isLegendInset?-200:N).attr("x2",c.isLegendRight||c.isLegendInset?H:-200).attr("y2",c.isLegendRight||c.isLegendInset?-200:N).attr("stroke-width",p.legend_item_tile_height),re=c.legend.select("."+E.legendBackground+" rect"),c.isLegendInset&&j>0&&re.size()===0&&(re=c.legend.insert("g","."+E.legendItem).attr("class",E.legendBackground).append("rect")),Wt=c.legend.selectAll("text").data(n).text(function(J){return Zt(p.data_names[J])?p.data_names[J]:J}).each(function(J,gt){Gt(this,J,gt)}),(ct?Wt.transition():Wt).attr("x",w).attr("y",C),Jt=c.legend.selectAll("rect."+E.legendItemEvent).data(n),(ct?Jt.transition():Jt).attr("width",function(J){return lt[J]}).attr("height",function(J){return wt[J]}).attr("x",A).attr("y",G),Oe=c.legend.selectAll("line."+E.legendItemTile).data(n),(ct?Oe.transition():Oe).style("stroke",c.levelColor?function(J){return c.levelColor(c.cache[J].values.reduce(function(gt,Fe){return gt+Fe.value},0))}:c.color).attr("x1",V).attr("y1",N).attr("x2",H).attr("y2",N),re&&(ct?re.transition():re).attr("height",c.getLegendHeight()-12).attr("width",j*(ot+1)+10),c.legend.selectAll("."+E.legendItem).classed(E.legendItemHidden,function(J){return!c.isTargetToShow(J)}),c.updateLegendItemWidth(j),c.updateLegendItemHeight(et),c.updateLegendStep(ot),c.updateSizes(),c.updateScales(),c.updateSvgSize(),c.transformAll(Kt,s),c.legendHasRendered=!0},h.prototype.initRegion=function(){var n=this;n.region=n.main.append("g").attr("clip-path",n.clipPath).attr("class",E.regions)},h.prototype.updateRegion=function(n){var r=this,s=r.config;r.region.style("visibility",r.hasArcType()?"hidden":"visible");var c=r.main.select("."+E.regions).selectAll("."+E.region).data(s.regions),p=c.enter().append("g");p.append("rect").attr("x",r.regionX.bind(r)).attr("y",r.regionY.bind(r)).attr("width",r.regionWidth.bind(r)).attr("height",r.regionHeight.bind(r)).style("fill-opacity",function(v){return Mt(v.opacity)?v.opacity:.1}),p.append("text").text(r.labelRegion.bind(r)),r.mainRegion=p.merge(c).attr("class",r.classRegion.bind(r)),c.exit().transition().duration(n).style("opacity",0).remove()},h.prototype.redrawRegion=function(n,r){var s=this,c=s.mainRegion,p=s.mainRegion.selectAll("text");return[(n?c.transition(r):c).attr("x",s.regionX.bind(s)).attr("y",s.regionY.bind(s)).attr("width",s.regionWidth.bind(s)).attr("height",s.regionHeight.bind(s)).style("fill-opacity",function(v){return Mt(v.opacity)?v.opacity:.1}),(n?p.transition(r):p).attr("x",s.labelOffsetX.bind(s)).attr("y",s.labelOffsetY.bind(s)).attr("transform",s.labelTransform.bind(s)).attr("style","text-anchor: left;")]},h.prototype.regionX=function(n){var r=this,s=r.config,c,p=n.axis==="y"?r.y:r.y2;return n.axis==="y"||n.axis==="y2"?c=s.axis_rotated&&"start"in n?p(n.start):0:c=s.axis_rotated?0:"start"in n?r.x(r.isTimeSeries()?r.parseDate(n.start):n.start):0,c},h.prototype.regionY=function(n){var r=this,s=r.config,c,p=n.axis==="y"?r.y:r.y2;return n.axis==="y"||n.axis==="y2"?c=s.axis_rotated?0:"end"in n?p(n.end):0:c=s.axis_rotated&&"start"in n?r.x(r.isTimeSeries()?r.parseDate(n.start):n.start):0,c},h.prototype.regionWidth=function(n){var r=this,s=r.config,c=r.regionX(n),p,v=n.axis==="y"?r.y:r.y2;return n.axis==="y"||n.axis==="y2"?p=s.axis_rotated&&"end"in n?v(n.end):r.width:p=s.axis_rotated?r.width:"end"in n?r.x(r.isTimeSeries()?r.parseDate(n.end):n.end):r.width,p<c?0:p-c},h.prototype.regionHeight=function(n){var r=this,s=r.config,c=this.regionY(n),p,v=n.axis==="y"?r.y:r.y2;return n.axis==="y"||n.axis==="y2"?p=s.axis_rotated?r.height:"start"in n?v(n.start):r.height:p=s.axis_rotated&&"end"in n?r.x(r.isTimeSeries()?r.parseDate(n.end):n.end):r.height,p<c?0:p-c},h.prototype.isRegionOnX=function(n){return!n.axis||n.axis==="x"},h.prototype.labelRegion=function(n){return"label"in n?n.label:""},h.prototype.labelTransform=function(n){return"vertical"in n&&n.vertical?"rotate(90)":""},h.prototype.labelOffsetX=function(n){var r="paddingX"in n?n.paddingX:3,s="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?this.regionY(n)+s:this.regionX(n)+r},h.prototype.labelOffsetY=function(n){var r="paddingX"in n?n.paddingX:3,s="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?-(this.regionX(n)+r):this.regionY(n)+10+s};function vi(n,r,s){var c=[.01,10];r||(r=n.scaleLinear(),r.range(c)),s||(s=n.scaleLog(),s.domain(c),s.nice());function p(w,A,M){var C,G,V,H;if(arguments.length<3)M=10;else if(M===0)return[];G=M-1,H=(A-w)/G,C=new Array(M),V=w,C[0]=Math.pow(10,V);for(var N=1;N<G;N++)V+=H,C[N]=Math.pow(10,V);return C[G]=Math.pow(10,A),C}function v(w){return s(r(w))}return v.domain=function(w){return arguments.length?(r.domain(w),v):r.domain()},v.range=function(w){return arguments.length?(s.range(w),v):s.range()},v.ticks=function(w){return p(-2,1,w||10).map(function(A){return r.invert(A)})},v.copy=function(){return vi(n,r.copy(),s.copy())},v}h.prototype.getScale=function(n,r,s){return(s?this.d3.scaleTime():this.d3.scaleLinear()).range([n,r])},h.prototype.getX=function(n,r,s,c){var p=this,v=p.getScale(n,r,p.isTimeSeries()),w=s?v.domain(s):v,A;p.isCategorized()?(c=c||function(){return 0},v=function(M,C){var G=w(M)+c(M);return C?G:Math.ceil(G)}):v=function(M,C){var G=w(M);return C?G:Math.ceil(G)};for(A in w)v[A]=w[A];return v.orgDomain=function(){return w.domain()},p.isCategorized()&&(v.domain=function(M){return arguments.length?(w.domain(M),v):(M=this.orgDomain(),[M[0],M[1]+1])}),v},h.prototype.getY=function(n,r,s){var c;if(n==="timeseries"||n==="time")c=this.d3.scaleTime();else if(n==="log")c=vi(this.d3);else if(n==="linear"||n===void 0)c=this.d3.scaleLinear();else throw new Error('Invalid Y axis type: "'+n+'"');return r&&c.domain(r),s&&c.range(s),c},h.prototype.getYScale=function(n){return this.axis.getId(n)==="y2"?this.y2:this.y},h.prototype.getSubYScale=function(n){return this.axis.getId(n)==="y2"?this.subY2:this.subY},h.prototype.updateScales=function(){var n=this,r=n.config,s=!n.x;n.xMin=r.axis_rotated?1:0,n.xMax=r.axis_rotated?n.height:n.width,n.yMin=r.axis_rotated?0:n.height,n.yMax=r.axis_rotated?n.width:1,n.subXMin=n.xMin,n.subXMax=n.xMax,n.subYMin=r.axis_rotated?0:n.height2,n.subYMax=r.axis_rotated?n.width2:1,n.x=n.getX(n.xMin,n.xMax,s?void 0:n.x.orgDomain(),function(){return n.xAxis.tickOffset()}),n.y=n.getY(r.axis_y_type,s?r.axis_y_default:n.y.domain(),[n.yMin,n.yMax]),n.y2=n.getY(r.axis_y2_type,s?r.axis_y2_default:n.y2.domain(),[n.yMin,n.yMax]),n.subX=n.getX(n.xMin,n.xMax,n.orgXDomain,function(c){return c%1?0:n.subXAxis.tickOffset()}),n.subY=n.getY(r.axis_y_type,s?r.axis_y_default:n.subY.domain(),[n.subYMin,n.subYMax]),n.subY2=n.getY(r.axis_y2_type,s?r.axis_y2_default:n.subY2.domain(),[n.subYMin,n.subYMax]),n.xAxisTickFormat=n.axis.getXAxisTickFormat(),n.xAxisTickValues=n.axis.getXAxisTickValues(),n.yAxisTickValues=n.axis.getYAxisTickValues(),n.y2AxisTickValues=n.axis.getY2AxisTickValues(),n.xAxis=n.axis.getXAxis(n.x,n.xOrient,n.xAxisTickFormat,n.xAxisTickValues,r.axis_x_tick_outer),n.subXAxis=n.axis.getXAxis(n.subX,n.subXOrient,n.xAxisTickFormat,n.xAxisTickValues,r.axis_x_tick_outer),n.yAxis=n.axis.getYAxis("y",n.y,n.yOrient,n.yAxisTickValues,r.axis_y_tick_outer),n.y2Axis=n.axis.getYAxis("y2",n.y2,n.y2Orient,n.y2AxisTickValues,r.axis_y2_tick_outer),s||n.brush&&n.brush.updateScale(n.subX),n.updateArc&&n.updateArc()},h.prototype.selectPoint=function(n,r,s){var c=this,p=c.config,v=(p.axis_rotated?c.circleY:c.circleX).bind(c),w=(p.axis_rotated?c.circleX:c.circleY).bind(c),A=c.pointSelectR.bind(c);p.data_onselected.call(c.api,r,n.node()),c.main.select("."+E.selectedCircles+c.getTargetSelectorSuffix(r.id)).selectAll("."+E.selectedCircle+"-"+s).data([r]).enter().append("circle").attr("class",function(){return c.generateClass(E.selectedCircle,s)}).attr("cx",v).attr("cy",w).attr("stroke",function(){return c.color(r)}).attr("r",function(M){return c.pointSelectR(M)*1.4}).transition().duration(100).attr("r",A)},h.prototype.unselectPoint=function(n,r,s){var c=this;c.config.data_onunselected.call(c.api,r,n.node()),c.main.select("."+E.selectedCircles+c.getTargetSelectorSuffix(r.id)).selectAll("."+E.selectedCircle+"-"+s).transition().duration(100).attr("r",0).remove()},h.prototype.togglePoint=function(n,r,s,c){n?this.selectPoint(r,s,c):this.unselectPoint(r,s,c)},h.prototype.selectPath=function(n,r){var s=this;s.config.data_onselected.call(s,r,n.node()),s.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return s.d3.rgb(s.color(r)).brighter(.75)})},h.prototype.unselectPath=function(n,r){var s=this;s.config.data_onunselected.call(s,r,n.node()),s.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return s.color(r)})},h.prototype.togglePath=function(n,r,s,c){n?this.selectPath(r,s,c):this.unselectPath(r,s,c)},h.prototype.getToggle=function(n,r){var s=this,c;return n.nodeName==="circle"?s.isStepType(r)?c=function(){}:c=s.togglePoint:n.nodeName==="path"&&(c=s.togglePath),c},h.prototype.toggleShape=function(n,r,s){var c=this,p=c.d3,v=c.config,w=p.select(n),A=w.classed(E.SELECTED),M=c.getToggle(n,r).bind(c);v.data_selection_enabled&&v.data_selection_isselectable(r)&&(v.data_selection_multiple||c.main.selectAll("."+E.shapes+(v.data_selection_grouped?c.getTargetSelectorSuffix(r.id):"")).selectAll("."+E.shape).each(function(C,G){var V=p.select(this);V.classed(E.SELECTED)&&M(!1,V.classed(E.SELECTED,!1),C,G)}),w.classed(E.SELECTED,!A),M(!A,w,r,s))},h.prototype.initBar=function(){var n=this;n.main.select("."+E.chart).append("g").attr("class",E.chartBars)},h.prototype.updateTargetsForBar=function(n){var r=this,s=r.config,c,p,v=r.classChartBar.bind(r),w=r.classBars.bind(r),A=r.classFocus.bind(r);c=r.main.select("."+E.chartBars).selectAll("."+E.chartBar).data(n).attr("class",function(M){return v(M)+A(M)}),p=c.enter().append("g").attr("class",v).style("pointer-events","none"),p.append("g").attr("class",w).style("cursor",function(M){return s.data_selection_isselectable(M)?"pointer":null})},h.prototype.updateBar=function(n){var r=this,s=r.barData.bind(r),c=r.classBar.bind(r),p=r.initialOpacity.bind(r),v=function(M){return r.color(M.id)},w=r.main.selectAll("."+E.bars).selectAll("."+E.bar).data(s),A=w.enter().append("path").attr("class",c).style("stroke",v).style("fill",v);r.mainBar=A.merge(w).style("opacity",p),w.exit().transition().duration(n).style("opacity",0)},h.prototype.redrawBar=function(n,r,s){var c=this;return[(r?this.mainBar.transition(s):this.mainBar).attr("d",n).style("stroke",this.color).style("fill",this.color).style("opacity",function(p){return c.isTargetToShow(p.id)?1:0})]},h.prototype.getBarW=function(n,r){var s=this,c=s.config,p=typeof c.bar_width=="number"?c.bar_width:r?n.tickInterval()*c.bar_width_ratio/r:0;return c.bar_width_max&&p>c.bar_width_max?c.bar_width_max:p},h.prototype.getBars=function(n,r){var s=this;return(r?s.main.selectAll("."+E.bars+s.getTargetSelectorSuffix(r)):s.main).selectAll("."+E.bar+(Mt(n)?"-"+n:""))},h.prototype.expandBars=function(n,r,s){var c=this;s&&c.unexpandBars(),c.getBars(n,r).classed(E.EXPANDED,!0)},h.prototype.unexpandBars=function(n){var r=this;r.getBars(n).classed(E.EXPANDED,!1)},h.prototype.generateDrawBar=function(n,r){var s=this,c=s.config,p=s.generateGetBarPoints(n,r);return function(v,w){var A=p(v,w),M=c.axis_rotated?1:0,C=c.axis_rotated?0:1,G="M "+A[0][M]+","+A[0][C]+" L"+A[1][M]+","+A[1][C]+" L"+A[2][M]+","+A[2][C]+" L"+A[3][M]+","+A[3][C]+" z";return G}},h.prototype.generateGetBarPoints=function(n,r){var s=this,c=r?s.subXAxis:s.xAxis,p=n.__max__+1,v=s.getBarW(c,p),w=s.getShapeX(v,p,n,!!r),A=s.getShapeY(!!r),M=s.getShapeOffset(s.isBarType,n,!!r),C=v*(s.config.bar_space/2),G=r?s.getSubYScale:s.getYScale;return function(V,H){var N=G.call(s,V.id)(0),Y=M(V,H)||N,W=w(V),j=A(V);return s.config.axis_rotated&&(0<V.value&&j<N||V.value<0&&N<j)&&(j=N),j-=N-Y,[[W+C,Y],[W+C,j],[W+v-C,j],[W+v-C,Y]]}},h.prototype.isWithinBar=function(n,r){return rs(n,qe(r),2)},h.prototype.getShapeIndices=function(n){var r=this,s=r.config,c={},p=0,v,w;return r.filterTargetsToShow(r.data.targets.filter(n,r)).forEach(function(A){for(v=0;v<s.data_groups.length;v++)if(!(s.data_groups[v].indexOf(A.id)<0)){for(w=0;w<s.data_groups[v].length;w++)if(s.data_groups[v][w]in c){c[A.id]=c[s.data_groups[v][w]];break}}le(c[A.id])&&(c[A.id]=p++)}),c.__max__=p-1,c},h.prototype.getShapeX=function(n,r,s,c){var p=this,v=c?p.subX:p.x;return function(w){var A=w.id in s?s[w.id]:0;return w.x||w.x===0?v(w.x)-n*(r/2-A):0}},h.prototype.getShapeY=function(n){var r=this;return function(s){var c=n?r.getSubYScale(s.id):r.getYScale(s.id);return c(r.isTargetNormalized(s.id)?r.getRatio("index",s,!0):s.value)}},h.prototype.getShapeOffset=function(n,r,s){var c=this,p=c.orderTargets(c.filterTargetsToShow(c.data.targets.filter(n,c))),v=p.map(function(w){return w.id});return function(w,A){var M=s?c.getSubYScale(w.id):c.getYScale(w.id),C=M(0),G=C;return p.forEach(function(V){var H=c.isStepType(w)?c.convertValuesToStep(V.values):V.values,N=c.isTargetNormalized(w.id),Y=H.map(function(W){return N?c.getRatio("index",W,!0):W.value});V.id===w.id||r[V.id]!==r[w.id]||v.indexOf(V.id)<v.indexOf(w.id)&&((le(H[A])||+H[A].x!=+w.x)&&(A=-1,H.forEach(function(W,j){var et=W.x.constructor===Date?+W.x:W.x,pt=w.x.constructor===Date?+w.x:w.x;et===pt&&(A=j)})),A in H&&H[A].value*w.value>=0&&(G+=M(Y[A])-C))}),G}},h.prototype.isWithinShape=function(n,r){var s=this,c=s.d3.select(n),p;return s.isTargetToShow(r.id)?n.nodeName==="circle"?p=s.isStepType(r)?s.isWithinStep(n,s.getYScale(r.id)(r.value)):s.isWithinCircle(n,s.pointSelectR(r)*1.5):n.nodeName==="path"&&(p=c.classed(E.bar)?s.isWithinBar(s.d3.mouse(n),n):!0):p=!1,p},h.prototype.getInterpolate=function(n){var r=this,s=r.d3,c={linear:s.curveLinear,"linear-closed":s.curveLinearClosed,basis:s.curveBasis,"basis-open":s.curveBasisOpen,"basis-closed":s.curveBasisClosed,bundle:s.curveBundle,cardinal:s.curveCardinal,"cardinal-open":s.curveCardinalOpen,"cardinal-closed":s.curveCardinalClosed,monotone:s.curveMonotoneX,step:s.curveStep,"step-before":s.curveStepBefore,"step-after":s.curveStepAfter},p;return r.isSplineType(n)?p=c[r.config.spline_interpolation_type]||c.cardinal:r.isStepType(n)?p=c[r.config.line_step_type]:p=c.linear,p},h.prototype.initLine=function(){var n=this;n.main.select("."+E.chart).append("g").attr("class",E.chartLines)},h.prototype.updateTargetsForLine=function(n){var r=this,s=r.config,c,p,v=r.classChartLine.bind(r),w=r.classLines.bind(r),A=r.classAreas.bind(r),M=r.classCircles.bind(r),C=r.classFocus.bind(r);c=r.main.select("."+E.chartLines).selectAll("."+E.chartLine).data(n).attr("class",function(G){return v(G)+C(G)}),p=c.enter().append("g").attr("class",v).style("opacity",0).style("pointer-events","none"),p.append("g").attr("class",w),p.append("g").attr("class",A),p.append("g").attr("class",function(G){return r.generateClass(E.selectedCircles,G.id)}),p.append("g").attr("class",M).style("cursor",function(G){return s.data_selection_isselectable(G)?"pointer":null}),n.forEach(function(G){r.main.selectAll("."+E.selectedCircles+r.getTargetSelectorSuffix(G.id)).selectAll("."+E.selectedCircle).each(function(V){V.value=G.values[V.index].value})})},h.prototype.updateLine=function(n){var r=this,s=r.main.selectAll("."+E.lines).selectAll("."+E.line).data(r.lineData.bind(r)),c=s.enter().append("path").attr("class",r.classLine.bind(r)).style("stroke",r.color);r.mainLine=c.merge(s).style("opacity",r.initialOpacity.bind(r)).style("shape-rendering",function(p){return r.isStepType(p)?"crispEdges":""}).attr("transform",null),s.exit().transition().duration(n).style("opacity",0)},h.prototype.redrawLine=function(n,r,s){return[(r?this.mainLine.transition(s):this.mainLine).attr("d",n).style("stroke",this.color).style("opacity",1)]},h.prototype.generateDrawLine=function(n,r){var s=this,c=s.config,p=s.d3.line(),v=s.generateGetLinePoints(n,r),w=r?s.getSubYScale:s.getYScale,A=function(C){return(r?s.subxx:s.xx).call(s,C)},M=function(C,G){return c.data_groups.length>0?v(C,G)[0][1]:w.call(s,C.id)(C.value)};return p=c.axis_rotated?p.x(M).y(A):p.x(A).y(M),c.line_connectNull||(p=p.defined(function(C){return C.value!=null})),function(C){var G=c.line_connectNull?s.filterRemoveNull(C.values):C.values,V=r?s.subX:s.x,H=w.call(s,C.id),N=0,Y=0,W;return s.isLineType(C)?c.data_regions[C.id]?W=s.lineWithRegions(G,V,H,c.data_regions[C.id]):(s.isStepType(C)&&(G=s.convertValuesToStep(G)),W=p.curve(s.getInterpolate(C))(G)):(G[0]&&(N=V(G[0].x),Y=H(G[0].value)),W=c.axis_rotated?"M "+Y+" "+N:"M "+N+" "+Y),W||"M 0 0"}},h.prototype.generateGetLinePoints=function(n,r){var s=this,c=s.config,p=n.__max__+1,v=s.getShapeX(0,p,n,!!r),w=s.getShapeY(!!r),A=s.getShapeOffset(s.isLineType,n,!!r),M=r?s.getSubYScale:s.getYScale;return function(C,G){var V=M.call(s,C.id)(0),H=A(C,G)||V,N=v(C),Y=w(C);return c.axis_rotated&&(0<C.value&&Y<V||C.value<0&&V<Y)&&(Y=V),[[N,Y-(V-H)],[N,Y-(V-H)],[N,Y-(V-H)],[N,Y-(V-H)]]}},h.prototype.lineWithRegions=function(n,r,s,c){var p=this,v=p.config,w,A,M="M",C,G,V,H,N,Y,W,j,et=p.isCategorized()?.5:0,pt,Lt,At=[];function Vt(lt,wt){var bt;for(bt=0;bt<wt.length;bt++)if(wt[bt].start<lt&&lt<=wt[bt].end)return!0;return!1}if(Zt(c))for(w=0;w<c.length;w++)At[w]={},le(c[w].start)?At[w].start=n[0].x:At[w].start=p.isTimeSeries()?p.parseDate(c[w].start):c[w].start,le(c[w].end)?At[w].end=n[n.length-1].x:At[w].end=p.isTimeSeries()?p.parseDate(c[w].end):c[w].end;pt=v.axis_rotated?function(lt){return s(lt.value)}:function(lt){return r(lt.x)},Lt=v.axis_rotated?function(lt){return r(lt.x)}:function(lt){return s(lt.value)};function Et(lt){return"M"+lt[0][0]+" "+lt[0][1]+" "+lt[1][0]+" "+lt[1][1]}for(p.isTimeSeries()?C=function(lt,wt,bt,vt){var ot=lt.x.getTime(),ct=wt.x-lt.x,Kt=new Date(ot+ct*bt),Wt=new Date(ot+ct*(bt+vt)),Jt;return v.axis_rotated?Jt=[[s(V(bt)),r(Kt)],[s(V(bt+vt)),r(Wt)]]:Jt=[[r(Kt),s(V(bt))],[r(Wt),s(V(bt+vt))]],Et(Jt)}:C=function(lt,wt,bt,vt){var ot;return v.axis_rotated?ot=[[s(V(bt),!0),r(G(bt))],[s(V(bt+vt),!0),r(G(bt+vt))]]:ot=[[r(G(bt),!0),s(V(bt))],[r(G(bt+vt),!0),s(V(bt+vt))]],Et(ot)},w=0;w<n.length;w++){if(le(At)||!Vt(n[w].x,At))M+=" "+pt(n[w])+" "+Lt(n[w]);else for(G=p.getScale(n[w-1].x+et,n[w].x+et,p.isTimeSeries()),V=p.getScale(n[w-1].value,n[w].value),H=r(n[w].x)-r(n[w-1].x),N=s(n[w].value)-s(n[w-1].value),Y=Math.sqrt(Math.pow(H,2)+Math.pow(N,2)),W=2/Y,j=W*2,A=W;A<=1;A+=j)M+=C(n[w-1],n[w],A,W);n[w].x}return M},h.prototype.updateArea=function(n){var r=this,s=r.d3,c=r.main.selectAll("."+E.areas).selectAll("."+E.area).data(r.lineData.bind(r)),p=c.enter().append("path").attr("class",r.classArea.bind(r)).style("fill",r.color).style("opacity",function(){return r.orgAreaOpacity=+s.select(this).style("opacity"),0});r.mainArea=p.merge(c).style("opacity",r.orgAreaOpacity),c.exit().transition().duration(n).style("opacity",0)},h.prototype.redrawArea=function(n,r,s){return[(r?this.mainArea.transition(s):this.mainArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},h.prototype.generateDrawArea=function(n,r){var s=this,c=s.config,p=s.d3.area(),v=s.generateGetAreaPoints(n,r),w=r?s.getSubYScale:s.getYScale,A=function(G){return(r?s.subxx:s.xx).call(s,G)},M=function(G,V){return c.data_groups.length>0?v(G,V)[0][1]:w.call(s,G.id)(s.getAreaBaseValue(G.id))},C=function(G,V){return c.data_groups.length>0?v(G,V)[1][1]:w.call(s,G.id)(G.value)};return p=c.axis_rotated?p.x0(M).x1(C).y(A):p.x(A).y0(c.area_above?0:M).y1(C),c.line_connectNull||(p=p.defined(function(G){return G.value!==null})),function(G){var V=c.line_connectNull?s.filterRemoveNull(G.values):G.values,H=0,N=0,Y;return s.isAreaType(G)?(s.isStepType(G)&&(V=s.convertValuesToStep(V)),Y=p.curve(s.getInterpolate(G))(V)):(V[0]&&(H=s.x(V[0].x),N=s.getYScale(G.id)(V[0].value)),Y=c.axis_rotated?"M "+N+" "+H:"M "+H+" "+N),Y||"M 0 0"}},h.prototype.getAreaBaseValue=function(){return 0},h.prototype.generateGetAreaPoints=function(n,r){var s=this,c=s.config,p=n.__max__+1,v=s.getShapeX(0,p,n,!!r),w=s.getShapeY(!!r),A=s.getShapeOffset(s.isAreaType,n,!!r),M=r?s.getSubYScale:s.getYScale;return function(C,G){var V=M.call(s,C.id)(0),H=A(C,G)||V,N=v(C),Y=w(C);return c.axis_rotated&&(0<C.value&&Y<V||C.value<0&&V<Y)&&(Y=V),[[N,H],[N,Y-(V-H)],[N,Y-(V-H)],[N,H]]}},h.prototype.updateCircle=function(n,r){var s=this,c=s.main.selectAll("."+E.circles).selectAll("."+E.circle).data(s.lineOrScatterOrStanfordData.bind(s)),p=c.enter().append("circle").attr("shape-rendering",s.isStanfordGraphType()?"crispEdges":"").attr("class",s.classCircle.bind(s)).attr("cx",n).attr("cy",r).attr("r",s.pointR.bind(s)).style("color",s.isStanfordGraphType()?s.getStanfordPointColor.bind(s):s.color);s.mainCircle=p.merge(c).style("opacity",s.isStanfordGraphType()?1:s.initialOpacityForCircle.bind(s)),c.exit().style("opacity",0)},h.prototype.redrawCircle=function(n,r,s,c){var p=this,v=p.main.selectAll("."+E.selectedCircle);return[(s?p.mainCircle.transition(c):p.mainCircle).style("opacity",this.opacityForCircle.bind(p)).style("color",p.isStanfordGraphType()?p.getStanfordPointColor.bind(p):p.color).attr("cx",n).attr("cy",r),(s?v.transition(c):v).attr("cx",n).attr("cy",r)]},h.prototype.circleX=function(n){return n.x||n.x===0?this.x(n.x):null},h.prototype.updateCircleY=function(){var n=this,r,s;n.config.data_groups.length>0?(r=n.getShapeIndices(n.isLineType),s=n.generateGetLinePoints(r),n.circleY=function(c,p){return s(c,p)[0][1]}):n.circleY=function(c){return n.getYScale(c.id)(c.value)}},h.prototype.getCircles=function(n,r){var s=this;return(r?s.main.selectAll("."+E.circles+s.getTargetSelectorSuffix(r)):s.main).selectAll("."+E.circle+(Mt(n)?"-"+n:""))},h.prototype.expandCircles=function(n,r,s){var c=this,p=c.pointExpandedR.bind(c);s&&c.unexpandCircles(),c.getCircles(n,r).classed(E.EXPANDED,!0).attr("r",p)},h.prototype.unexpandCircles=function(n){var r=this,s=r.pointR.bind(r);r.getCircles(n).filter(function(){return r.d3.select(this).classed(E.EXPANDED)}).classed(E.EXPANDED,!1).attr("r",s)},h.prototype.pointR=function(n){var r=this,s=r.config;return r.isStepType(n)?0:Yt(s.point_r)?s.point_r(n):s.point_r},h.prototype.pointExpandedR=function(n){var r=this,s=r.config;return s.point_focus_expand_enabled?Yt(s.point_focus_expand_r)?s.point_focus_expand_r(n):s.point_focus_expand_r?s.point_focus_expand_r:r.pointR(n)*1.75:r.pointR(n)},h.prototype.pointSelectR=function(n){var r=this,s=r.config;return Yt(s.point_select_r)?s.point_select_r(n):s.point_select_r?s.point_select_r:r.pointR(n)*4},h.prototype.isWithinCircle=function(n,r){var s=this.d3,c=s.mouse(n),p=s.select(n),v=+p.attr("cx"),w=+p.attr("cy");return Math.sqrt(Math.pow(v-c[0],2)+Math.pow(w-c[1],2))<r},h.prototype.isWithinStep=function(n,r){return Math.abs(r-this.d3.mouse(n)[1])<30},h.prototype.getCurrentWidth=function(){var n=this,r=n.config;return r.size_width?r.size_width:n.getParentWidth()},h.prototype.getCurrentHeight=function(){var n=this,r=n.config,s=r.size_height?r.size_height:n.getParentHeight();return s>0?s:320/(n.hasType("gauge")&&!r.gauge_fullCircle?2:1)},h.prototype.getCurrentPaddingTop=function(){var n=this,r=n.config,s=Mt(r.padding_top)?r.padding_top:0;return n.title&&n.title.node()&&(s+=n.getTitlePadding()),s},h.prototype.getCurrentPaddingBottom=function(){var n=this.config;return Mt(n.padding_bottom)?n.padding_bottom:0},h.prototype.getCurrentPaddingLeft=function(n){var r=this,s=r.config;return Mt(s.padding_left)?s.padding_left:s.axis_rotated?!s.axis_x_show||s.axis_x_inner?1:Math.max(an(r.getAxisWidthByAxisId("x",n)),40):!s.axis_y_show||s.axis_y_inner?r.axis.getYAxisLabelPosition().isOuter?30:1:an(r.getAxisWidthByAxisId("y",n))},h.prototype.getCurrentPaddingRight=function(){var n=this,r=n.config,s=0,c=10,p=n.isLegendRight?n.getLegendWidth()+20:0;return Mt(r.padding_right)?s=r.padding_right+1:r.axis_rotated?s=c+p:!r.axis_y2_show||r.axis_y2_inner?s=2+p+(n.axis.getY2AxisLabelPosition().isOuter?20:0):s=an(n.getAxisWidthByAxisId("y2"))+p,n.colorScale&&n.colorScale.node()&&(s+=n.getColorScalePadding()),s},h.prototype.getParentRectValue=function(n){for(var r=this.selectChart.node(),s;r&&r.tagName!=="BODY";){try{s=r.getBoundingClientRect()[n]}catch{n==="width"&&(s=r.offsetWidth)}if(s)break;r=r.parentNode}return s},h.prototype.getParentWidth=function(){return this.getParentRectValue("width")},h.prototype.getParentHeight=function(){var n=this.selectChart.style("height");return n.indexOf("px")>0?+n.replace("px",""):0},h.prototype.getSvgLeft=function(n){var r=this,s=r.config,c=s.axis_rotated||!s.axis_rotated&&!s.axis_y_inner,p=s.axis_rotated?E.axisX:E.axisY,v=r.main.select("."+p).node(),w=v&&c?v.getBoundingClientRect():{right:0},A=r.selectChart.node().getBoundingClientRect(),M=r.hasArcType(),C=w.right-A.left-(M?0:r.getCurrentPaddingLeft(n));return C>0?C:0},h.prototype.getAxisWidthByAxisId=function(n,r){var s=this,c=s.axis.getLabelPositionById(n);return s.axis.getMaxTickWidth(n,r)+(c.isInner?20:40)},h.prototype.getHorizontalAxisHeight=function(n,r){var s=this,c=s.config,p=30;return n==="x"&&!(Zt(r)&&r?c.subchart_axis_x_show:c.axis_x_show)?8:n==="x"&&c.axis_x_height?c.axis_x_height:n==="y"&&!c.axis_y_show?c.legend_show&&!s.isLegendRight&&!s.isLegendInset?10:1:n==="y2"&&!c.axis_y2_show?s.rotated_padding_top:(n==="x"&&!c.axis_rotated&&c.axis_x_tick_rotate&&(p=30+s.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(c.axis_x_tick_rotate))/180)),n==="y"&&c.axis_rotated&&c.axis_y_tick_rotate&&(p=30+s.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(c.axis_y_tick_rotate))/180)),p+(s.axis.getLabelPositionById(n).isInner?0:10)+(n==="y2"?-10:0))},h.prototype.initBrush=function(n){var r=this,s=r.d3;return r.brush=(r.config.axis_rotated?s.brushY():s.brushX()).on("brush",function(){var c=s.event.sourceEvent;c&&c.type==="zoom"||r.redrawForBrush()}).on("end",function(){var c=s.event.sourceEvent;c&&c.type==="zoom"||r.brush.empty()&&c&&c.type!=="end"&&r.brush.clear()}),r.brush.updateExtent=function(){var c=this.scale.range(),p;return r.config.axis_rotated?p=[[0,c[0]],[r.width2,c[1]]]:p=[[c[0],0],[c[1],r.height2]],this.extent(p),this},r.brush.updateScale=function(c){return this.scale=c,this},r.brush.update=function(c){this.updateScale(c||r.subX).updateExtent(),r.context.select("."+E.brush).call(this)},r.brush.clear=function(){r.context.select("."+E.brush).call(r.brush.move,null)},r.brush.selection=function(){return s.brushSelection(r.context.select("."+E.brush).node())},r.brush.selectionAsValue=function(c,p){var v,w;return c?(r.context&&(v=[this.scale(c[0]),this.scale(c[1])],w=r.context.select("."+E.brush),p&&(w=w.transition()),r.brush.move(w,v)),[]):(v=r.brush.selection()||[0,0],[this.scale.invert(v[0]),this.scale.invert(v[1])])},r.brush.empty=function(){var c=r.brush.selection();return!c||c[0]===c[1]},r.brush.updateScale(n)},h.prototype.initSubchart=function(){var n=this,r=n.config,s=n.context=n.svg.append("g").attr("transform",n.getTranslate("context"));s.style("visibility","visible"),s.append("g").attr("clip-path",n.clipPathForSubchart).attr("class",E.chart),s.select("."+E.chart).append("g").attr("class",E.chartBars),s.select("."+E.chart).append("g").attr("class",E.chartLines),s.append("g").attr("clip-path",n.clipPath).attr("class",E.brush),n.axes.subx=s.append("g").attr("class",E.axisX).attr("transform",n.getTranslate("subx")).attr("clip-path",r.axis_rotated?"":n.clipPathForXAxis).style("visibility",r.subchart_axis_x_show?"visible":"hidden")},h.prototype.initSubchartBrush=function(){var n=this;n.initBrush(n.subX).updateExtent(),n.context.select("."+E.brush).call(n.brush)},h.prototype.updateTargetsForSubchart=function(n){var r=this,s=r.context,c=r.config,p,v,w,A,M=r.classChartBar.bind(r),C=r.classBars.bind(r),G=r.classChartLine.bind(r),V=r.classLines.bind(r),H=r.classAreas.bind(r);A=s.select("."+E.chartBars).selectAll("."+E.chartBar).data(n),w=A.enter().append("g").style("opacity",0),w.merge(A).attr("class",M),w.append("g").attr("class",C),v=s.select("."+E.chartLines).selectAll("."+E.chartLine).data(n),p=v.enter().append("g").style("opacity",0),p.merge(v).attr("class",G),p.append("g").attr("class",V),p.append("g").attr("class",H),s.selectAll("."+E.brush+" rect").attr(c.axis_rotated?"width":"height",c.axis_rotated?r.width2:r.height2)},h.prototype.updateBarForSubchart=function(n){var r=this,s=r.context.selectAll("."+E.bars).selectAll("."+E.bar).data(r.barData.bind(r)),c=s.enter().append("path").attr("class",r.classBar.bind(r)).style("stroke","none").style("fill",r.color);s.exit().transition().duration(n).style("opacity",0).remove(),r.contextBar=c.merge(s).style("opacity",r.initialOpacity.bind(r))},h.prototype.redrawBarForSubchart=function(n,r,s){(r?this.contextBar.transition(Math.random().toString()).duration(s):this.contextBar).attr("d",n).style("opacity",1)},h.prototype.updateLineForSubchart=function(n){var r=this,s=r.context.selectAll("."+E.lines).selectAll("."+E.line).data(r.lineData.bind(r)),c=s.enter().append("path").attr("class",r.classLine.bind(r)).style("stroke",r.color);s.exit().transition().duration(n).style("opacity",0).remove(),r.contextLine=c.merge(s).style("opacity",r.initialOpacity.bind(r))},h.prototype.redrawLineForSubchart=function(n,r,s){(r?this.contextLine.transition(Math.random().toString()).duration(s):this.contextLine).attr("d",n).style("opacity",1)},h.prototype.updateAreaForSubchart=function(n){var r=this,s=r.d3,c=r.context.selectAll("."+E.areas).selectAll("."+E.area).data(r.lineData.bind(r)),p=c.enter().append("path").attr("class",r.classArea.bind(r)).style("fill",r.color).style("opacity",function(){return r.orgAreaOpacity=+s.select(this).style("opacity"),0});c.exit().transition().duration(n).style("opacity",0).remove(),r.contextArea=p.merge(c).style("opacity",0)},h.prototype.redrawAreaForSubchart=function(n,r,s){(r?this.contextArea.transition(Math.random().toString()).duration(s):this.contextArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)},h.prototype.redrawSubchart=function(n,r,s,c,p,v,w){var A=this,M=A.d3,C,G,V;M.event&&M.event.type==="zoom"&&A.brush.selectionAsValue(A.x.orgDomain()),n&&(A.brush.empty()||A.brush.selectionAsValue(A.x.orgDomain()),C=A.generateDrawArea(p,!0),G=A.generateDrawBar(v,!0),V=A.generateDrawLine(w,!0),A.updateBarForSubchart(s),A.updateLineForSubchart(s),A.updateAreaForSubchart(s),A.redrawBarForSubchart(G,s,s),A.redrawLineForSubchart(V,s,s),A.redrawAreaForSubchart(C,s,s))},h.prototype.redrawForBrush=function(){var n=this,r=n.x,s=n.d3,c;n.redraw({withTransition:!1,withY:n.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),c=s.event.selection||n.brush.scale.range(),n.main.select("."+E.eventRect).call(n.zoom.transform,s.zoomIdentity.scale(n.width/(c[1]-c[0])).translate(-c[0],0)),n.config.subchart_onbrush.call(n.api,r.orgDomain())},h.prototype.transformContext=function(n,r){var s=this,c;r&&r.axisSubX?c=r.axisSubX:(c=s.context.select("."+E.axisX),n&&(c=c.transition())),s.context.attr("transform",s.getTranslate("context")),c.attr("transform",s.getTranslate("subx"))},h.prototype.getDefaultSelection=function(){var n=this,r=n.config,s=Yt(r.axis_x_selection)?r.axis_x_selection(n.getXDomain(n.data.targets)):r.axis_x_selection;return n.isTimeSeries()&&(s=[n.parseDate(s[0]),n.parseDate(s[1])]),s},h.prototype.removeSubchart=function(){var n=this;n.brush=null,n.context.remove(),n.context=null},h.prototype.initText=function(){var n=this;n.main.select("."+E.chart).append("g").attr("class",E.chartTexts),n.mainText=n.d3.selectAll([])},h.prototype.updateTargetsForText=function(n){var r=this,s=r.classChartText.bind(r),c=r.classTexts.bind(r),p=r.classFocus.bind(r),v=r.main.select("."+E.chartTexts).selectAll("."+E.chartText).data(n),w=v.enter().append("g").attr("class",s).style("opacity",0).style("pointer-events","none");w.append("g").attr("class",c),w.merge(v).attr("class",function(A){return s(A)+p(A)})},h.prototype.updateText=function(n,r,s){var c=this,p=c.config,v=c.barOrLineData.bind(c),w=c.classText.bind(c),A=c.main.selectAll("."+E.texts).selectAll("."+E.text).data(v),M=A.enter().append("text").attr("class",w).attr("text-anchor",function(C){return p.axis_rotated?C.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",n).attr("y",r).style("fill",function(C){return c.color(C)}).style("fill-opacity",0);c.mainText=M.merge(A).text(function(C,G,V){return c.dataLabelFormat(C.id)(C.value,C.id,G,V)}),A.exit().transition().duration(s).style("fill-opacity",0).remove()},h.prototype.redrawText=function(n,r,s,c,p){return[(c?this.mainText.transition(p):this.mainText).attr("x",n).attr("y",r).style("fill",this.color).style("fill-opacity",s?0:this.opacityForText.bind(this))]},h.prototype.getTextRect=function(n,r,s){var c=this.d3.select("body").append("div").classed("c3",!0),p=c.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),v=this.d3.select(s).style("font"),w;return p.selectAll(".dummy").data([n]).enter().append("text").classed(r||"",!0).style("font",v).text(n).each(function(){w=qe(this)}),c.remove(),w},h.prototype.generateXYForText=function(n,r,s,c){var p=this,v=p.generateGetAreaPoints(n,!1),w=p.generateGetBarPoints(r,!1),A=p.generateGetLinePoints(s,!1),M=c?p.getXForText:p.getYForText;return function(C,G){var V=p.isAreaType(C)?v:p.isBarType(C)?w:A;return M.call(p,V(C,G),C,this)}},h.prototype.getXForText=function(n,r,s){var c=this,p=qe(s),v,w;return c.config.axis_rotated?(w=c.isBarType(r)?4:6,v=n[2][1]+w*(r.value<0?-1:1)):v=c.hasType("bar")?(n[2][0]+n[0][0])/2:n[0][0],r.value===null&&(v>c.width?v=c.width-p.width:v<0&&(v=4)),v},h.prototype.getYForText=function(n,r,s){var c=this,p=qe(s),v;return c.config.axis_rotated?v=(n[0][0]+n[2][0]+p.height*.6)/2:(v=n[2][1],r.value<0||r.value===0&&!c.hasPositiveValue?(v+=p.height,c.isBarType(r)&&c.isSafari()?v-=3:!c.isBarType(r)&&c.isChrome()&&(v+=3)):v+=c.isBarType(r)?-3:-6),r.value===null&&!c.config.axis_rotated&&(v<p.height?v=p.height:v>this.height&&(v=this.height-4)),v},h.prototype.initTitle=function(){var n=this;n.title=n.svg.append("text").text(n.config.title_text).attr("class",n.CLASS.title)},h.prototype.redrawTitle=function(){var n=this;n.title.attr("x",n.xForTitle.bind(n)).attr("y",n.yForTitle.bind(n))},h.prototype.xForTitle=function(){var n=this,r=n.config,s=r.title_position||"left",c;return s.indexOf("right")>=0?c=n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width-r.title_padding.right:s.indexOf("center")>=0?c=Math.max((n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width)/2,0):c=r.title_padding.left,c},h.prototype.yForTitle=function(){var n=this;return n.config.title_padding.top+n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).height},h.prototype.getTitlePadding=function(){var n=this;return n.yForTitle()+n.config.title_padding.bottom};function as(n){return n/Math.pow(10,Math.ceil(Math.log(n)/Math.LN10-1e-12))===1}h.prototype.drawColorScale=function(){var n=this,r=n.d3,s=n.config,c=n.data.targets[0],p,v,w,A,M,C,G,V;if(p=isNaN(s.stanford_scaleWidth)?20:s.stanford_scaleWidth,v=5,v<0||p<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");V=n.height-s.stanford_padding.bottom-s.stanford_padding.top,A=r.range(s.stanford_padding.bottom,V,v),G=r.scaleSequential(c.colors).domain([A[A.length-1],A[0]]),n.colorScale&&n.colorScale.remove(),n.colorScale=n.svg.append("g").attr("width",50).attr("height",V).attr("class",E.colorScale),n.colorScale.append("g").attr("transform","translate(0, "+s.stanford_padding.top+")").selectAll("bars").data(A).enter().append("rect").attr("y",function(H,N){return N*v}).attr("x",0).attr("width",p).attr("height",v).attr("fill",function(H){return G(H)}),C=r.scaleLog().domain([c.minEpochs,c.maxEpochs]).range([A[0]+s.stanford_padding.top+A[A.length-1]+v-1,A[0]+s.stanford_padding.top]),M=r.axisRight(C),s.stanford_scaleFormat==="pow10"?M.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):Yt(s.stanford_scaleFormat)?M.tickFormat(s.stanford_scaleFormat):M.tickFormat(r.format("d")),Yt(s.stanford_scaleValues)&&M.tickValues(s.stanford_scaleValues(c.minEpochs,c.maxEpochs)),w=n.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+p+",0)").call(M),s.stanford_scaleFormat==="pow10"&&w.selectAll(".tick text").text(null).filter(as).text(10).append("tspan").attr("dy","-.7em").text(function(H){return Math.round(Math.log(H)/Math.LN10)}),n.colorScale.attr("transform","translate("+(n.currentWidth-n.xForColorScale())+", 0)")},h.prototype.xForColorScale=function(){var n=this;return n.config.stanford_padding.right+qe(n.colorScale.node()).width},h.prototype.getColorScalePadding=function(){var n=this;return n.xForColorScale()+n.config.stanford_padding.left+20},h.prototype.isStanfordGraphType=function(){var n=this;return n.config.data_type==="stanford"},h.prototype.initStanfordData=function(){var n=this,r=n.d3,s=n.config,c=n.data.targets[0],p,v,w;if(c.values.sort(ss),p=c.values.map(function(A){return A.epochs}),w=isNaN(s.stanford_scaleMin)?r.min(p):s.stanford_scaleMin,v=isNaN(s.stanford_scaleMax)?r.max(p):s.stanford_scaleMax,w>v)throw Error("Number of minEpochs has to be smaller than maxEpochs");c.colors=Yt(s.stanford_colors)?s.stanford_colors:r.interpolateHslLong(r.hsl(250,1,.5),r.hsl(0,1,.5)),c.colorscale=r.scaleSequentialLog(c.colors).domain([w,v]),c.minEpochs=w,c.maxEpochs=v},h.prototype.getStanfordPointColor=function(n){var r=this,s=r.data.targets[0];return s.colorscale(n.epochs)},h.prototype.getCentroid=function(n){var r=Un(n),s=0,c=0,p,v,w,A,M;for(p=0,v=n.length-1;p<n.length;v=p,p+=1)A=n[p],M=n[v],w=A.x*M.y-M.x*A.y,s+=(A.x+M.x)*w,c+=(A.y+M.y)*w;return w=r*6,{x:s/w,y:c/w}},h.prototype.getStanfordTooltipTitle=function(n){var r=this,s=r.axis.getLabelText("x"),c=r.axis.getLabelText("y");return`
      <tr><th>`+(s?$n(s):"x")+"</th><th class='value'>"+n.x+`</th></tr>
      <tr><th>`+(c?$n(c):"y")+"</th><th class='value'>"+n.value+`</th></tr>
    `},h.prototype.countEpochsInRegion=function(n){var r=this,s=r.data.targets[0],c,p;return c=s.values.reduce(function(v,w){return v+Number(w.epochs)},0),p=s.values.reduce(function(v,w){return os(w,n)?v+Number(w.epochs):v},0),{value:p,percentage:p!==0?(p/c*100).toFixed(1):0}};var Un=function(n){var r=0,s,c,p,v;for(s=0,c=n.length-1;s<n.length;c=s,s+=1)p=n[s],v=n[c],r+=p.x*v.y,r-=p.y*v.x;return r/=2,r},os=function(n,r){for(var s,c,p,v,w,A=n.x,M=n.value,C=!1,G=0,V=r.length-1;G<r.length;V=G++)s=r[G].x,c=r[G].y,v=r[V].x,p=r[V].y,w=c>M!=p>M&&A<(v-s)*(M-c)/(p-c)+s,w&&(C=!C);return C},ss=function(n,r){return n.epochs<r.epochs?-1:n.epochs>r.epochs?1:0};return h.prototype.initStanfordElements=function(){var n=this;n.stanfordElements=n.main.select("."+E.chart).append("g").attr("class",E.stanfordElements),n.stanfordElements.append("g").attr("class",E.stanfordLines),n.stanfordElements.append("g").attr("class",E.stanfordTexts),n.stanfordElements.append("g").attr("class",E.stanfordRegions)},h.prototype.updateStanfordElements=function(n){var r=this,s=r.main,c=r.config,p,v,w,A,M,C,G=r.xvCustom.bind(r),V=r.yvCustom.bind(r),H=r.countEpochsInRegion.bind(r);p=s.select("."+E.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+E.stanfordLine).data(c.stanford_lines),v=p.enter().append("g").attr("class",function(N){return E.stanfordLine+(N.class?" "+N.class:"")}),v.append("line").attr("x1",function(N){return c.axis_rotated?V(N,"value_y1"):G(N,"value_x1")}).attr("x2",function(N){return c.axis_rotated?V(N,"value_y2"):G(N,"value_x2")}).attr("y1",function(N){return c.axis_rotated?G(N,"value_x1"):V(N,"value_y1")}).attr("y2",function(N){return c.axis_rotated?G(N,"value_x2"):V(N,"value_y2")}).style("opacity",0),r.stanfordLines=v.merge(p),r.stanfordLines.select("line").transition().duration(n).attr("x1",function(N){return c.axis_rotated?V(N,"value_y1"):G(N,"value_x1")}).attr("x2",function(N){return c.axis_rotated?V(N,"value_y2"):G(N,"value_x2")}).attr("y1",function(N){return c.axis_rotated?G(N,"value_x1"):V(N,"value_y1")}).attr("y2",function(N){return c.axis_rotated?G(N,"value_x2"):V(N,"value_y2")}).style("opacity",1),p.exit().transition().duration(n).style("opacity",0).remove(),M=s.select("."+E.stanfordTexts).selectAll("."+E.stanfordText).data(c.stanford_texts),C=M.enter().append("g").attr("class",function(N){return E.stanfordText+(N.class?" "+N.class:"")}),C.append("text").attr("x",function(N){return c.axis_rotated?V(N,"y"):G(N,"x")}).attr("y",function(N){return c.axis_rotated?G(N,"x"):V(N,"y")}).style("opacity",0),r.stanfordTexts=C.merge(M),r.stanfordTexts.select("text").transition().duration(n).attr("x",function(N){return c.axis_rotated?V(N,"y"):G(N,"x")}).attr("y",function(N){return c.axis_rotated?G(N,"x"):V(N,"y")}).text(function(N){return N.content}).style("opacity",1),M.exit().transition().duration(n).style("opacity",0).remove(),w=s.select("."+E.stanfordRegions).selectAll("."+E.stanfordRegion).data(c.stanford_regions),A=w.enter().append("g").attr("class",function(N){return E.stanfordRegion+(N.class?" "+N.class:"")}),A.append("polygon").attr("points",function(N){return N.points.map(function(Y){return[c.axis_rotated?V(Y,"y"):G(Y,"x"),c.axis_rotated?G(Y,"x"):V(Y,"y")].join(",")}).join(" ")}).style("opacity",0),A.append("text").attr("x",function(N){return r.getCentroid(N.points).x}).attr("y",function(N){return r.getCentroid(N.points).y}).style("opacity",0),r.stanfordRegions=A.merge(w),r.stanfordRegions.select("polygon").transition().duration(n).attr("points",function(N){return N.points.map(function(Y){return[c.axis_rotated?V(Y,"y"):G(Y,"x"),c.axis_rotated?G(Y,"x"):V(Y,"y")].join(",")}).join(" ")}).style("opacity",function(N){return N.opacity?N.opacity:.2}),r.stanfordRegions.select("text").transition().duration(n).attr("x",function(N){return c.axis_rotated?V(r.getCentroid(N.points),"y"):G(r.getCentroid(N.points),"x")}).attr("y",function(N){return c.axis_rotated?G(r.getCentroid(N.points),"x"):V(r.getCentroid(N.points),"y")}).text(function(N){if(N.text){var Y,W,j;return r.isStanfordGraphType()&&(j=H(N.points),Y=j.value,W=j.percentage),N.text(Y,W)}return""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),w.exit().transition().duration(n).style("opacity",0).remove()},h.prototype.initTooltip=function(){var n=this,r=n.config,s;if(n.tooltip=n.selectChart.style("position","relative").append("div").attr("class",E.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),r.tooltip_init_show){if(n.isTimeSeries()&&ee(r.tooltip_init_x)){for(r.tooltip_init_x=n.parseDate(r.tooltip_init_x),s=0;s<n.data.targets[0].values.length&&n.data.targets[0].values[s].x-r.tooltip_init_x!==0;s++);r.tooltip_init_x=s}n.tooltip.html(r.tooltip_contents.call(n,n.data.targets.map(function(c){return n.addName(c.values[r.tooltip_init_x])}),n.axis.getXAxisTickFormat(),n.getYFormat(n.hasArcType()),n.color)),n.tooltip.style("top",r.tooltip_init_position.top).style("left",r.tooltip_init_position.left).style("display","block")}},h.prototype.getTooltipSortFunction=function(){var n=this,r=n.config;if(r.data_groups.length===0||r.tooltip_order!==void 0){var s=r.tooltip_order;s===void 0&&(s=r.data_order);var c=function(w){return w?w.value:null};if(ee(s)&&s.toLowerCase()==="asc")return function(w,A){return c(w)-c(A)};if(ee(s)&&s.toLowerCase()==="desc")return function(w,A){return c(A)-c(w)};if(Yt(s)){var p=s;return r.tooltip_order===void 0&&(p=function(w,A){return s(w?{id:w.id,values:[w]}:null,A?{id:A.id,values:[A]}:null)}),p}else if(Bn(s))return function(w,A){return s.indexOf(w.id)-s.indexOf(A.id)}}else{var v=n.orderTargets(n.data.targets).map(function(w){return w.id});return(n.isOrderAsc()||n.isOrderDesc())&&(v=v.reverse()),function(w,A){return v.indexOf(w.id)-v.indexOf(A.id)}}},h.prototype.getTooltipContent=function(n,r,s,c){var p=this,v=p.config,w=v.tooltip_format_title||r,A=v.tooltip_format_name||function(j){return j},M,C,G,V,H,N,Y=v.tooltip_format_value;Y||(Y=p.isTargetNormalized(n.id)?function(j,et){return(et*100).toFixed(2)+"%"}:s);var W=this.getTooltipSortFunction();for(W&&n.sort(W),C=0;C<n.length;C++)if(n[C]&&(n[C].value||n[C].value===0)){if(p.isStanfordGraphType())M||(G=p.getStanfordTooltipTitle(n[C]),M="<table class='"+p.CLASS.tooltip+"'>"+G),N=p.getStanfordPointColor(n[C]),H=$n(v.data_epochs),V=n[C].epochs;else if(M||(G=$n(w?w(n[C].x,n[C].index):n[C].x),M="<table class='"+p.CLASS.tooltip+"'>"+(G||G===0?"<tr><th colspan='2'>"+G+"</th></tr>":"")),V=$n(Y(n[C].value,n[C].ratio,n[C].id,n[C].index,n)),V!==void 0){if(n[C].name===null)continue;H=$n(A(n[C].name,n[C].ratio,n[C].id,n[C].index)),N=p.levelColor?p.levelColor(n[C].value):c(n[C].id)}V!==void 0&&(M+="<tr class='"+p.CLASS.tooltipName+"-"+p.getTargetSelectorSuffix(n[C].id)+"'>",M+="<td class='name'><span style='background-color:"+N+"'></span>"+H+"</td>",M+="<td class='value'>"+V+"</td>",M+="</tr>")}return M+"</table>"},h.prototype.tooltipPosition=function(n,r,s,c){var p=this,v=p.config,w=p.d3,A,M,C,G,V,H=p.hasArcType(),N=w.mouse(c);return H?(M=(p.width-(p.isLegendRight?p.getLegendWidth():0))/2+N[0],G=(p.hasType("gauge")?p.height:p.height/2)+N[1]+20):(A=p.getSvgLeft(!0),v.axis_rotated?(M=A+N[0]+100,C=M+r,V=p.currentWidth-p.getCurrentPaddingRight(),G=p.x(n[0].x)+20):(M=A+p.getCurrentPaddingLeft(!0)+p.x(n[0].x)+20,C=M+r,V=A+p.currentWidth-p.getCurrentPaddingRight(),G=N[1]+15),C>V&&(M-=C-V+20),G+s>p.currentHeight&&(G-=s+30)),G<0&&(G=0),{top:G,left:M}},h.prototype.showTooltip=function(n,r){var s=this,c=s.config,p,v,w,A=s.hasArcType(),M=n.filter(function(G){return G&&Mt(G.value)}),C=c.tooltip_position||h.prototype.tooltipPosition;if(M.length===0||!c.tooltip_show){s.hideTooltip();return}s.tooltip.html(c.tooltip_contents.call(s,n,s.axis.getXAxisTickFormat(),s.getYFormat(A),s.color)).style("display","block"),p=s.tooltip.property("offsetWidth"),v=s.tooltip.property("offsetHeight"),w=C.call(this,M,p,v,r),s.tooltip.style("top",w.top+"px").style("left",w.left+"px")},h.prototype.hideTooltip=function(){this.tooltip.style("display","none")},h.prototype.setTargetType=function(n,r){var s=this,c=s.config;s.mapToTargetIds(n).forEach(function(p){s.withoutFadeIn[p]=r===c.data_types[p],c.data_types[p]=r}),n||(c.data_type=r)},h.prototype.hasType=function(n,r){var s=this,c=s.config.data_types,p=!1;return r=r||s.data.targets,r&&r.length?r.forEach(function(v){var w=c[v.id];(w&&w.indexOf(n)>=0||!w&&n==="line")&&(p=!0)}):Object.keys(c).length?Object.keys(c).forEach(function(v){c[v]===n&&(p=!0)}):p=s.config.data_type===n,p},h.prototype.hasArcType=function(n){return this.hasType("pie",n)||this.hasType("donut",n)||this.hasType("gauge",n)},h.prototype.isLineType=function(n){var r=this.config,s=ee(n)?n:n.id;return!r.data_types[s]||["line","spline","area","area-spline","step","area-step"].indexOf(r.data_types[s])>=0},h.prototype.isStepType=function(n){var r=ee(n)?n:n.id;return["step","area-step"].indexOf(this.config.data_types[r])>=0},h.prototype.isSplineType=function(n){var r=ee(n)?n:n.id;return["spline","area-spline"].indexOf(this.config.data_types[r])>=0},h.prototype.isAreaType=function(n){var r=ee(n)?n:n.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[r])>=0},h.prototype.isBarType=function(n){var r=ee(n)?n:n.id;return this.config.data_types[r]==="bar"},h.prototype.isScatterType=function(n){var r=ee(n)?n:n.id;return this.config.data_types[r]==="scatter"},h.prototype.isStanfordType=function(n){var r=ee(n)?n:n.id;return this.config.data_types[r]==="stanford"},h.prototype.isPieType=function(n){var r=ee(n)?n:n.id;return this.config.data_types[r]==="pie"},h.prototype.isGaugeType=function(n){var r=ee(n)?n:n.id;return this.config.data_types[r]==="gauge"},h.prototype.isDonutType=function(n){var r=ee(n)?n:n.id;return this.config.data_types[r]==="donut"},h.prototype.isArcType=function(n){return this.isPieType(n)||this.isDonutType(n)||this.isGaugeType(n)},h.prototype.lineData=function(n){return this.isLineType(n)?[n]:[]},h.prototype.arcData=function(n){return this.isArcType(n.data)?[n]:[]},h.prototype.barData=function(n){return this.isBarType(n)?n.values:[]},h.prototype.lineOrScatterOrStanfordData=function(n){return this.isLineType(n)||this.isScatterType(n)||this.isStanfordType(n)?n.values:[]},h.prototype.barOrLineData=function(n){return this.isBarType(n)||this.isLineType(n)?n.values:[]},h.prototype.isSafari=function(){var n=window.navigator.userAgent;return n.indexOf("Safari")>=0&&n.indexOf("Chrome")<0},h.prototype.isChrome=function(){var n=window.navigator.userAgent;return n.indexOf("Chrome")>=0},h.prototype.initZoom=function(){var n=this,r=n.d3,s=n.config,c;return n.zoom=r.zoom().on("start",function(){if(s.zoom_type==="scroll"){var p=r.event.sourceEvent;p&&p.type==="brush"||(c=p,s.zoom_onzoomstart.call(n.api,p))}}).on("zoom",function(){if(s.zoom_type==="scroll"){var p=r.event.sourceEvent;p&&p.type==="brush"||(n.redrawForZoom(),s.zoom_onzoom.call(n.api,n.x.orgDomain()))}}).on("end",function(){if(s.zoom_type==="scroll"){var p=r.event.sourceEvent;p&&p.type==="brush"||p&&c.clientX===p.clientX&&c.clientY===p.clientY||s.zoom_onzoomend.call(n.api,n.x.orgDomain())}}),n.zoom.updateDomain=function(){return r.event&&r.event.transform&&(s.axis_rotated&&s.zoom_type==="scroll"&&r.event.sourceEvent.type==="mousemove"?n.x.domain(r.event.transform.rescaleY(n.subX).domain()):n.x.domain(r.event.transform.rescaleX(n.subX).domain())),this},n.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[n.width,n.height]]).extent([[0,0],[n.width,n.height]]),this},n.zoom.update=function(){return this.updateExtent().updateDomain()},n.zoom.updateExtent()},h.prototype.zoomTransform=function(n){var r=this,s=[r.x(n[0]),r.x(n[1])];return r.d3.zoomIdentity.scale(r.width/(s[1]-s[0])).translate(-s[0],0)},h.prototype.initDragZoom=function(){var n=this,r=n.d3,s=n.config,c=n.context=n.svg,p=n.margin.left+20.5,v=n.margin.top+.5;if(s.zoom_type==="drag"&&s.zoom_enabled){var w=function(M){return M&&M.map(function(C){return n.x.invert(C)})},A=n.dragZoomBrush=r.brushX().on("start",function(){n.api.unzoom(),n.svg.select("."+E.dragZoom).classed("disabled",!1),s.zoom_onzoomstart.call(n.api,r.event.sourceEvent)}).on("brush",function(){s.zoom_onzoom.call(n.api,w(r.event.selection))}).on("end",function(){if(r.event.selection!=null){var M=w(r.event.selection);s.zoom_disableDefaultBehavior||n.api.zoom(M),n.svg.select("."+E.dragZoom).classed("disabled",!0),s.zoom_onzoomend.call(n.api,M)}});c.append("g").classed(E.dragZoom,!0).attr("clip-path",n.clipPath).attr("transform","translate("+p+","+v+")").call(A)}},h.prototype.getZoomDomain=function(){var n=this,r=n.config,s=n.d3,c=s.min([n.orgXDomain[0],r.zoom_x_min]),p=s.max([n.orgXDomain[1],r.zoom_x_max]);return[c,p]},h.prototype.redrawForZoom=function(){var n=this,r=n.d3,s=n.config,c=n.zoom,p=n.x;s.zoom_enabled&&n.filterTargetsToShow(n.data.targets).length!==0&&(c.update(),!s.zoom_disableDefaultBehavior&&(n.isCategorized()&&p.orgDomain()[0]===n.orgXDomain[0]&&p.domain([n.orgXDomain[0]-1e-10,p.orgDomain()[1]]),n.redraw({withTransition:!1,withY:s.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),r.event.sourceEvent&&r.event.sourceEvent.type==="mousemove"&&(n.cancelClick=!0)))},_n});(function(h,tt){typeof es=="object"&&typeof ns<"u"?tt(es):typeof define=="function"&&define.amd?define(["exports"],tt):(h=h||self,tt(h.d3=h.d3||{}))})(void 0,function(h){var tt="5.16.0";function ye(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function an(t){return t.length===1&&(t=Ut(t)),{left:function(e,i,a,o){for(a==null&&(a=0),o==null&&(o=e.length);a<o;){var u=a+o>>>1;t(e[u],i)<0?a=u+1:o=u}return a},right:function(e,i,a,o){for(a==null&&(a=0),o==null&&(o=e.length);a<o;){var u=a+o>>>1;t(e[u],i)>0?o=u:a=u+1}return a}}}function Ut(t){return function(e,i){return ye(t(e),i)}}var Tt=an(ye),_e=Tt.right,qe=Tt.left;function is(t,e){e==null&&(e=Bn);for(var i=0,a=t.length-1,o=t[0],u=new Array(a<0?0:a);i<a;)u[i]=e(o,o=t[++i]);return u}function Bn(t,e){return[t,e]}function Zt(t,e,i){var a=t.length,o=e.length,u=new Array(a*o),f,l,d,g;for(i==null&&(i=Bn),f=d=0;f<a;++f)for(g=t[f],l=0;l<o;++l,++d)u[d]=i(g,e[l]);return u}function ji(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Yt(t){return t===null?NaN:+t}function Ki(t,e){var i=t.length,a=0,o=-1,u=0,f,l,d=0;if(e==null)for(;++o<i;)isNaN(f=Yt(t[o]))||(l=f-u,u+=l/++a,d+=l*(f-u));else for(;++o<i;)isNaN(f=Yt(e(t[o],o,t)))||(l=f-u,u+=l/++a,d+=l*(f-u));if(a>1)return d/(a-1)}function ee(t,e){var i=Ki(t,e);return i&&Math.sqrt(i)}function le(t,e){var i=t.length,a=-1,o,u,f;if(e==null){for(;++a<i;)if((o=t[a])!=null&&o>=o)for(u=f=o;++a<i;)(o=t[a])!=null&&(u>o&&(u=o),f<o&&(f=o))}else for(;++a<i;)if((o=e(t[a],a,t))!=null&&o>=o)for(u=f=o;++a<i;)(o=e(t[a],a,t))!=null&&(u>o&&(u=o),f<o&&(f=o));return[u,f]}var Mt=Array.prototype,Ee=Mt.slice,$n=Mt.map;function _i(t){return function(){return t}}function rs(t){return t}function me(t,e,i){t=+t,e=+e,i=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+i;for(var a=-1,o=Math.max(0,Math.ceil((e-t)/i))|0,u=new Array(o);++a<o;)u[a]=t+a*i;return u}var mi=Math.sqrt(50),zt=Math.sqrt(10),E=Math.sqrt(2);function Hn(t,e,i){var a,o=-1,u,f,l;if(e=+e,t=+t,i=+i,t===e&&i>0)return[t];if((a=e<t)&&(u=t,t=e,e=u),(l=dt(t,e,i))===0||!isFinite(l))return[];if(l>0)for(t=Math.ceil(t/l),e=Math.floor(e/l),f=new Array(u=Math.ceil(e-t+1));++o<u;)f[o]=(t+o)*l;else for(t=Math.floor(t*l),e=Math.ceil(e*l),f=new Array(u=Math.ceil(t-e+1));++o<u;)f[o]=(t-o)/l;return a&&f.reverse(),f}function dt(t,e,i){var a=(e-t)/Math.max(0,i),o=Math.floor(Math.log(a)/Math.LN10),u=a/Math.pow(10,o);return o>=0?(u>=mi?10:u>=zt?5:u>=E?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(u>=mi?10:u>=zt?5:u>=E?2:1)}function _n(t,e,i){var a=Math.abs(e-t)/Math.max(0,i),o=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),u=a/o;return u>=mi?o*=10:u>=zt?o*=5:u>=E&&(o*=2),e<t?-o:o}function vi(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function as(){var t=rs,e=le,i=vi;function a(o){var u,f=o.length,l,d=new Array(f);for(u=0;u<f;++u)d[u]=t(o[u],u,o);var g=e(d),y=g[0],m=g[1],_=i(d,y,m);Array.isArray(_)||(_=_n(y,m,_),_=me(Math.ceil(y/_)*_,m,_));for(var x=_.length;_[0]<=y;)_.shift(),--x;for(;_[x-1]>m;)_.pop(),--x;var S=new Array(x+1),b;for(u=0;u<=x;++u)b=S[u]=[],b.x0=u>0?_[u-1]:y,b.x1=u<x?_[u]:m;for(u=0;u<f;++u)l=d[u],y<=l&&l<=m&&S[_e(_,l,0,x)].push(o[u]);return S}return a.value=function(o){return arguments.length?(t=typeof o=="function"?o:_i(o),a):t},a.domain=function(o){return arguments.length?(e=typeof o=="function"?o:_i([o[0],o[1]]),a):e},a.thresholds=function(o){return arguments.length?(i=typeof o=="function"?o:Array.isArray(o)?_i(Ee.call(o)):_i(o),a):i},a}function Un(t,e,i){if(i==null&&(i=Yt),!!(a=t.length)){if((e=+e)<=0||a<2)return+i(t[0],0,t);if(e>=1)return+i(t[a-1],a-1,t);var a,o=(a-1)*e,u=Math.floor(o),f=+i(t[u],u,t),l=+i(t[u+1],u+1,t);return f+(l-f)*(o-u)}}function os(t,e,i){return t=$n.call(t,Yt).sort(ye),Math.ceil((i-e)/(2*(Un(t,.75)-Un(t,.25))*Math.pow(t.length,-1/3)))}function ss(t,e,i){return Math.ceil((i-e)/(3.5*ee(t)*Math.pow(t.length,-1/3)))}function n(t,e){var i=t.length,a=-1,o,u;if(e==null){for(;++a<i;)if((o=t[a])!=null&&o>=o)for(u=o;++a<i;)(o=t[a])!=null&&o>u&&(u=o)}else for(;++a<i;)if((o=e(t[a],a,t))!=null&&o>=o)for(u=o;++a<i;)(o=e(t[a],a,t))!=null&&o>u&&(u=o);return u}function r(t,e){var i=t.length,a=i,o=-1,u,f=0;if(e==null)for(;++o<i;)isNaN(u=Yt(t[o]))?--a:f+=u;else for(;++o<i;)isNaN(u=Yt(e(t[o],o,t)))?--a:f+=u;if(a)return f/a}function s(t,e){var i=t.length,a=-1,o,u=[];if(e==null)for(;++a<i;)isNaN(o=Yt(t[a]))||u.push(o);else for(;++a<i;)isNaN(o=Yt(e(t[a],a,t)))||u.push(o);return Un(u.sort(ye),.5)}function c(t){for(var e=t.length,i,a=-1,o=0,u,f;++a<e;)o+=t[a].length;for(u=new Array(o);--e>=0;)for(f=t[e],i=f.length;--i>=0;)u[--o]=f[i];return u}function p(t,e){var i=t.length,a=-1,o,u;if(e==null){for(;++a<i;)if((o=t[a])!=null&&o>=o)for(u=o;++a<i;)(o=t[a])!=null&&u>o&&(u=o)}else for(;++a<i;)if((o=e(t[a],a,t))!=null&&o>=o)for(u=o;++a<i;)(o=e(t[a],a,t))!=null&&u>o&&(u=o);return u}function v(t,e){for(var i=e.length,a=new Array(i);i--;)a[i]=t[e[i]];return a}function w(t,e){if(i=t.length){var i,a=0,o=0,u,f=t[o];for(e==null&&(e=ye);++a<i;)(e(u=t[a],f)<0||e(f,f)!==0)&&(f=u,o=a);if(e(f,f)===0)return o}}function A(t,e,i){for(var a=(i??t.length)-(e=e==null?0:+e),o,u;a;)u=Math.random()*a--|0,o=t[a+e],t[a+e]=t[u+e],t[u+e]=o;return t}function M(t,e){var i=t.length,a=-1,o,u=0;if(e==null)for(;++a<i;)(o=+t[a])&&(u+=o);else for(;++a<i;)(o=+e(t[a],a,t))&&(u+=o);return u}function C(t){if(!(u=t.length))return[];for(var e=-1,i=p(t,G),a=new Array(i);++e<i;)for(var o=-1,u,f=a[e]=new Array(u);++o<u;)f[o]=t[o][e];return a}function G(t){return t.length}function V(){return C(arguments)}var H=Array.prototype.slice;function N(t){return t}var Y=1,W=2,j=3,et=4,pt=1e-6;function Lt(t){return"translate("+(t+.5)+",0)"}function At(t){return"translate(0,"+(t+.5)+")"}function Vt(t){return function(e){return+t(e)}}function Et(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(i){return+t(i)+e}}function lt(){return!this.__axis}function wt(t,e){var i=[],a=null,o=null,u=6,f=6,l=3,d=t===Y||t===et?-1:1,g=t===et||t===W?"x":"y",y=t===Y||t===j?Lt:At;function m(_){var x=a??(e.ticks?e.ticks.apply(e,i):e.domain()),S=o??(e.tickFormat?e.tickFormat.apply(e,i):N),b=Math.max(u,0)+l,T=e.range(),P=+T[0]+.5,k=+T[T.length-1]+.5,L=(e.bandwidth?Et:Vt)(e.copy()),$=_.selection?_.selection():_,O=$.selectAll(".domain").data([null]),F=$.selectAll(".tick").data(x,e).order(),I=F.exit(),q=F.enter().append("g").attr("class","tick"),B=F.select("line"),U=F.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge(q),B=B.merge(q.append("line").attr("stroke","currentColor").attr(g+"2",d*u)),U=U.merge(q.append("text").attr("fill","currentColor").attr(g,d*b).attr("dy",t===Y?"0em":t===j?"0.71em":"0.32em")),_!==$&&(O=O.transition(_),F=F.transition(_),B=B.transition(_),U=U.transition(_),I=I.transition(_).attr("opacity",pt).attr("transform",function(X){return isFinite(X=L(X))?y(X):this.getAttribute("transform")}),q.attr("opacity",pt).attr("transform",function(X){var R=this.parentNode.__axis;return y(R&&isFinite(R=R(X))?R:L(X))})),I.remove(),O.attr("d",t===et||t==W?f?"M"+d*f+","+P+"H0.5V"+k+"H"+d*f:"M0.5,"+P+"V"+k:f?"M"+P+","+d*f+"V0.5H"+k+"V"+d*f:"M"+P+",0.5H"+k),F.attr("opacity",1).attr("transform",function(X){return y(L(X))}),B.attr(g+"2",d*u),U.attr(g,d*b).text(S),$.filter(lt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===W?"start":t===et?"end":"middle"),$.each(function(){this.__axis=L})}return m.scale=function(_){return arguments.length?(e=_,m):e},m.ticks=function(){return i=H.call(arguments),m},m.tickArguments=function(_){return arguments.length?(i=_==null?[]:H.call(_),m):i.slice()},m.tickValues=function(_){return arguments.length?(a=_==null?null:H.call(_),m):a&&a.slice()},m.tickFormat=function(_){return arguments.length?(o=_,m):o},m.tickSize=function(_){return arguments.length?(u=f=+_,m):u},m.tickSizeInner=function(_){return arguments.length?(u=+_,m):u},m.tickSizeOuter=function(_){return arguments.length?(f=+_,m):f},m.tickPadding=function(_){return arguments.length?(l=+_,m):l},m}function bt(t){return wt(Y,t)}function vt(t){return wt(W,t)}function ot(t){return wt(j,t)}function ct(t){return wt(et,t)}var Kt={value:function(){}};function Wt(){for(var t=0,e=arguments.length,i={},a;t<e;++t){if(!(a=arguments[t]+"")||a in i||/[\s.]/.test(a))throw new Error("illegal type: "+a);i[a]=[]}return new Jt(i)}function Jt(t){this._=t}function Oe(t,e){return t.trim().split(/^|\s+/).map(function(i){var a="",o=i.indexOf(".");if(o>=0&&(a=i.slice(o+1),i=i.slice(0,o)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:a}})}Jt.prototype=Wt.prototype={constructor:Jt,on:function(t,e){var i=this._,a=Oe(t+"",i),o,u=-1,f=a.length;if(arguments.length<2){for(;++u<f;)if((o=(t=a[u]).type)&&(o=re(i[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++u<f;)if(o=(t=a[u]).type)i[o]=se(i[o],t.name,e);else if(e==null)for(o in i)i[o]=se(i[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Jt(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var i=new Array(o),a=0,o,u;a<o;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],a=0,o=u.length;a<o;++a)u[a].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],o=0,u=a.length;o<u;++o)a[o].value.apply(e,i)}};function re(t,e){for(var i=0,a=t.length,o;i<a;++i)if((o=t[i]).name===e)return o.value}function se(t,e,i){for(var a=0,o=t.length;a<o;++a)if(t[a].name===e){t[a]=Kt,t=t.slice(0,a).concat(t.slice(a+1));break}return i!=null&&t.push({name:e,value:i}),t}var Gt="http://www.w3.org/1999/xhtml",J={svg:"http://www.w3.org/2000/svg",xhtml:Gt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gt(t){var e=t+="",i=e.indexOf(":");return i>=0&&(e=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),J.hasOwnProperty(e)?{space:J[e],local:t}:t}function Fe(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===Gt&&e.documentElement.namespaceURI===Gt?e.createElement(t):e.createElementNS(i,t)}}function Wn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function En(t){var e=gt(t);return(e.local?Wn:Fe)(e)}function on(){}function ve(t){return t==null?on:function(){return this.querySelector(t)}}function ke(t){typeof t!="function"&&(t=ve(t));for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o)for(var u=e[o],f=u.length,l=a[o]=new Array(f),d,g,y=0;y<f;++y)(d=u[y])&&(g=t.call(d,d.__data__,y,u))&&("__data__"in d&&(g.__data__=d.__data__),l[y]=g);return new xe(a,this._parents)}function sn(){return[]}function qn(t){return t==null?sn:function(){return this.querySelectorAll(t)}}function kn(t){typeof t!="function"&&(t=qn(t));for(var e=this._groups,i=e.length,a=[],o=[],u=0;u<i;++u)for(var f=e[u],l=f.length,d,g=0;g<l;++g)(d=f[g])&&(a.push(t.call(d,d.__data__,g,f)),o.push(d));return new xe(a,o)}function xi(t){return function(){return this.matches(t)}}function Ji(t){typeof t!="function"&&(t=xi(t));for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o)for(var u=e[o],f=u.length,l=a[o]=[],d,g=0;g<f;++g)(d=u[g])&&t.call(d,d.__data__,g,u)&&l.push(d);return new xe(a,this._parents)}function Qe(t){return new Array(t.length)}function us(){return new xe(this._enter||this._groups.map(Qe),this._parents)}function fa(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}fa.prototype={constructor:fa,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Yp(t){return function(){return t}}var qc="$";function Bp(t,e,i,a,o,u){for(var f=0,l,d=e.length,g=u.length;f<g;++f)(l=e[f])?(l.__data__=u[f],a[f]=l):i[f]=new fa(t,u[f]);for(;f<d;++f)(l=e[f])&&(o[f]=l)}function Hp(t,e,i,a,o,u,f){var l,d,g={},y=e.length,m=u.length,_=new Array(y),x;for(l=0;l<y;++l)(d=e[l])&&(_[l]=x=qc+f.call(d,d.__data__,l,e),x in g?o[l]=d:g[x]=d);for(l=0;l<m;++l)x=qc+f.call(t,u[l],l,u),(d=g[x])?(a[l]=d,d.__data__=u[l],g[x]=null):i[l]=new fa(t,u[l]);for(l=0;l<y;++l)(d=e[l])&&g[_[l]]===d&&(o[l]=d)}function Up(t,e){if(!t)return x=new Array(this.size()),g=-1,this.each(function(F){x[++g]=F}),x;var i=e?Hp:Bp,a=this._parents,o=this._groups;typeof t!="function"&&(t=Yp(t));for(var u=o.length,f=new Array(u),l=new Array(u),d=new Array(u),g=0;g<u;++g){var y=a[g],m=o[g],_=m.length,x=t.call(y,y&&y.__data__,g,a),S=x.length,b=l[g]=new Array(S),T=f[g]=new Array(S),P=d[g]=new Array(_);i(y,m,b,T,P,x,e);for(var k=0,L=0,$,O;k<S;++k)if($=b[k]){for(k>=L&&(L=k+1);!(O=T[L])&&++L<S;);$._next=O||null}}return f=new xe(f,a),f._enter=l,f._exit=d,f}function Wp(){return new xe(this._exit||this._groups.map(Qe),this._parents)}function qp(t,e,i){var a=this.enter(),o=this,u=this.exit();return a=typeof t=="function"?t(a):a.append(t+""),e!=null&&(o=e(o)),i==null?u.remove():i(u),a&&o?a.merge(o).order():o}function Qp(t){for(var e=this._groups,i=t._groups,a=e.length,o=i.length,u=Math.min(a,o),f=new Array(a),l=0;l<u;++l)for(var d=e[l],g=i[l],y=d.length,m=f[l]=new Array(y),_,x=0;x<y;++x)(_=d[x]||g[x])&&(m[x]=_);for(;l<a;++l)f[l]=e[l];return new xe(f,this._parents)}function Zp(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var a=t[e],o=a.length-1,u=a[o],f;--o>=0;)(f=a[o])&&(u&&f.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(f,u),u=f);return this}function jp(t){t||(t=Kp);function e(m,_){return m&&_?t(m.__data__,_.__data__):!m-!_}for(var i=this._groups,a=i.length,o=new Array(a),u=0;u<a;++u){for(var f=i[u],l=f.length,d=o[u]=new Array(l),g,y=0;y<l;++y)(g=f[y])&&(d[y]=g);d.sort(e)}return new xe(o,this._parents).order()}function Kp(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Jp(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function t0(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function e0(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a=t[e],o=0,u=a.length;o<u;++o){var f=a[o];if(f)return f}return null}function n0(){var t=0;return this.each(function(){++t}),t}function i0(){return!this.node()}function r0(t){for(var e=this._groups,i=0,a=e.length;i<a;++i)for(var o=e[i],u=0,f=o.length,l;u<f;++u)(l=o[u])&&t.call(l,l.__data__,u,o);return this}function a0(t){return function(){this.removeAttribute(t)}}function o0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function s0(t,e){return function(){this.setAttribute(t,e)}}function u0(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function c0(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function f0(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function l0(t,e){var i=gt(t);if(arguments.length<2){var a=this.node();return i.local?a.getAttributeNS(i.space,i.local):a.getAttribute(i)}return this.each((e==null?i.local?o0:a0:typeof e=="function"?i.local?f0:c0:i.local?u0:s0)(i,e))}function cs(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function h0(t){return function(){this.style.removeProperty(t)}}function d0(t,e,i){return function(){this.style.setProperty(t,e,i)}}function g0(t,e,i){return function(){var a=e.apply(this,arguments);a==null?this.style.removeProperty(t):this.style.setProperty(t,a,i)}}function p0(t,e,i){return arguments.length>1?this.each((e==null?h0:typeof e=="function"?g0:d0)(t,e,i??"")):Qn(this.node(),t)}function Qn(t,e){return t.style.getPropertyValue(e)||cs(t).getComputedStyle(t,null).getPropertyValue(e)}function y0(t){return function(){delete this[t]}}function _0(t,e){return function(){this[t]=e}}function m0(t,e){return function(){var i=e.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function v0(t,e){return arguments.length>1?this.each((e==null?y0:typeof e=="function"?m0:_0)(t,e)):this.node()[t]}function Qc(t){return t.trim().split(/^|\s+/)}function fs(t){return t.classList||new Zc(t)}function Zc(t){this._node=t,this._names=Qc(t.getAttribute("class")||"")}Zc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function jc(t,e){for(var i=fs(t),a=-1,o=e.length;++a<o;)i.add(e[a])}function Kc(t,e){for(var i=fs(t),a=-1,o=e.length;++a<o;)i.remove(e[a])}function x0(t){return function(){jc(this,t)}}function w0(t){return function(){Kc(this,t)}}function b0(t,e){return function(){(e.apply(this,arguments)?jc:Kc)(this,t)}}function S0(t,e){var i=Qc(t+"");if(arguments.length<2){for(var a=fs(this.node()),o=-1,u=i.length;++o<u;)if(!a.contains(i[o]))return!1;return!0}return this.each((typeof e=="function"?b0:e?x0:w0)(i,e))}function T0(){this.textContent=""}function A0(t){return function(){this.textContent=t}}function P0(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function C0(t){return arguments.length?this.each(t==null?T0:(typeof t=="function"?P0:A0)(t)):this.node().textContent}function L0(){this.innerHTML=""}function M0(t){return function(){this.innerHTML=t}}function $0(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function E0(t){return arguments.length?this.each(t==null?L0:(typeof t=="function"?$0:M0)(t)):this.node().innerHTML}function k0(){this.nextSibling&&this.parentNode.appendChild(this)}function R0(){return this.each(k0)}function V0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function G0(){return this.each(V0)}function O0(t){var e=typeof t=="function"?t:En(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function N0(){return null}function I0(t,e){var i=typeof t=="function"?t:En(t),a=e==null?N0:typeof e=="function"?e:ve(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),a.apply(this,arguments)||null)})}function D0(){var t=this.parentNode;t&&t.removeChild(this)}function F0(){return this.each(D0)}function z0(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function X0(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Y0(t){return this.select(t?X0:z0)}function B0(t){return arguments.length?this.property("__data__",t):this.node().__data__}var Jc={};if(h.event=null,typeof document<"u"){var H0=document.documentElement;"onmouseenter"in H0||(Jc={mouseenter:"mouseover",mouseleave:"mouseout"})}function U0(t,e,i){return t=tf(t,e,i),function(a){var o=a.relatedTarget;(!o||o!==this&&!(o.compareDocumentPosition(this)&8))&&t.call(this,a)}}function tf(t,e,i){return function(a){var o=h.event;h.event=a;try{t.call(this,this.__data__,e,i)}finally{h.event=o}}}function W0(t){return t.trim().split(/^|\s+/).map(function(e){var i="",a=e.indexOf(".");return a>=0&&(i=e.slice(a+1),e=e.slice(0,a)),{type:e,name:i}})}function q0(t){return function(){var e=this.__on;if(e){for(var i=0,a=-1,o=e.length,u;i<o;++i)u=e[i],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.capture):e[++a]=u;++a?e.length=a:delete this.__on}}}function Q0(t,e,i){var a=Jc.hasOwnProperty(t.type)?U0:tf;return function(o,u,f){var l=this.__on,d,g=a(e,u,f);if(l){for(var y=0,m=l.length;y<m;++y)if((d=l[y]).type===t.type&&d.name===t.name){this.removeEventListener(d.type,d.listener,d.capture),this.addEventListener(d.type,d.listener=g,d.capture=i),d.value=e;return}}this.addEventListener(t.type,g,i),d={type:t.type,name:t.name,value:e,listener:g,capture:i},l?l.push(d):this.__on=[d]}}function Z0(t,e,i){var a=W0(t+""),o,u=a.length,f;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,g=l.length,y;d<g;++d)for(o=0,y=l[d];o<u;++o)if((f=a[o]).type===y.type&&f.name===y.name)return y.value}return}for(l=e?Q0:q0,i==null&&(i=!1),o=0;o<u;++o)this.each(l(a[o],e,i));return this}function tr(t,e,i,a){var o=h.event;t.sourceEvent=h.event,h.event=t;try{return e.apply(i,a)}finally{h.event=o}}function ef(t,e,i){var a=cs(t),o=a.CustomEvent;typeof o=="function"?o=new o(e,i):(o=a.document.createEvent("Event"),i?(o.initEvent(e,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function j0(t,e){return function(){return ef(this,t,e)}}function K0(t,e){return function(){return ef(this,t,e.apply(this,arguments))}}function J0(t,e){return this.each((typeof e=="function"?K0:j0)(t,e))}var ls=[null];function xe(t,e){this._groups=t,this._parents=e}function Zn(){return new xe([[document.documentElement]],ls)}xe.prototype=Zn.prototype={constructor:xe,select:ke,selectAll:kn,filter:Ji,data:Up,enter:us,exit:Wp,join:qp,merge:Qp,order:Zp,sort:jp,call:Jp,nodes:t0,node:e0,size:n0,empty:i0,each:r0,attr:l0,style:p0,property:v0,classed:S0,text:C0,html:E0,raise:R0,lower:G0,append:O0,insert:I0,remove:F0,clone:Y0,datum:B0,on:Z0,dispatch:J0};function Re(t){return typeof t=="string"?new xe([[document.querySelector(t)]],[document.documentElement]):new xe([[t]],ls)}function ty(t){return Re(En(t).call(document.documentElement))}var ey=0;function nf(){return new hs}function hs(){this._="@"+(++ey).toString(36)}hs.prototype=nf.prototype={constructor:hs,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function ds(){for(var t=h.event,e;e=t.sourceEvent;)t=e;return t}function la(t,e){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var a=i.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function jn(t){var e=ds();return e.changedTouches&&(e=e.changedTouches[0]),la(t,e)}function ny(t){return typeof t=="string"?new xe([document.querySelectorAll(t)],[document.documentElement]):new xe([t??[]],ls)}function er(t,e,i){arguments.length<3&&(i=e,e=ds().changedTouches);for(var a=0,o=e?e.length:0,u;a<o;++a)if((u=e[a]).identifier===i)return la(t,u);return null}function iy(t,e){e==null&&(e=ds().touches);for(var i=0,a=e?e.length:0,o=new Array(a);i<a;++i)o[i]=la(t,e[i]);return o}function gs(){h.event.stopImmediatePropagation()}function wi(){h.event.preventDefault(),h.event.stopImmediatePropagation()}function ha(t){var e=t.document.documentElement,i=Re(t).on("dragstart.drag",wi,!0);"onselectstart"in e?i.on("selectstart.drag",wi,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function da(t,e){var i=t.document.documentElement,a=Re(t).on("dragstart.drag",null);e&&(a.on("click.drag",wi,!0),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in i?a.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}function ga(t){return function(){return t}}function ps(t,e,i,a,o,u,f,l,d,g){this.target=t,this.type=e,this.subject=i,this.identifier=a,this.active=o,this.x=u,this.y=f,this.dx=l,this.dy=d,this._=g}ps.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ry(){return!h.event.ctrlKey&&!h.event.button}function ay(){return this.parentNode}function oy(t){return t??{x:h.event.x,y:h.event.y}}function sy(){return navigator.maxTouchPoints||"ontouchstart"in this}function uy(){var t=ry,e=ay,i=oy,a=sy,o={},u=Wt("start","drag","end"),f=0,l,d,g,y,m=0;function _($){$.on("mousedown.drag",x).filter(a).on("touchstart.drag",T).on("touchmove.drag",P).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(){if(!(y||!t.apply(this,arguments))){var $=L("mouse",e.apply(this,arguments),jn,this,arguments);$&&(Re(h.event.view).on("mousemove.drag",S,!0).on("mouseup.drag",b,!0),ha(h.event.view),gs(),g=!1,l=h.event.clientX,d=h.event.clientY,$("start"))}}function S(){if(wi(),!g){var $=h.event.clientX-l,O=h.event.clientY-d;g=$*$+O*O>m}o.mouse("drag")}function b(){Re(h.event.view).on("mousemove.drag mouseup.drag",null),da(h.event.view,g),wi(),o.mouse("end")}function T(){if(t.apply(this,arguments)){var $=h.event.changedTouches,O=e.apply(this,arguments),F=$.length,I,q;for(I=0;I<F;++I)(q=L($[I].identifier,O,er,this,arguments))&&(gs(),q("start"))}}function P(){var $=h.event.changedTouches,O=$.length,F,I;for(F=0;F<O;++F)(I=o[$[F].identifier])&&(wi(),I("drag"))}function k(){var $=h.event.changedTouches,O=$.length,F,I;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),F=0;F<O;++F)(I=o[$[F].identifier])&&(gs(),I("end"))}function L($,O,F,I,q){var B=F(O,$),U,X,R,z=u.copy();if(tr(new ps(_,"beforestart",U,$,f,B[0],B[1],0,0,z),function(){return(h.event.subject=U=i.apply(I,q))==null?!1:(X=U.x-B[0]||0,R=U.y-B[1]||0,!0)}))return function Z(D){var Q=B,at;switch(D){case"start":o[$]=Z,at=f++;break;case"end":delete o[$],--f;case"drag":B=F(O,$),at=f;break}tr(new ps(_,D,U,$,at,B[0]+X,B[1]+R,B[0]-Q[0],B[1]-Q[1],z),z.apply,z,[D,I,q])}}return _.filter=function($){return arguments.length?(t=typeof $=="function"?$:ga(!!$),_):t},_.container=function($){return arguments.length?(e=typeof $=="function"?$:ga($),_):e},_.subject=function($){return arguments.length?(i=typeof $=="function"?$:ga($),_):i},_.touchable=function($){return arguments.length?(a=typeof $=="function"?$:ga(!!$),_):a},_.on=function(){var $=u.on.apply(u,arguments);return $===u?_:$},_.clickDistance=function($){return arguments.length?(m=($=+$)*$,_):Math.sqrt(m)},_}function bi(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function nr(t,e){var i=Object.create(t.prototype);for(var a in e)i[a]=e[a];return i}function Rn(){}var Kn=.7,Si=1/Kn,Ti="\\s*([+-]?\\d+)\\s*",ir="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cy=/^#([0-9a-f]{3,8})$/,fy=new RegExp("^rgb\\("+[Ti,Ti,Ti]+"\\)$"),ly=new RegExp("^rgb\\("+[un,un,un]+"\\)$"),hy=new RegExp("^rgba\\("+[Ti,Ti,Ti,ir]+"\\)$"),dy=new RegExp("^rgba\\("+[un,un,un,ir]+"\\)$"),gy=new RegExp("^hsl\\("+[ir,un,un]+"\\)$"),py=new RegExp("^hsla\\("+[ir,un,un,ir]+"\\)$"),rf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bi(Rn,Vn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:af,formatHex:af,formatHsl:yy,formatRgb:of,toString:of});function af(){return this.rgb().formatHex()}function yy(){return lf(this).formatHsl()}function of(){return this.rgb().formatRgb()}function Vn(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=cy.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?sf(e):i===3?new ue(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?pa(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?pa(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fy.exec(t))?new ue(e[1],e[2],e[3],1):(e=ly.exec(t))?new ue(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hy.exec(t))?pa(e[1],e[2],e[3],e[4]):(e=dy.exec(t))?pa(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gy.exec(t))?ff(e[1],e[2]/100,e[3]/100,1):(e=py.exec(t))?ff(e[1],e[2]/100,e[3]/100,e[4]):rf.hasOwnProperty(t)?sf(rf[t]):t==="transparent"?new ue(NaN,NaN,NaN,0):null}function sf(t){return new ue(t>>16&255,t>>8&255,t&255,1)}function pa(t,e,i,a){return a<=0&&(t=e=i=NaN),new ue(t,e,i,a)}function ys(t){return t instanceof Rn||(t=Vn(t)),t?(t=t.rgb(),new ue(t.r,t.g,t.b,t.opacity)):new ue}function Ai(t,e,i,a){return arguments.length===1?ys(t):new ue(t,e,i,a??1)}function ue(t,e,i,a){this.r=+t,this.g=+e,this.b=+i,this.opacity=+a}bi(ue,Ai,nr(Rn,{brighter:function(t){return t=t==null?Si:Math.pow(Si,t),new ue(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Kn:Math.pow(Kn,t),new ue(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uf,formatHex:uf,formatRgb:cf,toString:cf}));function uf(){return"#"+_s(this.r)+_s(this.g)+_s(this.b)}function cf(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function _s(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function ff(t,e,i,a){return a<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new cn(t,e,i,a)}function lf(t){if(t instanceof cn)return new cn(t.h,t.s,t.l,t.opacity);if(t instanceof Rn||(t=Vn(t)),!t)return new cn;if(t instanceof cn)return t;t=t.rgb();var e=t.r/255,i=t.g/255,a=t.b/255,o=Math.min(e,i,a),u=Math.max(e,i,a),f=NaN,l=u-o,d=(u+o)/2;return l?(e===u?f=(i-a)/l+(i<a)*6:i===u?f=(a-e)/l+2:f=(e-i)/l+4,l/=d<.5?u+o:2-u-o,f*=60):l=d>0&&d<1?0:f,new cn(f,l,d,t.opacity)}function ya(t,e,i,a){return arguments.length===1?lf(t):new cn(t,e,i,a??1)}function cn(t,e,i,a){this.h=+t,this.s=+e,this.l=+i,this.opacity=+a}bi(cn,ya,nr(Rn,{brighter:function(t){return t=t==null?Si:Math.pow(Si,t),new cn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Kn:Math.pow(Kn,t),new cn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,a=i+(i<.5?i:1-i)*e,o=2*i-a;return new ue(ms(t>=240?t-240:t+120,o,a),ms(t,o,a),ms(t<120?t+240:t-120,o,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function ms(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}var hf=Math.PI/180,df=180/Math.PI,_a=18,gf=.96422,pf=1,yf=.82521,_f=4/29,Pi=6/29,mf=3*Pi*Pi,_y=Pi*Pi*Pi;function vf(t){if(t instanceof Ze)return new Ze(t.l,t.a,t.b,t.opacity);if(t instanceof fn)return wf(t);t instanceof ue||(t=ys(t));var e=bs(t.r),i=bs(t.g),a=bs(t.b),o=vs((.2225045*e+.7168786*i+.0606169*a)/pf),u,f;return e===i&&i===a?u=f=o:(u=vs((.4360747*e+.3850649*i+.1430804*a)/gf),f=vs((.0139322*e+.0971045*i+.7141733*a)/yf)),new Ze(116*o-16,500*(u-o),200*(o-f),t.opacity)}function my(t,e){return new Ze(t,0,0,e??1)}function ma(t,e,i,a){return arguments.length===1?vf(t):new Ze(t,e,i,a??1)}function Ze(t,e,i,a){this.l=+t,this.a=+e,this.b=+i,this.opacity=+a}bi(Ze,ma,nr(Rn,{brighter:function(t){return new Ze(this.l+_a*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new Ze(this.l-_a*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return e=gf*xs(e),t=pf*xs(t),i=yf*xs(i),new ue(ws(3.1338561*e-1.6168667*t-.4906146*i),ws(-.9787684*e+1.9161415*t+.033454*i),ws(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}}));function vs(t){return t>_y?Math.pow(t,1/3):t/mf+_f}function xs(t){return t>Pi?t*t*t:mf*(t-_f)}function ws(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function bs(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xf(t){if(t instanceof fn)return new fn(t.h,t.c,t.l,t.opacity);if(t instanceof Ze||(t=vf(t)),t.a===0&&t.b===0)return new fn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*df;return new fn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function vy(t,e,i,a){return arguments.length===1?xf(t):new fn(i,e,t,a??1)}function va(t,e,i,a){return arguments.length===1?xf(t):new fn(t,e,i,a??1)}function fn(t,e,i,a){this.h=+t,this.c=+e,this.l=+i,this.opacity=+a}function wf(t){if(isNaN(t.h))return new Ze(t.l,0,0,t.opacity);var e=t.h*hf;return new Ze(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}bi(fn,va,nr(Rn,{brighter:function(t){return new fn(this.h,this.c,this.l+_a*(t??1),this.opacity)},darker:function(t){return new fn(this.h,this.c,this.l-_a*(t??1),this.opacity)},rgb:function(){return wf(this).rgb()}}));var bf=-.14861,Ss=1.78277,Ts=-.29227,xa=-.90649,rr=1.97294,Sf=rr*xa,Tf=rr*Ss,Af=Ss*Ts-xa*bf;function xy(t){if(t instanceof Jn)return new Jn(t.h,t.s,t.l,t.opacity);t instanceof ue||(t=ys(t));var e=t.r/255,i=t.g/255,a=t.b/255,o=(Af*a+Sf*e-Tf*i)/(Af+Sf-Tf),u=a-o,f=(rr*(i-o)-Ts*u)/xa,l=Math.sqrt(f*f+u*u)/(rr*o*(1-o)),d=l?Math.atan2(f,u)*df-120:NaN;return new Jn(d<0?d+360:d,l,o,t.opacity)}function je(t,e,i,a){return arguments.length===1?xy(t):new Jn(t,e,i,a??1)}function Jn(t,e,i,a){this.h=+t,this.s=+e,this.l=+i,this.opacity=+a}bi(Jn,je,nr(Rn,{brighter:function(t){return t=t==null?Si:Math.pow(Si,t),new Jn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Kn:Math.pow(Kn,t),new Jn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*hf,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),a=Math.cos(t),o=Math.sin(t);return new ue(255*(e+i*(bf*a+Ss*o)),255*(e+i*(Ts*a+xa*o)),255*(e+i*(rr*a)),this.opacity)}}));function Pf(t,e,i,a,o){var u=t*t,f=u*t;return((1-3*t+3*u-f)*e+(4-6*u+3*f)*i+(1+3*t+3*u-3*f)*a+f*o)/6}function Cf(t){var e=t.length-1;return function(i){var a=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),o=t[a],u=t[a+1],f=a>0?t[a-1]:2*o-u,l=a<e-1?t[a+2]:2*u-o;return Pf((i-a/e)*e,f,o,u,l)}}function Lf(t){var e=t.length;return function(i){var a=Math.floor(((i%=1)<0?++i:i)*e),o=t[(a+e-1)%e],u=t[a%e],f=t[(a+1)%e],l=t[(a+2)%e];return Pf((i-a/e)*e,o,u,f,l)}}function wa(t){return function(){return t}}function Mf(t,e){return function(i){return t+i*e}}function wy(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(a){return Math.pow(t+a*e,i)}}function ba(t,e){var i=e-t;return i?Mf(t,i>180||i<-180?i-360*Math.round(i/360):i):wa(isNaN(t)?e:t)}function by(t){return(t=+t)==1?ae:function(e,i){return i-e?wy(e,i,t):wa(isNaN(e)?i:e)}}function ae(t,e){var i=e-t;return i?Mf(t,i):wa(isNaN(t)?e:t)}var ar=function t(e){var i=by(e);function a(o,u){var f=i((o=Ai(o)).r,(u=Ai(u)).r),l=i(o.g,u.g),d=i(o.b,u.b),g=ae(o.opacity,u.opacity);return function(y){return o.r=f(y),o.g=l(y),o.b=d(y),o.opacity=g(y),o+""}}return a.gamma=t,a}(1);function $f(t){return function(e){var i=e.length,a=new Array(i),o=new Array(i),u=new Array(i),f,l;for(f=0;f<i;++f)l=Ai(e[f]),a[f]=l.r||0,o[f]=l.g||0,u[f]=l.b||0;return a=t(a),o=t(o),u=t(u),l.opacity=1,function(d){return l.r=a(d),l.g=o(d),l.b=u(d),l+""}}}var Ef=$f(Cf),Sy=$f(Lf);function As(t,e){e||(e=[]);var i=t?Math.min(e.length,t.length):0,a=e.slice(),o;return function(u){for(o=0;o<i;++o)a[o]=t[o]*(1-u)+e[o]*u;return a}}function kf(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ty(t,e){return(kf(e)?As:Rf)(t,e)}function Rf(t,e){var i=e?e.length:0,a=t?Math.min(i,t.length):0,o=new Array(a),u=new Array(i),f;for(f=0;f<a;++f)o[f]=or(t[f],e[f]);for(;f<i;++f)u[f]=e[f];return function(l){for(f=0;f<a;++f)u[f]=o[f](l);return u}}function Vf(t,e){var i=new Date;return t=+t,e=+e,function(a){return i.setTime(t*(1-a)+e*a),i}}function ze(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function Gf(t,e){var i={},a={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?i[o]=or(t[o],e[o]):a[o]=e[o];return function(u){for(o in i)a[o]=i[o](u);return a}}var Ps=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cs=new RegExp(Ps.source,"g");function Ay(t){return function(){return t}}function Py(t){return function(e){return t(e)+""}}function Ls(t,e){var i=Ps.lastIndex=Cs.lastIndex=0,a,o,u,f=-1,l=[],d=[];for(t=t+"",e=e+"";(a=Ps.exec(t))&&(o=Cs.exec(e));)(u=o.index)>i&&(u=e.slice(i,u),l[f]?l[f]+=u:l[++f]=u),(a=a[0])===(o=o[0])?l[f]?l[f]+=o:l[++f]=o:(l[++f]=null,d.push({i:f,x:ze(a,o)})),i=Cs.lastIndex;return i<e.length&&(u=e.slice(i),l[f]?l[f]+=u:l[++f]=u),l.length<2?d[0]?Py(d[0].x):Ay(e):(e=d.length,function(g){for(var y=0,m;y<e;++y)l[(m=d[y]).i]=m.x(g);return l.join("")})}function or(t,e){var i=typeof e,a;return e==null||i==="boolean"?wa(e):(i==="number"?ze:i==="string"?(a=Vn(e))?(e=a,ar):Ls:e instanceof Vn?ar:e instanceof Date?Vf:kf(e)?As:Array.isArray(e)?Rf:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Gf:ze)(t,e)}function Cy(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}function Ly(t,e){var i=ba(+t,+e);return function(a){var o=i(a);return o-360*Math.floor(o/360)}}function Of(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}var Nf=180/Math.PI,Ms={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function If(t,e,i,a,o,u){var f,l,d;return(f=Math.sqrt(t*t+e*e))&&(t/=f,e/=f),(d=t*i+e*a)&&(i-=t*d,a-=e*d),(l=Math.sqrt(i*i+a*a))&&(i/=l,a/=l,d/=l),t*a<e*i&&(t=-t,e=-e,d=-d,f=-f),{translateX:o,translateY:u,rotate:Math.atan2(e,t)*Nf,skewX:Math.atan(d)*Nf,scaleX:f,scaleY:l}}var sr,$s,Df,Sa;function My(t){return t==="none"?Ms:(sr||(sr=document.createElement("DIV"),$s=document.documentElement,Df=document.defaultView),sr.style.transform=t,t=Df.getComputedStyle($s.appendChild(sr),null).getPropertyValue("transform"),$s.removeChild(sr),t=t.slice(7,-1).split(","),If(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function $y(t){return t==null||(Sa||(Sa=document.createElementNS("http://www.w3.org/2000/svg","g")),Sa.setAttribute("transform",t),!(t=Sa.transform.baseVal.consolidate()))?Ms:(t=t.matrix,If(t.a,t.b,t.c,t.d,t.e,t.f))}function Ff(t,e,i,a){function o(g){return g.length?g.pop()+" ":""}function u(g,y,m,_,x,S){if(g!==m||y!==_){var b=x.push("translate(",null,e,null,i);S.push({i:b-4,x:ze(g,m)},{i:b-2,x:ze(y,_)})}else(m||_)&&x.push("translate("+m+e+_+i)}function f(g,y,m,_){g!==y?(g-y>180?y+=360:y-g>180&&(g+=360),_.push({i:m.push(o(m)+"rotate(",null,a)-2,x:ze(g,y)})):y&&m.push(o(m)+"rotate("+y+a)}function l(g,y,m,_){g!==y?_.push({i:m.push(o(m)+"skewX(",null,a)-2,x:ze(g,y)}):y&&m.push(o(m)+"skewX("+y+a)}function d(g,y,m,_,x,S){if(g!==m||y!==_){var b=x.push(o(x)+"scale(",null,",",null,")");S.push({i:b-4,x:ze(g,m)},{i:b-2,x:ze(y,_)})}else(m!==1||_!==1)&&x.push(o(x)+"scale("+m+","+_+")")}return function(g,y){var m=[],_=[];return g=t(g),y=t(y),u(g.translateX,g.translateY,y.translateX,y.translateY,m,_),f(g.rotate,y.rotate,m,_),l(g.skewX,y.skewX,m,_),d(g.scaleX,g.scaleY,y.scaleX,y.scaleY,m,_),g=y=null,function(x){for(var S=-1,b=_.length,T;++S<b;)m[(T=_[S]).i]=T.x(x);return m.join("")}}}var zf=Ff(My,"px, ","px)","deg)"),Xf=Ff($y,", ",")",")"),ur=Math.SQRT2,Es=2,Yf=4,Ey=1e-12;function Bf(t){return((t=Math.exp(t))+1/t)/2}function ky(t){return((t=Math.exp(t))-1/t)/2}function Ry(t){return((t=Math.exp(2*t))-1)/(t+1)}function Hf(t,e){var i=t[0],a=t[1],o=t[2],u=e[0],f=e[1],l=e[2],d=u-i,g=f-a,y=d*d+g*g,m,_;if(y<Ey)_=Math.log(l/o)/ur,m=function(k){return[i+k*d,a+k*g,o*Math.exp(ur*k*_)]};else{var x=Math.sqrt(y),S=(l*l-o*o+Yf*y)/(2*o*Es*x),b=(l*l-o*o-Yf*y)/(2*l*Es*x),T=Math.log(Math.sqrt(S*S+1)-S),P=Math.log(Math.sqrt(b*b+1)-b);_=(P-T)/ur,m=function(k){var L=k*_,$=Bf(T),O=o/(Es*x)*($*Ry(ur*L+T)-ky(T));return[i+O*d,a+O*g,o*$/Bf(ur*L+T)]}}return m.duration=_*1e3,m}function Uf(t){return function(e,i){var a=t((e=ya(e)).h,(i=ya(i)).h),o=ae(e.s,i.s),u=ae(e.l,i.l),f=ae(e.opacity,i.opacity);return function(l){return e.h=a(l),e.s=o(l),e.l=u(l),e.opacity=f(l),e+""}}}var Vy=Uf(ba),Gy=Uf(ae);function Oy(t,e){var i=ae((t=ma(t)).l,(e=ma(e)).l),a=ae(t.a,e.a),o=ae(t.b,e.b),u=ae(t.opacity,e.opacity);return function(f){return t.l=i(f),t.a=a(f),t.b=o(f),t.opacity=u(f),t+""}}function Wf(t){return function(e,i){var a=t((e=va(e)).h,(i=va(i)).h),o=ae(e.c,i.c),u=ae(e.l,i.l),f=ae(e.opacity,i.opacity);return function(l){return e.h=a(l),e.c=o(l),e.l=u(l),e.opacity=f(l),e+""}}}var Ny=Wf(ba),Iy=Wf(ae);function qf(t){return function e(i){i=+i;function a(o,u){var f=t((o=je(o)).h,(u=je(u)).h),l=ae(o.s,u.s),d=ae(o.l,u.l),g=ae(o.opacity,u.opacity);return function(y){return o.h=f(y),o.s=l(y),o.l=d(Math.pow(y,i)),o.opacity=g(y),o+""}}return a.gamma=e,a}(1)}var Dy=qf(ba),Ta=qf(ae);function Fy(t,e){for(var i=0,a=e.length-1,o=e[0],u=new Array(a<0?0:a);i<a;)u[i]=t(o,o=e[++i]);return function(f){var l=Math.max(0,Math.min(a-1,Math.floor(f*=a)));return u[l](f-l)}}function zy(t,e){for(var i=new Array(e),a=0;a<e;++a)i[a]=t(a/(e-1));return i}var Ci=0,cr=0,fr=0,Qf=1e3,Aa,lr,Pa=0,ti=0,Ca=0,hr=typeof performance=="object"&&performance.now?performance:Date,Zf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Li(){return ti||(Zf(Xy),ti=hr.now()+Ca)}function Xy(){ti=0}function dr(){this._call=this._time=this._next=null}dr.prototype=La.prototype={constructor:dr,restart:function(t,e,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?Li():+i)+(e==null?0:+e),!this._next&&lr!==this&&(lr?lr._next=this:Aa=this,lr=this),this._call=t,this._time=i,ks()},stop:function(){this._call&&(this._call=null,this._time=1/0,ks())}};function La(t,e,i){var a=new dr;return a.restart(t,e,i),a}function jf(){Li(),++Ci;for(var t=Aa,e;t;)(e=ti-t._time)>=0&&t._call.call(null,e),t=t._next;--Ci}function Kf(){ti=(Pa=hr.now())+Ca,Ci=cr=0;try{jf()}finally{Ci=0,By(),ti=0}}function Yy(){var t=hr.now(),e=t-Pa;e>Qf&&(Ca-=e,Pa=t)}function By(){for(var t,e=Aa,i,a=1/0;e;)e._call?(a>e._time&&(a=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:Aa=i);lr=t,ks(a)}function ks(t){if(!Ci){cr&&(cr=clearTimeout(cr));var e=t-ti;e>24?(t<1/0&&(cr=setTimeout(Kf,t-hr.now()-Ca)),fr&&(fr=clearInterval(fr))):(fr||(Pa=hr.now(),fr=setInterval(Yy,Qf)),Ci=1,Zf(Kf))}}function Rs(t,e,i){var a=new dr;return e=e==null?0:+e,a.restart(function(o){a.stop(),t(o+e)},e,i),a}function Hy(t,e,i){var a=new dr,o=e;return e==null?(a.restart(t,e,i),a):(e=+e,i=i==null?Li():+i,a.restart(function u(f){f+=o,a.restart(u,o+=e,i),t(f)},e,i),a)}var Uy=Wt("start","end","cancel","interrupt"),Wy=[],Jf=0,Vs=1,Gs=2,Ma=3,tl=4,Os=5,$a=6;function Ea(t,e,i,a,o,u){var f=t.__transition;if(!f)t.__transition={};else if(i in f)return;qy(t,i,{name:e,index:a,group:o,on:Uy,tween:Wy,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Jf})}function Ns(t,e){var i=Ke(t,e);if(i.state>Jf)throw new Error("too late; already scheduled");return i}function mn(t,e){var i=Ke(t,e);if(i.state>Ma)throw new Error("too late; already running");return i}function Ke(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function qy(t,e,i){var a=t.__transition,o;a[e]=i,i.timer=La(u,0,i.time);function u(g){i.state=Vs,i.timer.restart(f,i.delay,i.time),i.delay<=g&&f(g-i.delay)}function f(g){var y,m,_,x;if(i.state!==Vs)return d();for(y in a)if(x=a[y],x.name===i.name){if(x.state===Ma)return Rs(f);x.state===tl?(x.state=$a,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete a[y]):+y<e&&(x.state=$a,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete a[y])}if(Rs(function(){i.state===Ma&&(i.state=tl,i.timer.restart(l,i.delay,i.time),l(g))}),i.state=Gs,i.on.call("start",t,t.__data__,i.index,i.group),i.state===Gs){for(i.state=Ma,o=new Array(_=i.tween.length),y=0,m=-1;y<_;++y)(x=i.tween[y].value.call(t,t.__data__,i.index,i.group))&&(o[++m]=x);o.length=m+1}}function l(g){for(var y=g<i.duration?i.ease.call(null,g/i.duration):(i.timer.restart(d),i.state=Os,1),m=-1,_=o.length;++m<_;)o[m].call(t,y);i.state===Os&&(i.on.call("end",t,t.__data__,i.index,i.group),d())}function d(){i.state=$a,i.timer.stop(),delete a[e];for(var g in a)return;delete t.__transition}}function ei(t,e){var i=t.__transition,a,o,u=!0,f;if(i){e=e==null?null:e+"";for(f in i){if((a=i[f]).name!==e){u=!1;continue}o=a.state>Gs&&a.state<Os,a.state=$a,a.timer.stop(),a.on.call(o?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete i[f]}u&&delete t.__transition}}function Qy(t){return this.each(function(){ei(this,t)})}function Zy(t,e){var i,a;return function(){var o=mn(this,t),u=o.tween;if(u!==i){a=i=u;for(var f=0,l=a.length;f<l;++f)if(a[f].name===e){a=a.slice(),a.splice(f,1);break}}o.tween=a}}function jy(t,e,i){var a,o;if(typeof i!="function")throw new Error;return function(){var u=mn(this,t),f=u.tween;if(f!==a){o=(a=f).slice();for(var l={name:e,value:i},d=0,g=o.length;d<g;++d)if(o[d].name===e){o[d]=l;break}d===g&&o.push(l)}u.tween=o}}function Ky(t,e){var i=this._id;if(t+="",arguments.length<2){for(var a=Ke(this.node(),i).tween,o=0,u=a.length,f;o<u;++o)if((f=a[o]).name===t)return f.value;return null}return this.each((e==null?Zy:jy)(i,t,e))}function Is(t,e,i){var a=t._id;return t.each(function(){var o=mn(this,a);(o.value||(o.value={}))[e]=i.apply(this,arguments)}),function(o){return Ke(o,a).value[e]}}function el(t,e){var i;return(typeof e=="number"?ze:e instanceof Vn?ar:(i=Vn(e))?(e=i,ar):Ls)(t,e)}function Jy(t){return function(){this.removeAttribute(t)}}function t_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function e_(t,e,i){var a,o=i+"",u;return function(){var f=this.getAttribute(t);return f===o?null:f===a?u:u=e(a=f,i)}}function n_(t,e,i){var a,o=i+"",u;return function(){var f=this.getAttributeNS(t.space,t.local);return f===o?null:f===a?u:u=e(a=f,i)}}function i_(t,e,i){var a,o,u;return function(){var f,l=i(this),d;return l==null?void this.removeAttribute(t):(f=this.getAttribute(t),d=l+"",f===d?null:f===a&&d===o?u:(o=d,u=e(a=f,l)))}}function r_(t,e,i){var a,o,u;return function(){var f,l=i(this),d;return l==null?void this.removeAttributeNS(t.space,t.local):(f=this.getAttributeNS(t.space,t.local),d=l+"",f===d?null:f===a&&d===o?u:(o=d,u=e(a=f,l)))}}function a_(t,e){var i=gt(t),a=i==="transform"?Xf:el;return this.attrTween(t,typeof e=="function"?(i.local?r_:i_)(i,a,Is(this,"attr."+t,e)):e==null?(i.local?t_:Jy)(i):(i.local?n_:e_)(i,a,e))}function o_(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function s_(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function u_(t,e){var i,a;function o(){var u=e.apply(this,arguments);return u!==a&&(i=(a=u)&&s_(t,u)),i}return o._value=e,o}function c_(t,e){var i,a;function o(){var u=e.apply(this,arguments);return u!==a&&(i=(a=u)&&o_(t,u)),i}return o._value=e,o}function f_(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var a=gt(t);return this.tween(i,(a.local?u_:c_)(a,e))}function l_(t,e){return function(){Ns(this,t).delay=+e.apply(this,arguments)}}function h_(t,e){return e=+e,function(){Ns(this,t).delay=e}}function d_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?l_:h_)(e,t)):Ke(this.node(),e).delay}function g_(t,e){return function(){mn(this,t).duration=+e.apply(this,arguments)}}function p_(t,e){return e=+e,function(){mn(this,t).duration=e}}function y_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?g_:p_)(e,t)):Ke(this.node(),e).duration}function __(t,e){if(typeof e!="function")throw new Error;return function(){mn(this,t).ease=e}}function m_(t){var e=this._id;return arguments.length?this.each(__(e,t)):Ke(this.node(),e).ease}function v_(t){typeof t!="function"&&(t=xi(t));for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o)for(var u=e[o],f=u.length,l=a[o]=[],d,g=0;g<f;++g)(d=u[g])&&t.call(d,d.__data__,g,u)&&l.push(d);return new ln(a,this._parents,this._name,this._id)}function x_(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,a=e.length,o=i.length,u=Math.min(a,o),f=new Array(a),l=0;l<u;++l)for(var d=e[l],g=i[l],y=d.length,m=f[l]=new Array(y),_,x=0;x<y;++x)(_=d[x]||g[x])&&(m[x]=_);for(;l<a;++l)f[l]=e[l];return new ln(f,this._parents,this._name,this._id)}function w_(t){return(t+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function b_(t,e,i){var a,o,u=w_(e)?Ns:mn;return function(){var f=u(this,t),l=f.on;l!==a&&(o=(a=l).copy()).on(e,i),f.on=o}}function S_(t,e){var i=this._id;return arguments.length<2?Ke(this.node(),i).on.on(t):this.each(b_(i,t,e))}function T_(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function A_(){return this.on("end.remove",T_(this._id))}function P_(t){var e=this._name,i=this._id;typeof t!="function"&&(t=ve(t));for(var a=this._groups,o=a.length,u=new Array(o),f=0;f<o;++f)for(var l=a[f],d=l.length,g=u[f]=new Array(d),y,m,_=0;_<d;++_)(y=l[_])&&(m=t.call(y,y.__data__,_,l))&&("__data__"in y&&(m.__data__=y.__data__),g[_]=m,Ea(g[_],e,i,_,g,Ke(y,i)));return new ln(u,this._parents,e,i)}function C_(t){var e=this._name,i=this._id;typeof t!="function"&&(t=qn(t));for(var a=this._groups,o=a.length,u=[],f=[],l=0;l<o;++l)for(var d=a[l],g=d.length,y,m=0;m<g;++m)if(y=d[m]){for(var _=t.call(y,y.__data__,m,d),x,S=Ke(y,i),b=0,T=_.length;b<T;++b)(x=_[b])&&Ea(x,e,i,b,_,S);u.push(_),f.push(y)}return new ln(u,f,e,i)}var L_=Zn.prototype.constructor;function M_(){return new L_(this._groups,this._parents)}function $_(t,e){var i,a,o;return function(){var u=Qn(this,t),f=(this.style.removeProperty(t),Qn(this,t));return u===f?null:u===i&&f===a?o:o=e(i=u,a=f)}}function nl(t){return function(){this.style.removeProperty(t)}}function E_(t,e,i){var a,o=i+"",u;return function(){var f=Qn(this,t);return f===o?null:f===a?u:u=e(a=f,i)}}function k_(t,e,i){var a,o,u;return function(){var f=Qn(this,t),l=i(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(t),Qn(this,t))),f===d?null:f===a&&d===o?u:(o=d,u=e(a=f,l))}}function R_(t,e){var i,a,o,u="style."+e,f="end."+u,l;return function(){var d=mn(this,t),g=d.on,y=d.value[u]==null?l||(l=nl(e)):void 0;(g!==i||o!==y)&&(a=(i=g).copy()).on(f,o=y),d.on=a}}function V_(t,e,i){var a=(t+="")=="transform"?zf:el;return e==null?this.styleTween(t,$_(t,a)).on("end.style."+t,nl(t)):typeof e=="function"?this.styleTween(t,k_(t,a,Is(this,"style."+t,e))).each(R_(this._id,t)):this.styleTween(t,E_(t,a,e),i).on("end.style."+t,null)}function G_(t,e,i){return function(a){this.style.setProperty(t,e.call(this,a),i)}}function O_(t,e,i){var a,o;function u(){var f=e.apply(this,arguments);return f!==o&&(a=(o=f)&&G_(t,f,i)),a}return u._value=e,u}function N_(t,e,i){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!="function")throw new Error;return this.tween(a,O_(t,e,i??""))}function I_(t){return function(){this.textContent=t}}function D_(t){return function(){var e=t(this);this.textContent=e??""}}function F_(t){return this.tween("text",typeof t=="function"?D_(Is(this,"text",t)):I_(t==null?"":t+""))}function z_(t){return function(e){this.textContent=t.call(this,e)}}function X_(t){var e,i;function a(){var o=t.apply(this,arguments);return o!==i&&(e=(i=o)&&z_(o)),e}return a._value=t,a}function Y_(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,X_(t))}function B_(){for(var t=this._name,e=this._id,i=rl(),a=this._groups,o=a.length,u=0;u<o;++u)for(var f=a[u],l=f.length,d,g=0;g<l;++g)if(d=f[g]){var y=Ke(d,e);Ea(d,t,i,g,f,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new ln(a,this._parents,t,i)}function H_(){var t,e,i=this,a=i._id,o=i.size();return new Promise(function(u,f){var l={value:f},d={value:function(){--o===0&&u()}};i.each(function(){var g=mn(this,a),y=g.on;y!==t&&(e=(t=y).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(d)),g.on=e})})}var U_=0;function ln(t,e,i,a){this._groups=t,this._parents=e,this._name=i,this._id=a}function il(t){return Zn().transition(t)}function rl(){return++U_}var Mi=Zn.prototype;ln.prototype=il.prototype={constructor:ln,select:P_,selectAll:C_,filter:v_,merge:x_,selection:M_,transition:B_,call:Mi.call,nodes:Mi.nodes,node:Mi.node,size:Mi.size,empty:Mi.empty,each:Mi.each,on:S_,attr:a_,attrTween:f_,style:V_,styleTween:N_,text:F_,textTween:Y_,remove:A_,tween:Ky,delay:d_,duration:y_,ease:m_,end:H_};function W_(t){return+t}function q_(t){return t*t}function Q_(t){return t*(2-t)}function al(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Z_(t){return t*t*t}function j_(t){return--t*t*t+1}function Ds(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Fs=3,K_=function t(e){e=+e;function i(a){return Math.pow(a,e)}return i.exponent=t,i}(Fs),J_=function t(e){e=+e;function i(a){return 1-Math.pow(1-a,e)}return i.exponent=t,i}(Fs),ol=function t(e){e=+e;function i(a){return((a*=2)<=1?Math.pow(a,e):2-Math.pow(2-a,e))/2}return i.exponent=t,i}(Fs),sl=Math.PI,ul=sl/2;function t1(t){return 1-Math.cos(t*ul)}function e1(t){return Math.sin(t*ul)}function cl(t){return(1-Math.cos(sl*t))/2}function n1(t){return Math.pow(2,10*t-10)}function i1(t){return 1-Math.pow(2,-10*t)}function fl(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function r1(t){return 1-Math.sqrt(1-t*t)}function a1(t){return Math.sqrt(1- --t*t)}function ll(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var zs=4/11,o1=6/11,s1=8/11,u1=3/4,c1=9/11,f1=10/11,l1=15/16,h1=21/22,d1=63/64,ka=1/zs/zs;function g1(t){return 1-gr(1-t)}function gr(t){return(t=+t)<zs?ka*t*t:t<s1?ka*(t-=o1)*t+u1:t<f1?ka*(t-=c1)*t+l1:ka*(t-=h1)*t+d1}function p1(t){return((t*=2)<=1?1-gr(1-t):gr(t-1)+1)/2}var Xs=1.70158,y1=function t(e){e=+e;function i(a){return a*a*((e+1)*a-e)}return i.overshoot=t,i}(Xs),_1=function t(e){e=+e;function i(a){return--a*a*((e+1)*a+e)+1}return i.overshoot=t,i}(Xs),hl=function t(e){e=+e;function i(a){return((a*=2)<1?a*a*((e+1)*a-e):(a-=2)*a*((e+1)*a+e)+2)/2}return i.overshoot=t,i}(Xs),$i=2*Math.PI,Ys=1,Bs=.3,m1=function t(e,i){var a=Math.asin(1/(e=Math.max(1,e)))*(i/=$i);function o(u){return e*Math.pow(2,10*--u)*Math.sin((a-u)/i)}return o.amplitude=function(u){return t(u,i*$i)},o.period=function(u){return t(e,u)},o}(Ys,Bs),dl=function t(e,i){var a=Math.asin(1/(e=Math.max(1,e)))*(i/=$i);function o(u){return 1-e*Math.pow(2,-10*(u=+u))*Math.sin((u+a)/i)}return o.amplitude=function(u){return t(u,i*$i)},o.period=function(u){return t(e,u)},o}(Ys,Bs),v1=function t(e,i){var a=Math.asin(1/(e=Math.max(1,e)))*(i/=$i);function o(u){return((u=u*2-1)<0?e*Math.pow(2,10*u)*Math.sin((a-u)/i):2-e*Math.pow(2,-10*u)*Math.sin((a+u)/i))/2}return o.amplitude=function(u){return t(u,i*$i)},o.period=function(u){return t(e,u)},o}(Ys,Bs),Hs={time:null,delay:0,duration:250,ease:Ds};function x1(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))return Hs.time=Li(),Hs;return i}function w1(t){var e,i;t instanceof ln?(e=t._id,t=t._name):(e=rl(),(i=Hs).time=Li(),t=t==null?null:t+"");for(var a=this._groups,o=a.length,u=0;u<o;++u)for(var f=a[u],l=f.length,d,g=0;g<l;++g)(d=f[g])&&Ea(d,t,e,g,f,i||x1(d,e));return new ln(a,this._parents,t,e)}Zn.prototype.interrupt=Qy,Zn.prototype.transition=w1;var b1=[null];function S1(t,e){var i=t.__transition,a,o;if(i){e=e==null?null:e+"";for(o in i)if((a=i[o]).state>Vs&&a.name===e)return new ln([[t]],b1,e,+o)}return null}function Us(t){return function(){return t}}function T1(t,e,i){this.target=t,this.type=e,this.selection=i}function gl(){h.event.stopImmediatePropagation()}function Ws(){h.event.preventDefault(),h.event.stopImmediatePropagation()}var pl={name:"drag"},qs={name:"space"},Ei={name:"handle"},ki={name:"center"};function yl(t){return[+t[0],+t[1]]}function Qs(t){return[yl(t[0]),yl(t[1])]}function A1(t){return function(e){return er(e,h.event.touches,t)}}var Ra={name:"x",handles:["w","e"].map(pr),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Va={name:"y",handles:["n","s"].map(pr),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},P1={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(pr),input:function(t){return t==null?null:Qs(t)},output:function(t){return t}},vn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_l={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ml={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},C1={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},L1={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function pr(t){return{type:t}}function M1(){return!h.event.ctrlKey&&!h.event.button}function $1(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function E1(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zs(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function k1(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function R1(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function V1(){return js(Ra)}function G1(){return js(Va)}function O1(){return js(P1)}function js(t){var e=$1,i=M1,a=E1,o=!0,u=Wt("start","brush","end"),f=6,l;function d(T){var P=T.property("__brush",b).selectAll(".overlay").data([pr("overlay")]);P.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",vn.overlay).merge(P).each(function(){var L=Zs(this).extent;Re(this).attr("x",L[0][0]).attr("y",L[0][1]).attr("width",L[1][0]-L[0][0]).attr("height",L[1][1]-L[0][1])}),T.selectAll(".selection").data([pr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",vn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var k=T.selectAll(".handle").data(t.handles,function(L){return L.type});k.exit().remove(),k.enter().append("rect").attr("class",function(L){return"handle handle--"+L.type}).attr("cursor",function(L){return vn[L.type]}),T.each(g).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",_).filter(a).on("touchstart.brush",_).on("touchmove.brush",x).on("touchend.brush touchcancel.brush",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.move=function(T,P){T.selection?T.on("start.brush",function(){y(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){y(this,arguments).end()}).tween("brush",function(){var k=this,L=k.__brush,$=y(k,arguments),O=L.selection,F=t.input(typeof P=="function"?P.apply(this,arguments):P,L.extent),I=or(O,F);function q(B){L.selection=B===1&&F===null?null:I(B),g.call(k),$.brush()}return O!==null&&F!==null?q:q(1)}):T.each(function(){var k=this,L=arguments,$=k.__brush,O=t.input(typeof P=="function"?P.apply(k,L):P,$.extent),F=y(k,L).beforestart();ei(k),$.selection=O===null?null:O,g.call(k),F.start().brush().end()})},d.clear=function(T){d.move(T,null)};function g(){var T=Re(this),P=Zs(this).selection;P?(T.selectAll(".selection").style("display",null).attr("x",P[0][0]).attr("y",P[0][1]).attr("width",P[1][0]-P[0][0]).attr("height",P[1][1]-P[0][1]),T.selectAll(".handle").style("display",null).attr("x",function(k){return k.type[k.type.length-1]==="e"?P[1][0]-f/2:P[0][0]-f/2}).attr("y",function(k){return k.type[0]==="s"?P[1][1]-f/2:P[0][1]-f/2}).attr("width",function(k){return k.type==="n"||k.type==="s"?P[1][0]-P[0][0]+f:f}).attr("height",function(k){return k.type==="e"||k.type==="w"?P[1][1]-P[0][1]+f:f})):T.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function y(T,P,k){return!k&&T.__brush.emitter||new m(T,P)}function m(T,P){this.that=T,this.args=P,this.state=T.__brush,this.active=0}m.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(T){tr(new T1(d,T,t.output(this.state.selection)),u.apply,u,[T,this.that,this.args])}};function _(){if(l&&!h.event.touches||!i.apply(this,arguments))return;var T=this,P=h.event.target.__data__.type,k=(o&&h.event.metaKey?P="overlay":P)==="selection"?pl:o&&h.event.altKey?ki:Ei,L=t===Va?null:C1[P],$=t===Ra?null:L1[P],O=Zs(T),F=O.extent,I=O.selection,q=F[0][0],B,U,X=F[0][1],R,z,Z=F[1][0],D,Q,at=F[1][1],it,st,yt=0,_t=0,Xt,It=L&&$&&o&&h.event.shiftKey,kt,jt,We=h.event.touches?A1(h.event.changedTouches[0].identifier):jn,nn=We(T),rn=nn,nt=y(T,arguments,!0).beforestart();P==="overlay"?(I&&(Xt=!0),O.selection=I=[[B=t===Va?q:nn[0],R=t===Ra?X:nn[1]],[D=t===Va?Z:B,it=t===Ra?at:R]]):(B=I[0][0],R=I[0][1],D=I[1][0],it=I[1][1]),U=B,z=R,Q=D,st=it;var mt=Re(T).attr("pointer-events","none"),Ct=mt.selectAll(".overlay").attr("cursor",vn[P]);if(h.event.touches)nt.moved=fe,nt.ended=pe;else{var K=Re(h.event.view).on("mousemove.brush",fe,!0).on("mouseup.brush",pe,!0);o&&K.on("keydown.brush",Me,!0).on("keyup.brush",Mn,!0),ha(h.event.view)}gl(),ei(T),g.call(T),nt.start();function fe(){var $e=We(T);It&&!kt&&!jt&&(Math.abs($e[0]-rn[0])>Math.abs($e[1]-rn[1])?jt=!0:kt=!0),rn=$e,Xt=!0,Ws(),Rt()}function Rt(){var $e;switch(yt=rn[0]-nn[0],_t=rn[1]-nn[1],k){case qs:case pl:{L&&(yt=Math.max(q-B,Math.min(Z-D,yt)),U=B+yt,Q=D+yt),$&&(_t=Math.max(X-R,Math.min(at-it,_t)),z=R+_t,st=it+_t);break}case Ei:{L<0?(yt=Math.max(q-B,Math.min(Z-B,yt)),U=B+yt,Q=D):L>0&&(yt=Math.max(q-D,Math.min(Z-D,yt)),U=B,Q=D+yt),$<0?(_t=Math.max(X-R,Math.min(at-R,_t)),z=R+_t,st=it):$>0&&(_t=Math.max(X-it,Math.min(at-it,_t)),z=R,st=it+_t);break}case ki:{L&&(U=Math.max(q,Math.min(Z,B-yt*L)),Q=Math.max(q,Math.min(Z,D+yt*L))),$&&(z=Math.max(X,Math.min(at,R-_t*$)),st=Math.max(X,Math.min(at,it+_t*$)));break}}Q<U&&(L*=-1,$e=B,B=D,D=$e,$e=U,U=Q,Q=$e,P in _l&&Ct.attr("cursor",vn[P=_l[P]])),st<z&&($*=-1,$e=R,R=it,it=$e,$e=z,z=st,st=$e,P in ml&&Ct.attr("cursor",vn[P=ml[P]])),O.selection&&(I=O.selection),kt&&(U=I[0][0],Q=I[1][0]),jt&&(z=I[0][1],st=I[1][1]),(I[0][0]!==U||I[0][1]!==z||I[1][0]!==Q||I[1][1]!==st)&&(O.selection=[[U,z],[Q,st]],g.call(T),nt.brush())}function pe(){if(gl(),h.event.touches){if(h.event.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else da(h.event.view,Xt),K.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);mt.attr("pointer-events","all"),Ct.attr("cursor",vn.overlay),O.selection&&(I=O.selection),k1(I)&&(O.selection=null,g.call(T)),nt.end()}function Me(){switch(h.event.keyCode){case 16:{It=L&&$;break}case 18:{k===Ei&&(L&&(D=Q-yt*L,B=U+yt*L),$&&(it=st-_t*$,R=z+_t*$),k=ki,Rt());break}case 32:{(k===Ei||k===ki)&&(L<0?D=Q-yt:L>0&&(B=U-yt),$<0?it=st-_t:$>0&&(R=z-_t),k=qs,Ct.attr("cursor",vn.selection),Rt());break}default:return}Ws()}function Mn(){switch(h.event.keyCode){case 16:{It&&(kt=jt=It=!1,Rt());break}case 18:{k===ki&&(L<0?D=Q:L>0&&(B=U),$<0?it=st:$>0&&(R=z),k=Ei,Rt());break}case 32:{k===qs&&(h.event.altKey?(L&&(D=Q-yt*L,B=U+yt*L),$&&(it=st-_t*$,R=z+_t*$),k=ki):(L<0?D=Q:L>0&&(B=U),$<0?it=st:$>0&&(R=z),k=Ei),Ct.attr("cursor",vn[P]),Rt());break}default:return}Ws()}}function x(){y(this,arguments).moved()}function S(){y(this,arguments).ended()}function b(){var T=this.__brush||{selection:null};return T.extent=Qs(e.apply(this,arguments)),T.dim=t,T}return d.extent=function(T){return arguments.length?(e=typeof T=="function"?T:Us(Qs(T)),d):e},d.filter=function(T){return arguments.length?(i=typeof T=="function"?T:Us(!!T),d):i},d.touchable=function(T){return arguments.length?(a=typeof T=="function"?T:Us(!!T),d):a},d.handleSize=function(T){return arguments.length?(f=+T,d):f},d.keyModifiers=function(T){return arguments.length?(o=!!T,d):o},d.on=function(){var T=u.on.apply(u,arguments);return T===u?d:T},d}var vl=Math.cos,xl=Math.sin,wl=Math.PI,Ga=wl/2,bl=wl*2,Sl=Math.max;function N1(t){return function(e,i){return t(e.source.value+e.target.value,i.source.value+i.target.value)}}function I1(){var t=0,e=null,i=null,a=null;function o(u){var f=u.length,l=[],d=me(f),g=[],y=[],m=y.groups=new Array(f),_=new Array(f*f),x,S,b,T,P,k;for(x=0,P=-1;++P<f;){for(S=0,k=-1;++k<f;)S+=u[P][k];l.push(S),g.push(me(f)),x+=S}for(e&&d.sort(function(U,X){return e(l[U],l[X])}),i&&g.forEach(function(U,X){U.sort(function(R,z){return i(u[X][R],u[X][z])})}),x=Sl(0,bl-t*f)/x,T=x?t:bl/f,S=0,P=-1;++P<f;){for(b=S,k=-1;++k<f;){var L=d[P],$=g[L][k],O=u[L][$],F=S,I=S+=O*x;_[$*f+L]={index:L,subindex:$,startAngle:F,endAngle:I,value:O}}m[L]={index:L,startAngle:b,endAngle:S,value:l[L]},S+=T}for(P=-1;++P<f;)for(k=P-1;++k<f;){var q=_[k*f+P],B=_[P*f+k];(q.value||B.value)&&y.push(q.value<B.value?{source:B,target:q}:{source:q,target:B})}return a?y.sort(a):y}return o.padAngle=function(u){return arguments.length?(t=Sl(0,u),o):t},o.sortGroups=function(u){return arguments.length?(e=u,o):e},o.sortSubgroups=function(u){return arguments.length?(i=u,o):i},o.sortChords=function(u){return arguments.length?(u==null?a=null:(a=N1(u))._=u,o):a&&a._},o}var D1=Array.prototype.slice;function Ks(t){return function(){return t}}var Js=Math.PI,tu=2*Js,ni=1e-6,F1=tu-ni;function eu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Gn(){return new eu}eu.prototype=Gn.prototype={constructor:eu,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,i,a){this._+="Q"+ +t+","+ +e+","+(this._x1=+i)+","+(this._y1=+a)},bezierCurveTo:function(t,e,i,a,o,u){this._+="C"+ +t+","+ +e+","+ +i+","+ +a+","+(this._x1=+o)+","+(this._y1=+u)},arcTo:function(t,e,i,a,o){t=+t,e=+e,i=+i,a=+a,o=+o;var u=this._x1,f=this._y1,l=i-t,d=a-e,g=u-t,y=f-e,m=g*g+y*y;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(m>ni)if(!(Math.abs(y*l-d*g)>ni)||!o)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var _=i-u,x=a-f,S=l*l+d*d,b=_*_+x*x,T=Math.sqrt(S),P=Math.sqrt(m),k=o*Math.tan((Js-Math.acos((S+m-b)/(2*T*P)))/2),L=k/P,$=k/T;Math.abs(L-1)>ni&&(this._+="L"+(t+L*g)+","+(e+L*y)),this._+="A"+o+","+o+",0,0,"+ +(y*_>g*x)+","+(this._x1=t+$*l)+","+(this._y1=e+$*d)}},arc:function(t,e,i,a,o,u){t=+t,e=+e,i=+i,u=!!u;var f=i*Math.cos(a),l=i*Math.sin(a),d=t+f,g=e+l,y=1^u,m=u?a-o:o-a;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+d+","+g:(Math.abs(this._x1-d)>ni||Math.abs(this._y1-g)>ni)&&(this._+="L"+d+","+g),i&&(m<0&&(m=m%tu+tu),m>F1?this._+="A"+i+","+i+",0,1,"+y+","+(t-f)+","+(e-l)+"A"+i+","+i+",0,1,"+y+","+(this._x1=d)+","+(this._y1=g):m>ni&&(this._+="A"+i+","+i+",0,"+ +(m>=Js)+","+y+","+(this._x1=t+i*Math.cos(o))+","+(this._y1=e+i*Math.sin(o))))},rect:function(t,e,i,a){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +i+"v"+ +a+"h"+-i+"Z"},toString:function(){return this._}};function z1(t){return t.source}function X1(t){return t.target}function Y1(t){return t.radius}function B1(t){return t.startAngle}function H1(t){return t.endAngle}function U1(){var t=z1,e=X1,i=Y1,a=B1,o=H1,u=null;function f(){var l,d=D1.call(arguments),g=t.apply(this,d),y=e.apply(this,d),m=+i.apply(this,(d[0]=g,d)),_=a.apply(this,d)-Ga,x=o.apply(this,d)-Ga,S=m*vl(_),b=m*xl(_),T=+i.apply(this,(d[0]=y,d)),P=a.apply(this,d)-Ga,k=o.apply(this,d)-Ga;if(u||(u=l=Gn()),u.moveTo(S,b),u.arc(0,0,m,_,x),(_!==P||x!==k)&&(u.quadraticCurveTo(0,0,T*vl(P),T*xl(P)),u.arc(0,0,T,P,k)),u.quadraticCurveTo(0,0,S,b),u.closePath(),l)return u=null,l+""||null}return f.radius=function(l){return arguments.length?(i=typeof l=="function"?l:Ks(+l),f):i},f.startAngle=function(l){return arguments.length?(a=typeof l=="function"?l:Ks(+l),f):a},f.endAngle=function(l){return arguments.length?(o=typeof l=="function"?l:Ks(+l),f):o},f.source=function(l){return arguments.length?(t=l,f):t},f.target=function(l){return arguments.length?(e=l,f):e},f.context=function(l){return arguments.length?(u=l??null,f):u},f}var Xe="$";function Oa(){}Oa.prototype=xn.prototype={constructor:Oa,has:function(t){return Xe+t in this},get:function(t){return this[Xe+t]},set:function(t,e){return this[Xe+t]=e,this},remove:function(t){var e=Xe+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Xe&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Xe&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Xe&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Xe&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Xe&&++t;return t},empty:function(){for(var t in this)if(t[0]===Xe)return!1;return!0},each:function(t){for(var e in this)e[0]===Xe&&t(this[e],e.slice(1),this)}};function xn(t,e){var i=new Oa;if(t instanceof Oa)t.each(function(l,d){i.set(d,l)});else if(Array.isArray(t)){var a=-1,o=t.length,u;if(e==null)for(;++a<o;)i.set(a,t[a]);else for(;++a<o;)i.set(e(u=t[a],a,t),u)}else if(t)for(var f in t)i.set(f,t[f]);return i}function W1(){var t=[],e=[],i,a,o;function u(l,d,g,y){if(d>=t.length)return i!=null&&l.sort(i),a!=null?a(l):l;for(var m=-1,_=l.length,x=t[d++],S,b,T=xn(),P,k=g();++m<_;)(P=T.get(S=x(b=l[m])+""))?P.push(b):T.set(S,[b]);return T.each(function(L,$){y(k,$,u(L,d,g,y))}),k}function f(l,d){if(++d>t.length)return l;var g,y=e[d-1];return a!=null&&d>=t.length?g=l.entries():(g=[],l.each(function(m,_){g.push({key:_,values:f(m,d)})})),y!=null?g.sort(function(m,_){return y(m.key,_.key)}):g}return o={object:function(l){return u(l,0,q1,Q1)},map:function(l){return u(l,0,Tl,Al)},entries:function(l){return f(u(l,0,Tl,Al),0)},key:function(l){return t.push(l),o},sortKeys:function(l){return e[t.length-1]=l,o},sortValues:function(l){return i=l,o},rollup:function(l){return a=l,o}}}function q1(){return{}}function Q1(t,e,i){t[e]=i}function Tl(){return xn()}function Al(t,e,i){t.set(e,i)}function Na(){}var ii=xn.prototype;Na.prototype=Pl.prototype={constructor:Na,has:ii.has,add:function(t){return t+="",this[Xe+t]=t,this},remove:ii.remove,clear:ii.clear,values:ii.keys,size:ii.size,empty:ii.empty,each:ii.each};function Pl(t,e){var i=new Na;if(t instanceof Na)t.each(function(u){i.add(u)});else if(t){var a=-1,o=t.length;if(e==null)for(;++a<o;)i.add(t[a]);else for(;++a<o;)i.add(e(t[a],a,t))}return i}function Z1(t){var e=[];for(var i in t)e.push(i);return e}function j1(t){var e=[];for(var i in t)e.push(t[i]);return e}function K1(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e}var J1=Array.prototype,Cl=J1.slice;function tm(t,e){return t-e}function em(t){for(var e=0,i=t.length,a=t[i-1][1]*t[0][0]-t[i-1][0]*t[0][1];++e<i;)a+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return a}function On(t){return function(){return t}}function nm(t,e){for(var i=-1,a=e.length,o;++i<a;)if(o=im(t,e[i]))return o;return 0}function im(t,e){for(var i=e[0],a=e[1],o=-1,u=0,f=t.length,l=f-1;u<f;l=u++){var d=t[u],g=d[0],y=d[1],m=t[l],_=m[0],x=m[1];if(rm(d,m,e))return 0;y>a!=x>a&&i<(_-g)*(a-y)/(x-y)+g&&(o=-o)}return o}function rm(t,e,i){var a;return am(t,e,i)&&om(t[a=+(t[0]===e[0])],i[a],e[a])}function am(t,e,i){return(e[0]-t[0])*(i[1]-t[1])===(i[0]-t[0])*(e[1]-t[1])}function om(t,e,i){return t<=e&&e<=i||i<=e&&e<=t}function sm(){}var wn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ll(){var t=1,e=1,i=vi,a=d;function o(g){var y=i(g);if(Array.isArray(y))y=y.slice().sort(tm);else{var m=le(g),_=m[0],x=m[1];y=_n(_,x,y),y=me(Math.floor(_/y)*y,Math.floor(x/y)*y,y)}return y.map(function(S){return u(g,S)})}function u(g,y){var m=[],_=[];return f(g,y,function(x){a(x,g,y),em(x)>0?m.push([x]):_.push(x)}),_.forEach(function(x){for(var S=0,b=m.length,T;S<b;++S)if(nm((T=m[S])[0],x)!==-1){T.push(x);return}}),{type:"MultiPolygon",value:y,coordinates:m}}function f(g,y,m){var _=new Array,x=new Array,S,b,T,P,k,L;for(S=b=-1,P=g[0]>=y,wn[P<<1].forEach($);++S<t-1;)T=P,P=g[S+1]>=y,wn[T|P<<1].forEach($);for(wn[P<<0].forEach($);++b<e-1;){for(S=-1,P=g[b*t+t]>=y,k=g[b*t]>=y,wn[P<<1|k<<2].forEach($);++S<t-1;)T=P,P=g[b*t+t+S+1]>=y,L=k,k=g[b*t+S+1]>=y,wn[T|P<<1|k<<2|L<<3].forEach($);wn[P|k<<3].forEach($)}for(S=-1,k=g[b*t]>=y,wn[k<<2].forEach($);++S<t-1;)L=k,k=g[b*t+S+1]>=y,wn[k<<2|L<<3].forEach($);wn[k<<3].forEach($);function $(O){var F=[O[0][0]+S,O[0][1]+b],I=[O[1][0]+S,O[1][1]+b],q=l(F),B=l(I),U,X;(U=x[q])?(X=_[B])?(delete x[U.end],delete _[X.start],U===X?(U.ring.push(I),m(U.ring)):_[U.start]=x[X.end]={start:U.start,end:X.end,ring:U.ring.concat(X.ring)}):(delete x[U.end],U.ring.push(I),x[U.end=B]=U):(U=_[B])?(X=x[q])?(delete _[U.start],delete x[X.end],U===X?(U.ring.push(I),m(U.ring)):_[X.start]=x[U.end]={start:X.start,end:U.end,ring:X.ring.concat(U.ring)}):(delete _[U.start],U.ring.unshift(F),_[U.start=q]=U):_[q]=x[B]={start:q,end:B,ring:[F,I]}}}function l(g){return g[0]*2+g[1]*(t+1)*4}function d(g,y,m){g.forEach(function(_){var x=_[0],S=_[1],b=x|0,T=S|0,P,k=y[T*t+b];x>0&&x<t&&b===x&&(P=y[T*t+b-1],_[0]=x+(m-P)/(k-P)-.5),S>0&&S<e&&T===S&&(P=y[(T-1)*t+b],_[1]=S+(m-P)/(k-P)-.5)})}return o.contour=u,o.size=function(g){if(!arguments.length)return[t,e];var y=Math.ceil(g[0]),m=Math.ceil(g[1]);if(!(y>0)||!(m>0))throw new Error("invalid size");return t=y,e=m,o},o.thresholds=function(g){return arguments.length?(i=typeof g=="function"?g:Array.isArray(g)?On(Cl.call(g)):On(g),o):i},o.smooth=function(g){return arguments.length?(a=g?d:sm,o):a===d},o}function nu(t,e,i){for(var a=t.width,o=t.height,u=(i<<1)+1,f=0;f<o;++f)for(var l=0,d=0;l<a+i;++l)l<a&&(d+=t.data[l+f*a]),l>=i&&(l>=u&&(d-=t.data[l-u+f*a]),e.data[l-i+f*a]=d/Math.min(l+1,a-1+u-l,u))}function iu(t,e,i){for(var a=t.width,o=t.height,u=(i<<1)+1,f=0;f<a;++f)for(var l=0,d=0;l<o+i;++l)l<o&&(d+=t.data[f+l*a]),l>=i&&(l>=u&&(d-=t.data[f+(l-u)*a]),e.data[f+(l-i)*a]=d/Math.min(l+1,o-1+u-l,u))}function um(t){return t[0]}function cm(t){return t[1]}function fm(){return 1}function lm(){var t=um,e=cm,i=fm,a=960,o=500,u=20,f=2,l=u*3,d=a+l*2>>f,g=o+l*2>>f,y=On(20);function m(P){var k=new Float32Array(d*g),L=new Float32Array(d*g);P.forEach(function(F,I,q){var B=+t(F,I,q)+l>>f,U=+e(F,I,q)+l>>f,X=+i(F,I,q);B>=0&&B<d&&U>=0&&U<g&&(k[B+U*d]+=X)}),nu({width:d,height:g,data:k},{width:d,height:g,data:L},u>>f),iu({width:d,height:g,data:L},{width:d,height:g,data:k},u>>f),nu({width:d,height:g,data:k},{width:d,height:g,data:L},u>>f),iu({width:d,height:g,data:L},{width:d,height:g,data:k},u>>f),nu({width:d,height:g,data:k},{width:d,height:g,data:L},u>>f),iu({width:d,height:g,data:L},{width:d,height:g,data:k},u>>f);var $=y(k);if(!Array.isArray($)){var O=n(k);$=_n(0,O,$),$=me(0,Math.floor(O/$)*$,$),$.shift()}return Ll().thresholds($).size([d,g])(k).map(_)}function _(P){return P.value*=Math.pow(2,-2*f),P.coordinates.forEach(x),P}function x(P){P.forEach(S)}function S(P){P.forEach(b)}function b(P){P[0]=P[0]*Math.pow(2,f)-l,P[1]=P[1]*Math.pow(2,f)-l}function T(){return l=u*3,d=a+l*2>>f,g=o+l*2>>f,m}return m.x=function(P){return arguments.length?(t=typeof P=="function"?P:On(+P),m):t},m.y=function(P){return arguments.length?(e=typeof P=="function"?P:On(+P),m):e},m.weight=function(P){return arguments.length?(i=typeof P=="function"?P:On(+P),m):i},m.size=function(P){if(!arguments.length)return[a,o];var k=Math.ceil(P[0]),L=Math.ceil(P[1]);if(!(k>=0)&&!(k>=0))throw new Error("invalid size");return a=k,o=L,T()},m.cellSize=function(P){if(!arguments.length)return 1<<f;if(!((P=+P)>=1))throw new Error("invalid cell size");return f=Math.floor(Math.log(P)/Math.LN2),T()},m.thresholds=function(P){return arguments.length?(y=typeof P=="function"?P:Array.isArray(P)?On(Cl.call(P)):On(P),m):y},m.bandwidth=function(P){if(!arguments.length)return Math.sqrt(u*(u+1));if(!((P=+P)>=0))throw new Error("invalid bandwidth");return u=Math.round((Math.sqrt(4*P*P+1)-1)/2),T()},m}var Ml={},ru={},au=34,yr=10,ou=13;function $l(t){return new Function("d","return {"+t.map(function(e,i){return JSON.stringify(e)+": d["+i+'] || ""'}).join(",")+"}")}function hm(t,e){var i=$l(t);return function(a,o){return e(i(a),o,t)}}function El(t){var e=Object.create(null),i=[];return t.forEach(function(a){for(var o in a)o in e||i.push(e[o]=o)}),i}function Ve(t,e){var i=t+"",a=i.length;return a<e?new Array(e-a+1).join(0)+i:i}function dm(t){return t<0?"-"+Ve(-t,6):t>9999?"+"+Ve(t,6):Ve(t,4)}function gm(t){var e=t.getUTCHours(),i=t.getUTCMinutes(),a=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":dm(t.getUTCFullYear())+"-"+Ve(t.getUTCMonth()+1,2)+"-"+Ve(t.getUTCDate(),2)+(o?"T"+Ve(e,2)+":"+Ve(i,2)+":"+Ve(a,2)+"."+Ve(o,3)+"Z":a?"T"+Ve(e,2)+":"+Ve(i,2)+":"+Ve(a,2)+"Z":i||e?"T"+Ve(e,2)+":"+Ve(i,2)+"Z":"")}function Ia(t){var e=new RegExp('["'+t+`
\r]`),i=t.charCodeAt(0);function a(m,_){var x,S,b=o(m,function(T,P){if(x)return x(T,P-1);S=T,x=_?hm(T,_):$l(T)});return b.columns=S||[],b}function o(m,_){var x=[],S=m.length,b=0,T=0,P,k=S<=0,L=!1;m.charCodeAt(S-1)===yr&&--S,m.charCodeAt(S-1)===ou&&--S;function $(){if(k)return ru;if(L)return L=!1,Ml;var F,I=b,q;if(m.charCodeAt(I)===au){for(;b++<S&&m.charCodeAt(b)!==au||m.charCodeAt(++b)===au;);return(F=b)>=S?k=!0:(q=m.charCodeAt(b++))===yr?L=!0:q===ou&&(L=!0,m.charCodeAt(b)===yr&&++b),m.slice(I+1,F-1).replace(/""/g,'"')}for(;b<S;){if((q=m.charCodeAt(F=b++))===yr)L=!0;else if(q===ou)L=!0,m.charCodeAt(b)===yr&&++b;else if(q!==i)continue;return m.slice(I,F)}return k=!0,m.slice(I,S)}for(;(P=$())!==ru;){for(var O=[];P!==Ml&&P!==ru;)O.push(P),P=$();_&&(O=_(O,T++))==null||x.push(O)}return x}function u(m,_){return m.map(function(x){return _.map(function(S){return y(x[S])}).join(t)})}function f(m,_){return _==null&&(_=El(m)),[_.map(y).join(t)].concat(u(m,_)).join(`
`)}function l(m,_){return _==null&&(_=El(m)),u(m,_).join(`
`)}function d(m){return m.map(g).join(`
`)}function g(m){return m.map(y).join(t)}function y(m){return m==null?"":m instanceof Date?gm(m):e.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m}return{parse:a,parseRows:o,format:f,formatBody:l,formatRows:d,formatRow:g,formatValue:y}}var ri=Ia(","),kl=ri.parse,pm=ri.parseRows,ym=ri.format,_m=ri.formatBody,mm=ri.formatRows,vm=ri.formatRow,xm=ri.formatValue,ai=Ia("	"),Rl=ai.parse,wm=ai.parseRows,bm=ai.format,Sm=ai.formatBody,Tm=ai.formatRows,Am=ai.formatRow,Pm=ai.formatValue;function Cm(t){for(var e in t){var i=t[e].trim(),a,o;if(!i)i=null;else if(i==="true")i=!0;else if(i==="false")i=!1;else if(i==="NaN")i=NaN;else if(!isNaN(a=+i))i=a;else if(o=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Lm&&o[4]&&!o[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i);else continue;t[e]=i}return t}var Lm=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Mm(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function $m(t,e){return fetch(t,e).then(Mm)}function Em(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function km(t,e){return fetch(t,e).then(Em)}function Rm(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Da(t,e){return fetch(t,e).then(Rm)}function Vl(t){return function(e,i,a){return arguments.length===2&&typeof i=="function"&&(a=i,i=void 0),Da(e,i).then(function(o){return t(o,a)})}}function Vm(t,e,i,a){arguments.length===3&&typeof i=="function"&&(a=i,i=void 0);var o=Ia(t);return Da(e,i).then(function(u){return o.parse(u,a)})}var Gm=Vl(kl),Om=Vl(Rl);function Nm(t,e){return new Promise(function(i,a){var o=new Image;for(var u in e)o[u]=e[u];o.onerror=a,o.onload=function(){i(o)},o.src=t})}function Im(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Dm(t,e){return fetch(t,e).then(Im)}function su(t){return function(e,i){return Da(e,i).then(function(a){return new DOMParser().parseFromString(a,t)})}}var Fm=su("application/xml"),zm=su("text/html"),Xm=su("image/svg+xml");function Ym(t,e){var i;t==null&&(t=0),e==null&&(e=0);function a(){var o,u=i.length,f,l=0,d=0;for(o=0;o<u;++o)f=i[o],l+=f.x,d+=f.y;for(l=l/u-t,d=d/u-e,o=0;o<u;++o)f=i[o],f.x-=l,f.y-=d}return a.initialize=function(o){i=o},a.x=function(o){return arguments.length?(t=+o,a):t},a.y=function(o){return arguments.length?(e=+o,a):e},a}function ne(t){return function(){return t}}function Nn(){return(Math.random()-.5)*1e-6}function Bm(t){var e=+this._x.call(null,t),i=+this._y.call(null,t);return Gl(this.cover(e,i),e,i,t)}function Gl(t,e,i,a){if(isNaN(e)||isNaN(i))return t;var o,u=t._root,f={data:a},l=t._x0,d=t._y0,g=t._x1,y=t._y1,m,_,x,S,b,T,P,k;if(!u)return t._root=f,t;for(;u.length;)if((b=e>=(m=(l+g)/2))?l=m:g=m,(T=i>=(_=(d+y)/2))?d=_:y=_,o=u,!(u=u[P=T<<1|b]))return o[P]=f,t;if(x=+t._x.call(null,u.data),S=+t._y.call(null,u.data),e===x&&i===S)return f.next=u,o?o[P]=f:t._root=f,t;do o=o?o[P]=new Array(4):t._root=new Array(4),(b=e>=(m=(l+g)/2))?l=m:g=m,(T=i>=(_=(d+y)/2))?d=_:y=_;while((P=T<<1|b)===(k=(S>=_)<<1|x>=m));return o[k]=u,o[P]=f,t}function Hm(t){var e,i,a=t.length,o,u,f=new Array(a),l=new Array(a),d=1/0,g=1/0,y=-1/0,m=-1/0;for(i=0;i<a;++i)isNaN(o=+this._x.call(null,e=t[i]))||isNaN(u=+this._y.call(null,e))||(f[i]=o,l[i]=u,o<d&&(d=o),o>y&&(y=o),u<g&&(g=u),u>m&&(m=u));if(d>y||g>m)return this;for(this.cover(d,g).cover(y,m),i=0;i<a;++i)Gl(this,f[i],l[i],t[i]);return this}function Um(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var i=this._x0,a=this._y0,o=this._x1,u=this._y1;if(isNaN(i))o=(i=Math.floor(t))+1,u=(a=Math.floor(e))+1;else{for(var f=o-i,l=this._root,d,g;i>t||t>=o||a>e||e>=u;)switch(g=(e<a)<<1|t<i,d=new Array(4),d[g]=l,l=d,f*=2,g){case 0:o=i+f,u=a+f;break;case 1:i=o-f,u=a+f;break;case 2:o=i+f,a=u-f;break;case 3:i=o-f,a=u-f;break}this._root&&this._root.length&&(this._root=l)}return this._x0=i,this._y0=a,this._x1=o,this._y1=u,this}function Wm(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function qm(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function we(t,e,i,a,o){this.node=t,this.x0=e,this.y0=i,this.x1=a,this.y1=o}function Qm(t,e,i){var a,o=this._x0,u=this._y0,f,l,d,g,y=this._x1,m=this._y1,_=[],x=this._root,S,b;for(x&&_.push(new we(x,o,u,y,m)),i==null?i=1/0:(o=t-i,u=e-i,y=t+i,m=e+i,i*=i);S=_.pop();)if(!(!(x=S.node)||(f=S.x0)>y||(l=S.y0)>m||(d=S.x1)<o||(g=S.y1)<u))if(x.length){var T=(f+d)/2,P=(l+g)/2;_.push(new we(x[3],T,P,d,g),new we(x[2],f,P,T,g),new we(x[1],T,l,d,P),new we(x[0],f,l,T,P)),(b=(e>=P)<<1|t>=T)&&(S=_[_.length-1],_[_.length-1]=_[_.length-1-b],_[_.length-1-b]=S)}else{var k=t-+this._x.call(null,x.data),L=e-+this._y.call(null,x.data),$=k*k+L*L;if($<i){var O=Math.sqrt(i=$);o=t-O,u=e-O,y=t+O,m=e+O,a=x.data}}return a}function Zm(t){if(isNaN(y=+this._x.call(null,t))||isNaN(m=+this._y.call(null,t)))return this;var e,i=this._root,a,o,u,f=this._x0,l=this._y0,d=this._x1,g=this._y1,y,m,_,x,S,b,T,P;if(!i)return this;if(i.length)for(;;){if((S=y>=(_=(f+d)/2))?f=_:d=_,(b=m>=(x=(l+g)/2))?l=x:g=x,e=i,!(i=i[T=b<<1|S]))return this;if(!i.length)break;(e[T+1&3]||e[T+2&3]||e[T+3&3])&&(a=e,P=T)}for(;i.data!==t;)if(o=i,!(i=i.next))return this;return(u=i.next)&&delete i.next,o?(u?o.next=u:delete o.next,this):e?(u?e[T]=u:delete e[T],(i=e[0]||e[1]||e[2]||e[3])&&i===(e[3]||e[2]||e[1]||e[0])&&!i.length&&(a?a[P]=i:this._root=i),this):(this._root=u,this)}function jm(t){for(var e=0,i=t.length;e<i;++e)this.remove(t[e]);return this}function Km(){return this._root}function Jm(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function tv(t){var e=[],i,a=this._root,o,u,f,l,d;for(a&&e.push(new we(a,this._x0,this._y0,this._x1,this._y1));i=e.pop();)if(!t(a=i.node,u=i.x0,f=i.y0,l=i.x1,d=i.y1)&&a.length){var g=(u+l)/2,y=(f+d)/2;(o=a[3])&&e.push(new we(o,g,y,l,d)),(o=a[2])&&e.push(new we(o,u,y,g,d)),(o=a[1])&&e.push(new we(o,g,f,l,y)),(o=a[0])&&e.push(new we(o,u,f,g,y))}return this}function ev(t){var e=[],i=[],a;for(this._root&&e.push(new we(this._root,this._x0,this._y0,this._x1,this._y1));a=e.pop();){var o=a.node;if(o.length){var u,f=a.x0,l=a.y0,d=a.x1,g=a.y1,y=(f+d)/2,m=(l+g)/2;(u=o[0])&&e.push(new we(u,f,l,y,m)),(u=o[1])&&e.push(new we(u,y,l,d,m)),(u=o[2])&&e.push(new we(u,f,m,y,g)),(u=o[3])&&e.push(new we(u,y,m,d,g))}i.push(a)}for(;a=i.pop();)t(a.node,a.x0,a.y0,a.x1,a.y1);return this}function nv(t){return t[0]}function iv(t){return arguments.length?(this._x=t,this):this._x}function rv(t){return t[1]}function av(t){return arguments.length?(this._y=t,this):this._y}function Fa(t,e,i){var a=new uu(e??nv,i??rv,NaN,NaN,NaN,NaN);return t==null?a:a.addAll(t)}function uu(t,e,i,a,o,u){this._x=t,this._y=e,this._x0=i,this._y0=a,this._x1=o,this._y1=u,this._root=void 0}function Ol(t){for(var e={data:t.data},i=e;t=t.next;)i=i.next={data:t.data};return e}var be=Fa.prototype=uu.prototype;be.copy=function(){var t=new uu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,i,a;if(!e)return t;if(!e.length)return t._root=Ol(e),t;for(i=[{source:e,target:t._root=new Array(4)}];e=i.pop();)for(var o=0;o<4;++o)(a=e.source[o])&&(a.length?i.push({source:a,target:e.target[o]=new Array(4)}):e.target[o]=Ol(a));return t},be.add=Bm,be.addAll=Hm,be.cover=Um,be.data=Wm,be.extent=qm,be.find=Qm,be.remove=Zm,be.removeAll=jm,be.root=Km,be.size=Jm,be.visit=tv,be.visitAfter=ev,be.x=iv,be.y=av;function ov(t){return t.x+t.vx}function sv(t){return t.y+t.vy}function uv(t){var e,i,a=1,o=1;typeof t!="function"&&(t=ne(t==null?1:+t));function u(){for(var d,g=e.length,y,m,_,x,S,b,T=0;T<o;++T)for(y=Fa(e,ov,sv).visitAfter(f),d=0;d<g;++d)m=e[d],S=i[m.index],b=S*S,_=m.x+m.vx,x=m.y+m.vy,y.visit(P);function P(k,L,$,O,F){var I=k.data,q=k.r,B=S+q;if(I){if(I.index>m.index){var U=_-I.x-I.vx,X=x-I.y-I.vy,R=U*U+X*X;R<B*B&&(U===0&&(U=Nn(),R+=U*U),X===0&&(X=Nn(),R+=X*X),R=(B-(R=Math.sqrt(R)))/R*a,m.vx+=(U*=R)*(B=(q*=q)/(b+q)),m.vy+=(X*=R)*B,I.vx-=U*(B=1-B),I.vy-=X*B)}return}return L>_+B||O<_-B||$>x+B||F<x-B}}function f(d){if(d.data)return d.r=i[d.data.index];for(var g=d.r=0;g<4;++g)d[g]&&d[g].r>d.r&&(d.r=d[g].r)}function l(){if(e){var d,g=e.length,y;for(i=new Array(g),d=0;d<g;++d)y=e[d],i[y.index]=+t(y,d,e)}}return u.initialize=function(d){e=d,l()},u.iterations=function(d){return arguments.length?(o=+d,u):o},u.strength=function(d){return arguments.length?(a=+d,u):a},u.radius=function(d){return arguments.length?(t=typeof d=="function"?d:ne(+d),l(),u):t},u}function cv(t){return t.index}function Nl(t,e){var i=t.get(e);if(!i)throw new Error("missing: "+e);return i}function fv(t){var e=cv,i=y,a,o=ne(30),u,f,l,d,g=1;t==null&&(t=[]);function y(b){return 1/Math.min(l[b.source.index],l[b.target.index])}function m(b){for(var T=0,P=t.length;T<g;++T)for(var k=0,L,$,O,F,I,q,B;k<P;++k)L=t[k],$=L.source,O=L.target,F=O.x+O.vx-$.x-$.vx||Nn(),I=O.y+O.vy-$.y-$.vy||Nn(),q=Math.sqrt(F*F+I*I),q=(q-u[k])/q*b*a[k],F*=q,I*=q,O.vx-=F*(B=d[k]),O.vy-=I*B,$.vx+=F*(B=1-B),$.vy+=I*B}function _(){if(f){var b,T=f.length,P=t.length,k=xn(f,e),L;for(b=0,l=new Array(T);b<P;++b)L=t[b],L.index=b,typeof L.source!="object"&&(L.source=Nl(k,L.source)),typeof L.target!="object"&&(L.target=Nl(k,L.target)),l[L.source.index]=(l[L.source.index]||0)+1,l[L.target.index]=(l[L.target.index]||0)+1;for(b=0,d=new Array(P);b<P;++b)L=t[b],d[b]=l[L.source.index]/(l[L.source.index]+l[L.target.index]);a=new Array(P),x(),u=new Array(P),S()}}function x(){if(f)for(var b=0,T=t.length;b<T;++b)a[b]=+i(t[b],b,t)}function S(){if(f)for(var b=0,T=t.length;b<T;++b)u[b]=+o(t[b],b,t)}return m.initialize=function(b){f=b,_()},m.links=function(b){return arguments.length?(t=b,_(),m):t},m.id=function(b){return arguments.length?(e=b,m):e},m.iterations=function(b){return arguments.length?(g=+b,m):g},m.strength=function(b){return arguments.length?(i=typeof b=="function"?b:ne(+b),x(),m):i},m.distance=function(b){return arguments.length?(o=typeof b=="function"?b:ne(+b),S(),m):o},m}function lv(t){return t.x}function hv(t){return t.y}var dv=10,gv=Math.PI*(3-Math.sqrt(5));function pv(t){var e,i=1,a=.001,o=1-Math.pow(a,1/300),u=0,f=.6,l=xn(),d=La(y),g=Wt("tick","end");t==null&&(t=[]);function y(){m(),g.call("tick",e),i<a&&(d.stop(),g.call("end",e))}function m(S){var b,T=t.length,P;S===void 0&&(S=1);for(var k=0;k<S;++k)for(i+=(u-i)*o,l.each(function(L){L(i)}),b=0;b<T;++b)P=t[b],P.fx==null?P.x+=P.vx*=f:(P.x=P.fx,P.vx=0),P.fy==null?P.y+=P.vy*=f:(P.y=P.fy,P.vy=0);return e}function _(){for(var S=0,b=t.length,T;S<b;++S){if(T=t[S],T.index=S,T.fx!=null&&(T.x=T.fx),T.fy!=null&&(T.y=T.fy),isNaN(T.x)||isNaN(T.y)){var P=dv*Math.sqrt(S),k=S*gv;T.x=P*Math.cos(k),T.y=P*Math.sin(k)}(isNaN(T.vx)||isNaN(T.vy))&&(T.vx=T.vy=0)}}function x(S){return S.initialize&&S.initialize(t),S}return _(),e={tick:m,restart:function(){return d.restart(y),e},stop:function(){return d.stop(),e},nodes:function(S){return arguments.length?(t=S,_(),l.each(x),e):t},alpha:function(S){return arguments.length?(i=+S,e):i},alphaMin:function(S){return arguments.length?(a=+S,e):a},alphaDecay:function(S){return arguments.length?(o=+S,e):+o},alphaTarget:function(S){return arguments.length?(u=+S,e):u},velocityDecay:function(S){return arguments.length?(f=1-S,e):1-f},force:function(S,b){return arguments.length>1?(b==null?l.remove(S):l.set(S,x(b)),e):l.get(S)},find:function(S,b,T){var P=0,k=t.length,L,$,O,F,I;for(T==null?T=1/0:T*=T,P=0;P<k;++P)F=t[P],L=S-F.x,$=b-F.y,O=L*L+$*$,O<T&&(I=F,T=O);return I},on:function(S,b){return arguments.length>1?(g.on(S,b),e):g.on(S)}}}function yv(){var t,e,i,a=ne(-30),o,u=1,f=1/0,l=.81;function d(_){var x,S=t.length,b=Fa(t,lv,hv).visitAfter(y);for(i=_,x=0;x<S;++x)e=t[x],b.visit(m)}function g(){if(t){var _,x=t.length,S;for(o=new Array(x),_=0;_<x;++_)S=t[_],o[S.index]=+a(S,_,t)}}function y(_){var x=0,S,b,T=0,P,k,L;if(_.length){for(P=k=L=0;L<4;++L)(S=_[L])&&(b=Math.abs(S.value))&&(x+=S.value,T+=b,P+=b*S.x,k+=b*S.y);_.x=P/T,_.y=k/T}else{S=_,S.x=S.data.x,S.y=S.data.y;do x+=o[S.data.index];while(S=S.next)}_.value=x}function m(_,x,S,b){if(!_.value)return!0;var T=_.x-e.x,P=_.y-e.y,k=b-x,L=T*T+P*P;if(k*k/l<L)return L<f&&(T===0&&(T=Nn(),L+=T*T),P===0&&(P=Nn(),L+=P*P),L<u&&(L=Math.sqrt(u*L)),e.vx+=T*_.value*i/L,e.vy+=P*_.value*i/L),!0;if(_.length||L>=f)return;(_.data!==e||_.next)&&(T===0&&(T=Nn(),L+=T*T),P===0&&(P=Nn(),L+=P*P),L<u&&(L=Math.sqrt(u*L)));do _.data!==e&&(k=o[_.data.index]*i/L,e.vx+=T*k,e.vy+=P*k);while(_=_.next)}return d.initialize=function(_){t=_,g()},d.strength=function(_){return arguments.length?(a=typeof _=="function"?_:ne(+_),g(),d):a},d.distanceMin=function(_){return arguments.length?(u=_*_,d):Math.sqrt(u)},d.distanceMax=function(_){return arguments.length?(f=_*_,d):Math.sqrt(f)},d.theta=function(_){return arguments.length?(l=_*_,d):Math.sqrt(l)},d}function _v(t,e,i){var a,o=ne(.1),u,f;typeof t!="function"&&(t=ne(+t)),e==null&&(e=0),i==null&&(i=0);function l(g){for(var y=0,m=a.length;y<m;++y){var _=a[y],x=_.x-e||1e-6,S=_.y-i||1e-6,b=Math.sqrt(x*x+S*S),T=(f[y]-b)*u[y]*g/b;_.vx+=x*T,_.vy+=S*T}}function d(){if(a){var g,y=a.length;for(u=new Array(y),f=new Array(y),g=0;g<y;++g)f[g]=+t(a[g],g,a),u[g]=isNaN(f[g])?0:+o(a[g],g,a)}}return l.initialize=function(g){a=g,d()},l.strength=function(g){return arguments.length?(o=typeof g=="function"?g:ne(+g),d(),l):o},l.radius=function(g){return arguments.length?(t=typeof g=="function"?g:ne(+g),d(),l):t},l.x=function(g){return arguments.length?(e=+g,l):e},l.y=function(g){return arguments.length?(i=+g,l):i},l}function mv(t){var e=ne(.1),i,a,o;typeof t!="function"&&(t=ne(t==null?0:+t));function u(l){for(var d=0,g=i.length,y;d<g;++d)y=i[d],y.vx+=(o[d]-y.x)*a[d]*l}function f(){if(i){var l,d=i.length;for(a=new Array(d),o=new Array(d),l=0;l<d;++l)a[l]=isNaN(o[l]=+t(i[l],l,i))?0:+e(i[l],l,i)}}return u.initialize=function(l){i=l,f()},u.strength=function(l){return arguments.length?(e=typeof l=="function"?l:ne(+l),f(),u):e},u.x=function(l){return arguments.length?(t=typeof l=="function"?l:ne(+l),f(),u):t},u}function vv(t){var e=ne(.1),i,a,o;typeof t!="function"&&(t=ne(t==null?0:+t));function u(l){for(var d=0,g=i.length,y;d<g;++d)y=i[d],y.vy+=(o[d]-y.y)*a[d]*l}function f(){if(i){var l,d=i.length;for(a=new Array(d),o=new Array(d),l=0;l<d;++l)a[l]=isNaN(o[l]=+t(i[l],l,i))?0:+e(i[l],l,i)}}return u.initialize=function(l){i=l,f()},u.strength=function(l){return arguments.length?(e=typeof l=="function"?l:ne(+l),f(),u):e},u.y=function(l){return arguments.length?(t=typeof l=="function"?l:ne(+l),f(),u):t},u}function za(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,a=t.slice(0,i);return[a.length>1?a[0]+a.slice(2):a,+t.slice(i+1)]}function Ri(t){return t=za(Math.abs(t)),t?t[1]:NaN}function xv(t,e){return function(i,a){for(var o=i.length,u=[],f=0,l=t[0],d=0;o>0&&l>0&&(d+l+1>a&&(l=Math.max(1,a-d)),u.push(i.substring(o-=l,o+l)),!((d+=l+1)>a));)l=t[f=(f+1)%t.length];return u.reverse().join(e)}}function wv(t){return function(e){return e.replace(/[0-9]/g,function(i){return t[+i]})}}var bv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _r(t){if(!(e=bv.exec(t)))throw new Error("invalid format: "+t);var e;return new Xa({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_r.prototype=Xa.prototype;function Xa(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Xa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sv(t){t:for(var e=t.length,i=1,a=-1,o;i<e;++i)switch(t[i]){case".":a=o=i;break;case"0":a===0&&(a=i),o=i;break;default:if(!+t[i])break t;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(o+1):t}var Il;function Tv(t,e){var i=za(t,e);if(!i)return t+"";var a=i[0],o=i[1],u=o-(Il=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,f=a.length;return u===f?a:u>f?a+new Array(u-f+1).join("0"):u>0?a.slice(0,u)+"."+a.slice(u):"0."+new Array(1-u).join("0")+za(t,Math.max(0,e+u-1))[0]}function Dl(t,e){var i=za(t,e);if(!i)return t+"";var a=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+a:a.length>o+1?a.slice(0,o+1)+"."+a.slice(o+1):a+new Array(o-a.length+2).join("0")}var Fl={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Dl(t*100,e)},r:Dl,s:Tv,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function zl(t){return t}var Xl=Array.prototype.map,Yl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Bl(t){var e=t.grouping===void 0||t.thousands===void 0?zl:xv(Xl.call(t.grouping,Number),t.thousands+""),i=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?zl:wv(Xl.call(t.numerals,String)),f=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"-":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function g(m){m=_r(m);var _=m.fill,x=m.align,S=m.sign,b=m.symbol,T=m.zero,P=m.width,k=m.comma,L=m.precision,$=m.trim,O=m.type;O==="n"?(k=!0,O="g"):Fl[O]||(L===void 0&&(L=12),$=!0,O="g"),(T||_==="0"&&x==="=")&&(T=!0,_="0",x="=");var F=b==="$"?i:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",I=b==="$"?a:/[%p]/.test(O)?f:"",q=Fl[O],B=/[defgprs%]/.test(O);L=L===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function U(X){var R=F,z=I,Z,D,Q;if(O==="c")z=q(X)+z,X="";else{X=+X;var at=X<0||1/X<0;if(X=isNaN(X)?d:q(Math.abs(X),L),$&&(X=Sv(X)),at&&+X==0&&S!=="+"&&(at=!1),R=(at?S==="("?S:l:S==="-"||S==="("?"":S)+R,z=(O==="s"?Yl[8+Il/3]:"")+z+(at&&S==="("?")":""),B){for(Z=-1,D=X.length;++Z<D;)if(Q=X.charCodeAt(Z),48>Q||Q>57){z=(Q===46?o+X.slice(Z+1):X.slice(Z))+z,X=X.slice(0,Z);break}}}k&&!T&&(X=e(X,1/0));var it=R.length+X.length+z.length,st=it<P?new Array(P-it+1).join(_):"";switch(k&&T&&(X=e(st+X,st.length?P-z.length:1/0),st=""),x){case"<":X=R+X+z+st;break;case"=":X=R+st+X+z;break;case"^":X=st.slice(0,it=st.length>>1)+R+X+z+st.slice(it);break;default:X=st+R+X+z;break}return u(X)}return U.toString=function(){return m+""},U}function y(m,_){var x=g((m=_r(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(Ri(_)/3)))*3,b=Math.pow(10,-S),T=Yl[8+S/3];return function(P){return x(b*P)+T}}return{format:g,formatPrefix:y}}var Ya;Hl({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Hl(t){return Ya=Bl(t),h.format=Ya.format,h.formatPrefix=Ya.formatPrefix,Ya}function Ul(t){return Math.max(0,-Ri(Math.abs(t)))}function Wl(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ri(e)/3)))*3-Ri(Math.abs(t)))}function ql(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ri(e)-Ri(t))+1}function In(){return new Ba}function Ba(){this.reset()}Ba.prototype={constructor:Ba,reset:function(){this.s=this.t=0},add:function(t){Ql(Ha,t,this.t),Ql(this,Ha.s,this.s),this.s?this.t+=Ha.t:this.s=Ha.t},valueOf:function(){return this.s}};var Ha=new Ba;function Ql(t,e,i){var a=t.s=e+i,o=a-e,u=a-o;t.t=e-u+(i-o)}var ft=1e-6,Ua=1e-12,St=Math.PI,qt=St/2,Wa=St/4,Se=St*2,Dt=180/St,ht=St/180,$t=Math.abs,Vi=Math.atan,Te=Math.atan2,ut=Math.cos,qa=Math.ceil,Zl=Math.exp,Qa=Math.log,cu=Math.pow,rt=Math.sin,Ye=Math.sign||function(t){return t>0?1:t<0?-1:0},te=Math.sqrt,fu=Math.tan;function jl(t){return t>1?0:t<-1?St:Math.acos(t)}function Ae(t){return t>1?qt:t<-1?-qt:Math.asin(t)}function Kl(t){return(t=rt(t/2))*t}function Bt(){}function Za(t,e){t&&th.hasOwnProperty(t.type)&&th[t.type](t,e)}var Jl={Feature:function(t,e){Za(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,a=-1,o=i.length;++a<o;)Za(i[a].geometry,e)}},th={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)t=i[a],e.point(t[0],t[1],t[2])},LineString:function(t,e){lu(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)lu(i[a],e,0)},Polygon:function(t,e){eh(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)eh(i[a],e)},GeometryCollection:function(t,e){for(var i=t.geometries,a=-1,o=i.length;++a<o;)Za(i[a],e)}};function lu(t,e,i){var a=-1,o=t.length-i,u;for(e.lineStart();++a<o;)u=t[a],e.point(u[0],u[1],u[2]);e.lineEnd()}function eh(t,e){var i=-1,a=t.length;for(e.polygonStart();++i<a;)lu(t[i],e,1);e.polygonEnd()}function Je(t,e){t&&Jl.hasOwnProperty(t.type)?Jl[t.type](t,e):Za(t,e)}var ja=In(),Ka=In(),nh,ih,hu,du,gu,hn={point:Bt,lineStart:Bt,lineEnd:Bt,polygonStart:function(){ja.reset(),hn.lineStart=Av,hn.lineEnd=Pv},polygonEnd:function(){var t=+ja;Ka.add(t<0?Se+t:t),this.lineStart=this.lineEnd=this.point=Bt},sphere:function(){Ka.add(Se)}};function Av(){hn.point=Cv}function Pv(){rh(nh,ih)}function Cv(t,e){hn.point=rh,nh=t,ih=e,t*=ht,e*=ht,hu=t,du=ut(e=e/2+Wa),gu=rt(e)}function rh(t,e){t*=ht,e*=ht,e=e/2+Wa;var i=t-hu,a=i>=0?1:-1,o=a*i,u=ut(e),f=rt(e),l=gu*f,d=du*u+l*ut(o),g=l*a*rt(o);ja.add(Te(g,d)),hu=t,du=u,gu=f}function Lv(t){return Ka.reset(),Je(t,hn),Ka*2}function Ja(t){return[Te(t[1],t[0]),Ae(t[2])]}function oi(t){var e=t[0],i=t[1],a=ut(i);return[a*ut(e),a*rt(e),rt(i)]}function to(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Gi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function pu(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function eo(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function no(t){var e=te(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Ht,Ge,Qt,Ne,si,ah,oh,Oi,mr=In(),Dn,bn,Sn={point:yu,lineStart:uh,lineEnd:ch,polygonStart:function(){Sn.point=fh,Sn.lineStart=Mv,Sn.lineEnd=$v,mr.reset(),hn.polygonStart()},polygonEnd:function(){hn.polygonEnd(),Sn.point=yu,Sn.lineStart=uh,Sn.lineEnd=ch,ja<0?(Ht=-(Qt=180),Ge=-(Ne=90)):mr>ft?Ne=90:mr<-ft&&(Ge=-90),bn[0]=Ht,bn[1]=Qt},sphere:function(){Ht=-(Qt=180),Ge=-(Ne=90)}};function yu(t,e){Dn.push(bn=[Ht=t,Qt=t]),e<Ge&&(Ge=e),e>Ne&&(Ne=e)}function sh(t,e){var i=oi([t*ht,e*ht]);if(Oi){var a=Gi(Oi,i),o=[a[1],-a[0],0],u=Gi(o,a);no(u),u=Ja(u);var f=t-si,l=f>0?1:-1,d=u[0]*Dt*l,g,y=$t(f)>180;y^(l*si<d&&d<l*t)?(g=u[1]*Dt,g>Ne&&(Ne=g)):(d=(d+360)%360-180,y^(l*si<d&&d<l*t)?(g=-u[1]*Dt,g<Ge&&(Ge=g)):(e<Ge&&(Ge=e),e>Ne&&(Ne=e))),y?t<si?Ie(Ht,t)>Ie(Ht,Qt)&&(Qt=t):Ie(t,Qt)>Ie(Ht,Qt)&&(Ht=t):Qt>=Ht?(t<Ht&&(Ht=t),t>Qt&&(Qt=t)):t>si?Ie(Ht,t)>Ie(Ht,Qt)&&(Qt=t):Ie(t,Qt)>Ie(Ht,Qt)&&(Ht=t)}else Dn.push(bn=[Ht=t,Qt=t]);e<Ge&&(Ge=e),e>Ne&&(Ne=e),Oi=i,si=t}function uh(){Sn.point=sh}function ch(){bn[0]=Ht,bn[1]=Qt,Sn.point=yu,Oi=null}function fh(t,e){if(Oi){var i=t-si;mr.add($t(i)>180?i+(i>0?360:-360):i)}else ah=t,oh=e;hn.point(t,e),sh(t,e)}function Mv(){hn.lineStart()}function $v(){fh(ah,oh),hn.lineEnd(),$t(mr)>ft&&(Ht=-(Qt=180)),bn[0]=Ht,bn[1]=Qt,Oi=null}function Ie(t,e){return(e-=t)<0?e+360:e}function Ev(t,e){return t[0]-e[0]}function lh(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function kv(t){var e,i,a,o,u,f,l;if(Ne=Qt=-(Ht=Ge=1/0),Dn=[],Je(t,Sn),i=Dn.length){for(Dn.sort(Ev),e=1,a=Dn[0],u=[a];e<i;++e)o=Dn[e],lh(a,o[0])||lh(a,o[1])?(Ie(a[0],o[1])>Ie(a[0],a[1])&&(a[1]=o[1]),Ie(o[0],a[1])>Ie(a[0],a[1])&&(a[0]=o[0])):u.push(a=o);for(f=-1/0,i=u.length-1,e=0,a=u[i];e<=i;a=o,++e)o=u[e],(l=Ie(a[1],o[0]))>f&&(f=l,Ht=o[0],Qt=a[1])}return Dn=bn=null,Ht===1/0||Ge===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ht,Ge],[Qt,Ne]]}var vr,io,ro,ao,oo,so,uo,co,_u,mu,vu,hh,dh,Pe,Ce,Le,tn={sphere:Bt,point:xu,lineStart:gh,lineEnd:ph,polygonStart:function(){tn.lineStart=Gv,tn.lineEnd=Ov},polygonEnd:function(){tn.lineStart=gh,tn.lineEnd=ph}};function xu(t,e){t*=ht,e*=ht;var i=ut(e);xr(i*ut(t),i*rt(t),rt(e))}function xr(t,e,i){++vr,ro+=(t-ro)/vr,ao+=(e-ao)/vr,oo+=(i-oo)/vr}function gh(){tn.point=Rv}function Rv(t,e){t*=ht,e*=ht;var i=ut(e);Pe=i*ut(t),Ce=i*rt(t),Le=rt(e),tn.point=Vv,xr(Pe,Ce,Le)}function Vv(t,e){t*=ht,e*=ht;var i=ut(e),a=i*ut(t),o=i*rt(t),u=rt(e),f=Te(te((f=Ce*u-Le*o)*f+(f=Le*a-Pe*u)*f+(f=Pe*o-Ce*a)*f),Pe*a+Ce*o+Le*u);io+=f,so+=f*(Pe+(Pe=a)),uo+=f*(Ce+(Ce=o)),co+=f*(Le+(Le=u)),xr(Pe,Ce,Le)}function ph(){tn.point=xu}function Gv(){tn.point=Nv}function Ov(){yh(hh,dh),tn.point=xu}function Nv(t,e){hh=t,dh=e,t*=ht,e*=ht,tn.point=yh;var i=ut(e);Pe=i*ut(t),Ce=i*rt(t),Le=rt(e),xr(Pe,Ce,Le)}function yh(t,e){t*=ht,e*=ht;var i=ut(e),a=i*ut(t),o=i*rt(t),u=rt(e),f=Ce*u-Le*o,l=Le*a-Pe*u,d=Pe*o-Ce*a,g=te(f*f+l*l+d*d),y=Ae(g),m=g&&-y/g;_u+=m*f,mu+=m*l,vu+=m*d,io+=y,so+=y*(Pe+(Pe=a)),uo+=y*(Ce+(Ce=o)),co+=y*(Le+(Le=u)),xr(Pe,Ce,Le)}function Iv(t){vr=io=ro=ao=oo=so=uo=co=_u=mu=vu=0,Je(t,tn);var e=_u,i=mu,a=vu,o=e*e+i*i+a*a;return o<Ua&&(e=so,i=uo,a=co,io<ft&&(e=ro,i=ao,a=oo),o=e*e+i*i+a*a,o<Ua)?[NaN,NaN]:[Te(i,e)*Dt,Ae(a/te(o))*Dt]}function Ni(t){return function(){return t}}function wu(t,e){function i(a,o){return a=t(a,o),e(a[0],a[1])}return t.invert&&e.invert&&(i.invert=function(a,o){return a=e.invert(a,o),a&&t.invert(a[0],a[1])}),i}function bu(t,e){return[$t(t)>St?t+Math.round(-t/Se)*Se:t,e]}bu.invert=bu;function Su(t,e,i){return(t%=Se)?e||i?wu(mh(t),vh(e,i)):mh(t):e||i?vh(e,i):bu}function _h(t){return function(e,i){return e+=t,[e>St?e-Se:e<-St?e+Se:e,i]}}function mh(t){var e=_h(t);return e.invert=_h(-t),e}function vh(t,e){var i=ut(t),a=rt(t),o=ut(e),u=rt(e);function f(l,d){var g=ut(d),y=ut(l)*g,m=rt(l)*g,_=rt(d),x=_*i+y*a;return[Te(m*o-x*u,y*i-_*a),Ae(x*o+m*u)]}return f.invert=function(l,d){var g=ut(d),y=ut(l)*g,m=rt(l)*g,_=rt(d),x=_*o-m*u;return[Te(m*o+_*u,y*i+x*a),Ae(x*i-y*a)]},f}function xh(t){t=Su(t[0]*ht,t[1]*ht,t.length>2?t[2]*ht:0);function e(i){return i=t(i[0]*ht,i[1]*ht),i[0]*=Dt,i[1]*=Dt,i}return e.invert=function(i){return i=t.invert(i[0]*ht,i[1]*ht),i[0]*=Dt,i[1]*=Dt,i},e}function wh(t,e,i,a,o,u){if(i){var f=ut(e),l=rt(e),d=a*i;o==null?(o=e+a*Se,u=e-d/2):(o=bh(f,o),u=bh(f,u),(a>0?o<u:o>u)&&(o+=a*Se));for(var g,y=o;a>0?y>u:y<u;y-=d)g=Ja([f,-l*ut(y),-l*rt(y)]),t.point(g[0],g[1])}}function bh(t,e){e=oi(e),e[0]-=t,no(e);var i=jl(-e[1]);return((-e[2]<0?-i:i)+Se-ft)%Se}function Dv(){var t=Ni([0,0]),e=Ni(90),i=Ni(6),a,o,u={point:f};function f(d,g){a.push(d=o(d,g)),d[0]*=Dt,d[1]*=Dt}function l(){var d=t.apply(this,arguments),g=e.apply(this,arguments)*ht,y=i.apply(this,arguments)*ht;return a=[],o=Su(-d[0]*ht,-d[1]*ht,0).invert,wh(u,g,y,1),d={type:"Polygon",coordinates:[a]},a=o=null,d}return l.center=function(d){return arguments.length?(t=typeof d=="function"?d:Ni([+d[0],+d[1]]),l):t},l.radius=function(d){return arguments.length?(e=typeof d=="function"?d:Ni(+d),l):e},l.precision=function(d){return arguments.length?(i=typeof d=="function"?d:Ni(+d),l):i},l}function Sh(){var t=[],e;return{point:function(i,a){e.push([i,a])},lineStart:function(){t.push(e=[])},lineEnd:Bt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],e=null,i}}}function fo(t,e){return $t(t[0]-e[0])<ft&&$t(t[1]-e[1])<ft}function lo(t,e,i,a){this.x=t,this.z=e,this.o=i,this.e=a,this.v=!1,this.n=this.p=null}function Th(t,e,i,a,o){var u=[],f=[],l,d;if(t.forEach(function(S){if(!((b=S.length-1)<=0)){var b,T=S[0],P=S[b],k;if(fo(T,P)){for(o.lineStart(),l=0;l<b;++l)o.point((T=S[l])[0],T[1]);o.lineEnd();return}u.push(k=new lo(T,S,null,!0)),f.push(k.o=new lo(T,null,k,!1)),u.push(k=new lo(P,S,null,!1)),f.push(k.o=new lo(P,null,k,!0))}}),!!u.length){for(f.sort(e),Ah(u),Ah(f),l=0,d=f.length;l<d;++l)f[l].e=i=!i;for(var g=u[0],y,m;;){for(var _=g,x=!0;_.v;)if((_=_.n)===g)return;y=_.z,o.lineStart();do{if(_.v=_.o.v=!0,_.e){if(x)for(l=0,d=y.length;l<d;++l)o.point((m=y[l])[0],m[1]);else a(_.x,_.n.x,1,o);_=_.n}else{if(x)for(y=_.p.z,l=y.length-1;l>=0;--l)o.point((m=y[l])[0],m[1]);else a(_.x,_.p.x,-1,o);_=_.p}_=_.o,y=_.z,x=!x}while(!_.v);o.lineEnd()}}}function Ah(t){if(e=t.length){for(var e,i=0,a=t[0],o;++i<e;)a.n=o=t[i],o.p=a,a=o;a.n=o=t[0],o.p=a}}var Tu=In();function Au(t){return $t(t[0])<=St?t[0]:Ye(t[0])*(($t(t[0])+St)%Se-St)}function Ph(t,e){var i=Au(e),a=e[1],o=rt(a),u=[rt(i),-ut(i),0],f=0,l=0;Tu.reset(),o===1?a=qt+ft:o===-1&&(a=-qt-ft);for(var d=0,g=t.length;d<g;++d)if(m=(y=t[d]).length)for(var y,m,_=y[m-1],x=Au(_),S=_[1]/2+Wa,b=rt(S),T=ut(S),P=0;P<m;++P,x=L,b=O,T=F,_=k){var k=y[P],L=Au(k),$=k[1]/2+Wa,O=rt($),F=ut($),I=L-x,q=I>=0?1:-1,B=q*I,U=B>St,X=b*O;if(Tu.add(Te(X*q*rt(B),T*F+X*ut(B))),f+=U?I+q*Se:I,U^x>=i^L>=i){var R=Gi(oi(_),oi(k));no(R);var z=Gi(u,R);no(z);var Z=(U^I>=0?-1:1)*Ae(z[2]);(a>Z||a===Z&&(R[0]||R[1]))&&(l+=U^I>=0?1:-1)}}return(f<-ft||f<ft&&Tu<-ft)^l&1}function Ch(t,e,i,a){return function(o){var u=e(o),f=Sh(),l=e(f),d=!1,g,y,m,_={point:x,lineStart:b,lineEnd:T,polygonStart:function(){_.point=P,_.lineStart=k,_.lineEnd=L,y=[],g=[]},polygonEnd:function(){_.point=x,_.lineStart=b,_.lineEnd=T,y=c(y);var $=Ph(g,a);y.length?(d||(o.polygonStart(),d=!0),Th(y,zv,$,i,o)):$&&(d||(o.polygonStart(),d=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),y=g=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function x($,O){t($,O)&&o.point($,O)}function S($,O){u.point($,O)}function b(){_.point=S,u.lineStart()}function T(){_.point=x,u.lineEnd()}function P($,O){m.push([$,O]),l.point($,O)}function k(){l.lineStart(),m=[]}function L(){P(m[0][0],m[0][1]),l.lineEnd();var $=l.clean(),O=f.result(),F,I=O.length,q,B,U;if(m.pop(),g.push(m),m=null,!!I){if($&1){if(B=O[0],(q=B.length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),F=0;F<q;++F)o.point((U=B[F])[0],U[1]);o.lineEnd()}return}I>1&&$&2&&O.push(O.pop().concat(O.shift())),y.push(O.filter(Fv))}}return _}}function Fv(t){return t.length>1}function zv(t,e){return((t=t.x)[0]<0?t[1]-qt-ft:qt-t[1])-((e=e.x)[0]<0?e[1]-qt-ft:qt-e[1])}var Pu=Ch(function(){return!0},Xv,Bv,[-St,-qt]);function Xv(t){var e=NaN,i=NaN,a=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(u,f){var l=u>0?St:-St,d=$t(u-e);$t(d-St)<ft?(t.point(e,i=(i+f)/2>0?qt:-qt),t.point(a,i),t.lineEnd(),t.lineStart(),t.point(l,i),t.point(u,i),o=0):a!==l&&d>=St&&($t(e-a)<ft&&(e-=a*ft),$t(u-l)<ft&&(u-=l*ft),i=Yv(e,i,u,f),t.point(a,i),t.lineEnd(),t.lineStart(),t.point(l,i),o=0),t.point(e=u,i=f),a=l},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-o}}}function Yv(t,e,i,a){var o,u,f=rt(t-i);return $t(f)>ft?Vi((rt(e)*(u=ut(a))*rt(i)-rt(a)*(o=ut(e))*rt(t))/(o*u*f)):(e+a)/2}function Bv(t,e,i,a){var o;if(t==null)o=i*qt,a.point(-St,o),a.point(0,o),a.point(St,o),a.point(St,0),a.point(St,-o),a.point(0,-o),a.point(-St,-o),a.point(-St,0),a.point(-St,o);else if($t(t[0]-e[0])>ft){var u=t[0]<e[0]?St:-St;o=i*u/2,a.point(-u,o),a.point(0,o),a.point(u,o)}else a.point(e[0],e[1])}function Lh(t){var e=ut(t),i=6*ht,a=e>0,o=$t(e)>ft;function u(y,m,_,x){wh(x,t,i,_,y,m)}function f(y,m){return ut(y)*ut(m)>e}function l(y){var m,_,x,S,b;return{lineStart:function(){S=x=!1,b=1},point:function(T,P){var k=[T,P],L,$=f(T,P),O=a?$?0:g(T,P):$?g(T+(T<0?St:-St),P):0;if(!m&&(S=x=$)&&y.lineStart(),$!==x&&(L=d(m,k),(!L||fo(m,L)||fo(k,L))&&(k[0]+=ft,k[1]+=ft,$=f(k[0],k[1]))),$!==x)b=0,$?(y.lineStart(),L=d(k,m),y.point(L[0],L[1])):(L=d(m,k),y.point(L[0],L[1]),y.lineEnd()),m=L;else if(o&&m&&a^$){var F;!(O&_)&&(F=d(k,m,!0))&&(b=0,a?(y.lineStart(),y.point(F[0][0],F[0][1]),y.point(F[1][0],F[1][1]),y.lineEnd()):(y.point(F[1][0],F[1][1]),y.lineEnd(),y.lineStart(),y.point(F[0][0],F[0][1])))}$&&(!m||!fo(m,k))&&y.point(k[0],k[1]),m=k,x=$,_=O},lineEnd:function(){x&&y.lineEnd(),m=null},clean:function(){return b|(S&&x)<<1}}}function d(y,m,_){var x=oi(y),S=oi(m),b=[1,0,0],T=Gi(x,S),P=to(T,T),k=T[0],L=P-k*k;if(!L)return!_&&y;var $=e*P/L,O=-e*k/L,F=Gi(b,T),I=eo(b,$),q=eo(T,O);pu(I,q);var B=F,U=to(I,B),X=to(B,B),R=U*U-X*(to(I,I)-1);if(!(R<0)){var z=te(R),Z=eo(B,(-U-z)/X);if(pu(Z,I),Z=Ja(Z),!_)return Z;var D=y[0],Q=m[0],at=y[1],it=m[1],st;Q<D&&(st=D,D=Q,Q=st);var yt=Q-D,_t=$t(yt-St)<ft,Xt=_t||yt<ft;if(!_t&&it<at&&(st=at,at=it,it=st),Xt?_t?at+it>0^Z[1]<($t(Z[0]-D)<ft?at:it):at<=Z[1]&&Z[1]<=it:yt>St^(D<=Z[0]&&Z[0]<=Q)){var It=eo(B,(-U+z)/X);return pu(It,I),[Z,Ja(It)]}}}function g(y,m){var _=a?t:St-t,x=0;return y<-_?x|=1:y>_&&(x|=2),m<-_?x|=4:m>_&&(x|=8),x}return Ch(f,l,u,a?[0,-t]:[-St,t-St])}function Hv(t,e,i,a,o,u){var f=t[0],l=t[1],d=e[0],g=e[1],y=0,m=1,_=d-f,x=g-l,S;if(S=i-f,!(!_&&S>0)){if(S/=_,_<0){if(S<y)return;S<m&&(m=S)}else if(_>0){if(S>m)return;S>y&&(y=S)}if(S=o-f,!(!_&&S<0)){if(S/=_,_<0){if(S>m)return;S>y&&(y=S)}else if(_>0){if(S<y)return;S<m&&(m=S)}if(S=a-l,!(!x&&S>0)){if(S/=x,x<0){if(S<y)return;S<m&&(m=S)}else if(x>0){if(S>m)return;S>y&&(y=S)}if(S=u-l,!(!x&&S<0)){if(S/=x,x<0){if(S>m)return;S>y&&(y=S)}else if(x>0){if(S<y)return;S<m&&(m=S)}return y>0&&(t[0]=f+y*_,t[1]=l+y*x),m<1&&(e[0]=f+m*_,e[1]=l+m*x),!0}}}}}var wr=1e9,ho=-wr;function go(t,e,i,a){function o(g,y){return t<=g&&g<=i&&e<=y&&y<=a}function u(g,y,m,_){var x=0,S=0;if(g==null||(x=f(g,m))!==(S=f(y,m))||d(g,y)<0^m>0)do _.point(x===0||x===3?t:i,x>1?a:e);while((x=(x+m+4)%4)!==S);else _.point(y[0],y[1])}function f(g,y){return $t(g[0]-t)<ft?y>0?0:3:$t(g[0]-i)<ft?y>0?2:1:$t(g[1]-e)<ft?y>0?1:0:y>0?3:2}function l(g,y){return d(g.x,y.x)}function d(g,y){var m=f(g,1),_=f(y,1);return m!==_?m-_:m===0?y[1]-g[1]:m===1?g[0]-y[0]:m===2?g[1]-y[1]:y[0]-g[0]}return function(g){var y=g,m=Sh(),_,x,S,b,T,P,k,L,$,O,F,I={point:q,lineStart:R,lineEnd:z,polygonStart:U,polygonEnd:X};function q(D,Q){o(D,Q)&&y.point(D,Q)}function B(){for(var D=0,Q=0,at=x.length;Q<at;++Q)for(var it=x[Q],st=1,yt=it.length,_t=it[0],Xt,It,kt=_t[0],jt=_t[1];st<yt;++st)Xt=kt,It=jt,_t=it[st],kt=_t[0],jt=_t[1],It<=a?jt>a&&(kt-Xt)*(a-It)>(jt-It)*(t-Xt)&&++D:jt<=a&&(kt-Xt)*(a-It)<(jt-It)*(t-Xt)&&--D;return D}function U(){y=m,_=[],x=[],F=!0}function X(){var D=B(),Q=F&&D,at=(_=c(_)).length;(Q||at)&&(g.polygonStart(),Q&&(g.lineStart(),u(null,null,1,g),g.lineEnd()),at&&Th(_,l,D,u,g),g.polygonEnd()),y=g,_=x=S=null}function R(){I.point=Z,x&&x.push(S=[]),O=!0,$=!1,k=L=NaN}function z(){_&&(Z(b,T),P&&$&&m.rejoin(),_.push(m.result())),I.point=q,$&&y.lineEnd()}function Z(D,Q){var at=o(D,Q);if(x&&S.push([D,Q]),O)b=D,T=Q,P=at,O=!1,at&&(y.lineStart(),y.point(D,Q));else if(at&&$)y.point(D,Q);else{var it=[k=Math.max(ho,Math.min(wr,k)),L=Math.max(ho,Math.min(wr,L))],st=[D=Math.max(ho,Math.min(wr,D)),Q=Math.max(ho,Math.min(wr,Q))];Hv(it,st,t,e,i,a)?($||(y.lineStart(),y.point(it[0],it[1])),y.point(st[0],st[1]),at||y.lineEnd(),F=!1):at&&(y.lineStart(),y.point(D,Q),F=!1)}k=D,L=Q,$=at}return I}}function Uv(){var t=0,e=0,i=960,a=500,o,u,f;return f={stream:function(l){return o&&u===l?o:o=go(t,e,i,a)(u=l)},extent:function(l){return arguments.length?(t=+l[0][0],e=+l[0][1],i=+l[1][0],a=+l[1][1],o=u=null,f):[[t,e],[i,a]]}}}var Cu=In(),Lu,po,yo,Ii={sphere:Bt,point:Bt,lineStart:Wv,lineEnd:Bt,polygonStart:Bt,polygonEnd:Bt};function Wv(){Ii.point=Qv,Ii.lineEnd=qv}function qv(){Ii.point=Ii.lineEnd=Bt}function Qv(t,e){t*=ht,e*=ht,Lu=t,po=rt(e),yo=ut(e),Ii.point=Zv}function Zv(t,e){t*=ht,e*=ht;var i=rt(e),a=ut(e),o=$t(t-Lu),u=ut(o),f=rt(o),l=a*f,d=yo*i-po*a*u,g=po*i+yo*a*u;Cu.add(Te(te(l*l+d*d),g)),Lu=t,po=i,yo=a}function Mh(t){return Cu.reset(),Je(t,Ii),+Cu}var Mu=[null,null],jv={type:"LineString",coordinates:Mu};function _o(t,e){return Mu[0]=t,Mu[1]=e,Mh(jv)}var $h={Feature:function(t,e){return mo(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,a=-1,o=i.length;++a<o;)if(mo(i[a].geometry,e))return!0;return!1}},Eh={Sphere:function(){return!0},Point:function(t,e){return kh(t.coordinates,e)},MultiPoint:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)if(kh(i[a],e))return!0;return!1},LineString:function(t,e){return Rh(t.coordinates,e)},MultiLineString:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)if(Rh(i[a],e))return!0;return!1},Polygon:function(t,e){return Vh(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)if(Vh(i[a],e))return!0;return!1},GeometryCollection:function(t,e){for(var i=t.geometries,a=-1,o=i.length;++a<o;)if(mo(i[a],e))return!0;return!1}};function mo(t,e){return t&&Eh.hasOwnProperty(t.type)?Eh[t.type](t,e):!1}function kh(t,e){return _o(t,e)===0}function Rh(t,e){for(var i,a,o,u=0,f=t.length;u<f;u++){if(a=_o(t[u],e),a===0||u>0&&(o=_o(t[u],t[u-1]),o>0&&i<=o&&a<=o&&(i+a-o)*(1-Math.pow((i-a)/o,2))<Ua*o))return!0;i=a}return!1}function Vh(t,e){return!!Ph(t.map(Kv),Gh(e))}function Kv(t){return t=t.map(Gh),t.pop(),t}function Gh(t){return[t[0]*ht,t[1]*ht]}function Jv(t,e){return(t&&$h.hasOwnProperty(t.type)?$h[t.type]:mo)(t,e)}function Oh(t,e,i){var a=me(t,e-ft,i).concat(e);return function(o){return a.map(function(u){return[o,u]})}}function Nh(t,e,i){var a=me(t,e-ft,i).concat(e);return function(o){return a.map(function(u){return[u,o]})}}function Ih(){var t,e,i,a,o,u,f,l,d=10,g=d,y=90,m=360,_,x,S,b,T=2.5;function P(){return{type:"MultiLineString",coordinates:k()}}function k(){return me(qa(a/y)*y,i,y).map(S).concat(me(qa(l/m)*m,f,m).map(b)).concat(me(qa(e/d)*d,t,d).filter(function(L){return $t(L%y)>ft}).map(_)).concat(me(qa(u/g)*g,o,g).filter(function(L){return $t(L%m)>ft}).map(x))}return P.lines=function(){return k().map(function(L){return{type:"LineString",coordinates:L}})},P.outline=function(){return{type:"Polygon",coordinates:[S(a).concat(b(f).slice(1),S(i).reverse().slice(1),b(l).reverse().slice(1))]}},P.extent=function(L){return arguments.length?P.extentMajor(L).extentMinor(L):P.extentMinor()},P.extentMajor=function(L){return arguments.length?(a=+L[0][0],i=+L[1][0],l=+L[0][1],f=+L[1][1],a>i&&(L=a,a=i,i=L),l>f&&(L=l,l=f,f=L),P.precision(T)):[[a,l],[i,f]]},P.extentMinor=function(L){return arguments.length?(e=+L[0][0],t=+L[1][0],u=+L[0][1],o=+L[1][1],e>t&&(L=e,e=t,t=L),u>o&&(L=u,u=o,o=L),P.precision(T)):[[e,u],[t,o]]},P.step=function(L){return arguments.length?P.stepMajor(L).stepMinor(L):P.stepMinor()},P.stepMajor=function(L){return arguments.length?(y=+L[0],m=+L[1],P):[y,m]},P.stepMinor=function(L){return arguments.length?(d=+L[0],g=+L[1],P):[d,g]},P.precision=function(L){return arguments.length?(T=+L,_=Oh(u,o,90),x=Nh(e,t,T),S=Oh(l,f,90),b=Nh(a,i,T),P):T},P.extentMajor([[-180,-90+ft],[180,90-ft]]).extentMinor([[-180,-80-ft],[180,80+ft]])}function tx(){return Ih()()}function ex(t,e){var i=t[0]*ht,a=t[1]*ht,o=e[0]*ht,u=e[1]*ht,f=ut(a),l=rt(a),d=ut(u),g=rt(u),y=f*ut(i),m=f*rt(i),_=d*ut(o),x=d*rt(o),S=2*Ae(te(Kl(u-a)+f*d*Kl(o-i))),b=rt(S),T=S?function(P){var k=rt(P*=S)/b,L=rt(S-P)/b,$=L*y+k*_,O=L*m+k*x,F=L*l+k*g;return[Te(O,$)*Dt,Te(F,te($*$+O*O))*Dt]}:function(){return[i*Dt,a*Dt]};return T.distance=S,T}function br(t){return t}var $u=In(),Eu=In(),Dh,Fh,ku,Ru,Tn={point:Bt,lineStart:Bt,lineEnd:Bt,polygonStart:function(){Tn.lineStart=nx,Tn.lineEnd=rx},polygonEnd:function(){Tn.lineStart=Tn.lineEnd=Tn.point=Bt,$u.add($t(Eu)),Eu.reset()},result:function(){var t=$u/2;return $u.reset(),t}};function nx(){Tn.point=ix}function ix(t,e){Tn.point=zh,Dh=ku=t,Fh=Ru=e}function zh(t,e){Eu.add(Ru*t-ku*e),ku=t,Ru=e}function rx(){zh(Dh,Fh)}var Di=1/0,vo=Di,Sr=-Di,xo=Sr,wo={point:ax,lineStart:Bt,lineEnd:Bt,polygonStart:Bt,polygonEnd:Bt,result:function(){var t=[[Di,vo],[Sr,xo]];return Sr=xo=-(vo=Di=1/0),t}};function ax(t,e){t<Di&&(Di=t),t>Sr&&(Sr=t),e<vo&&(vo=e),e>xo&&(xo=e)}var Vu=0,Gu=0,Tr=0,bo=0,So=0,Fi=0,Ou=0,Nu=0,Ar=0,Xh,Yh,dn,gn,Be={point:ui,lineStart:Bh,lineEnd:Hh,polygonStart:function(){Be.lineStart=ux,Be.lineEnd=cx},polygonEnd:function(){Be.point=ui,Be.lineStart=Bh,Be.lineEnd=Hh},result:function(){var t=Ar?[Ou/Ar,Nu/Ar]:Fi?[bo/Fi,So/Fi]:Tr?[Vu/Tr,Gu/Tr]:[NaN,NaN];return Vu=Gu=Tr=bo=So=Fi=Ou=Nu=Ar=0,t}};function ui(t,e){Vu+=t,Gu+=e,++Tr}function Bh(){Be.point=ox}function ox(t,e){Be.point=sx,ui(dn=t,gn=e)}function sx(t,e){var i=t-dn,a=e-gn,o=te(i*i+a*a);bo+=o*(dn+t)/2,So+=o*(gn+e)/2,Fi+=o,ui(dn=t,gn=e)}function Hh(){Be.point=ui}function ux(){Be.point=fx}function cx(){Uh(Xh,Yh)}function fx(t,e){Be.point=Uh,ui(Xh=dn=t,Yh=gn=e)}function Uh(t,e){var i=t-dn,a=e-gn,o=te(i*i+a*a);bo+=o*(dn+t)/2,So+=o*(gn+e)/2,Fi+=o,o=gn*t-dn*e,Ou+=o*(dn+t),Nu+=o*(gn+e),Ar+=o*3,ui(dn=t,gn=e)}function Wh(t){this._context=t}Wh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Se);break}}},result:Bt};var Iu=In(),Du,qh,Qh,Pr,Cr,Lr={point:Bt,lineStart:function(){Lr.point=lx},lineEnd:function(){Du&&Zh(qh,Qh),Lr.point=Bt},polygonStart:function(){Du=!0},polygonEnd:function(){Du=null},result:function(){var t=+Iu;return Iu.reset(),t}};function lx(t,e){Lr.point=Zh,qh=Pr=t,Qh=Cr=e}function Zh(t,e){Pr-=t,Cr-=e,Iu.add(te(Pr*Pr+Cr*Cr)),Pr=t,Cr=e}function jh(){this._string=[]}jh.prototype={_radius:4.5,_circle:Kh(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=Kh(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function Kh(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function hx(t,e){var i=4.5,a,o;function u(f){return f&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),Je(f,a(o))),o.result()}return u.area=function(f){return Je(f,a(Tn)),Tn.result()},u.measure=function(f){return Je(f,a(Lr)),Lr.result()},u.bounds=function(f){return Je(f,a(wo)),wo.result()},u.centroid=function(f){return Je(f,a(Be)),Be.result()},u.projection=function(f){return arguments.length?(a=f==null?(t=null,br):(t=f).stream,u):t},u.context=function(f){return arguments.length?(o=f==null?(e=null,new jh):new Wh(e=f),typeof i!="function"&&o.pointRadius(i),u):e},u.pointRadius=function(f){return arguments.length?(i=typeof f=="function"?f:(o.pointRadius(+f),+f),u):i},u.projection(t).context(e)}function dx(t){return{stream:Mr(t)}}function Mr(t){return function(e){var i=new Fu;for(var a in t)i[a]=t[a];return i.stream=e,i}}function Fu(){}Fu.prototype={constructor:Fu,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function zu(t,e,i){var a=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),Je(i,t.stream(wo)),e(wo.result()),a!=null&&t.clipExtent(a),t}function To(t,e,i){return zu(t,function(a){var o=e[1][0]-e[0][0],u=e[1][1]-e[0][1],f=Math.min(o/(a[1][0]-a[0][0]),u/(a[1][1]-a[0][1])),l=+e[0][0]+(o-f*(a[1][0]+a[0][0]))/2,d=+e[0][1]+(u-f*(a[1][1]+a[0][1]))/2;t.scale(150*f).translate([l,d])},i)}function Xu(t,e,i){return To(t,[[0,0],e],i)}function Yu(t,e,i){return zu(t,function(a){var o=+e,u=o/(a[1][0]-a[0][0]),f=(o-u*(a[1][0]+a[0][0]))/2,l=-u*a[0][1];t.scale(150*u).translate([f,l])},i)}function Bu(t,e,i){return zu(t,function(a){var o=+e,u=o/(a[1][1]-a[0][1]),f=-u*a[0][0],l=(o-u*(a[1][1]+a[0][1]))/2;t.scale(150*u).translate([f,l])},i)}var Jh=16,gx=ut(30*ht);function td(t,e){return+e?yx(t,e):px(t)}function px(t){return Mr({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}function yx(t,e){function i(a,o,u,f,l,d,g,y,m,_,x,S,b,T){var P=g-a,k=y-o,L=P*P+k*k;if(L>4*e&&b--){var $=f+_,O=l+x,F=d+S,I=te($*$+O*O+F*F),q=Ae(F/=I),B=$t($t(F)-1)<ft||$t(u-m)<ft?(u+m)/2:Te(O,$),U=t(B,q),X=U[0],R=U[1],z=X-a,Z=R-o,D=k*z-P*Z;(D*D/L>e||$t((P*z+k*Z)/L-.5)>.3||f*_+l*x+d*S<gx)&&(i(a,o,u,f,l,d,X,R,B,$/=I,O/=I,F,b,T),T.point(X,R),i(X,R,B,$,O,F,g,y,m,_,x,S,b,T))}}return function(a){var o,u,f,l,d,g,y,m,_,x,S,b,T={point:P,lineStart:k,lineEnd:$,polygonStart:function(){a.polygonStart(),T.lineStart=O},polygonEnd:function(){a.polygonEnd(),T.lineStart=k}};function P(q,B){q=t(q,B),a.point(q[0],q[1])}function k(){m=NaN,T.point=L,a.lineStart()}function L(q,B){var U=oi([q,B]),X=t(q,B);i(m,_,y,x,S,b,m=X[0],_=X[1],y=q,x=U[0],S=U[1],b=U[2],Jh,a),a.point(m,_)}function $(){T.point=P,a.lineEnd()}function O(){k(),T.point=F,T.lineEnd=I}function F(q,B){L(o=q,B),u=m,f=_,l=x,d=S,g=b,T.point=L}function I(){i(m,_,y,x,S,b,u,f,o,l,d,g,Jh,a),T.lineEnd=$,$()}return T}}var _x=Mr({point:function(t,e){this.stream.point(t*ht,e*ht)}});function mx(t){return Mr({point:function(e,i){var a=t(e,i);return this.stream.point(a[0],a[1])}})}function vx(t,e,i,a,o){function u(f,l){return f*=a,l*=o,[e+t*f,i-t*l]}return u.invert=function(f,l){return[(f-e)/t*a,(i-l)/t*o]},u}function ed(t,e,i,a,o,u){var f=ut(u),l=rt(u),d=f*t,g=l*t,y=f/t,m=l/t,_=(l*i-f*e)/t,x=(l*e+f*i)/t;function S(b,T){return b*=a,T*=o,[d*b-g*T+e,i-g*b-d*T]}return S.invert=function(b,T){return[a*(y*b-m*T+_),o*(x-m*b-y*T)]},S}function pn(t){return Hu(function(){return t})()}function Hu(t){var e,i=150,a=480,o=250,u=0,f=0,l=0,d=0,g=0,y,m=0,_=1,x=1,S=null,b=Pu,T=null,P,k,L,$=br,O=.5,F,I,q,B,U;function X(D){return q(D[0]*ht,D[1]*ht)}function R(D){return D=q.invert(D[0],D[1]),D&&[D[0]*Dt,D[1]*Dt]}X.stream=function(D){return B&&U===D?B:B=_x(mx(y)(b(F($(U=D)))))},X.preclip=function(D){return arguments.length?(b=D,S=void 0,Z()):b},X.postclip=function(D){return arguments.length?($=D,T=P=k=L=null,Z()):$},X.clipAngle=function(D){return arguments.length?(b=+D?Lh(S=D*ht):(S=null,Pu),Z()):S*Dt},X.clipExtent=function(D){return arguments.length?($=D==null?(T=P=k=L=null,br):go(T=+D[0][0],P=+D[0][1],k=+D[1][0],L=+D[1][1]),Z()):T==null?null:[[T,P],[k,L]]},X.scale=function(D){return arguments.length?(i=+D,z()):i},X.translate=function(D){return arguments.length?(a=+D[0],o=+D[1],z()):[a,o]},X.center=function(D){return arguments.length?(u=D[0]%360*ht,f=D[1]%360*ht,z()):[u*Dt,f*Dt]},X.rotate=function(D){return arguments.length?(l=D[0]%360*ht,d=D[1]%360*ht,g=D.length>2?D[2]%360*ht:0,z()):[l*Dt,d*Dt,g*Dt]},X.angle=function(D){return arguments.length?(m=D%360*ht,z()):m*Dt},X.reflectX=function(D){return arguments.length?(_=D?-1:1,z()):_<0},X.reflectY=function(D){return arguments.length?(x=D?-1:1,z()):x<0},X.precision=function(D){return arguments.length?(F=td(I,O=D*D),Z()):te(O)},X.fitExtent=function(D,Q){return To(X,D,Q)},X.fitSize=function(D,Q){return Xu(X,D,Q)},X.fitWidth=function(D,Q){return Yu(X,D,Q)},X.fitHeight=function(D,Q){return Bu(X,D,Q)};function z(){var D=ed(i,0,0,_,x,m).apply(null,e(u,f)),Q=(m?ed:vx)(i,a-D[0],o-D[1],_,x,m);return y=Su(l,d,g),I=wu(e,Q),q=wu(y,I),F=td(I,O),Z()}function Z(){return B=U=null,X}return function(){return e=t.apply(this,arguments),X.invert=e.invert&&R,z()}}function Uu(t){var e=0,i=St/3,a=Hu(t),o=a(e,i);return o.parallels=function(u){return arguments.length?a(e=u[0]*ht,i=u[1]*ht):[e*Dt,i*Dt]},o}function xx(t){var e=ut(t);function i(a,o){return[a*e,rt(o)/e]}return i.invert=function(a,o){return[a/e,Ae(o*e)]},i}function nd(t,e){var i=rt(t),a=(i+rt(e))/2;if($t(a)<ft)return xx(t);var o=1+i*(2*a-i),u=te(o)/a;function f(l,d){var g=te(o-2*a*rt(d))/a;return[g*rt(l*=a),u-g*ut(l)]}return f.invert=function(l,d){var g=u-d,y=Te(l,$t(g))*Ye(g);return g*a<0&&(y-=St*Ye(l)*Ye(g)),[y/a,Ae((o-(l*l+g*g)*a*a)/(2*a))]},f}function Ao(){return Uu(nd).scale(155.424).center([0,33.6442])}function id(){return Ao().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function wx(t){var e=t.length;return{point:function(i,a){for(var o=-1;++o<e;)t[o].point(i,a)},sphere:function(){for(var i=-1;++i<e;)t[i].sphere()},lineStart:function(){for(var i=-1;++i<e;)t[i].lineStart()},lineEnd:function(){for(var i=-1;++i<e;)t[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<e;)t[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<e;)t[i].polygonEnd()}}}function bx(){var t,e,i=id(),a,o=Ao().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u,f=Ao().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,d,g={point:function(_,x){d=[_,x]}};function y(_){var x=_[0],S=_[1];return d=null,a.point(x,S),d||(u.point(x,S),d)||(l.point(x,S),d)}y.invert=function(_){var x=i.scale(),S=i.translate(),b=(_[0]-S[0])/x,T=(_[1]-S[1])/x;return(T>=.12&&T<.234&&b>=-.425&&b<-.214?o:T>=.166&&T<.234&&b>=-.214&&b<-.115?f:i).invert(_)},y.stream=function(_){return t&&e===_?t:t=wx([i.stream(e=_),o.stream(_),f.stream(_)])},y.precision=function(_){return arguments.length?(i.precision(_),o.precision(_),f.precision(_),m()):i.precision()},y.scale=function(_){return arguments.length?(i.scale(_),o.scale(_*.35),f.scale(_),y.translate(i.translate())):i.scale()},y.translate=function(_){if(!arguments.length)return i.translate();var x=i.scale(),S=+_[0],b=+_[1];return a=i.translate(_).clipExtent([[S-.455*x,b-.238*x],[S+.455*x,b+.238*x]]).stream(g),u=o.translate([S-.307*x,b+.201*x]).clipExtent([[S-.425*x+ft,b+.12*x+ft],[S-.214*x-ft,b+.234*x-ft]]).stream(g),l=f.translate([S-.205*x,b+.212*x]).clipExtent([[S-.214*x+ft,b+.166*x+ft],[S-.115*x-ft,b+.234*x-ft]]).stream(g),m()},y.fitExtent=function(_,x){return To(y,_,x)},y.fitSize=function(_,x){return Xu(y,_,x)},y.fitWidth=function(_,x){return Yu(y,_,x)},y.fitHeight=function(_,x){return Bu(y,_,x)};function m(){return t=e=null,y}return y.scale(1070)}function rd(t){return function(e,i){var a=ut(e),o=ut(i),u=t(a*o);return[u*o*rt(e),u*rt(i)]}}function $r(t){return function(e,i){var a=te(e*e+i*i),o=t(a),u=rt(o),f=ut(o);return[Te(e*u,a*f),Ae(a&&i*u/a)]}}var Wu=rd(function(t){return te(2/(1+t))});Wu.invert=$r(function(t){return 2*Ae(t/2)});function Sx(){return pn(Wu).scale(124.75).clipAngle(180-.001)}var qu=rd(function(t){return(t=jl(t))&&t/rt(t)});qu.invert=$r(function(t){return t});function Tx(){return pn(qu).scale(79.4188).clipAngle(180-.001)}function Er(t,e){return[t,Qa(fu((qt+e)/2))]}Er.invert=function(t,e){return[t,2*Vi(Zl(e))-qt]};function Ax(){return ad(Er).scale(961/Se)}function ad(t){var e=pn(t),i=e.center,a=e.scale,o=e.translate,u=e.clipExtent,f=null,l,d,g;e.scale=function(m){return arguments.length?(a(m),y()):a()},e.translate=function(m){return arguments.length?(o(m),y()):o()},e.center=function(m){return arguments.length?(i(m),y()):i()},e.clipExtent=function(m){return arguments.length?(m==null?f=l=d=g=null:(f=+m[0][0],l=+m[0][1],d=+m[1][0],g=+m[1][1]),y()):f==null?null:[[f,l],[d,g]]};function y(){var m=St*a(),_=e(xh(e.rotate()).invert([0,0]));return u(f==null?[[_[0]-m,_[1]-m],[_[0]+m,_[1]+m]]:t===Er?[[Math.max(_[0]-m,f),l],[Math.min(_[0]+m,d),g]]:[[f,Math.max(_[1]-m,l)],[d,Math.min(_[1]+m,g)]])}return y()}function Po(t){return fu((qt+t)/2)}function od(t,e){var i=ut(t),a=t===e?rt(t):Qa(i/ut(e))/Qa(Po(e)/Po(t)),o=i*cu(Po(t),a)/a;if(!a)return Er;function u(f,l){o>0?l<-qt+ft&&(l=-qt+ft):l>qt-ft&&(l=qt-ft);var d=o/cu(Po(l),a);return[d*rt(a*f),o-d*ut(a*f)]}return u.invert=function(f,l){var d=o-l,g=Ye(a)*te(f*f+d*d),y=Te(f,$t(d))*Ye(d);return d*a<0&&(y-=St*Ye(f)*Ye(d)),[y/a,2*Vi(cu(o/g,1/a))-qt]},u}function Px(){return Uu(od).scale(109.5).parallels([30,30])}function kr(t,e){return[t,e]}kr.invert=kr;function Cx(){return pn(kr).scale(152.63)}function sd(t,e){var i=ut(t),a=t===e?rt(t):(i-ut(e))/(e-t),o=i/a+t;if($t(a)<ft)return kr;function u(f,l){var d=o-l,g=a*f;return[d*rt(g),o-d*ut(g)]}return u.invert=function(f,l){var d=o-l,g=Te(f,$t(d))*Ye(d);return d*a<0&&(g-=St*Ye(f)*Ye(d)),[g/a,o-Ye(a)*te(f*f+d*d)]},u}function Lx(){return Uu(sd).scale(131.154).center([0,13.9389])}var Rr=1.340264,Vr=-.081106,Gr=893e-6,Or=.003796,Co=te(3)/2,Mx=12;function Qu(t,e){var i=Ae(Co*rt(e)),a=i*i,o=a*a*a;return[t*ut(i)/(Co*(Rr+3*Vr*a+o*(7*Gr+9*Or*a))),i*(Rr+Vr*a+o*(Gr+Or*a))]}Qu.invert=function(t,e){for(var i=e,a=i*i,o=a*a*a,u=0,f,l,d;u<Mx&&(l=i*(Rr+Vr*a+o*(Gr+Or*a))-e,d=Rr+3*Vr*a+o*(7*Gr+9*Or*a),i-=f=l/d,a=i*i,o=a*a*a,!($t(f)<Ua));++u);return[Co*t*(Rr+3*Vr*a+o*(7*Gr+9*Or*a))/ut(i),Ae(rt(i)/Co)]};function $x(){return pn(Qu).scale(177.158)}function Zu(t,e){var i=ut(e),a=ut(t)*i;return[i*rt(t)/a,rt(e)/a]}Zu.invert=$r(Vi);function Ex(){return pn(Zu).scale(144.049).clipAngle(60)}function kx(){var t=1,e=0,i=0,a=1,o=1,u=0,f,l,d=null,g,y,m,_=1,x=1,S=Mr({point:function($,O){var F=L([$,O]);this.stream.point(F[0],F[1])}}),b=br,T,P;function k(){return _=t*a,x=t*o,T=P=null,L}function L($){var O=$[0]*_,F=$[1]*x;if(u){var I=F*f-O*l;O=O*f+F*l,F=I}return[O+e,F+i]}return L.invert=function($){var O=$[0]-e,F=$[1]-i;if(u){var I=F*f+O*l;O=O*f-F*l,F=I}return[O/_,F/x]},L.stream=function($){return T&&P===$?T:T=S(b(P=$))},L.postclip=function($){return arguments.length?(b=$,d=g=y=m=null,k()):b},L.clipExtent=function($){return arguments.length?(b=$==null?(d=g=y=m=null,br):go(d=+$[0][0],g=+$[0][1],y=+$[1][0],m=+$[1][1]),k()):d==null?null:[[d,g],[y,m]]},L.scale=function($){return arguments.length?(t=+$,k()):t},L.translate=function($){return arguments.length?(e=+$[0],i=+$[1],k()):[e,i]},L.angle=function($){return arguments.length?(u=$%360*ht,l=rt(u),f=ut(u),k()):u*Dt},L.reflectX=function($){return arguments.length?(a=$?-1:1,k()):a<0},L.reflectY=function($){return arguments.length?(o=$?-1:1,k()):o<0},L.fitExtent=function($,O){return To(L,$,O)},L.fitSize=function($,O){return Xu(L,$,O)},L.fitWidth=function($,O){return Yu(L,$,O)},L.fitHeight=function($,O){return Bu(L,$,O)},L}function ju(t,e){var i=e*e,a=i*i;return[t*(.8707-.131979*i+a*(-.013791+a*(.003971*i-.001529*a))),e*(1.007226+i*(.015085+a*(-.044475+.028874*i-.005916*a)))]}ju.invert=function(t,e){var i=e,a=25,o;do{var u=i*i,f=u*u;i-=o=(i*(1.007226+u*(.015085+f*(-.044475+.028874*u-.005916*f)))-e)/(1.007226+u*(.015085*3+f*(-.044475*7+.028874*9*u-.005916*11*f)))}while($t(o)>ft&&--a>0);return[t/(.8707+(u=i*i)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),i]};function Rx(){return pn(ju).scale(175.295)}function Ku(t,e){return[ut(e)*rt(t),rt(e)]}Ku.invert=$r(Ae);function Vx(){return pn(Ku).scale(249.5).clipAngle(90+ft)}function Ju(t,e){var i=ut(e),a=1+ut(t)*i;return[i*rt(t)/a,rt(e)/a]}Ju.invert=$r(function(t){return 2*Vi(t)});function Gx(){return pn(Ju).scale(250).clipAngle(142)}function tc(t,e){return[Qa(fu((qt+e)/2)),-t]}tc.invert=function(t,e){return[-e,2*Vi(Zl(t))-qt]};function Ox(){var t=ad(tc),e=t.center,i=t.rotate;return t.center=function(a){return arguments.length?e([-a[1],a[0]]):(a=e(),[a[1],-a[0]])},t.rotate=function(a){return arguments.length?i([a[0],a[1],a.length>2?a[2]+90:90]):(a=i(),[a[0],a[1],a[2]-90])},i([0,0,90]).scale(159.155)}function Nx(t,e){return t.parent===e.parent?1:2}function Ix(t){return t.reduce(Dx,0)/t.length}function Dx(t,e){return t+e.x}function Fx(t){return 1+t.reduce(zx,0)}function zx(t,e){return Math.max(t,e.y)}function Xx(t){for(var e;e=t.children;)t=e[0];return t}function Yx(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Bx(){var t=Nx,e=1,i=1,a=!1;function o(u){var f,l=0;u.eachAfter(function(_){var x=_.children;x?(_.x=Ix(x),_.y=Fx(x)):(_.x=f?l+=t(_,f):0,_.y=0,f=_)});var d=Xx(u),g=Yx(u),y=d.x-t(d,g)/2,m=g.x+t(g,d)/2;return u.eachAfter(a?function(_){_.x=(_.x-u.x)*e,_.y=(u.y-_.y)*i}:function(_){_.x=(_.x-y)/(m-y)*e,_.y=(1-(u.y?_.y/u.y:1))*i})}return o.separation=function(u){return arguments.length?(t=u,o):t},o.size=function(u){return arguments.length?(a=!1,e=+u[0],i=+u[1],o):a?null:[e,i]},o.nodeSize=function(u){return arguments.length?(a=!0,e=+u[0],i=+u[1],o):a?[e,i]:null},o}function Hx(t){var e=0,i=t.children,a=i&&i.length;if(!a)e=1;else for(;--a>=0;)e+=i[a].value;t.value=e}function Ux(){return this.eachAfter(Hx)}function Wx(t){var e=this,i,a=[e],o,u,f;do for(i=a.reverse(),a=[];e=i.pop();)if(t(e),o=e.children,o)for(u=0,f=o.length;u<f;++u)a.push(o[u]);while(a.length);return this}function qx(t){for(var e=this,i=[e],a,o;e=i.pop();)if(t(e),a=e.children,a)for(o=a.length-1;o>=0;--o)i.push(a[o]);return this}function Qx(t){for(var e=this,i=[e],a=[],o,u,f;e=i.pop();)if(a.push(e),o=e.children,o)for(u=0,f=o.length;u<f;++u)i.push(o[u]);for(;e=a.pop();)t(e);return this}function Zx(t){return this.eachAfter(function(e){for(var i=+t(e.data)||0,a=e.children,o=a&&a.length;--o>=0;)i+=a[o].value;e.value=i})}function jx(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Kx(t){for(var e=this,i=Jx(e,t),a=[e];e!==i;)e=e.parent,a.push(e);for(var o=a.length;t!==i;)a.splice(o,0,t),t=t.parent;return a}function Jx(t,e){if(t===e)return t;var i=t.ancestors(),a=e.ancestors(),o=null;for(t=i.pop(),e=a.pop();t===e;)o=t,t=i.pop(),e=a.pop();return o}function tw(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function ew(){var t=[];return this.each(function(e){t.push(e)}),t}function nw(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function iw(){var t=this,e=[];return t.each(function(i){i!==t&&e.push({source:i.parent,target:i})}),e}function ec(t,e){var i=new zi(t),a=+t.value&&(i.value=t.value),o,u=[i],f,l,d,g;for(e==null&&(e=aw);o=u.pop();)if(a&&(o.value=+o.data.value),(l=e(o.data))&&(g=l.length))for(o.children=new Array(g),d=g-1;d>=0;--d)u.push(f=o.children[d]=new zi(l[d])),f.parent=o,f.depth=o.depth+1;return i.eachBefore(ud)}function rw(){return ec(this).eachBefore(ow)}function aw(t){return t.children}function ow(t){t.data=t.data.data}function ud(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function zi(t){this.data=t,this.depth=this.height=0,this.parent=null}zi.prototype=ec.prototype={constructor:zi,count:Ux,each:Wx,eachAfter:Qx,eachBefore:qx,sum:Zx,sort:jx,path:Kx,ancestors:tw,descendants:ew,leaves:nw,links:iw,copy:rw};var sw=Array.prototype.slice;function uw(t){for(var e=t.length,i,a;e;)a=Math.random()*e--|0,i=t[e],t[e]=t[a],t[a]=i;return t}function cd(t){for(var e=0,i=(t=uw(sw.call(t))).length,a=[],o,u;e<i;)o=t[e],u&&fd(u,o)?++e:(u=fw(a=cw(a,o)),e=0);return u}function cw(t,e){var i,a;if(nc(e,t))return[e];for(i=0;i<t.length;++i)if(Lo(e,t[i])&&nc(Nr(t[i],e),t))return[t[i],e];for(i=0;i<t.length-1;++i)for(a=i+1;a<t.length;++a)if(Lo(Nr(t[i],t[a]),e)&&Lo(Nr(t[i],e),t[a])&&Lo(Nr(t[a],e),t[i])&&nc(ld(t[i],t[a],e),t))return[t[i],t[a],e];throw new Error}function Lo(t,e){var i=t.r-e.r,a=e.x-t.x,o=e.y-t.y;return i<0||i*i<a*a+o*o}function fd(t,e){var i=t.r-e.r+1e-6,a=e.x-t.x,o=e.y-t.y;return i>0&&i*i>a*a+o*o}function nc(t,e){for(var i=0;i<e.length;++i)if(!fd(t,e[i]))return!1;return!0}function fw(t){switch(t.length){case 1:return lw(t[0]);case 2:return Nr(t[0],t[1]);case 3:return ld(t[0],t[1],t[2])}}function lw(t){return{x:t.x,y:t.y,r:t.r}}function Nr(t,e){var i=t.x,a=t.y,o=t.r,u=e.x,f=e.y,l=e.r,d=u-i,g=f-a,y=l-o,m=Math.sqrt(d*d+g*g);return{x:(i+u+d/m*y)/2,y:(a+f+g/m*y)/2,r:(m+o+l)/2}}function ld(t,e,i){var a=t.x,o=t.y,u=t.r,f=e.x,l=e.y,d=e.r,g=i.x,y=i.y,m=i.r,_=a-f,x=a-g,S=o-l,b=o-y,T=d-u,P=m-u,k=a*a+o*o-u*u,L=k-f*f-l*l+d*d,$=k-g*g-y*y+m*m,O=x*S-_*b,F=(S*$-b*L)/(O*2)-a,I=(b*T-S*P)/O,q=(x*L-_*$)/(O*2)-o,B=(_*P-x*T)/O,U=I*I+B*B-1,X=2*(u+F*I+q*B),R=F*F+q*q-u*u,z=-(U?(X+Math.sqrt(X*X-4*U*R))/(2*U):R/X);return{x:a+F+I*z,y:o+q+B*z,r:z}}function hd(t,e,i){var a=t.x-e.x,o,u,f=t.y-e.y,l,d,g=a*a+f*f;g?(u=e.r+i.r,u*=u,d=t.r+i.r,d*=d,u>d?(o=(g+d-u)/(2*g),l=Math.sqrt(Math.max(0,d/g-o*o)),i.x=t.x-o*a-l*f,i.y=t.y-o*f+l*a):(o=(g+u-d)/(2*g),l=Math.sqrt(Math.max(0,u/g-o*o)),i.x=e.x+o*a-l*f,i.y=e.y+o*f+l*a)):(i.x=e.x+i.r,i.y=e.y)}function dd(t,e){var i=t.r+e.r-1e-6,a=e.x-t.x,o=e.y-t.y;return i>0&&i*i>a*a+o*o}function gd(t){var e=t._,i=t.next._,a=e.r+i.r,o=(e.x*i.r+i.x*e.r)/a,u=(e.y*i.r+i.y*e.r)/a;return o*o+u*u}function Mo(t){this._=t,this.next=null,this.previous=null}function pd(t){if(!(o=t.length))return 0;var e,i,a,o,u,f,l,d,g,y,m;if(e=t[0],e.x=0,e.y=0,!(o>1))return e.r;if(i=t[1],e.x=-i.r,i.x=e.r,i.y=0,!(o>2))return e.r+i.r;hd(i,e,a=t[2]),e=new Mo(e),i=new Mo(i),a=new Mo(a),e.next=a.previous=i,i.next=e.previous=a,a.next=i.previous=e;t:for(l=3;l<o;++l){hd(e._,i._,a=t[l]),a=new Mo(a),d=i.next,g=e.previous,y=i._.r,m=e._.r;do if(y<=m){if(dd(d._,a._)){i=d,e.next=i,i.previous=e,--l;continue t}y+=d._.r,d=d.next}else{if(dd(g._,a._)){e=g,e.next=i,i.previous=e,--l;continue t}m+=g._.r,g=g.previous}while(d!==g.next);for(a.previous=e,a.next=i,e.next=i.previous=i=a,u=gd(e);(a=a.next)!==i;)(f=gd(a))<u&&(e=a,u=f);i=e.next}for(e=[i._],a=i;(a=a.next)!==i;)e.push(a._);for(a=cd(e),l=0;l<o;++l)e=t[l],e.x-=a.x,e.y-=a.y;return a.r}function hw(t){return pd(t),t}function dw(t){return t==null?null:$o(t)}function $o(t){if(typeof t!="function")throw new Error;return t}function ci(){return 0}function Xi(t){return function(){return t}}function gw(t){return Math.sqrt(t.value)}function pw(){var t=null,e=1,i=1,a=ci;function o(u){return u.x=e/2,u.y=i/2,t?u.eachBefore(yd(t)).eachAfter(ic(a,.5)).eachBefore(_d(1)):u.eachBefore(yd(gw)).eachAfter(ic(ci,1)).eachAfter(ic(a,u.r/Math.min(e,i))).eachBefore(_d(Math.min(e,i)/(2*u.r))),u}return o.radius=function(u){return arguments.length?(t=dw(u),o):t},o.size=function(u){return arguments.length?(e=+u[0],i=+u[1],o):[e,i]},o.padding=function(u){return arguments.length?(a=typeof u=="function"?u:Xi(+u),o):a},o}function yd(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function ic(t,e){return function(i){if(a=i.children){var a,o,u=a.length,f=t(i)*e||0,l;if(f)for(o=0;o<u;++o)a[o].r+=f;if(l=pd(a),f)for(o=0;o<u;++o)a[o].r-=f;i.r=l+f}}}function _d(t){return function(e){var i=e.parent;e.r*=t,i&&(e.x=i.x+t*e.x,e.y=i.y+t*e.y)}}function md(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Ir(t,e,i,a,o){for(var u=t.children,f,l=-1,d=u.length,g=t.value&&(a-e)/t.value;++l<d;)f=u[l],f.y0=i,f.y1=o,f.x0=e,f.x1=e+=f.value*g}function yw(){var t=1,e=1,i=0,a=!1;function o(f){var l=f.height+1;return f.x0=f.y0=i,f.x1=t,f.y1=e/l,f.eachBefore(u(e,l)),a&&f.eachBefore(md),f}function u(f,l){return function(d){d.children&&Ir(d,d.x0,f*(d.depth+1)/l,d.x1,f*(d.depth+2)/l);var g=d.x0,y=d.y0,m=d.x1-i,_=d.y1-i;m<g&&(g=m=(g+m)/2),_<y&&(y=_=(y+_)/2),d.x0=g,d.y0=y,d.x1=m,d.y1=_}}return o.round=function(f){return arguments.length?(a=!!f,o):a},o.size=function(f){return arguments.length?(t=+f[0],e=+f[1],o):[t,e]},o.padding=function(f){return arguments.length?(i=+f,o):i},o}var vd="$",_w={depth:-1},xd={};function mw(t){return t.id}function vw(t){return t.parentId}function xw(){var t=mw,e=vw;function i(a){var o,u,f=a.length,l,d,g,y=new Array(f),m,_,x={};for(u=0;u<f;++u)o=a[u],g=y[u]=new zi(o),(m=t(o,u,a))!=null&&(m+="")&&(_=vd+(g.id=m),x[_]=_ in x?xd:g);for(u=0;u<f;++u)if(g=y[u],m=e(a[u],u,a),m==null||!(m+="")){if(l)throw new Error("multiple roots");l=g}else{if(d=x[vd+m],!d)throw new Error("missing: "+m);if(d===xd)throw new Error("ambiguous: "+m);d.children?d.children.push(g):d.children=[g],g.parent=d}if(!l)throw new Error("no root");if(l.parent=_w,l.eachBefore(function(S){S.depth=S.parent.depth+1,--f}).eachBefore(ud),l.parent=null,f>0)throw new Error("cycle");return l}return i.id=function(a){return arguments.length?(t=$o(a),i):t},i.parentId=function(a){return arguments.length?(e=$o(a),i):e},i}function ww(t,e){return t.parent===e.parent?1:2}function rc(t){var e=t.children;return e?e[0]:t.t}function ac(t){var e=t.children;return e?e[e.length-1]:t.t}function bw(t,e,i){var a=i/(e.i-t.i);e.c-=a,e.s+=i,t.c+=a,e.z+=i,e.m+=i}function Sw(t){for(var e=0,i=0,a=t.children,o=a.length,u;--o>=0;)u=a[o],u.z+=e,u.m+=e,e+=u.s+(i+=u.c)}function Tw(t,e,i){return t.a.parent===e.parent?t.a:i}function Eo(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Eo.prototype=Object.create(zi.prototype);function Aw(t){for(var e=new Eo(t,0),i,a=[e],o,u,f,l;i=a.pop();)if(u=i._.children)for(i.children=new Array(l=u.length),f=l-1;f>=0;--f)a.push(o=i.children[f]=new Eo(u[f],f)),o.parent=i;return(e.parent=new Eo(null,0)).children=[e],e}function Pw(){var t=ww,e=1,i=1,a=null;function o(g){var y=Aw(g);if(y.eachAfter(u),y.parent.m=-y.z,y.eachBefore(f),a)g.eachBefore(d);else{var m=g,_=g,x=g;g.eachBefore(function(k){k.x<m.x&&(m=k),k.x>_.x&&(_=k),k.depth>x.depth&&(x=k)});var S=m===_?1:t(m,_)/2,b=S-m.x,T=e/(_.x+S+b),P=i/(x.depth||1);g.eachBefore(function(k){k.x=(k.x+b)*T,k.y=k.depth*P})}return g}function u(g){var y=g.children,m=g.parent.children,_=g.i?m[g.i-1]:null;if(y){Sw(g);var x=(y[0].z+y[y.length-1].z)/2;_?(g.z=_.z+t(g._,_._),g.m=g.z-x):g.z=x}else _&&(g.z=_.z+t(g._,_._));g.parent.A=l(g,_,g.parent.A||m[0])}function f(g){g._.x=g.z+g.parent.m,g.m+=g.parent.m}function l(g,y,m){if(y){for(var _=g,x=g,S=y,b=_.parent.children[0],T=_.m,P=x.m,k=S.m,L=b.m,$;S=ac(S),_=rc(_),S&&_;)b=rc(b),x=ac(x),x.a=g,$=S.z+k-_.z-T+t(S._,_._),$>0&&(bw(Tw(S,g,m),g,$),T+=$,P+=$),k+=S.m,T+=_.m,L+=b.m,P+=x.m;S&&!ac(x)&&(x.t=S,x.m+=k-P),_&&!rc(b)&&(b.t=_,b.m+=T-L,m=g)}return m}function d(g){g.x*=e,g.y=g.depth*i}return o.separation=function(g){return arguments.length?(t=g,o):t},o.size=function(g){return arguments.length?(a=!1,e=+g[0],i=+g[1],o):a?null:[e,i]},o.nodeSize=function(g){return arguments.length?(a=!0,e=+g[0],i=+g[1],o):a?[e,i]:null},o}function ko(t,e,i,a,o){for(var u=t.children,f,l=-1,d=u.length,g=t.value&&(o-i)/t.value;++l<d;)f=u[l],f.x0=e,f.x1=a,f.y0=i,f.y1=i+=f.value*g}var wd=(1+Math.sqrt(5))/2;function bd(t,e,i,a,o,u){for(var f=[],l=e.children,d,g,y=0,m=0,_=l.length,x,S,b=e.value,T,P,k,L,$,O,F;y<_;){x=o-i,S=u-a;do T=l[m++].value;while(!T&&m<_);for(P=k=T,O=Math.max(S/x,x/S)/(b*t),F=T*T*O,$=Math.max(k/F,F/P);m<_;++m){if(T+=g=l[m].value,g<P&&(P=g),g>k&&(k=g),F=T*T*O,L=Math.max(k/F,F/P),L>$){T-=g;break}$=L}f.push(d={value:T,dice:x<S,children:l.slice(y,m)}),d.dice?Ir(d,i,a,o,b?a+=S*T/b:u):ko(d,i,a,b?i+=x*T/b:o,u),b-=T,y=m}return f}var Sd=function t(e){function i(a,o,u,f,l){bd(e,a,o,u,f,l)}return i.ratio=function(a){return t((a=+a)>1?a:1)},i}(wd);function Cw(){var t=Sd,e=!1,i=1,a=1,o=[0],u=ci,f=ci,l=ci,d=ci,g=ci;function y(_){return _.x0=_.y0=0,_.x1=i,_.y1=a,_.eachBefore(m),o=[0],e&&_.eachBefore(md),_}function m(_){var x=o[_.depth],S=_.x0+x,b=_.y0+x,T=_.x1-x,P=_.y1-x;T<S&&(S=T=(S+T)/2),P<b&&(b=P=(b+P)/2),_.x0=S,_.y0=b,_.x1=T,_.y1=P,_.children&&(x=o[_.depth+1]=u(_)/2,S+=g(_)-x,b+=f(_)-x,T-=l(_)-x,P-=d(_)-x,T<S&&(S=T=(S+T)/2),P<b&&(b=P=(b+P)/2),t(_,S,b,T,P))}return y.round=function(_){return arguments.length?(e=!!_,y):e},y.size=function(_){return arguments.length?(i=+_[0],a=+_[1],y):[i,a]},y.tile=function(_){return arguments.length?(t=$o(_),y):t},y.padding=function(_){return arguments.length?y.paddingInner(_).paddingOuter(_):y.paddingInner()},y.paddingInner=function(_){return arguments.length?(u=typeof _=="function"?_:Xi(+_),y):u},y.paddingOuter=function(_){return arguments.length?y.paddingTop(_).paddingRight(_).paddingBottom(_).paddingLeft(_):y.paddingTop()},y.paddingTop=function(_){return arguments.length?(f=typeof _=="function"?_:Xi(+_),y):f},y.paddingRight=function(_){return arguments.length?(l=typeof _=="function"?_:Xi(+_),y):l},y.paddingBottom=function(_){return arguments.length?(d=typeof _=="function"?_:Xi(+_),y):d},y.paddingLeft=function(_){return arguments.length?(g=typeof _=="function"?_:Xi(+_),y):g},y}function Lw(t,e,i,a,o){var u=t.children,f,l=u.length,d,g=new Array(l+1);for(g[0]=d=f=0;f<l;++f)g[f+1]=d+=u[f].value;y(0,l,t.value,e,i,a,o);function y(m,_,x,S,b,T,P){if(m>=_-1){var k=u[m];k.x0=S,k.y0=b,k.x1=T,k.y1=P;return}for(var L=g[m],$=x/2+L,O=m+1,F=_-1;O<F;){var I=O+F>>>1;g[I]<$?O=I+1:F=I}$-g[O-1]<g[O]-$&&m+1<O&&--O;var q=g[O]-L,B=x-q;if(T-S>P-b){var U=(S*B+T*q)/x;y(m,O,q,S,b,U,P),y(O,_,B,U,b,T,P)}else{var X=(b*B+P*q)/x;y(m,O,q,S,b,T,X),y(O,_,B,S,X,T,P)}}}function Mw(t,e,i,a,o){(t.depth&1?ko:Ir)(t,e,i,a,o)}var $w=function t(e){function i(a,o,u,f,l){if((d=a._squarify)&&d.ratio===e)for(var d,g,y,m,_=-1,x,S=d.length,b=a.value;++_<S;){for(g=d[_],y=g.children,m=g.value=0,x=y.length;m<x;++m)g.value+=y[m].value;g.dice?Ir(g,o,u,f,u+=(l-u)*g.value/b):ko(g,o,u,o+=(f-o)*g.value/b,l),b-=g.value}else a._squarify=d=bd(e,a,o,u,f,l),d.ratio=e}return i.ratio=function(a){return t((a=+a)>1?a:1)},i}(wd);function Ew(t){for(var e=-1,i=t.length,a,o=t[i-1],u=0;++e<i;)a=o,o=t[e],u+=a[1]*o[0]-a[0]*o[1];return u/2}function kw(t){for(var e=-1,i=t.length,a=0,o=0,u,f=t[i-1],l,d=0;++e<i;)u=f,f=t[e],d+=l=u[0]*f[1]-f[0]*u[1],a+=(u[0]+f[0])*l,o+=(u[1]+f[1])*l;return d*=3,[a/d,o/d]}function Rw(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function Vw(t,e){return t[0]-e[0]||t[1]-e[1]}function Td(t){for(var e=t.length,i=[0,1],a=2,o=2;o<e;++o){for(;a>1&&Rw(t[i[a-2]],t[i[a-1]],t[o])<=0;)--a;i[a++]=o}return i.slice(0,a)}function Gw(t){if((i=t.length)<3)return null;var e,i,a=new Array(i),o=new Array(i);for(e=0;e<i;++e)a[e]=[+t[e][0],+t[e][1],e];for(a.sort(Vw),e=0;e<i;++e)o[e]=[a[e][0],-a[e][1]];var u=Td(a),f=Td(o),l=f[0]===u[0],d=f[f.length-1]===u[u.length-1],g=[];for(e=u.length-1;e>=0;--e)g.push(t[a[u[e]][2]]);for(e=+l;e<f.length-d;++e)g.push(t[a[f[e]][2]]);return g}function Ow(t,e){for(var i=t.length,a=t[i-1],o=e[0],u=e[1],f=a[0],l=a[1],d,g,y=!1,m=0;m<i;++m)a=t[m],d=a[0],g=a[1],g>u!=l>u&&o<(f-d)*(u-g)/(l-g)+d&&(y=!y),f=d,l=g;return y}function Nw(t){for(var e=-1,i=t.length,a=t[i-1],o,u,f=a[0],l=a[1],d=0;++e<i;)o=f,u=l,a=t[e],f=a[0],l=a[1],o-=f,u-=l,d+=Math.sqrt(o*o+u*u);return d}function Yi(){return Math.random()}var Iw=function t(e){function i(a,o){return a=a==null?0:+a,o=o==null?1:+o,arguments.length===1?(o=a,a=0):o-=a,function(){return e()*o+a}}return i.source=t,i}(Yi),Ad=function t(e){function i(a,o){var u,f;return a=a==null?0:+a,o=o==null?1:+o,function(){var l;if(u!=null)l=u,u=null;else do u=e()*2-1,l=e()*2-1,f=u*u+l*l;while(!f||f>1);return a+o*l*Math.sqrt(-2*Math.log(f)/f)}}return i.source=t,i}(Yi),Dw=function t(e){function i(){var a=Ad.source(e).apply(this,arguments);return function(){return Math.exp(a())}}return i.source=t,i}(Yi),Pd=function t(e){function i(a){return function(){for(var o=0,u=0;u<a;++u)o+=e();return o}}return i.source=t,i}(Yi),Fw=function t(e){function i(a){var o=Pd.source(e)(a);return function(){return o()/a}}return i.source=t,i}(Yi),zw=function t(e){function i(a){return function(){return-Math.log(1-e())/a}}return i.source=t,i}(Yi);function en(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function An(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var Cd=Array.prototype,Ro=Cd.map,fi=Cd.slice,oc={name:"implicit"};function sc(){var t=xn(),e=[],i=[],a=oc;function o(u){var f=u+"",l=t.get(f);if(!l){if(a!==oc)return a;t.set(f,l=e.push(u))}return i[(l-1)%i.length]}return o.domain=function(u){if(!arguments.length)return e.slice();e=[],t=xn();for(var f=-1,l=u.length,d,g;++f<l;)t.has(g=(d=u[f])+"")||t.set(g,e.push(d));return o},o.range=function(u){return arguments.length?(i=fi.call(u),o):i.slice()},o.unknown=function(u){return arguments.length?(a=u,o):a},o.copy=function(){return sc(e,i).unknown(a)},en.apply(o,arguments),o}function uc(){var t=sc().unknown(void 0),e=t.domain,i=t.range,a=[0,1],o,u,f=!1,l=0,d=0,g=.5;delete t.unknown;function y(){var m=e().length,_=a[1]<a[0],x=a[_-0],S=a[1-_];o=(S-x)/Math.max(1,m-l+d*2),f&&(o=Math.floor(o)),x+=(S-x-o*(m-l))*g,u=o*(1-l),f&&(x=Math.round(x),u=Math.round(u));var b=me(m).map(function(T){return x+o*T});return i(_?b.reverse():b)}return t.domain=function(m){return arguments.length?(e(m),y()):e()},t.range=function(m){return arguments.length?(a=[+m[0],+m[1]],y()):a.slice()},t.rangeRound=function(m){return a=[+m[0],+m[1]],f=!0,y()},t.bandwidth=function(){return u},t.step=function(){return o},t.round=function(m){return arguments.length?(f=!!m,y()):f},t.padding=function(m){return arguments.length?(l=Math.min(1,d=+m),y()):l},t.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),y()):l},t.paddingOuter=function(m){return arguments.length?(d=+m,y()):d},t.align=function(m){return arguments.length?(g=Math.max(0,Math.min(1,m)),y()):g},t.copy=function(){return uc(e(),a).round(f).paddingInner(l).paddingOuter(d).align(g)},en.apply(y(),arguments)}function Ld(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ld(e())},t}function Xw(){return Ld(uc.apply(null,arguments).paddingInner(1))}function Yw(t){return function(){return t}}function cc(t){return+t}var Md=[0,1];function ce(t){return t}function fc(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:Yw(isNaN(e)?NaN:.5)}function $d(t){var e=t[0],i=t[t.length-1],a;return e>i&&(a=e,e=i,i=a),function(o){return Math.max(e,Math.min(i,o))}}function Bw(t,e,i){var a=t[0],o=t[1],u=e[0],f=e[1];return o<a?(a=fc(o,a),u=i(f,u)):(a=fc(a,o),u=i(u,f)),function(l){return u(a(l))}}function Hw(t,e,i){var a=Math.min(t.length,e.length)-1,o=new Array(a),u=new Array(a),f=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++f<a;)o[f]=fc(t[f],t[f+1]),u[f]=i(e[f],e[f+1]);return function(l){var d=_e(t,l,1,a)-1;return u[d](o[d](l))}}function Dr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vo(){var t=Md,e=Md,i=or,a,o,u,f=ce,l,d,g;function y(){return l=Math.min(t.length,e.length)>2?Hw:Bw,d=g=null,m}function m(_){return isNaN(_=+_)?u:(d||(d=l(t.map(a),e,i)))(a(f(_)))}return m.invert=function(_){return f(o((g||(g=l(e,t.map(a),ze)))(_)))},m.domain=function(_){return arguments.length?(t=Ro.call(_,cc),f===ce||(f=$d(t)),y()):t.slice()},m.range=function(_){return arguments.length?(e=fi.call(_),y()):e.slice()},m.rangeRound=function(_){return e=fi.call(_),i=Of,y()},m.clamp=function(_){return arguments.length?(f=_?$d(t):ce,m):f!==ce},m.interpolate=function(_){return arguments.length?(i=_,y()):i},m.unknown=function(_){return arguments.length?(u=_,m):u},function(_,x){return a=_,o=x,y()}}function Ed(t,e){return Vo()(t,e)}function kd(t,e,i,a){var o=_n(t,e,i),u;switch(a=_r(a??",f"),a.type){case"s":{var f=Math.max(Math.abs(t),Math.abs(e));return a.precision==null&&!isNaN(u=Wl(o,f))&&(a.precision=u),h.formatPrefix(a,f)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(u=ql(o,Math.max(Math.abs(t),Math.abs(e))))&&(a.precision=u-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(u=Ul(o))&&(a.precision=u-(a.type==="%")*2);break}}return h.format(a)}function li(t){var e=t.domain;return t.ticks=function(i){var a=e();return Hn(a[0],a[a.length-1],i??10)},t.tickFormat=function(i,a){var o=e();return kd(o[0],o[o.length-1],i??10,a)},t.nice=function(i){i==null&&(i=10);var a=e(),o=0,u=a.length-1,f=a[o],l=a[u],d;return l<f&&(d=f,f=l,l=d,d=o,o=u,u=d),d=dt(f,l,i),d>0?(f=Math.floor(f/d)*d,l=Math.ceil(l/d)*d,d=dt(f,l,i)):d<0&&(f=Math.ceil(f*d)/d,l=Math.floor(l*d)/d,d=dt(f,l,i)),d>0?(a[o]=Math.floor(f/d)*d,a[u]=Math.ceil(l/d)*d,e(a)):d<0&&(a[o]=Math.ceil(f*d)/d,a[u]=Math.floor(l*d)/d,e(a)),t},t}function Rd(){var t=Ed(ce,ce);return t.copy=function(){return Dr(t,Rd())},en.apply(t,arguments),li(t)}function Vd(t){var e;function i(a){return isNaN(a=+a)?e:a}return i.invert=i,i.domain=i.range=function(a){return arguments.length?(t=Ro.call(a,cc),i):t.slice()},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return Vd(t).unknown(e)},t=arguments.length?Ro.call(t,cc):[0,1],li(i)}function Gd(t,e){t=t.slice();var i=0,a=t.length-1,o=t[i],u=t[a],f;return u<o&&(f=i,i=a,a=f,f=o,o=u,u=f),t[i]=e.floor(o),t[a]=e.ceil(u),t}function Od(t){return Math.log(t)}function Nd(t){return Math.exp(t)}function Uw(t){return-Math.log(-t)}function Ww(t){return-Math.exp(-t)}function qw(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Qw(t){return t===10?qw:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Zw(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Id(t){return function(e){return-t(-e)}}function lc(t){var e=t(Od,Nd),i=e.domain,a=10,o,u;function f(){return o=Zw(a),u=Qw(a),i()[0]<0?(o=Id(o),u=Id(u),t(Uw,Ww)):t(Od,Nd),e}return e.base=function(l){return arguments.length?(a=+l,f()):a},e.domain=function(l){return arguments.length?(i(l),f()):i()},e.ticks=function(l){var d=i(),g=d[0],y=d[d.length-1],m;(m=y<g)&&(_=g,g=y,y=_);var _=o(g),x=o(y),S,b,T,P=l==null?10:+l,k=[];if(!(a%1)&&x-_<P){if(_=Math.round(_)-1,x=Math.round(x)+1,g>0){for(;_<x;++_)for(b=1,S=u(_);b<a;++b)if(T=S*b,!(T<g)){if(T>y)break;k.push(T)}}else for(;_<x;++_)for(b=a-1,S=u(_);b>=1;--b)if(T=S*b,!(T<g)){if(T>y)break;k.push(T)}}else k=Hn(_,x,Math.min(x-_,P)).map(u);return m?k.reverse():k},e.tickFormat=function(l,d){if(d==null&&(d=a===10?".0e":","),typeof d!="function"&&(d=h.format(d)),l===1/0)return d;l==null&&(l=10);var g=Math.max(1,a*l/e.ticks().length);return function(y){var m=y/u(Math.round(o(y)));return m*a<a-.5&&(m*=a),m<=g?d(y):""}},e.nice=function(){return i(Gd(i(),{floor:function(l){return u(Math.floor(o(l)))},ceil:function(l){return u(Math.ceil(o(l)))}}))},e}function Dd(){var t=lc(Vo()).domain([1,10]);return t.copy=function(){return Dr(t,Dd()).base(t.base())},en.apply(t,arguments),t}function Fd(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function zd(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hc(t){var e=1,i=t(Fd(e),zd(e));return i.constant=function(a){return arguments.length?t(Fd(e=+a),zd(e)):e},li(i)}function Xd(){var t=hc(Vo());return t.copy=function(){return Dr(t,Xd()).constant(t.constant())},en.apply(t,arguments)}function Yd(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function jw(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Kw(t){return t<0?-t*t:t*t}function dc(t){var e=t(ce,ce),i=1;function a(){return i===1?t(ce,ce):i===.5?t(jw,Kw):t(Yd(i),Yd(1/i))}return e.exponent=function(o){return arguments.length?(i=+o,a()):i},li(e)}function gc(){var t=dc(Vo());return t.copy=function(){return Dr(t,gc()).exponent(t.exponent())},en.apply(t,arguments),t}function Jw(){return gc.apply(null,arguments).exponent(.5)}function Bd(){var t=[],e=[],i=[],a;function o(){var f=0,l=Math.max(1,e.length);for(i=new Array(l-1);++f<l;)i[f-1]=Un(t,f/l);return u}function u(f){return isNaN(f=+f)?a:e[_e(i,f)]}return u.invertExtent=function(f){var l=e.indexOf(f);return l<0?[NaN,NaN]:[l>0?i[l-1]:t[0],l<i.length?i[l]:t[t.length-1]]},u.domain=function(f){if(!arguments.length)return t.slice();t=[];for(var l=0,d=f.length,g;l<d;++l)g=f[l],g!=null&&!isNaN(g=+g)&&t.push(g);return t.sort(ye),o()},u.range=function(f){return arguments.length?(e=fi.call(f),o()):e.slice()},u.unknown=function(f){return arguments.length?(a=f,u):a},u.quantiles=function(){return i.slice()},u.copy=function(){return Bd().domain(t).range(e).unknown(a)},en.apply(u,arguments)}function Hd(){var t=0,e=1,i=1,a=[.5],o=[0,1],u;function f(d){return d<=d?o[_e(a,d,0,i)]:u}function l(){var d=-1;for(a=new Array(i);++d<i;)a[d]=((d+1)*e-(d-i)*t)/(i+1);return f}return f.domain=function(d){return arguments.length?(t=+d[0],e=+d[1],l()):[t,e]},f.range=function(d){return arguments.length?(i=(o=fi.call(d)).length-1,l()):o.slice()},f.invertExtent=function(d){var g=o.indexOf(d);return g<0?[NaN,NaN]:g<1?[t,a[0]]:g>=i?[a[i-1],e]:[a[g-1],a[g]]},f.unknown=function(d){return arguments.length&&(u=d),f},f.thresholds=function(){return a.slice()},f.copy=function(){return Hd().domain([t,e]).range(o).unknown(u)},en.apply(li(f),arguments)}function Ud(){var t=[.5],e=[0,1],i,a=1;function o(u){return u<=u?e[_e(t,u,0,a)]:i}return o.domain=function(u){return arguments.length?(t=fi.call(u),a=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(u){return arguments.length?(e=fi.call(u),a=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(u){var f=e.indexOf(u);return[t[f-1],t[f]]},o.unknown=function(u){return arguments.length?(i=u,o):i},o.copy=function(){return Ud().domain(t).range(e).unknown(i)},en.apply(o,arguments)}var pc=new Date,yc=new Date;function ie(t,e,i,a){function o(u){return t(u=arguments.length===0?new Date:new Date(+u)),u}return o.floor=function(u){return t(u=new Date(+u)),u},o.ceil=function(u){return t(u=new Date(u-1)),e(u,1),t(u),u},o.round=function(u){var f=o(u),l=o.ceil(u);return u-f<l-u?f:l},o.offset=function(u,f){return e(u=new Date(+u),f==null?1:Math.floor(f)),u},o.range=function(u,f,l){var d=[],g;if(u=o.ceil(u),l=l==null?1:Math.floor(l),!(u<f)||!(l>0))return d;do d.push(g=new Date(+u)),e(u,l),t(u);while(g<u&&u<f);return d},o.filter=function(u){return ie(function(f){if(f>=f)for(;t(f),!u(f);)f.setTime(f-1)},function(f,l){if(f>=f)if(l<0)for(;++l<=0;)for(;e(f,-1),!u(f););else for(;--l>=0;)for(;e(f,1),!u(f););})},i&&(o.count=function(u,f){return pc.setTime(+u),yc.setTime(+f),t(pc),t(yc),Math.floor(i(pc,yc))},o.every=function(u){return u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?o.filter(a?function(f){return a(f)%u===0}:function(f){return o.count(0,f)%u===0}):o}),o}var hi=ie(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});hi.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ie(function(e){e.setTime(Math.floor(e/t)*t)},function(e,i){e.setTime(+e+i*t)},function(e,i){return(i-e)/t}):hi};var Wd=hi.range,Go=1e3,di=6e4,Oo=36e5,qd=864e5,Qd=6048e5,Fr=ie(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Go)},function(t,e){return(e-t)/Go},function(t){return t.getUTCSeconds()}),Zd=Fr.range,_c=ie(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Go)},function(t,e){t.setTime(+t+e*di)},function(t,e){return(e-t)/di},function(t){return t.getMinutes()}),tb=_c.range,mc=ie(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Go-t.getMinutes()*di)},function(t,e){t.setTime(+t+e*Oo)},function(t,e){return(e-t)/Oo},function(t){return t.getHours()}),eb=mc.range,zr=ie(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*di)/qd},function(t){return t.getDate()-1}),nb=zr.range;function gi(t){return ie(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,i){e.setDate(e.getDate()+i*7)},function(e,i){return(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*di)/Qd})}var Xr=gi(0),Yr=gi(1),jd=gi(2),Kd=gi(3),Br=gi(4),Jd=gi(5),tg=gi(6),eg=Xr.range,ib=Yr.range,rb=jd.range,ab=Kd.range,ob=Br.range,sb=Jd.range,ub=tg.range,vc=ie(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),cb=vc.range,Pn=ie(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Pn.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:ie(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,i){e.setFullYear(e.getFullYear()+i*t)})};var fb=Pn.range,xc=ie(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*di)},function(t,e){return(e-t)/di},function(t){return t.getUTCMinutes()}),lb=xc.range,wc=ie(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Oo)},function(t,e){return(e-t)/Oo},function(t){return t.getUTCHours()}),hb=wc.range,Hr=ie(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/qd},function(t){return t.getUTCDate()-1}),db=Hr.range;function pi(t){return ie(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCDate(e.getUTCDate()+i*7)},function(e,i){return(i-e)/Qd})}var Ur=pi(0),Wr=pi(1),ng=pi(2),ig=pi(3),qr=pi(4),rg=pi(5),ag=pi(6),og=Ur.range,gb=Wr.range,pb=ng.range,yb=ig.range,_b=qr.range,mb=rg.range,vb=ag.range,bc=ie(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),xb=bc.range,Cn=ie(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Cn.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:ie(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCFullYear(e.getUTCFullYear()+i*t)})};var wb=Cn.range;function Sc(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Tc(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qr(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function sg(t){var e=t.dateTime,i=t.date,a=t.time,o=t.periods,u=t.days,f=t.shortDays,l=t.months,d=t.shortMonths,g=Zr(o),y=jr(o),m=Zr(u),_=jr(u),x=Zr(f),S=jr(f),b=Zr(l),T=jr(l),P=Zr(d),k=jr(d),L={a:at,A:it,b:st,B:yt,c:null,d:lg,e:lg,f:Ub,H:Yb,I:Bb,j:Hb,L:hg,m:Wb,M:qb,p:_t,q:Xt,Q:yg,s:_g,S:Qb,u:Zb,U:jb,V:Kb,w:Jb,W:t2,x:null,X:null,y:e2,Y:n2,Z:i2,"%":pg},$={a:It,A:kt,b:jt,B:We,c:null,d:dg,e:dg,f:s2,H:r2,I:a2,j:o2,L:gg,m:u2,M:c2,p:nn,q:rn,Q:yg,s:_g,S:f2,u:l2,U:h2,V:d2,w:g2,W:p2,x:null,X:null,y:y2,Y:_2,Z:m2,"%":pg},O={a:U,A:X,b:R,B:z,c:Z,d:cg,e:cg,f:Db,H:fg,I:fg,j:Gb,L:Ib,m:Vb,M:Ob,p:B,q:Rb,Q:zb,s:Xb,S:Nb,u:Pb,U:Cb,V:Lb,w:Ab,W:Mb,x:D,X:Q,y:Eb,Y:$b,Z:kb,"%":Fb};L.x=F(i,L),L.X=F(a,L),L.c=F(e,L),$.x=F(i,$),$.X=F(a,$),$.c=F(e,$);function F(nt,mt){return function(Ct){var K=[],fe=-1,Rt=0,pe=nt.length,Me,Mn,$e;for(Ct instanceof Date||(Ct=new Date(+Ct));++fe<pe;)nt.charCodeAt(fe)===37&&(K.push(nt.slice(Rt,fe)),(Mn=ug[Me=nt.charAt(++fe)])!=null?Me=nt.charAt(++fe):Mn=Me==="e"?" ":"0",($e=mt[Me])&&(Me=$e(Ct,Mn)),K.push(Me),Rt=fe+1);return K.push(nt.slice(Rt,fe)),K.join("")}}function I(nt,mt){return function(Ct){var K=Qr(1900,void 0,1),fe=q(K,nt,Ct+="",0),Rt,pe;if(fe!=Ct.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(mt&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Rt=Tc(Qr(K.y,0,1)),pe=Rt.getUTCDay(),Rt=pe>4||pe===0?Wr.ceil(Rt):Wr(Rt),Rt=Hr.offset(Rt,(K.V-1)*7),K.y=Rt.getUTCFullYear(),K.m=Rt.getUTCMonth(),K.d=Rt.getUTCDate()+(K.w+6)%7):(Rt=Sc(Qr(K.y,0,1)),pe=Rt.getDay(),Rt=pe>4||pe===0?Yr.ceil(Rt):Yr(Rt),Rt=zr.offset(Rt,(K.V-1)*7),K.y=Rt.getFullYear(),K.m=Rt.getMonth(),K.d=Rt.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),pe="Z"in K?Tc(Qr(K.y,0,1)).getUTCDay():Sc(Qr(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(pe+5)%7:K.w+K.U*7-(pe+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,Tc(K)):Sc(K)}}function q(nt,mt,Ct,K){for(var fe=0,Rt=mt.length,pe=Ct.length,Me,Mn;fe<Rt;){if(K>=pe)return-1;if(Me=mt.charCodeAt(fe++),Me===37){if(Me=mt.charAt(fe++),Mn=O[Me in ug?mt.charAt(fe++):Me],!Mn||(K=Mn(nt,Ct,K))<0)return-1}else if(Me!=Ct.charCodeAt(K++))return-1}return K}function B(nt,mt,Ct){var K=g.exec(mt.slice(Ct));return K?(nt.p=y[K[0].toLowerCase()],Ct+K[0].length):-1}function U(nt,mt,Ct){var K=x.exec(mt.slice(Ct));return K?(nt.w=S[K[0].toLowerCase()],Ct+K[0].length):-1}function X(nt,mt,Ct){var K=m.exec(mt.slice(Ct));return K?(nt.w=_[K[0].toLowerCase()],Ct+K[0].length):-1}function R(nt,mt,Ct){var K=P.exec(mt.slice(Ct));return K?(nt.m=k[K[0].toLowerCase()],Ct+K[0].length):-1}function z(nt,mt,Ct){var K=b.exec(mt.slice(Ct));return K?(nt.m=T[K[0].toLowerCase()],Ct+K[0].length):-1}function Z(nt,mt,Ct){return q(nt,e,mt,Ct)}function D(nt,mt,Ct){return q(nt,i,mt,Ct)}function Q(nt,mt,Ct){return q(nt,a,mt,Ct)}function at(nt){return f[nt.getDay()]}function it(nt){return u[nt.getDay()]}function st(nt){return d[nt.getMonth()]}function yt(nt){return l[nt.getMonth()]}function _t(nt){return o[+(nt.getHours()>=12)]}function Xt(nt){return 1+~~(nt.getMonth()/3)}function It(nt){return f[nt.getUTCDay()]}function kt(nt){return u[nt.getUTCDay()]}function jt(nt){return d[nt.getUTCMonth()]}function We(nt){return l[nt.getUTCMonth()]}function nn(nt){return o[+(nt.getUTCHours()>=12)]}function rn(nt){return 1+~~(nt.getUTCMonth()/3)}return{format:function(nt){var mt=F(nt+="",L);return mt.toString=function(){return nt},mt},parse:function(nt){var mt=I(nt+="",!1);return mt.toString=function(){return nt},mt},utcFormat:function(nt){var mt=F(nt+="",$);return mt.toString=function(){return nt},mt},utcParse:function(nt){var mt=I(nt+="",!0);return mt.toString=function(){return nt},mt}}}var ug={"-":"",_:" ",0:"0"},oe=/^\s*\d+/,bb=/^%/,Sb=/[\\^$*+?|[\]().{}]/g;function Ot(t,e,i){var a=t<0?"-":"",o=(a?-t:t)+"",u=o.length;return a+(u<i?new Array(i-u+1).join(e)+o:o)}function Tb(t){return t.replace(Sb,"\\$&")}function Zr(t){return new RegExp("^(?:"+t.map(Tb).join("|")+")","i")}function jr(t){for(var e={},i=-1,a=t.length;++i<a;)e[t[i].toLowerCase()]=i;return e}function Ab(t,e,i){var a=oe.exec(e.slice(i,i+1));return a?(t.w=+a[0],i+a[0].length):-1}function Pb(t,e,i){var a=oe.exec(e.slice(i,i+1));return a?(t.u=+a[0],i+a[0].length):-1}function Cb(t,e,i){var a=oe.exec(e.slice(i,i+2));return a?(t.U=+a[0],i+a[0].length):-1}function Lb(t,e,i){var a=oe.exec(e.slice(i,i+2));return a?(t.V=+a[0],i+a[0].length):-1}function Mb(t,e,i){var a=oe.exec(e.slice(i,i+2));return a?(t.W=+a[0],i+a[0].length):-1}function $b(t,e,i){var a=oe.exec(e.slice(i,i+4));return a?(t.y=+a[0],i+a[0].length):-1}function Eb(t,e,i){var a=oe.exec(e.slice(i,i+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),i+a[0].length):-1}function kb(t,e,i){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),i+a[0].length):-1}function Rb(t,e,i){var a=oe.exec(e.slice(i,i+1));return a?(t.q=a[0]*3-3,i+a[0].length):-1}function Vb(t,e,i){var a=oe.exec(e.slice(i,i+2));return a?(t.m=a[0]-1,i+a[0].length):-1}function cg(t,e,i){var a=oe.exec(e.slice(i,i+2));return a?(t.d=+a[0],i+a[0].length):-1}function Gb(t,e,i){var a=oe.exec(e.slice(i,i+3));return a?(t.m=0,t.d=+a[0],i+a[0].length):-1}function fg(t,e,i){var a=oe.exec(e.slice(i,i+2));return a?(t.H=+a[0],i+a[0].length):-1}function Ob(t,e,i){var a=oe.exec(e.slice(i,i+2));return a?(t.M=+a[0],i+a[0].length):-1}function Nb(t,e,i){var a=oe.exec(e.slice(i,i+2));return a?(t.S=+a[0],i+a[0].length):-1}function Ib(t,e,i){var a=oe.exec(e.slice(i,i+3));return a?(t.L=+a[0],i+a[0].length):-1}function Db(t,e,i){var a=oe.exec(e.slice(i,i+6));return a?(t.L=Math.floor(a[0]/1e3),i+a[0].length):-1}function Fb(t,e,i){var a=bb.exec(e.slice(i,i+1));return a?i+a[0].length:-1}function zb(t,e,i){var a=oe.exec(e.slice(i));return a?(t.Q=+a[0],i+a[0].length):-1}function Xb(t,e,i){var a=oe.exec(e.slice(i));return a?(t.s=+a[0],i+a[0].length):-1}function lg(t,e){return Ot(t.getDate(),e,2)}function Yb(t,e){return Ot(t.getHours(),e,2)}function Bb(t,e){return Ot(t.getHours()%12||12,e,2)}function Hb(t,e){return Ot(1+zr.count(Pn(t),t),e,3)}function hg(t,e){return Ot(t.getMilliseconds(),e,3)}function Ub(t,e){return hg(t,e)+"000"}function Wb(t,e){return Ot(t.getMonth()+1,e,2)}function qb(t,e){return Ot(t.getMinutes(),e,2)}function Qb(t,e){return Ot(t.getSeconds(),e,2)}function Zb(t){var e=t.getDay();return e===0?7:e}function jb(t,e){return Ot(Xr.count(Pn(t)-1,t),e,2)}function Kb(t,e){var i=t.getDay();return t=i>=4||i===0?Br(t):Br.ceil(t),Ot(Br.count(Pn(t),t)+(Pn(t).getDay()===4),e,2)}function Jb(t){return t.getDay()}function t2(t,e){return Ot(Yr.count(Pn(t)-1,t),e,2)}function e2(t,e){return Ot(t.getFullYear()%100,e,2)}function n2(t,e){return Ot(t.getFullYear()%1e4,e,4)}function i2(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ot(e/60|0,"0",2)+Ot(e%60,"0",2)}function dg(t,e){return Ot(t.getUTCDate(),e,2)}function r2(t,e){return Ot(t.getUTCHours(),e,2)}function a2(t,e){return Ot(t.getUTCHours()%12||12,e,2)}function o2(t,e){return Ot(1+Hr.count(Cn(t),t),e,3)}function gg(t,e){return Ot(t.getUTCMilliseconds(),e,3)}function s2(t,e){return gg(t,e)+"000"}function u2(t,e){return Ot(t.getUTCMonth()+1,e,2)}function c2(t,e){return Ot(t.getUTCMinutes(),e,2)}function f2(t,e){return Ot(t.getUTCSeconds(),e,2)}function l2(t){var e=t.getUTCDay();return e===0?7:e}function h2(t,e){return Ot(Ur.count(Cn(t)-1,t),e,2)}function d2(t,e){var i=t.getUTCDay();return t=i>=4||i===0?qr(t):qr.ceil(t),Ot(qr.count(Cn(t),t)+(Cn(t).getUTCDay()===4),e,2)}function g2(t){return t.getUTCDay()}function p2(t,e){return Ot(Wr.count(Cn(t)-1,t),e,2)}function y2(t,e){return Ot(t.getUTCFullYear()%100,e,2)}function _2(t,e){return Ot(t.getUTCFullYear()%1e4,e,4)}function m2(){return"+0000"}function pg(){return"%"}function yg(t){return+t}function _g(t){return Math.floor(+t/1e3)}var Bi;mg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mg(t){return Bi=sg(t),h.timeFormat=Bi.format,h.timeParse=Bi.parse,h.utcFormat=Bi.utcFormat,h.utcParse=Bi.utcParse,Bi}var vg="%Y-%m-%dT%H:%M:%S.%LZ";function v2(t){return t.toISOString()}var x2=Date.prototype.toISOString?v2:h.utcFormat(vg);function w2(t){var e=new Date(t);return isNaN(e)?null:e}var b2=+new Date("2000-01-01T00:00:00.000Z")?w2:h.utcParse(vg),Kr=1e3,Jr=Kr*60,ta=Jr*60,ea=ta*24,S2=ea*7,xg=ea*30,Ac=ea*365;function T2(t){return new Date(t)}function A2(t){return t instanceof Date?+t:+new Date(+t)}function Pc(t,e,i,a,o,u,f,l,d){var g=Ed(ce,ce),y=g.invert,m=g.domain,_=d(".%L"),x=d(":%S"),S=d("%I:%M"),b=d("%I %p"),T=d("%a %d"),P=d("%b %d"),k=d("%B"),L=d("%Y"),$=[[f,1,Kr],[f,5,5*Kr],[f,15,15*Kr],[f,30,30*Kr],[u,1,Jr],[u,5,5*Jr],[u,15,15*Jr],[u,30,30*Jr],[o,1,ta],[o,3,3*ta],[o,6,6*ta],[o,12,12*ta],[a,1,ea],[a,2,2*ea],[i,1,S2],[e,1,xg],[e,3,3*xg],[t,1,Ac]];function O(I){return(f(I)<I?_:u(I)<I?x:o(I)<I?S:a(I)<I?b:e(I)<I?i(I)<I?T:P:t(I)<I?k:L)(I)}function F(I,q,B,U){if(I==null&&(I=10),typeof I=="number"){var X=Math.abs(B-q)/I,R=an(function(z){return z[2]}).right($,X);R===$.length?(U=_n(q/Ac,B/Ac,I),I=t):R?(R=$[X/$[R-1][2]<$[R][2]/X?R-1:R],U=R[1],I=R[0]):(U=Math.max(_n(q,B,I),1),I=l)}return U==null?I:I.every(U)}return g.invert=function(I){return new Date(y(I))},g.domain=function(I){return arguments.length?m(Ro.call(I,A2)):m().map(T2)},g.ticks=function(I,q){var B=m(),U=B[0],X=B[B.length-1],R=X<U,z;return R&&(z=U,U=X,X=z),z=F(I,U,X,q),z=z?z.range(U,X+1):[],R?z.reverse():z},g.tickFormat=function(I,q){return q==null?O:d(q)},g.nice=function(I,q){var B=m();return(I=F(I,B[0],B[B.length-1],q))?m(Gd(B,I)):g},g.copy=function(){return Dr(g,Pc(t,e,i,a,o,u,f,l,d))},g}function P2(){return en.apply(Pc(Pn,vc,Xr,zr,mc,_c,Fr,hi,h.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function C2(){return en.apply(Pc(Cn,bc,Ur,Hr,wc,xc,Fr,hi,h.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function No(){var t=0,e=1,i,a,o,u,f=ce,l=!1,d;function g(y){return isNaN(y=+y)?d:f(o===0?.5:(y=(u(y)-i)*o,l?Math.max(0,Math.min(1,y)):y))}return g.domain=function(y){return arguments.length?(i=u(t=+y[0]),a=u(e=+y[1]),o=i===a?0:1/(a-i),g):[t,e]},g.clamp=function(y){return arguments.length?(l=!!y,g):l},g.interpolator=function(y){return arguments.length?(f=y,g):f},g.unknown=function(y){return arguments.length?(d=y,g):d},function(y){return u=y,i=y(t),a=y(e),o=i===a?0:1/(a-i),g}}function Fn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function wg(){var t=li(No()(ce));return t.copy=function(){return Fn(t,wg())},An.apply(t,arguments)}function bg(){var t=lc(No()).domain([1,10]);return t.copy=function(){return Fn(t,bg()).base(t.base())},An.apply(t,arguments)}function Sg(){var t=hc(No());return t.copy=function(){return Fn(t,Sg()).constant(t.constant())},An.apply(t,arguments)}function Cc(){var t=dc(No());return t.copy=function(){return Fn(t,Cc()).exponent(t.exponent())},An.apply(t,arguments)}function L2(){return Cc.apply(null,arguments).exponent(.5)}function Tg(){var t=[],e=ce;function i(a){if(!isNaN(a=+a))return e((_e(t,a)-1)/(t.length-1))}return i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(var o=0,u=a.length,f;o<u;++o)f=a[o],f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(ye),i},i.interpolator=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return Tg(e).domain(t)},An.apply(i,arguments)}function Io(){var t=0,e=.5,i=1,a,o,u,f,l,d=ce,g,y=!1,m;function _(x){return isNaN(x=+x)?m:(x=.5+((x=+g(x))-o)*(x<o?f:l),d(y?Math.max(0,Math.min(1,x)):x))}return _.domain=function(x){return arguments.length?(a=g(t=+x[0]),o=g(e=+x[1]),u=g(i=+x[2]),f=a===o?0:.5/(o-a),l=o===u?0:.5/(u-o),_):[t,e,i]},_.clamp=function(x){return arguments.length?(y=!!x,_):y},_.interpolator=function(x){return arguments.length?(d=x,_):d},_.unknown=function(x){return arguments.length?(m=x,_):m},function(x){return g=x,a=x(t),o=x(e),u=x(i),f=a===o?0:.5/(o-a),l=o===u?0:.5/(u-o),_}}function Ag(){var t=li(Io()(ce));return t.copy=function(){return Fn(t,Ag())},An.apply(t,arguments)}function Pg(){var t=lc(Io()).domain([.1,1,10]);return t.copy=function(){return Fn(t,Pg()).base(t.base())},An.apply(t,arguments)}function Cg(){var t=hc(Io());return t.copy=function(){return Fn(t,Cg()).constant(t.constant())},An.apply(t,arguments)}function Lc(){var t=dc(Io());return t.copy=function(){return Fn(t,Lc()).exponent(t.exponent())},An.apply(t,arguments)}function M2(){return Lc.apply(null,arguments).exponent(.5)}function xt(t){for(var e=t.length/6|0,i=new Array(e),a=0;a<e;)i[a]="#"+t.slice(a*6,++a*6);return i}var $2=xt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),E2=xt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),k2=xt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),R2=xt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),V2=xt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),G2=xt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),O2=xt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),N2=xt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),I2=xt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),D2=xt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Ft(t){return Ef(t[t.length-1])}var Lg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(xt),F2=Ft(Lg),Mg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(xt),z2=Ft(Mg),$g=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(xt),X2=Ft($g),Eg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(xt),Y2=Ft(Eg),kg=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(xt),B2=Ft(kg),Rg=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(xt),H2=Ft(Rg),Vg=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(xt),U2=Ft(Vg),Gg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(xt),W2=Ft(Gg),Og=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(xt),q2=Ft(Og),Ng=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(xt),Q2=Ft(Ng),Ig=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(xt),Z2=Ft(Ig),Dg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(xt),j2=Ft(Dg),Fg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(xt),K2=Ft(Fg),zg=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(xt),J2=Ft(zg),Xg=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(xt),tS=Ft(Xg),Yg=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(xt),eS=Ft(Yg),Bg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(xt),nS=Ft(Bg),Hg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(xt),iS=Ft(Hg),Ug=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(xt),rS=Ft(Ug),Wg=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(xt),aS=Ft(Wg),qg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(xt),oS=Ft(qg),Qg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(xt),sS=Ft(Qg),Zg=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(xt),uS=Ft(Zg),jg=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(xt),cS=Ft(jg),Kg=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(xt),fS=Ft(Kg),Jg=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(xt),lS=Ft(Jg),tp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(xt),hS=Ft(tp);function dS(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var gS=Ta(je(300,.5,0),je(-240,.5,1)),pS=Ta(je(-100,.75,.35),je(80,1.5,.8)),yS=Ta(je(260,.75,.35),je(80,1.5,.8)),Do=je();function _S(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Do.h=360*t-100,Do.s=1.5-1.5*e,Do.l=.8-.9*e,Do+""}var Fo=Ai(),mS=Math.PI/3,vS=Math.PI*2/3;function xS(t){var e;return t=(.5-t)*Math.PI,Fo.r=255*(e=Math.sin(t))*e,Fo.g=255*(e=Math.sin(t+mS))*e,Fo.b=255*(e=Math.sin(t+vS))*e,Fo+""}function wS(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function zo(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}var bS=zo(xt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),SS=zo(xt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),TS=zo(xt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),AS=zo(xt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Pt(t){return function(){return t}}var ep=Math.abs,he=Math.atan2,yi=Math.cos,PS=Math.max,Mc=Math.min,yn=Math.sin,Hi=Math.sqrt,de=1e-12,zn=Math.PI,Xo=zn/2,Xn=2*zn;function CS(t){return t>1?0:t<-1?zn:Math.acos(t)}function np(t){return t>=1?Xo:t<=-1?-Xo:Math.asin(t)}function LS(t){return t.innerRadius}function MS(t){return t.outerRadius}function $S(t){return t.startAngle}function ES(t){return t.endAngle}function kS(t){return t&&t.padAngle}function RS(t,e,i,a,o,u,f,l){var d=i-t,g=a-e,y=f-o,m=l-u,_=m*d-y*g;if(!(_*_<de))return _=(y*(e-u)-m*(t-o))/_,[t+_*d,e+_*g]}function Yo(t,e,i,a,o,u,f){var l=t-i,d=e-a,g=(f?u:-u)/Hi(l*l+d*d),y=g*d,m=-g*l,_=t+y,x=e+m,S=i+y,b=a+m,T=(_+S)/2,P=(x+b)/2,k=S-_,L=b-x,$=k*k+L*L,O=o-u,F=_*b-S*x,I=(L<0?-1:1)*Hi(PS(0,O*O*$-F*F)),q=(F*L-k*I)/$,B=(-F*k-L*I)/$,U=(F*L+k*I)/$,X=(-F*k+L*I)/$,R=q-T,z=B-P,Z=U-T,D=X-P;return R*R+z*z>Z*Z+D*D&&(q=U,B=X),{cx:q,cy:B,x01:-y,y01:-m,x11:q*(o/O-1),y11:B*(o/O-1)}}function VS(){var t=LS,e=MS,i=Pt(0),a=null,o=$S,u=ES,f=kS,l=null;function d(){var g,y,m=+t.apply(this,arguments),_=+e.apply(this,arguments),x=o.apply(this,arguments)-Xo,S=u.apply(this,arguments)-Xo,b=ep(S-x),T=S>x;if(l||(l=g=Gn()),_<m&&(y=_,_=m,m=y),!(_>de))l.moveTo(0,0);else if(b>Xn-de)l.moveTo(_*yi(x),_*yn(x)),l.arc(0,0,_,x,S,!T),m>de&&(l.moveTo(m*yi(S),m*yn(S)),l.arc(0,0,m,S,x,T));else{var P=x,k=S,L=x,$=S,O=b,F=b,I=f.apply(this,arguments)/2,q=I>de&&(a?+a.apply(this,arguments):Hi(m*m+_*_)),B=Mc(ep(_-m)/2,+i.apply(this,arguments)),U=B,X=B,R,z;if(q>de){var Z=np(q/m*yn(I)),D=np(q/_*yn(I));(O-=Z*2)>de?(Z*=T?1:-1,L+=Z,$-=Z):(O=0,L=$=(x+S)/2),(F-=D*2)>de?(D*=T?1:-1,P+=D,k-=D):(F=0,P=k=(x+S)/2)}var Q=_*yi(P),at=_*yn(P),it=m*yi($),st=m*yn($);if(B>de){var yt=_*yi(k),_t=_*yn(k),Xt=m*yi(L),It=m*yn(L),kt;if(b<zn&&(kt=RS(Q,at,Xt,It,yt,_t,it,st))){var jt=Q-kt[0],We=at-kt[1],nn=yt-kt[0],rn=_t-kt[1],nt=1/yn(CS((jt*nn+We*rn)/(Hi(jt*jt+We*We)*Hi(nn*nn+rn*rn)))/2),mt=Hi(kt[0]*kt[0]+kt[1]*kt[1]);U=Mc(B,(m-mt)/(nt-1)),X=Mc(B,(_-mt)/(nt+1))}}F>de?X>de?(R=Yo(Xt,It,Q,at,_,X,T),z=Yo(yt,_t,it,st,_,X,T),l.moveTo(R.cx+R.x01,R.cy+R.y01),X<B?l.arc(R.cx,R.cy,X,he(R.y01,R.x01),he(z.y01,z.x01),!T):(l.arc(R.cx,R.cy,X,he(R.y01,R.x01),he(R.y11,R.x11),!T),l.arc(0,0,_,he(R.cy+R.y11,R.cx+R.x11),he(z.cy+z.y11,z.cx+z.x11),!T),l.arc(z.cx,z.cy,X,he(z.y11,z.x11),he(z.y01,z.x01),!T))):(l.moveTo(Q,at),l.arc(0,0,_,P,k,!T)):l.moveTo(Q,at),!(m>de)||!(O>de)?l.lineTo(it,st):U>de?(R=Yo(it,st,yt,_t,m,-U,T),z=Yo(Q,at,Xt,It,m,-U,T),l.lineTo(R.cx+R.x01,R.cy+R.y01),U<B?l.arc(R.cx,R.cy,U,he(R.y01,R.x01),he(z.y01,z.x01),!T):(l.arc(R.cx,R.cy,U,he(R.y01,R.x01),he(R.y11,R.x11),!T),l.arc(0,0,m,he(R.cy+R.y11,R.cx+R.x11),he(z.cy+z.y11,z.cx+z.x11),T),l.arc(z.cx,z.cy,U,he(z.y11,z.x11),he(z.y01,z.x01),!T))):l.arc(0,0,m,$,L,T)}if(l.closePath(),g)return l=null,g+""||null}return d.centroid=function(){var g=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,y=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-zn/2;return[yi(y)*g,yn(y)*g]},d.innerRadius=function(g){return arguments.length?(t=typeof g=="function"?g:Pt(+g),d):t},d.outerRadius=function(g){return arguments.length?(e=typeof g=="function"?g:Pt(+g),d):e},d.cornerRadius=function(g){return arguments.length?(i=typeof g=="function"?g:Pt(+g),d):i},d.padRadius=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:Pt(+g),d):a},d.startAngle=function(g){return arguments.length?(o=typeof g=="function"?g:Pt(+g),d):o},d.endAngle=function(g){return arguments.length?(u=typeof g=="function"?g:Pt(+g),d):u},d.padAngle=function(g){return arguments.length?(f=typeof g=="function"?g:Pt(+g),d):f},d.context=function(g){return arguments.length?(l=g??null,d):l},d}function ip(t){this._context=t}ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bo(t){return new ip(t)}function $c(t){return t[0]}function Ec(t){return t[1]}function kc(){var t=$c,e=Ec,i=Pt(!0),a=null,o=Bo,u=null;function f(l){var d,g=l.length,y,m=!1,_;for(a==null&&(u=o(_=Gn())),d=0;d<=g;++d)!(d<g&&i(y=l[d],d,l))===m&&((m=!m)?u.lineStart():u.lineEnd()),m&&u.point(+t(y,d,l),+e(y,d,l));if(_)return u=null,_+""||null}return f.x=function(l){return arguments.length?(t=typeof l=="function"?l:Pt(+l),f):t},f.y=function(l){return arguments.length?(e=typeof l=="function"?l:Pt(+l),f):e},f.defined=function(l){return arguments.length?(i=typeof l=="function"?l:Pt(!!l),f):i},f.curve=function(l){return arguments.length?(o=l,a!=null&&(u=o(a)),f):o},f.context=function(l){return arguments.length?(l==null?a=u=null:u=o(a=l),f):a},f}function rp(){var t=$c,e=null,i=Pt(0),a=Ec,o=Pt(!0),u=null,f=Bo,l=null;function d(y){var m,_,x,S=y.length,b,T=!1,P,k=new Array(S),L=new Array(S);for(u==null&&(l=f(P=Gn())),m=0;m<=S;++m){if(!(m<S&&o(b=y[m],m,y))===T)if(T=!T)_=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=_;--x)l.point(k[x],L[x]);l.lineEnd(),l.areaEnd()}T&&(k[m]=+t(b,m,y),L[m]=+i(b,m,y),l.point(e?+e(b,m,y):k[m],a?+a(b,m,y):L[m]))}if(P)return l=null,P+""||null}function g(){return kc().defined(o).curve(f).context(u)}return d.x=function(y){return arguments.length?(t=typeof y=="function"?y:Pt(+y),e=null,d):t},d.x0=function(y){return arguments.length?(t=typeof y=="function"?y:Pt(+y),d):t},d.x1=function(y){return arguments.length?(e=y==null?null:typeof y=="function"?y:Pt(+y),d):e},d.y=function(y){return arguments.length?(i=typeof y=="function"?y:Pt(+y),a=null,d):i},d.y0=function(y){return arguments.length?(i=typeof y=="function"?y:Pt(+y),d):i},d.y1=function(y){return arguments.length?(a=y==null?null:typeof y=="function"?y:Pt(+y),d):a},d.lineX0=d.lineY0=function(){return g().x(t).y(i)},d.lineY1=function(){return g().x(t).y(a)},d.lineX1=function(){return g().x(e).y(i)},d.defined=function(y){return arguments.length?(o=typeof y=="function"?y:Pt(!!y),d):o},d.curve=function(y){return arguments.length?(f=y,u!=null&&(l=f(u)),d):f},d.context=function(y){return arguments.length?(y==null?u=l=null:l=f(u=y),d):u},d}function GS(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function OS(t){return t}function NS(){var t=OS,e=GS,i=null,a=Pt(0),o=Pt(Xn),u=Pt(0);function f(l){var d,g=l.length,y,m,_=0,x=new Array(g),S=new Array(g),b=+a.apply(this,arguments),T=Math.min(Xn,Math.max(-Xn,o.apply(this,arguments)-b)),P,k=Math.min(Math.abs(T)/g,u.apply(this,arguments)),L=k*(T<0?-1:1),$;for(d=0;d<g;++d)($=S[x[d]=d]=+t(l[d],d,l))>0&&(_+=$);for(e!=null?x.sort(function(O,F){return e(S[O],S[F])}):i!=null&&x.sort(function(O,F){return i(l[O],l[F])}),d=0,m=_?(T-g*L)/_:0;d<g;++d,b=P)y=x[d],$=S[y],P=b+($>0?$*m:0)+L,S[y]={data:l[y],index:d,value:$,startAngle:b,endAngle:P,padAngle:k};return S}return f.value=function(l){return arguments.length?(t=typeof l=="function"?l:Pt(+l),f):t},f.sortValues=function(l){return arguments.length?(e=l,i=null,f):e},f.sort=function(l){return arguments.length?(i=l,e=null,f):i},f.startAngle=function(l){return arguments.length?(a=typeof l=="function"?l:Pt(+l),f):a},f.endAngle=function(l){return arguments.length?(o=typeof l=="function"?l:Pt(+l),f):o},f.padAngle=function(l){return arguments.length?(u=typeof l=="function"?l:Pt(+l),f):u},f}var ap=Rc(Bo);function op(t){this._curve=t}op.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Rc(t){function e(i){return new op(t(i))}return e._curve=t,e}function na(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(i){return arguments.length?e(Rc(i)):e()._curve},t}function sp(){return na(kc().curve(ap))}function up(){var t=rp().curve(ap),e=t.curve,i=t.lineX0,a=t.lineX1,o=t.lineY0,u=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return na(i())},delete t.lineX0,t.lineEndAngle=function(){return na(a())},delete t.lineX1,t.lineInnerRadius=function(){return na(o())},delete t.lineY0,t.lineOuterRadius=function(){return na(u())},delete t.lineY1,t.curve=function(f){return arguments.length?e(Rc(f)):e()._curve},t}function ia(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var Vc=Array.prototype.slice;function IS(t){return t.source}function DS(t){return t.target}function Gc(t){var e=IS,i=DS,a=$c,o=Ec,u=null;function f(){var l,d=Vc.call(arguments),g=e.apply(this,d),y=i.apply(this,d);if(u||(u=l=Gn()),t(u,+a.apply(this,(d[0]=g,d)),+o.apply(this,d),+a.apply(this,(d[0]=y,d)),+o.apply(this,d)),l)return u=null,l+""||null}return f.source=function(l){return arguments.length?(e=l,f):e},f.target=function(l){return arguments.length?(i=l,f):i},f.x=function(l){return arguments.length?(a=typeof l=="function"?l:Pt(+l),f):a},f.y=function(l){return arguments.length?(o=typeof l=="function"?l:Pt(+l),f):o},f.context=function(l){return arguments.length?(u=l??null,f):u},f}function FS(t,e,i,a,o){t.moveTo(e,i),t.bezierCurveTo(e=(e+a)/2,i,e,o,a,o)}function zS(t,e,i,a,o){t.moveTo(e,i),t.bezierCurveTo(e,i=(i+o)/2,a,i,a,o)}function XS(t,e,i,a,o){var u=ia(e,i),f=ia(e,i=(i+o)/2),l=ia(a,i),d=ia(a,o);t.moveTo(u[0],u[1]),t.bezierCurveTo(f[0],f[1],l[0],l[1],d[0],d[1])}function YS(){return Gc(FS)}function BS(){return Gc(zS)}function HS(){var t=Gc(XS);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Oc={draw:function(t,e){var i=Math.sqrt(e/zn);t.moveTo(i,0),t.arc(0,0,i,0,Xn)}},cp={draw:function(t,e){var i=Math.sqrt(e/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}},fp=Math.sqrt(1/3),US=fp*2,lp={draw:function(t,e){var i=Math.sqrt(e/US),a=i*fp;t.moveTo(0,-i),t.lineTo(a,0),t.lineTo(0,i),t.lineTo(-a,0),t.closePath()}},WS=.8908130915292852,hp=Math.sin(zn/10)/Math.sin(7*zn/10),qS=Math.sin(Xn/10)*hp,QS=-Math.cos(Xn/10)*hp,dp={draw:function(t,e){var i=Math.sqrt(e*WS),a=qS*i,o=QS*i;t.moveTo(0,-i),t.lineTo(a,o);for(var u=1;u<5;++u){var f=Xn*u/5,l=Math.cos(f),d=Math.sin(f);t.lineTo(d*i,-l*i),t.lineTo(l*a-d*o,d*a+l*o)}t.closePath()}},gp={draw:function(t,e){var i=Math.sqrt(e),a=-i/2;t.rect(a,a,i,i)}},Nc=Math.sqrt(3),pp={draw:function(t,e){var i=-Math.sqrt(e/(Nc*3));t.moveTo(0,i*2),t.lineTo(-Nc*i,-i),t.lineTo(Nc*i,-i),t.closePath()}},He=-.5,Ue=Math.sqrt(3)/2,Ic=1/Math.sqrt(12),ZS=(Ic/2+1)*3,yp={draw:function(t,e){var i=Math.sqrt(e/ZS),a=i/2,o=i*Ic,u=a,f=i*Ic+i,l=-u,d=f;t.moveTo(a,o),t.lineTo(u,f),t.lineTo(l,d),t.lineTo(He*a-Ue*o,Ue*a+He*o),t.lineTo(He*u-Ue*f,Ue*u+He*f),t.lineTo(He*l-Ue*d,Ue*l+He*d),t.lineTo(He*a+Ue*o,He*o-Ue*a),t.lineTo(He*u+Ue*f,He*f-Ue*u),t.lineTo(He*l+Ue*d,He*d-Ue*l),t.closePath()}},jS=[Oc,cp,lp,gp,dp,pp,yp];function KS(){var t=Pt(Oc),e=Pt(64),i=null;function a(){var o;if(i||(i=o=Gn()),t.apply(this,arguments).draw(i,+e.apply(this,arguments)),o)return i=null,o+""||null}return a.type=function(o){return arguments.length?(t=typeof o=="function"?o:Pt(o),a):t},a.size=function(o){return arguments.length?(e=typeof o=="function"?o:Pt(+o),a):e},a.context=function(o){return arguments.length?(i=o??null,a):i},a}function Yn(){}function Ho(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function Uo(t){this._context=t}Uo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ho(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ho(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JS(t){return new Uo(t)}function _p(t){this._context=t}_p.prototype={areaStart:Yn,areaEnd:Yn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ho(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tT(t){return new _p(t)}function mp(t){this._context=t}mp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,a=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,a):this._context.moveTo(i,a);break;case 3:this._point=4;default:Ho(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eT(t){return new mp(t)}function vp(t,e){this._basis=new Uo(t),this._beta=e}vp.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var a=t[0],o=e[0],u=t[i]-a,f=e[i]-o,l=-1,d;++l<=i;)d=l/i,this._basis.point(this._beta*t[l]+(1-this._beta)*(a+d*u),this._beta*e[l]+(1-this._beta)*(o+d*f));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var nT=function t(e){function i(a){return e===1?new Uo(a):new vp(a,e)}return i.beta=function(a){return t(+a)},i}(.85);function Wo(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function Dc(t,e){this._context=t,this._k=(1-e)/6}Dc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Wo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Wo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var iT=function t(e){function i(a){return new Dc(a,e)}return i.tension=function(a){return t(+a)},i}(0);function Fc(t,e){this._context=t,this._k=(1-e)/6}Fc.prototype={areaStart:Yn,areaEnd:Yn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Wo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rT=function t(e){function i(a){return new Fc(a,e)}return i.tension=function(a){return t(+a)},i}(0);function zc(t,e){this._context=t,this._k=(1-e)/6}zc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var aT=function t(e){function i(a){return new zc(a,e)}return i.tension=function(a){return t(+a)},i}(0);function Xc(t,e,i){var a=t._x1,o=t._y1,u=t._x2,f=t._y2;if(t._l01_a>de){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,d=3*t._l01_a*(t._l01_a+t._l12_a);a=(a*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/d,o=(o*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/d}if(t._l23_a>de){var g=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,y=3*t._l23_a*(t._l23_a+t._l12_a);u=(u*g+t._x1*t._l23_2a-e*t._l12_2a)/y,f=(f*g+t._y1*t._l23_2a-i*t._l12_2a)/y}t._context.bezierCurveTo(a,o,u,f,t._x2,t._y2)}function xp(t,e){this._context=t,this._alpha=e}xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Xc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var oT=function t(e){function i(a){return e?new xp(a,e):new Dc(a,0)}return i.alpha=function(a){return t(+a)},i}(.5);function wp(t,e){this._context=t,this._alpha=e}wp.prototype={areaStart:Yn,areaEnd:Yn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Xc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var sT=function t(e){function i(a){return e?new wp(a,e):new Fc(a,0)}return i.alpha=function(a){return t(+a)},i}(.5);function bp(t,e){this._context=t,this._alpha=e}bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+a*a,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Xc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var uT=function t(e){function i(a){return e?new bp(a,e):new zc(a,0)}return i.alpha=function(a){return t(+a)},i}(.5);function Sp(t){this._context=t}Sp.prototype={areaStart:Yn,areaEnd:Yn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cT(t){return new Sp(t)}function Tp(t){return t<0?-1:1}function Ap(t,e,i){var a=t._x1-t._x0,o=e-t._x1,u=(t._y1-t._y0)/(a||o<0&&-0),f=(i-t._y1)/(o||a<0&&-0),l=(u*o+f*a)/(a+o);return(Tp(u)+Tp(f))*Math.min(Math.abs(u),Math.abs(f),.5*Math.abs(l))||0}function Pp(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function Yc(t,e,i){var a=t._x0,o=t._y0,u=t._x1,f=t._y1,l=(u-a)/3;t._context.bezierCurveTo(a+l,o+l*e,u-l,f-l*i,u,f)}function qo(t){this._context=t}qo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yc(this,this._t0,Pp(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Yc(this,Pp(this,i=Ap(this,t,e)),i);break;default:Yc(this,this._t0,i=Ap(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}};function Cp(t){this._context=new Lp(t)}(Cp.prototype=Object.create(qo.prototype)).point=function(t,e){qo.prototype.point.call(this,e,t)};function Lp(t){this._context=t}Lp.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,a,o,u){this._context.bezierCurveTo(e,t,a,i,u,o)}};function fT(t){return new qo(t)}function lT(t){return new Cp(t)}function Mp(t){this._context=t}Mp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),i===2)this._context.lineTo(t[1],e[1]);else for(var a=$p(t),o=$p(e),u=0,f=1;f<i;++u,++f)this._context.bezierCurveTo(a[0][u],o[0][u],a[1][u],o[1][u],t[f],e[f]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $p(t){var e,i=t.length-1,a,o=new Array(i),u=new Array(i),f=new Array(i);for(o[0]=0,u[0]=2,f[0]=t[0]+2*t[1],e=1;e<i-1;++e)o[e]=1,u[e]=4,f[e]=4*t[e]+2*t[e+1];for(o[i-1]=2,u[i-1]=7,f[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)a=o[e]/u[e-1],u[e]-=a,f[e]-=a*f[e-1];for(o[i-1]=f[i-1]/u[i-1],e=i-2;e>=0;--e)o[e]=(f[e]-o[e+1])/u[e];for(u[i-1]=(t[i]+o[i-1])/2,e=0;e<i-1;++e)u[e]=2*t[e+1]-o[e+1];return[o,u]}function hT(t){return new Mp(t)}function Qo(t,e){this._context=t,this._t=e}Qo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}break}}this._x=t,this._y=e}};function dT(t){return new Qo(t,.5)}function gT(t){return new Qo(t,0)}function pT(t){return new Qo(t,1)}function Ui(t,e){if((f=t.length)>1)for(var i=1,a,o,u=t[e[0]],f,l=u.length;i<f;++i)for(o=u,u=t[e[i]],a=0;a<l;++a)u[a][1]+=u[a][0]=isNaN(o[a][1])?o[a][0]:o[a][1]}function Wi(t){for(var e=t.length,i=new Array(e);--e>=0;)i[e]=e;return i}function yT(t,e){return t[e]}function _T(){var t=Pt([]),e=Wi,i=Ui,a=yT;function o(u){var f=t.apply(this,arguments),l,d=u.length,g=f.length,y=new Array(g),m;for(l=0;l<g;++l){for(var _=f[l],x=y[l]=new Array(d),S=0,b;S<d;++S)x[S]=b=[0,+a(u[S],_,S,u)],b.data=u[S];x.key=_}for(l=0,m=e(y);l<g;++l)y[m[l]].index=l;return i(y,m),y}return o.keys=function(u){return arguments.length?(t=typeof u=="function"?u:Pt(Vc.call(u)),o):t},o.value=function(u){return arguments.length?(a=typeof u=="function"?u:Pt(+u),o):a},o.order=function(u){return arguments.length?(e=u==null?Wi:typeof u=="function"?u:Pt(Vc.call(u)),o):e},o.offset=function(u){return arguments.length?(i=u??Ui,o):i},o}function mT(t,e){if((a=t.length)>0){for(var i,a,o=0,u=t[0].length,f;o<u;++o){for(f=i=0;i<a;++i)f+=t[i][o][1]||0;if(f)for(i=0;i<a;++i)t[i][o][1]/=f}Ui(t,e)}}function vT(t,e){if((d=t.length)>0)for(var i,a=0,o,u,f,l,d,g=t[e[0]].length;a<g;++a)for(f=l=0,i=0;i<d;++i)(u=(o=t[e[i]][a])[1]-o[0])>0?(o[0]=f,o[1]=f+=u):u<0?(o[1]=l,o[0]=l+=u):(o[0]=0,o[1]=u)}function xT(t,e){if((o=t.length)>0){for(var i=0,a=t[e[0]],o,u=a.length;i<u;++i){for(var f=0,l=0;f<o;++f)l+=t[f][i][1]||0;a[i][1]+=a[i][0]=-l/2}Ui(t,e)}}function wT(t,e){if(!(!((f=t.length)>0)||!((u=(o=t[e[0]]).length)>0))){for(var i=0,a=1,o,u,f;a<u;++a){for(var l=0,d=0,g=0;l<f;++l){for(var y=t[e[l]],m=y[a][1]||0,_=y[a-1][1]||0,x=(m-_)/2,S=0;S<l;++S){var b=t[e[S]],T=b[a][1]||0,P=b[a-1][1]||0;x+=T-P}d+=m,g+=x*m}o[a-1][1]+=o[a-1][0]=i,d&&(i-=g/d)}o[a-1][1]+=o[a-1][0]=i,Ui(t,e)}}function Ep(t){var e=t.map(bT);return Wi(t).sort(function(i,a){return e[i]-e[a]})}function bT(t){for(var e=-1,i=0,a=t.length,o,u=-1/0;++e<a;)(o=+t[e][1])>u&&(u=o,i=e);return i}function kp(t){var e=t.map(Rp);return Wi(t).sort(function(i,a){return e[i]-e[a]})}function Rp(t){for(var e=0,i=-1,a=t.length,o;++i<a;)(o=+t[i][1])&&(e+=o);return e}function ST(t){return kp(t).reverse()}function TT(t){var e=t.length,i,a,o=t.map(Rp),u=Ep(t),f=0,l=0,d=[],g=[];for(i=0;i<e;++i)a=u[i],f<l?(f+=o[a],d.push(a)):(l+=o[a],g.push(a));return g.reverse().concat(d)}function AT(t){return Wi(t).reverse()}function Vp(t){return function(){return t}}function PT(t){return t[0]}function CT(t){return t[1]}function Zo(){this._=null}function jo(t){t.U=t.C=t.L=t.R=t.P=t.N=null}Zo.prototype={constructor:Zo,insert:function(t,e){var i,a,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=Gp(this._),e.P=null,e.N=t,t.P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);for(e.L=e.R=null,e.U=i,e.C=!0,t=e;i&&i.C;)a=i.U,i===a.L?(o=a.R,o&&o.C?(i.C=o.C=!1,a.C=!0,t=a):(t===i.R&&(ra(this,i),t=i,i=t.U),i.C=!1,a.C=!0,aa(this,a))):(o=a.L,o&&o.C?(i.C=o.C=!1,a.C=!0,t=a):(t===i.L&&(aa(this,i),t=i,i=t.U),i.C=!1,a.C=!0,ra(this,a))),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,i,a=t.L,o=t.R,u,f;if(a?o?u=Gp(o):u=a:u=o,e?e.L===t?e.L=u:e.R=u:this._=u,a&&o?(f=u.C,u.C=t.C,u.L=a,a.U=u,u!==o?(e=u.U,u.U=t.U,t=u.R,e.L=t,u.R=o,o.U=u):(u.U=e,e=u,t=u.R)):(f=t.C,t=u),t&&(t.U=e),!f){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(i=e.R,i.C&&(i.C=!1,e.C=!0,ra(this,e),i=e.R),i.L&&i.L.C||i.R&&i.R.C){(!i.R||!i.R.C)&&(i.L.C=!1,i.C=!0,aa(this,i),i=e.R),i.C=e.C,e.C=i.R.C=!1,ra(this,e),t=this._;break}}else if(i=e.L,i.C&&(i.C=!1,e.C=!0,aa(this,e),i=e.L),i.L&&i.L.C||i.R&&i.R.C){(!i.L||!i.L.C)&&(i.R.C=!1,i.C=!0,ra(this,i),i=e.L),i.C=e.C,e.C=i.L.C=!1,aa(this,e),t=this._;break}i.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function ra(t,e){var i=e,a=e.R,o=i.U;o?o.L===i?o.L=a:o.R=a:t._=a,a.U=o,i.U=a,i.R=a.L,i.R&&(i.R.U=i),a.L=i}function aa(t,e){var i=e,a=e.L,o=i.U;o?o.L===i?o.L=a:o.R=a:t._=a,a.U=o,i.U=a,i.L=a.R,i.L&&(i.L.U=i),a.R=i}function Gp(t){for(;t.L;)t=t.L;return t}function oa(t,e,i,a){var o=[null,null],u=ge.push(o)-1;return o.left=t,o.right=e,i&&Ko(o,t,e,i),a&&Ko(o,e,t,a),De[t.index].halfedges.push(u),De[e.index].halfedges.push(u),o}function sa(t,e,i){var a=[e,i];return a.left=t,a}function Ko(t,e,i,a){!t[0]&&!t[1]?(t[0]=a,t.left=e,t.right=i):t.left===i?t[1]=a:t[0]=a}function LT(t,e,i,a,o){var u=t[0],f=t[1],l=u[0],d=u[1],g=f[0],y=f[1],m=0,_=1,x=g-l,S=y-d,b;if(b=e-l,!(!x&&b>0)){if(b/=x,x<0){if(b<m)return;b<_&&(_=b)}else if(x>0){if(b>_)return;b>m&&(m=b)}if(b=a-l,!(!x&&b<0)){if(b/=x,x<0){if(b>_)return;b>m&&(m=b)}else if(x>0){if(b<m)return;b<_&&(_=b)}if(b=i-d,!(!S&&b>0)){if(b/=S,S<0){if(b<m)return;b<_&&(_=b)}else if(S>0){if(b>_)return;b>m&&(m=b)}if(b=o-d,!(!S&&b<0)){if(b/=S,S<0){if(b>_)return;b>m&&(m=b)}else if(S>0){if(b<m)return;b<_&&(_=b)}return!(m>0)&&!(_<1)||(m>0&&(t[0]=[l+m*x,d+m*S]),_<1&&(t[1]=[l+_*x,d+_*S])),!0}}}}}function MT(t,e,i,a,o){var u=t[1];if(u)return!0;var f=t[0],l=t.left,d=t.right,g=l[0],y=l[1],m=d[0],_=d[1],x=(g+m)/2,S=(y+_)/2,b,T;if(_===y){if(x<e||x>=a)return;if(g>m){if(!f)f=[x,i];else if(f[1]>=o)return;u=[x,o]}else{if(!f)f=[x,o];else if(f[1]<i)return;u=[x,i]}}else if(b=(g-m)/(_-y),T=S-b*x,b<-1||b>1)if(g>m){if(!f)f=[(i-T)/b,i];else if(f[1]>=o)return;u=[(o-T)/b,o]}else{if(!f)f=[(o-T)/b,o];else if(f[1]<i)return;u=[(i-T)/b,i]}else if(y<_){if(!f)f=[e,b*e+T];else if(f[0]>=a)return;u=[a,b*a+T]}else{if(!f)f=[a,b*a+T];else if(f[0]<e)return;u=[e,b*e+T]}return t[0]=f,t[1]=u,!0}function $T(t,e,i,a){for(var o=ge.length,u;o--;)(!MT(u=ge[o],t,e,i,a)||!LT(u,t,e,i,a)||!(Math.abs(u[0][0]-u[1][0])>Nt||Math.abs(u[0][1]-u[1][1])>Nt))&&delete ge[o]}function ET(t){return De[t.index]={site:t,halfedges:[]}}function kT(t,e){var i=t.site,a=e.left,o=e.right;return i===o&&(o=a,a=i),o?Math.atan2(o[1]-a[1],o[0]-a[0]):(i===a?(a=e[1],o=e[0]):(a=e[0],o=e[1]),Math.atan2(a[0]-o[0],o[1]-a[1]))}function Op(t,e){return e[+(e.left!==t.site)]}function RT(t,e){return e[+(e.left===t.site)]}function VT(){for(var t=0,e=De.length,i,a,o,u;t<e;++t)if((i=De[t])&&(u=(a=i.halfedges).length)){var f=new Array(u),l=new Array(u);for(o=0;o<u;++o)f[o]=o,l[o]=kT(i,ge[a[o]]);for(f.sort(function(d,g){return l[g]-l[d]}),o=0;o<u;++o)l[o]=a[f[o]];for(o=0;o<u;++o)a[o]=l[o]}}function GT(t,e,i,a){var o=De.length,u,f,l,d,g,y,m,_,x,S,b,T,P=!0;for(u=0;u<o;++u)if(f=De[u]){for(l=f.site,g=f.halfedges,d=g.length;d--;)ge[g[d]]||g.splice(d,1);for(d=0,y=g.length;d<y;)S=RT(f,ge[g[d]]),b=S[0],T=S[1],m=Op(f,ge[g[++d%y]]),_=m[0],x=m[1],(Math.abs(b-_)>Nt||Math.abs(T-x)>Nt)&&(g.splice(d,0,ge.push(sa(l,S,Math.abs(b-t)<Nt&&a-T>Nt?[t,Math.abs(_-t)<Nt?x:a]:Math.abs(T-a)<Nt&&i-b>Nt?[Math.abs(x-a)<Nt?_:i,a]:Math.abs(b-i)<Nt&&T-e>Nt?[i,Math.abs(_-i)<Nt?x:e]:Math.abs(T-e)<Nt&&b-t>Nt?[Math.abs(x-e)<Nt?_:t,e]:null))-1),++y);y&&(P=!1)}if(P){var k,L,$,O=1/0;for(u=0,P=null;u<o;++u)(f=De[u])&&(l=f.site,k=l[0]-t,L=l[1]-e,$=k*k+L*L,$<O&&(O=$,P=f));if(P){var F=[t,e],I=[t,a],q=[i,a],B=[i,e];P.halfedges.push(ge.push(sa(l=P.site,F,I))-1,ge.push(sa(l,I,q))-1,ge.push(sa(l,q,B))-1,ge.push(sa(l,B,F))-1)}}for(u=0;u<o;++u)(f=De[u])&&(f.halfedges.length||delete De[u])}var Np=[],Bc;function OT(){jo(this),this.x=this.y=this.arc=this.site=this.cy=null}function qi(t){var e=t.P,i=t.N;if(!(!e||!i)){var a=e.site,o=t.site,u=i.site;if(a!==u){var f=o[0],l=o[1],d=a[0]-f,g=a[1]-l,y=u[0]-f,m=u[1]-l,_=2*(d*m-g*y);if(!(_>=-zT)){var x=d*d+g*g,S=y*y+m*m,b=(m*x-g*S)/_,T=(d*S-y*x)/_,P=Np.pop()||new OT;P.arc=t,P.site=o,P.x=b+f,P.y=(P.cy=T+l)+Math.sqrt(b*b+T*T),t.circle=P;for(var k=null,L=ua._;L;)if(P.y<L.y||P.y===L.y&&P.x<=L.x)if(L.L)L=L.L;else{k=L.P;break}else if(L.R)L=L.R;else{k=L;break}ua.insert(k,P),k||(Bc=P)}}}}function Qi(t){var e=t.circle;e&&(e.P||(Bc=e.N),ua.remove(e),Np.push(e),jo(e),t.circle=null)}var Ip=[];function NT(){jo(this),this.edge=this.site=this.circle=null}function Dp(t){var e=Ip.pop()||new NT;return e.site=t,e}function Hc(t){Qi(t),Zi.remove(t),Ip.push(t),jo(t)}function IT(t){var e=t.circle,i=e.x,a=e.cy,o=[i,a],u=t.P,f=t.N,l=[t];Hc(t);for(var d=u;d.circle&&Math.abs(i-d.circle.x)<Nt&&Math.abs(a-d.circle.cy)<Nt;)u=d.P,l.unshift(d),Hc(d),d=u;l.unshift(d),Qi(d);for(var g=f;g.circle&&Math.abs(i-g.circle.x)<Nt&&Math.abs(a-g.circle.cy)<Nt;)f=g.N,l.push(g),Hc(g),g=f;l.push(g),Qi(g);var y=l.length,m;for(m=1;m<y;++m)g=l[m],d=l[m-1],Ko(g.edge,d.site,g.site,o);d=l[0],g=l[y-1],g.edge=oa(d.site,g.site,null,o),qi(d),qi(g)}function DT(t){for(var e=t[0],i=t[1],a,o,u,f,l=Zi._;l;)if(u=Fp(l,i)-e,u>Nt)l=l.L;else if(f=e-FT(l,i),f>Nt){if(!l.R){a=l;break}l=l.R}else{u>-Nt?(a=l.P,o=l):f>-Nt?(a=l,o=l.N):a=o=l;break}ET(t);var d=Dp(t);if(Zi.insert(a,d),!(!a&&!o)){if(a===o){Qi(a),o=Dp(a.site),Zi.insert(d,o),d.edge=o.edge=oa(a.site,d.site),qi(a),qi(o);return}if(!o){d.edge=oa(a.site,d.site);return}Qi(a),Qi(o);var g=a.site,y=g[0],m=g[1],_=t[0]-y,x=t[1]-m,S=o.site,b=S[0]-y,T=S[1]-m,P=2*(_*T-x*b),k=_*_+x*x,L=b*b+T*T,$=[(T*k-x*L)/P+y,(_*L-b*k)/P+m];Ko(o.edge,g,S,$),d.edge=oa(g,t,null,$),o.edge=oa(t,S,null,$),qi(a),qi(o)}}function Fp(t,e){var i=t.site,a=i[0],o=i[1],u=o-e;if(!u)return a;var f=t.P;if(!f)return-1/0;i=f.site;var l=i[0],d=i[1],g=d-e;if(!g)return l;var y=l-a,m=1/u-1/g,_=y/g;return m?(-_+Math.sqrt(_*_-2*m*(y*y/(-2*g)-d+g/2+o-u/2)))/m+a:(a+l)/2}function FT(t,e){var i=t.N;if(i)return Fp(i,e);var a=t.site;return a[1]===e?a[0]:1/0}var Nt=1e-6,zT=1e-12,Zi,De,ua,ge;function XT(t,e,i){return(t[0]-i[0])*(e[1]-t[1])-(t[0]-e[0])*(i[1]-t[1])}function YT(t,e){return e[1]-t[1]||e[0]-t[0]}function Uc(t,e){var i=t.sort(YT).pop(),a,o,u;for(ge=[],De=new Array(t.length),Zi=new Zo,ua=new Zo;;)if(u=Bc,i&&(!u||i[1]<u.y||i[1]===u.y&&i[0]<u.x))(i[0]!==a||i[1]!==o)&&(DT(i),a=i[0],o=i[1]),i=t.pop();else if(u)IT(u.arc);else break;if(VT(),e){var f=+e[0][0],l=+e[0][1],d=+e[1][0],g=+e[1][1];$T(f,l,d,g),GT(f,l,d,g)}this.edges=ge,this.cells=De,Zi=ua=ge=De=null}Uc.prototype={constructor:Uc,polygons:function(){var t=this.edges;return this.cells.map(function(e){var i=e.halfedges.map(function(a){return Op(e,t[a])});return i.data=e.site.data,i})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(i,a){if(l=(u=i.halfedges).length)for(var o=i.site,u,f=-1,l,d,g=e[u[l-1]],y=g.left===o?g.right:g.left;++f<l;)d=y,g=e[u[f]],y=g.left===o?g.right:g.left,d&&y&&a<d.index&&a<y.index&&XT(o,d,y)<0&&t.push([o.data,d.data,y.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,i){for(var a=this,o,u=a._found||0,f=a.cells.length,l;!(l=a.cells[u]);)if(++u>=f)return null;var d=t-l.site[0],g=e-l.site[1],y=d*d+g*g;do l=a.cells[o=u],u=null,l.halfedges.forEach(function(m){var _=a.edges[m],x=_.left;if(!((x===l.site||!x)&&!(x=_.right))){var S=t-x[0],b=e-x[1],T=S*S+b*b;T<y&&(y=T,u=x.index)}});while(u!==null);return a._found=o,i==null||y<=i*i?l.site:null}};function BT(){var t=PT,e=CT,i=null;function a(o){return new Uc(o.map(function(u,f){var l=[Math.round(t(u,f,o)/Nt)*Nt,Math.round(e(u,f,o)/Nt)*Nt];return l.index=f,l.data=u,l}),i)}return a.polygons=function(o){return a(o).polygons()},a.links=function(o){return a(o).links()},a.triangles=function(o){return a(o).triangles()},a.x=function(o){return arguments.length?(t=typeof o=="function"?o:Vp(+o),a):t},a.y=function(o){return arguments.length?(e=typeof o=="function"?o:Vp(+o),a):e},a.extent=function(o){return arguments.length?(i=o==null?null:[[+o[0][0],+o[0][1]],[+o[1][0],+o[1][1]]],a):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},a.size=function(o){return arguments.length?(i=o==null?null:[[0,0],[+o[0],+o[1]]],a):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},a}function Jo(t){return function(){return t}}function HT(t,e,i){this.target=t,this.type=e,this.transform=i}function Ln(t,e,i){this.k=t,this.x=e,this.y=i}Ln.prototype={constructor:Ln,scale:function(t){return t===1?this:new Ln(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ln(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ts=new Ln(1,0,0);zp.prototype=Ln.prototype;function zp(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ts;return t.__zoom}function Wc(){h.event.stopImmediatePropagation()}function ca(){h.event.preventDefault(),h.event.stopImmediatePropagation()}function UT(){return!h.event.ctrlKey&&!h.event.button}function WT(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Xp(){return this.__zoom||ts}function qT(){return-h.event.deltaY*(h.event.deltaMode===1?.05:h.event.deltaMode?1:.002)}function QT(){return navigator.maxTouchPoints||"ontouchstart"in this}function ZT(t,e,i){var a=t.invertX(e[0][0])-i[0][0],o=t.invertX(e[1][0])-i[1][0],u=t.invertY(e[0][1])-i[0][1],f=t.invertY(e[1][1])-i[1][1];return t.translate(o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o),f>u?(u+f)/2:Math.min(0,u)||Math.max(0,f))}function jT(){var t=UT,e=WT,i=ZT,a=qT,o=QT,u=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],l=250,d=Hf,g=Wt("start","zoom","end"),y,m,_=500,x=150,S=0;function b(R){R.property("__zoom",Xp).on("wheel.zoom",F).on("mousedown.zoom",I).on("dblclick.zoom",q).filter(o).on("touchstart.zoom",B).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",X).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(R,z,Z){var D=R.selection?R.selection():R;D.property("__zoom",Xp),R!==D?L(R,z,Z):D.interrupt().each(function(){$(this,arguments).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},b.scaleBy=function(R,z,Z){b.scaleTo(R,function(){var D=this.__zoom.k,Q=typeof z=="function"?z.apply(this,arguments):z;return D*Q},Z)},b.scaleTo=function(R,z,Z){b.transform(R,function(){var D=e.apply(this,arguments),Q=this.__zoom,at=Z==null?k(D):typeof Z=="function"?Z.apply(this,arguments):Z,it=Q.invert(at),st=typeof z=="function"?z.apply(this,arguments):z;return i(P(T(Q,st),at,it),D,f)},Z)},b.translateBy=function(R,z,Z){b.transform(R,function(){return i(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof Z=="function"?Z.apply(this,arguments):Z),e.apply(this,arguments),f)})},b.translateTo=function(R,z,Z,D){b.transform(R,function(){var Q=e.apply(this,arguments),at=this.__zoom,it=D==null?k(Q):typeof D=="function"?D.apply(this,arguments):D;return i(ts.translate(it[0],it[1]).scale(at.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof Z=="function"?-Z.apply(this,arguments):-Z),Q,f)},D)};function T(R,z){return z=Math.max(u[0],Math.min(u[1],z)),z===R.k?R:new Ln(z,R.x,R.y)}function P(R,z,Z){var D=z[0]-Z[0]*R.k,Q=z[1]-Z[1]*R.k;return D===R.x&&Q===R.y?R:new Ln(R.k,D,Q)}function k(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function L(R,z,Z){R.on("start.zoom",function(){$(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).end()}).tween("zoom",function(){var D=this,Q=arguments,at=$(D,Q),it=e.apply(D,Q),st=Z==null?k(it):typeof Z=="function"?Z.apply(D,Q):Z,yt=Math.max(it[1][0]-it[0][0],it[1][1]-it[0][1]),_t=D.__zoom,Xt=typeof z=="function"?z.apply(D,Q):z,It=d(_t.invert(st).concat(yt/_t.k),Xt.invert(st).concat(yt/Xt.k));return function(kt){if(kt===1)kt=Xt;else{var jt=It(kt),We=yt/jt[2];kt=new Ln(We,st[0]-jt[0]*We,st[1]-jt[1]*We)}at.zoom(null,kt)}})}function $(R,z,Z){return!Z&&R.__zooming||new O(R,z)}function O(R,z){this.that=R,this.args=z,this.active=0,this.extent=e.apply(R,z),this.taps=0}O.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,z){return this.mouse&&R!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){tr(new HT(b,R,this.that.__zoom),g.apply,g,[R,this.that,this.args])}};function F(){if(!t.apply(this,arguments))return;var R=$(this,arguments),z=this.__zoom,Z=Math.max(u[0],Math.min(u[1],z.k*Math.pow(2,a.apply(this,arguments)))),D=jn(this);if(R.wheel)(R.mouse[0][0]!==D[0]||R.mouse[0][1]!==D[1])&&(R.mouse[1]=z.invert(R.mouse[0]=D)),clearTimeout(R.wheel);else{if(z.k===Z)return;R.mouse=[D,z.invert(D)],ei(this),R.start()}ca(),R.wheel=setTimeout(Q,x),R.zoom("mouse",i(P(T(z,Z),R.mouse[0],R.mouse[1]),R.extent,f));function Q(){R.wheel=null,R.end()}}function I(){if(m||!t.apply(this,arguments))return;var R=$(this,arguments,!0),z=Re(h.event.view).on("mousemove.zoom",at,!0).on("mouseup.zoom",it,!0),Z=jn(this),D=h.event.clientX,Q=h.event.clientY;ha(h.event.view),Wc(),R.mouse=[Z,this.__zoom.invert(Z)],ei(this),R.start();function at(){if(ca(),!R.moved){var st=h.event.clientX-D,yt=h.event.clientY-Q;R.moved=st*st+yt*yt>S}R.zoom("mouse",i(P(R.that.__zoom,R.mouse[0]=jn(R.that),R.mouse[1]),R.extent,f))}function it(){z.on("mousemove.zoom mouseup.zoom",null),da(h.event.view,R.moved),ca(),R.end()}}function q(){if(t.apply(this,arguments)){var R=this.__zoom,z=jn(this),Z=R.invert(z),D=R.k*(h.event.shiftKey?.5:2),Q=i(P(T(R,D),z,Z),e.apply(this,arguments),f);ca(),l>0?Re(this).transition().duration(l).call(L,Q,z):Re(this).call(b.transform,Q)}}function B(){if(t.apply(this,arguments)){var R=h.event.touches,z=R.length,Z=$(this,arguments,h.event.changedTouches.length===z),D,Q,at,it;for(Wc(),Q=0;Q<z;++Q)at=R[Q],it=er(this,R,at.identifier),it=[it,this.__zoom.invert(it),at.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==it[2]&&(Z.touch1=it,Z.taps=0):(Z.touch0=it,D=!0,Z.taps=1+!!y);y&&(y=clearTimeout(y)),D&&(Z.taps<2&&(y=setTimeout(function(){y=null},_)),ei(this),Z.start())}}function U(){if(this.__zooming){var R=$(this,arguments),z=h.event.changedTouches,Z=z.length,D,Q,at,it;for(ca(),y&&(y=clearTimeout(y)),R.taps=0,D=0;D<Z;++D)Q=z[D],at=er(this,z,Q.identifier),R.touch0&&R.touch0[2]===Q.identifier?R.touch0[0]=at:R.touch1&&R.touch1[2]===Q.identifier&&(R.touch1[0]=at);if(Q=R.that.__zoom,R.touch1){var st=R.touch0[0],yt=R.touch0[1],_t=R.touch1[0],Xt=R.touch1[1],It=(It=_t[0]-st[0])*It+(It=_t[1]-st[1])*It,kt=(kt=Xt[0]-yt[0])*kt+(kt=Xt[1]-yt[1])*kt;Q=T(Q,Math.sqrt(It/kt)),at=[(st[0]+_t[0])/2,(st[1]+_t[1])/2],it=[(yt[0]+Xt[0])/2,(yt[1]+Xt[1])/2]}else if(R.touch0)at=R.touch0[0],it=R.touch0[1];else return;R.zoom("touch",i(P(Q,at,it),R.extent,f))}}function X(){if(this.__zooming){var R=$(this,arguments),z=h.event.changedTouches,Z=z.length,D,Q;for(Wc(),m&&clearTimeout(m),m=setTimeout(function(){m=null},_),D=0;D<Z;++D)Q=z[D],R.touch0&&R.touch0[2]===Q.identifier?delete R.touch0:R.touch1&&R.touch1[2]===Q.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2){var at=Re(this).on("dblclick.zoom");at&&at.apply(this,arguments)}}}return b.wheelDelta=function(R){return arguments.length?(a=typeof R=="function"?R:Jo(+R),b):a},b.filter=function(R){return arguments.length?(t=typeof R=="function"?R:Jo(!!R),b):t},b.touchable=function(R){return arguments.length?(o=typeof R=="function"?R:Jo(!!R),b):o},b.extent=function(R){return arguments.length?(e=typeof R=="function"?R:Jo([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),b):e},b.scaleExtent=function(R){return arguments.length?(u[0]=+R[0],u[1]=+R[1],b):[u[0],u[1]]},b.translateExtent=function(R){return arguments.length?(f[0][0]=+R[0][0],f[1][0]=+R[1][0],f[0][1]=+R[0][1],f[1][1]=+R[1][1],b):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},b.constrain=function(R){return arguments.length?(i=R,b):i},b.duration=function(R){return arguments.length?(l=+R,b):l},b.interpolate=function(R){return arguments.length?(d=R,b):d},b.on=function(){var R=g.on.apply(g,arguments);return R===g?b:R},b.clickDistance=function(R){return arguments.length?(S=(R=+R)*R,b):Math.sqrt(S)},b}h.FormatSpecifier=Xa,h.active=S1,h.arc=VS,h.area=rp,h.areaRadial=up,h.ascending=ye,h.autoType=Cm,h.axisBottom=ot,h.axisLeft=ct,h.axisRight=vt,h.axisTop=bt,h.bisect=_e,h.bisectLeft=qe,h.bisectRight=_e,h.bisector=an,h.blob=$m,h.brush=O1,h.brushSelection=R1,h.brushX=V1,h.brushY=G1,h.buffer=km,h.chord=I1,h.clientPoint=la,h.cluster=Bx,h.color=Vn,h.contourDensity=lm,h.contours=Ll,h.create=ty,h.creator=En,h.cross=Zt,h.csv=Gm,h.csvFormat=ym,h.csvFormatBody=_m,h.csvFormatRow=vm,h.csvFormatRows=mm,h.csvFormatValue=xm,h.csvParse=kl,h.csvParseRows=pm,h.cubehelix=je,h.curveBasis=JS,h.curveBasisClosed=tT,h.curveBasisOpen=eT,h.curveBundle=nT,h.curveCardinal=iT,h.curveCardinalClosed=rT,h.curveCardinalOpen=aT,h.curveCatmullRom=oT,h.curveCatmullRomClosed=sT,h.curveCatmullRomOpen=uT,h.curveLinear=Bo,h.curveLinearClosed=cT,h.curveMonotoneX=fT,h.curveMonotoneY=lT,h.curveNatural=hT,h.curveStep=dT,h.curveStepAfter=pT,h.curveStepBefore=gT,h.customEvent=tr,h.descending=ji,h.deviation=ee,h.dispatch=Wt,h.drag=uy,h.dragDisable=ha,h.dragEnable=da,h.dsv=Vm,h.dsvFormat=Ia,h.easeBack=hl,h.easeBackIn=y1,h.easeBackInOut=hl,h.easeBackOut=_1,h.easeBounce=gr,h.easeBounceIn=g1,h.easeBounceInOut=p1,h.easeBounceOut=gr,h.easeCircle=ll,h.easeCircleIn=r1,h.easeCircleInOut=ll,h.easeCircleOut=a1,h.easeCubic=Ds,h.easeCubicIn=Z_,h.easeCubicInOut=Ds,h.easeCubicOut=j_,h.easeElastic=dl,h.easeElasticIn=m1,h.easeElasticInOut=v1,h.easeElasticOut=dl,h.easeExp=fl,h.easeExpIn=n1,h.easeExpInOut=fl,h.easeExpOut=i1,h.easeLinear=W_,h.easePoly=ol,h.easePolyIn=K_,h.easePolyInOut=ol,h.easePolyOut=J_,h.easeQuad=al,h.easeQuadIn=q_,h.easeQuadInOut=al,h.easeQuadOut=Q_,h.easeSin=cl,h.easeSinIn=t1,h.easeSinInOut=cl,h.easeSinOut=e1,h.entries=K1,h.extent=le,h.forceCenter=Ym,h.forceCollide=uv,h.forceLink=fv,h.forceManyBody=yv,h.forceRadial=_v,h.forceSimulation=pv,h.forceX=mv,h.forceY=vv,h.formatDefaultLocale=Hl,h.formatLocale=Bl,h.formatSpecifier=_r,h.geoAlbers=id,h.geoAlbersUsa=bx,h.geoArea=Lv,h.geoAzimuthalEqualArea=Sx,h.geoAzimuthalEqualAreaRaw=Wu,h.geoAzimuthalEquidistant=Tx,h.geoAzimuthalEquidistantRaw=qu,h.geoBounds=kv,h.geoCentroid=Iv,h.geoCircle=Dv,h.geoClipAntimeridian=Pu,h.geoClipCircle=Lh,h.geoClipExtent=Uv,h.geoClipRectangle=go,h.geoConicConformal=Px,h.geoConicConformalRaw=od,h.geoConicEqualArea=Ao,h.geoConicEqualAreaRaw=nd,h.geoConicEquidistant=Lx,h.geoConicEquidistantRaw=sd,h.geoContains=Jv,h.geoDistance=_o,h.geoEqualEarth=$x,h.geoEqualEarthRaw=Qu,h.geoEquirectangular=Cx,h.geoEquirectangularRaw=kr,h.geoGnomonic=Ex,h.geoGnomonicRaw=Zu,h.geoGraticule=Ih,h.geoGraticule10=tx,h.geoIdentity=kx,h.geoInterpolate=ex,h.geoLength=Mh,h.geoMercator=Ax,h.geoMercatorRaw=Er,h.geoNaturalEarth1=Rx,h.geoNaturalEarth1Raw=ju,h.geoOrthographic=Vx,h.geoOrthographicRaw=Ku,h.geoPath=hx,h.geoProjection=pn,h.geoProjectionMutator=Hu,h.geoRotation=xh,h.geoStereographic=Gx,h.geoStereographicRaw=Ju,h.geoStream=Je,h.geoTransform=dx,h.geoTransverseMercator=Ox,h.geoTransverseMercatorRaw=tc,h.gray=my,h.hcl=va,h.hierarchy=ec,h.histogram=as,h.hsl=ya,h.html=zm,h.image=Nm,h.interpolate=or,h.interpolateArray=Ty,h.interpolateBasis=Cf,h.interpolateBasisClosed=Lf,h.interpolateBlues=sS,h.interpolateBrBG=F2,h.interpolateBuGn=Q2,h.interpolateBuPu=Z2,h.interpolateCividis=dS,h.interpolateCool=yS,h.interpolateCubehelix=Dy,h.interpolateCubehelixDefault=gS,h.interpolateCubehelixLong=Ta,h.interpolateDate=Vf,h.interpolateDiscrete=Cy,h.interpolateGnBu=j2,h.interpolateGreens=uS,h.interpolateGreys=cS,h.interpolateHcl=Ny,h.interpolateHclLong=Iy,h.interpolateHsl=Vy,h.interpolateHslLong=Gy,h.interpolateHue=Ly,h.interpolateInferno=TS,h.interpolateLab=Oy,h.interpolateMagma=SS,h.interpolateNumber=ze,h.interpolateNumberArray=As,h.interpolateObject=Gf,h.interpolateOrRd=K2,h.interpolateOranges=hS,h.interpolatePRGn=z2,h.interpolatePiYG=X2,h.interpolatePlasma=AS,h.interpolatePuBu=tS,h.interpolatePuBuGn=J2,h.interpolatePuOr=Y2,h.interpolatePuRd=eS,h.interpolatePurples=fS,h.interpolateRainbow=_S,h.interpolateRdBu=B2,h.interpolateRdGy=H2,h.interpolateRdPu=nS,h.interpolateRdYlBu=U2,h.interpolateRdYlGn=W2,h.interpolateReds=lS,h.interpolateRgb=ar,h.interpolateRgbBasis=Ef,h.interpolateRgbBasisClosed=Sy,h.interpolateRound=Of,h.interpolateSinebow=xS,h.interpolateSpectral=q2,h.interpolateString=Ls,h.interpolateTransformCss=zf,h.interpolateTransformSvg=Xf,h.interpolateTurbo=wS,h.interpolateViridis=bS,h.interpolateWarm=pS,h.interpolateYlGn=rS,h.interpolateYlGnBu=iS,h.interpolateYlOrBr=aS,h.interpolateYlOrRd=oS,h.interpolateZoom=Hf,h.interrupt=ei,h.interval=Hy,h.isoFormat=x2,h.isoParse=b2,h.json=Dm,h.keys=Z1,h.lab=ma,h.lch=vy,h.line=kc,h.lineRadial=sp,h.linkHorizontal=YS,h.linkRadial=HS,h.linkVertical=BS,h.local=nf,h.map=xn,h.matcher=xi,h.max=n,h.mean=r,h.median=s,h.merge=c,h.min=p,h.mouse=jn,h.namespace=gt,h.namespaces=J,h.nest=W1,h.now=Li,h.pack=pw,h.packEnclose=cd,h.packSiblings=hw,h.pairs=is,h.partition=yw,h.path=Gn,h.permute=v,h.pie=NS,h.piecewise=Fy,h.pointRadial=ia,h.polygonArea=Ew,h.polygonCentroid=kw,h.polygonContains=Ow,h.polygonHull=Gw,h.polygonLength=Nw,h.precisionFixed=Ul,h.precisionPrefix=Wl,h.precisionRound=ql,h.quadtree=Fa,h.quantile=Un,h.quantize=zy,h.radialArea=up,h.radialLine=sp,h.randomBates=Fw,h.randomExponential=zw,h.randomIrwinHall=Pd,h.randomLogNormal=Dw,h.randomNormal=Ad,h.randomUniform=Iw,h.range=me,h.rgb=Ai,h.ribbon=U1,h.scaleBand=uc,h.scaleDiverging=Ag,h.scaleDivergingLog=Pg,h.scaleDivergingPow=Lc,h.scaleDivergingSqrt=M2,h.scaleDivergingSymlog=Cg,h.scaleIdentity=Vd,h.scaleImplicit=oc,h.scaleLinear=Rd,h.scaleLog=Dd,h.scaleOrdinal=sc,h.scalePoint=Xw,h.scalePow=gc,h.scaleQuantile=Bd,h.scaleQuantize=Hd,h.scaleSequential=wg,h.scaleSequentialLog=bg,h.scaleSequentialPow=Cc,h.scaleSequentialQuantile=Tg,h.scaleSequentialSqrt=L2,h.scaleSequentialSymlog=Sg,h.scaleSqrt=Jw,h.scaleSymlog=Xd,h.scaleThreshold=Ud,h.scaleTime=P2,h.scaleUtc=C2,h.scan=w,h.schemeAccent=E2,h.schemeBlues=Qg,h.schemeBrBG=Lg,h.schemeBuGn=Ng,h.schemeBuPu=Ig,h.schemeCategory10=$2,h.schemeDark2=k2,h.schemeGnBu=Dg,h.schemeGreens=Zg,h.schemeGreys=jg,h.schemeOrRd=Fg,h.schemeOranges=tp,h.schemePRGn=Mg,h.schemePaired=R2,h.schemePastel1=V2,h.schemePastel2=G2,h.schemePiYG=$g,h.schemePuBu=Xg,h.schemePuBuGn=zg,h.schemePuOr=Eg,h.schemePuRd=Yg,h.schemePurples=Kg,h.schemeRdBu=kg,h.schemeRdGy=Rg,h.schemeRdPu=Bg,h.schemeRdYlBu=Vg,h.schemeRdYlGn=Gg,h.schemeReds=Jg,h.schemeSet1=O2,h.schemeSet2=N2,h.schemeSet3=I2,h.schemeSpectral=Og,h.schemeTableau10=D2,h.schemeYlGn=Ug,h.schemeYlGnBu=Hg,h.schemeYlOrBr=Wg,h.schemeYlOrRd=qg,h.select=Re,h.selectAll=ny,h.selection=Zn,h.selector=ve,h.selectorAll=qn,h.set=Pl,h.shuffle=A,h.stack=_T,h.stackOffsetDiverging=vT,h.stackOffsetExpand=mT,h.stackOffsetNone=Ui,h.stackOffsetSilhouette=xT,h.stackOffsetWiggle=wT,h.stackOrderAppearance=Ep,h.stackOrderAscending=kp,h.stackOrderDescending=ST,h.stackOrderInsideOut=TT,h.stackOrderNone=Wi,h.stackOrderReverse=AT,h.stratify=xw,h.style=Qn,h.sum=M,h.svg=Xm,h.symbol=KS,h.symbolCircle=Oc,h.symbolCross=cp,h.symbolDiamond=lp,h.symbolSquare=gp,h.symbolStar=dp,h.symbolTriangle=pp,h.symbolWye=yp,h.symbols=jS,h.text=Da,h.thresholdFreedmanDiaconis=os,h.thresholdScott=ss,h.thresholdSturges=vi,h.tickFormat=kd,h.tickIncrement=dt,h.tickStep=_n,h.ticks=Hn,h.timeDay=zr,h.timeDays=nb,h.timeFormatDefaultLocale=mg,h.timeFormatLocale=sg,h.timeFriday=Jd,h.timeFridays=sb,h.timeHour=mc,h.timeHours=eb,h.timeInterval=ie,h.timeMillisecond=hi,h.timeMilliseconds=Wd,h.timeMinute=_c,h.timeMinutes=tb,h.timeMonday=Yr,h.timeMondays=ib,h.timeMonth=vc,h.timeMonths=cb,h.timeSaturday=tg,h.timeSaturdays=ub,h.timeSecond=Fr,h.timeSeconds=Zd,h.timeSunday=Xr,h.timeSundays=eg,h.timeThursday=Br,h.timeThursdays=ob,h.timeTuesday=jd,h.timeTuesdays=rb,h.timeWednesday=Kd,h.timeWednesdays=ab,h.timeWeek=Xr,h.timeWeeks=eg,h.timeYear=Pn,h.timeYears=fb,h.timeout=Rs,h.timer=La,h.timerFlush=jf,h.touch=er,h.touches=iy,h.transition=il,h.transpose=C,h.tree=Pw,h.treemap=Cw,h.treemapBinary=Lw,h.treemapDice=Ir,h.treemapResquarify=$w,h.treemapSlice=ko,h.treemapSliceDice=Mw,h.treemapSquarify=Sd,h.tsv=Om,h.tsvFormat=bm,h.tsvFormatBody=Sm,h.tsvFormatRow=Am,h.tsvFormatRows=Tm,h.tsvFormatValue=Pm,h.tsvParse=Rl,h.tsvParseRows=wm,h.utcDay=Hr,h.utcDays=db,h.utcFriday=rg,h.utcFridays=mb,h.utcHour=wc,h.utcHours=hb,h.utcMillisecond=hi,h.utcMilliseconds=Wd,h.utcMinute=xc,h.utcMinutes=lb,h.utcMonday=Wr,h.utcMondays=gb,h.utcMonth=bc,h.utcMonths=xb,h.utcSaturday=ag,h.utcSaturdays=vb,h.utcSecond=Fr,h.utcSeconds=Zd,h.utcSunday=Ur,h.utcSundays=og,h.utcThursday=qr,h.utcThursdays=_b,h.utcTuesday=ng,h.utcTuesdays=pb,h.utcWednesday=ig,h.utcWednesdays=yb,h.utcWeek=Ur,h.utcWeeks=og,h.utcYear=Cn,h.utcYears=wb,h.values=j1,h.variance=Ki,h.version=tt,h.voronoi=BT,h.window=cs,h.xml=Fm,h.zip=V,h.zoom=jT,h.zoomIdentity=ts,h.zoomTransform=zp,Object.defineProperty(h,"__esModule",{value:!0})});c3.generate({bindto:"#chart",data:{type:"pie",columns:[["Louvre 雙人床架",1],["Antony 雙人床架",2],["Anty 雙人床架",3],["其他",4]],colors:{"Louvre 雙人床架":"#DACBFF","Antony 雙人床架":"#9D7FEA","Anty 雙人床架":"#5434A7",其他:"#301E5F"}}})});export default JT();
