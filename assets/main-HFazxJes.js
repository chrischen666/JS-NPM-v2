var oR=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var hU=oR((Ph,Ch)=>{(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))l(g);new MutationObserver(g=>{for(const y of g)if(y.type==="childList")for(const v of y.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&l(v)}).observe(document,{childList:!0,subtree:!0});function s(g){const y={};return g.integrity&&(y.integrity=g.integrity),g.referrerPolicy&&(y.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?y.credentials="include":g.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function l(g){if(g.ep)return;g.ep=!0;const y=s(g);fetch(g.href,y)}})();/* @license C3.js v0.7.20 | (c) C3 Team and other contributors | http://c3js.org/ */(function(t,r){typeof Ph=="object"&&typeof Ch<"u"?Ch.exports=r():typeof define=="function"&&define.amd?define(r):(t=t||self,t.c3=r())})(void 0,function(){function t(o){var f=this;f.d3=window.d3?window.d3:typeof require<"u"?require("d3"):void 0,f.api=o,f.config=f.getDefaultConfig(),f.data={},f.cache={},f.axes={}}function r(o){this.internal=new t(this),this.internal.loadConfig(o),this.internal.beforeInit(o),this.internal.init(),this.internal.afterInit(o),function f(e,i,u){Object.keys(e).forEach(function(d){i[d]=e[d].bind(u),Object.keys(e[d]).length>0&&f(e[d],i[d],u)})}(r.prototype,this,this)}var s=function(o){return Math.ceil(o)+.5},l=function(o){return Math.ceil(o/10)*10},g=function(o){return o[1]-o[0]},y=function(o,f,e){return E(o[f])?o[f]:e},v=function(o){var f=w(o),e=[o.pathSegList.getItem(0),o.pathSegList.getItem(1)],i=e[0].x,u=Math.min(e[0].y,e[1].y);return{x:i,y:u,width:f.width,height:f.height}},w=function(o){try{return o.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},T=function(o,f){var e=!1;return Object.keys(o).forEach(function(i){o[i]===f&&(e=!0)}),e},P=function(o){return Array.isArray(o)},E=function(o){return typeof o<"u"},V=function(o){return typeof o>"u"||o===null||X(o)&&o.length===0||typeof o=="object"&&Object.keys(o).length===0},$=function(o){return typeof o=="function"},I=function(o){return typeof o=="number"},X=function(o){return typeof o=="string"},B=function(o){return typeof o>"u"},Y=function(o){return o||o===0},Z=function(o){return!V(o)},tt=function(o){return typeof o=="string"?o.replace(/</g,"&lt;").replace(/>/g,"&gt;"):o},J=function(o){return Array.isArray(o)?[].concat.apply([],o):[]},rt=function(o,f,e){var i=f.x-e,u=f.x+f.width+e,d=f.y+f.height+e,m=f.y-e;return i<o[0]&&o[0]<u&&m<o[1]&&o[1]<d},ft=function(o){typeof o>"u"&&(o=window.navigator.userAgent);var f=o.indexOf("MSIE ");return f>0?parseInt(o.substring(f+5,o.indexOf(".",f)),10):(f=o.indexOf("Trident/"),f>0?(f=o.indexOf("rv:"),parseInt(o.substring(f+3,o.indexOf(".",f)),10)):!1)},gt=function(o){var f=ft();return typeof o>"u"?!!f:o===f};function lt(o,f){var e=this;e.component=o,e.params=f||{},e.d3=o.d3,e.scale=e.d3.scaleLinear(),e.range,e.orient="bottom",e.innerTickSize=6,e.outerTickSize=this.params.withOuterTick?6:0,e.tickPadding=3,e.tickValues=null,e.tickFormat,e.tickArguments,e.tickOffset=0,e.tickCulling=!0,e.tickCentered,e.tickTextCharSize,e.tickTextRotate=e.params.tickTextRotate,e.tickLength,e.axis=e.generateAxis()}lt.prototype.axisX=function(o,f,e){o.attr("transform",function(i){return"translate("+Math.ceil(f(i)+e)+", 0)"})},lt.prototype.axisY=function(o,f){o.attr("transform",function(e){return"translate(0,"+Math.ceil(f(e))+")"})},lt.prototype.scaleExtent=function(o){var f=o[0],e=o[o.length-1];return f<e?[f,e]:[e,f]},lt.prototype.generateTicks=function(o){var f=this,e,i,u=[];if(o.ticks)return o.ticks.apply(o,f.tickArguments);for(i=o.domain(),e=Math.ceil(i[0]);e<i[1];e++)u.push(e);return u.length>0&&u[0]>0&&u.unshift(u[0]-(u[1]-u[0])),u},lt.prototype.copyScale=function(){var o=this,f=o.scale.copy(),e;return o.params.isCategory&&(e=o.scale.domain(),f.domain([e[0],e[1]-1])),f},lt.prototype.textFormatted=function(o){var f=this,e=f.tickFormat?f.tickFormat(o):o;return typeof e<"u"?e:""},lt.prototype.updateRange=function(){var o=this;return o.range=o.scale.rangeExtent?o.scale.rangeExtent():o.scaleExtent(o.scale.range()),o.range},lt.prototype.updateTickTextCharSize=function(o){var f=this;if(f.tickTextCharSize)return f.tickTextCharSize;var e={h:11.5,w:5.5};return o.select("text").text(function(i){return f.textFormatted(i)}).each(function(i){var u=w(this),d=f.textFormatted(i),m=u.height,S=d?u.width/d.length:void 0;m&&S&&(e.h=m,e.w=S)}).text(""),f.tickTextCharSize=e,e},lt.prototype.isVertical=function(){return this.orient==="left"||this.orient==="right"},lt.prototype.tspanData=function(o,f,e){var i=this,u=i.params.tickMultiline?i.splitTickText(o,e):[].concat(i.textFormatted(o));return i.params.tickMultiline&&i.params.tickMultilineMax>0&&(u=i.ellipsify(u,i.params.tickMultilineMax)),u.map(function(d){return{index:f,splitted:d,length:u.length}})},lt.prototype.splitTickText=function(o,f){var e=this,i=e.textFormatted(o),u=e.params.tickWidth,d,m,S,L=[];if(Object.prototype.toString.call(i)==="[object Array]")return i;(!u||u<=0)&&(u=e.isVertical()?95:e.params.isCategory?Math.ceil(f(1)-f(0))-12:110);function M(N,O){m=void 0;for(var H=1;H<O.length;H++)if(O.charAt(H)===" "&&(m=H),d=O.substr(0,H+1),S=e.tickTextCharSize.w*d.length,u<S)return M(N.concat(O.substr(0,m||H)),O.slice(m?m+1:H));return N.concat(O)}return M(L,i+"")},lt.prototype.ellipsify=function(o,f){if(o.length<=f)return o;for(var e=o.slice(0,f),i=3,u=f-1;u>=0;u--){var d=e[u].length;if(e[u]=e[u].substr(0,d-i).padEnd(d,"."),i-=d,i<=0)break}return e},lt.prototype.updateTickLength=function(){var o=this;o.tickLength=Math.max(o.innerTickSize,0)+o.tickPadding},lt.prototype.lineY2=function(o){var f=this,e=f.scale(o)+(f.tickCentered?0:f.tickOffset);return f.range[0]<e&&e<f.range[1]?f.innerTickSize:0},lt.prototype.textY=function(){var o=this,f=o.tickTextRotate;return f?11.5-2.5*(f/15)*(f>0?1:-1):o.tickLength},lt.prototype.textTransform=function(){var o=this,f=o.tickTextRotate;return f?"rotate("+f+")":""},lt.prototype.textTextAnchor=function(){var o=this,f=o.tickTextRotate;return f?f>0?"start":"end":"middle"},lt.prototype.tspanDx=function(){var o=this,f=o.tickTextRotate;return f?8*Math.sin(Math.PI*(f/180)):0},lt.prototype.tspanDy=function(o,f){var e=this,i=e.tickTextCharSize.h;return f===0&&(e.isVertical()?i=-((o.length-1)*(e.tickTextCharSize.h/2)-3):i=".71em"),i},lt.prototype.generateAxis=function(){var o=this,f=o.d3,e=o.params;function i(u,d){var m;return u.each(function(){var S=i.g=f.select(this),L=this.__chart__||o.scale,M=this.__chart__=o.copyScale(),N=o.tickValues?o.tickValues:o.generateTicks(M),O=S.selectAll(".tick").data(N,M),H=O.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),z=O.exit().remove(),nt=O.merge(H),Q,ut,ct;e.isCategory?(o.tickOffset=Math.ceil((M(1)-M(0))/2),ut=o.tickCentered?0:o.tickOffset,ct=o.tickCentered?o.tickOffset:0):o.tickOffset=ut=0,o.updateRange(),o.updateTickLength(),o.updateTickTextCharSize(S.select(".tick"));var St=nt.select("line").merge(H.append("line")),Ct=nt.select("text").merge(H.append("text")),It=nt.selectAll("text").selectAll("tspan").data(function(kt,Gt){return o.tspanData(kt,Gt,M)}),Dt=It.enter().append("tspan"),Wt=Dt.merge(It).text(function(kt){return kt.splitted});It.exit().remove();var Ft=S.selectAll(".domain").data([0]),Ht=Ft.enter().append("path").merge(Ft).attr("class","domain");switch(o.orient){case"bottom":{Q=o.axisX,St.attr("x1",ut).attr("x2",ut).attr("y2",function(kt,Gt){return o.lineY2(kt,Gt)}),Ct.attr("x",0).attr("y",function(kt,Gt){return o.textY(kt,Gt)}).attr("transform",function(kt,Gt){return o.textTransform(kt,Gt)}).style("text-anchor",function(kt,Gt){return o.textTextAnchor(kt,Gt)}),Wt.attr("x",0).attr("dy",function(kt,Gt){return o.tspanDy(kt,Gt)}).attr("dx",function(kt,Gt){return o.tspanDx(kt,Gt)}),Ht.attr("d","M"+o.range[0]+","+o.outerTickSize+"V0H"+o.range[1]+"V"+o.outerTickSize);break}case"top":{Q=o.axisX,St.attr("x1",ut).attr("x2",ut).attr("y2",function(kt,Gt){return-1*o.lineY2(kt,Gt)}),Ct.attr("x",0).attr("y",function(kt,Gt){return-1*o.textY(kt,Gt)-(e.isCategory?2:o.tickLength-2)}).attr("transform",function(kt,Gt){return o.textTransform(kt,Gt)}).style("text-anchor",function(kt,Gt){return o.textTextAnchor(kt,Gt)}),Wt.attr("x",0).attr("dy",function(kt,Gt){return o.tspanDy(kt,Gt)}).attr("dx",function(kt,Gt){return o.tspanDx(kt,Gt)}),Ht.attr("d","M"+o.range[0]+","+-o.outerTickSize+"V0H"+o.range[1]+"V"+-o.outerTickSize);break}case"left":{Q=o.axisY,St.attr("x2",-o.innerTickSize).attr("y1",ct).attr("y2",ct),Ct.attr("x",-o.tickLength).attr("y",o.tickOffset).style("text-anchor","end"),Wt.attr("x",-o.tickLength).attr("dy",function(kt,Gt){return o.tspanDy(kt,Gt)}),Ht.attr("d","M"+-o.outerTickSize+","+o.range[0]+"H0V"+o.range[1]+"H"+-o.outerTickSize);break}case"right":{Q=o.axisY,St.attr("x2",o.innerTickSize).attr("y1",ct).attr("y2",ct),Ct.attr("x",o.tickLength).attr("y",o.tickOffset).style("text-anchor","start"),Wt.attr("x",o.tickLength).attr("dy",function(kt,Gt){return o.tspanDy(kt,Gt)}),Ht.attr("d","M"+o.outerTickSize+","+o.range[0]+"H0V"+o.range[1]+"H"+o.outerTickSize);break}}if(M.rangeBand){var Nt=M,Yt=Nt.rangeBand()/2;L=M=function(kt){return Nt(kt)+Yt}}else L.rangeBand?L=M:z.call(Q,M,o.tickOffset);H.call(Q,L,o.tickOffset),m=(d?nt.transition(d):nt).style("opacity",1).call(Q,M,o.tickOffset)}),m}return i.scale=function(u){return arguments.length?(o.scale=u,i):o.scale},i.orient=function(u){return arguments.length?(o.orient=u in{top:1,right:1,bottom:1,left:1}?u+"":"bottom",i):o.orient},i.tickFormat=function(u){return arguments.length?(o.tickFormat=u,i):o.tickFormat},i.tickCentered=function(u){return arguments.length?(o.tickCentered=u,i):o.tickCentered},i.tickOffset=function(){return o.tickOffset},i.tickInterval=function(){var u,d;return e.isCategory?u=o.tickOffset*2:(d=i.g.select("path.domain").node().getTotalLength()-o.outerTickSize*2,u=d/i.g.selectAll("line").size()),u===1/0?0:u},i.ticks=function(){return arguments.length?(o.tickArguments=arguments,i):o.tickArguments},i.tickCulling=function(u){return arguments.length?(o.tickCulling=u,i):o.tickCulling},i.tickValues=function(u){if(typeof u=="function")o.tickValues=function(){return u(o.scale.domain())};else{if(!arguments.length)return o.tickValues;o.tickValues=u}return i},i};var W={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},dt=function(){function o(f){this.owner=f,this.d3=f.d3,this.internal=lt}return o}(),F=dt;F.prototype.init=function(){var f=this.owner,e=f.config,i=f.main;f.axes.x=i.append("g").attr("class",W.axis+" "+W.axisX).attr("clip-path",e.axis_x_inner?"":f.clipPathForXAxis).attr("transform",f.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),f.axes.x.append("text").attr("class",W.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),f.axes.y=i.append("g").attr("class",W.axis+" "+W.axisY).attr("clip-path",e.axis_y_inner?"":f.clipPathForYAxis).attr("transform",f.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),f.axes.y.append("text").attr("class",W.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),f.axes.y2=i.append("g").attr("class",W.axis+" "+W.axisY2).attr("transform",f.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),f.axes.y2.append("text").attr("class",W.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},F.prototype.getXAxis=function(f,e,i,u,d,m,S){var L=this.owner,M=L.config,N={isCategory:L.isCategorized(),withOuterTick:d,tickMultiline:M.axis_x_tick_multiline,tickMultilineMax:M.axis_x_tick_multiline?Number(M.axis_x_tick_multilineMax):0,tickWidth:M.axis_x_tick_width,tickTextRotate:S?0:M.axis_x_tick_rotate,withoutTransition:m},O=new this.internal(this,N).axis.scale(f).orient(e);return L.isTimeSeries()&&u&&typeof u!="function"&&(u=u.map(function(H){return L.parseDate(H)})),O.tickFormat(i).tickValues(u),L.isCategorized()&&(O.tickCentered(M.axis_x_tick_centered),V(M.axis_x_tick_culling)&&(M.axis_x_tick_culling=!1)),O},F.prototype.updateXAxisTickValues=function(f,e){var i=this.owner,u=i.config,d;return(u.axis_x_tick_fit||u.axis_x_tick_count)&&(d=this.generateTickValues(i.mapTargetsToUniqueXs(f),u.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(d):(i.xAxis.tickValues(d),i.subXAxis.tickValues(d)),d},F.prototype.getYAxis=function(f,e,i,u,d,m,S){var L=this.owner,M=L.config,N=M["axis_"+f+"_tick_format"];!N&&L.isAxisNormalized(f)&&(N=function(H){return H+"%"});var O=new this.internal(this,{withOuterTick:d,withoutTransition:m,tickTextRotate:S?0:M.axis_y_tick_rotate}).axis.scale(e).orient(i);return N&&O.tickFormat(N),L.isTimeSeriesY()?O.ticks(M.axis_y_tick_time_type,M.axis_y_tick_time_interval):O.tickValues(u),O},F.prototype.getId=function(f){var e=this.owner.config;return f in e.data_axes?e.data_axes[f]:"y"},F.prototype.getXAxisTickFormat=function(){var f=this.owner,e=f.config,i=f.isTimeSeries()?f.defaultAxisTimeFormat:f.isCategorized()?f.categoryName:function(u){return u};return e.axis_x_tick_format&&($(e.axis_x_tick_format)?i=e.axis_x_tick_format:f.isTimeSeries()&&(i=function(u){return u?f.axisTimeFormat(e.axis_x_tick_format)(u):""})),$(i)?function(u){return i.call(f,u)}:i},F.prototype.getTickValues=function(f,e){return f||(e?e.tickValues():void 0)},F.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},F.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},F.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},F.prototype.getLabelOptionByAxisId=function(f){var e=this.owner,i=e.config,u;return f==="y"?u=i.axis_y_label:f==="y2"?u=i.axis_y2_label:f==="x"&&(u=i.axis_x_label),u},F.prototype.getLabelText=function(f){var e=this.getLabelOptionByAxisId(f);return X(e)?e:e?e.text:null},F.prototype.setLabelText=function(f,e){var i=this.owner,u=i.config,d=this.getLabelOptionByAxisId(f);X(d)?f==="y"?u.axis_y_label=e:f==="y2"?u.axis_y2_label=e:f==="x"&&(u.axis_x_label=e):d&&(d.text=e)},F.prototype.getLabelPosition=function(f,e){var i=this.getLabelOptionByAxisId(f),u=i&&typeof i=="object"&&i.position?i.position:e;return{isInner:u.indexOf("inner")>=0,isOuter:u.indexOf("outer")>=0,isLeft:u.indexOf("left")>=0,isCenter:u.indexOf("center")>=0,isRight:u.indexOf("right")>=0,isTop:u.indexOf("top")>=0,isMiddle:u.indexOf("middle")>=0,isBottom:u.indexOf("bottom")>=0}},F.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},F.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},F.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},F.prototype.getLabelPositionById=function(f){return f==="y2"?this.getY2AxisLabelPosition():f==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},F.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},F.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},F.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},F.prototype.xForAxisLabel=function(f,e){var i=this.owner;return f?e.isLeft?0:e.isCenter?i.width/2:i.width:e.isBottom?-i.height:e.isMiddle?-i.height/2:0},F.prototype.dxForAxisLabel=function(f,e){return f?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},F.prototype.textAnchorForAxisLabel=function(f,e){return f?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},F.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},F.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},F.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},F.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},F.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},F.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},F.prototype.dyForXAxisLabel=function(){var f=this.owner,e=f.config,i=this.getXAxisLabelPosition();return e.axis_rotated?i.isInner?"1.2em":-25-(f.config.axis_x_inner?0:this.getMaxTickWidth("x")):i.isInner?"-0.5em":f.getHorizontalAxisHeight("x")-10},F.prototype.dyForYAxisLabel=function(){var f=this.owner,e=this.getYAxisLabelPosition();return f.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(f.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},F.prototype.dyForY2AxisLabel=function(){var f=this.owner,e=this.getY2AxisLabelPosition();return f.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(f.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},F.prototype.textAnchorForXAxisLabel=function(){var f=this.owner;return this.textAnchorForAxisLabel(!f.config.axis_rotated,this.getXAxisLabelPosition())},F.prototype.textAnchorForYAxisLabel=function(){var f=this.owner;return this.textAnchorForAxisLabel(f.config.axis_rotated,this.getYAxisLabelPosition())},F.prototype.textAnchorForY2AxisLabel=function(){var f=this.owner;return this.textAnchorForAxisLabel(f.config.axis_rotated,this.getY2AxisLabelPosition())},F.prototype.getMaxTickWidth=function(f,e){var i=this.owner,u=0,d,m,S,L,M;return e&&i.currentMaxTickWidths[f]||(i.svg&&(d=i.filterTargetsToShow(i.data.targets),f==="y"?(m=i.y.copy().domain(i.getYDomain(d,"y")),S=this.getYAxis(f,m,i.yOrient,i.yAxisTickValues,!1,!0,!0)):f==="y2"?(m=i.y2.copy().domain(i.getYDomain(d,"y2")),S=this.getYAxis(f,m,i.y2Orient,i.y2AxisTickValues,!1,!0,!0)):(m=i.x.copy().domain(i.getXDomain(d)),S=this.getXAxis(m,i.xOrient,i.xAxisTickFormat,i.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(d,S)),L=i.d3.select("body").append("div").classed("c3",!0),M=L.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),M.append("g").call(S).each(function(){i.d3.select(this).selectAll("text").each(function(){var N=w(this);u<N.width&&(u=N.width)}),L.remove()})),i.currentMaxTickWidths[f]=u<=0?i.currentMaxTickWidths[f]:u),i.currentMaxTickWidths[f]},F.prototype.updateLabels=function(f){var e=this.owner,i=e.main.select("."+W.axisX+" ."+W.axisXLabel),u=e.main.select("."+W.axisY+" ."+W.axisYLabel),d=e.main.select("."+W.axisY2+" ."+W.axisY2Label);(f?i.transition():i).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(f?u.transition():u).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(f?d.transition():d).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},F.prototype.getPadding=function(f,e,i,u){var d=typeof f=="number"?f:f[e];return Y(d)?f.unit==="ratio"?f[e]*u:this.convertPixelsToAxisPadding(d,u):i},F.prototype.convertPixelsToAxisPadding=function(f,e){var i=this.owner,u=i.config.axis_rotated?i.width:i.height;return e*(f/u)},F.prototype.generateTickValues=function(f,e,i){var u=f,d,m,S,L,M,N,O;if(e){if(d=$(e)?e():e,d===1)u=[f[0]];else if(d===2)u=[f[0],f[f.length-1]];else if(d>2){for(L=d-2,m=f[0],S=f[f.length-1],M=(S-m)/(L+1),u=[m],N=0;N<L;N++)O=+m+M*(N+1),u.push(i?new Date(O):O);u.push(S)}}return i||(u=u.sort(function(H,z){return H-z})),u},F.prototype.generateTransitions=function(f){var e=this.owner,i=e.axes;return{axisX:f?i.x.transition().duration(f):i.x,axisY:f?i.y.transition().duration(f):i.y,axisY2:f?i.y2.transition().duration(f):i.y2,axisSubX:f?i.subx.transition().duration(f):i.subx}},F.prototype.redraw=function(f,e){var i=this.owner,u=f?i.d3.transition().duration(f):null;i.axes.x.style("opacity",e?0:1).call(i.xAxis,u),i.axes.y.style("opacity",e?0:1).call(i.yAxis,u),i.axes.y2.style("opacity",e?0:1).call(i.y2Axis,u),i.axes.subx.style("opacity",e?0:1).call(i.subXAxis,u)};var vt={version:"0.7.20",chart:{fn:r.prototype,internal:{fn:t.prototype,axis:{fn:dt.prototype,internal:{fn:lt.prototype}}}},generate:function(o){return new r(o)}};t.prototype.beforeInit=function(){},t.prototype.afterInit=function(){},t.prototype.init=function(){var o=this,f=o.config;if(o.initParams(),f.data_url)o.convertUrlToData(f.data_url,f.data_mimeType,f.data_headers,f.data_keys,o.initWithData);else if(f.data_json)o.initWithData(o.convertJsonToData(f.data_json,f.data_keys));else if(f.data_rows)o.initWithData(o.convertRowsToData(f.data_rows));else if(f.data_columns)o.initWithData(o.convertColumnsToData(f.data_columns));else throw Error("url or json or rows or columns is required.")},t.prototype.initParams=function(){var o=this,f=o.d3,e=o.config;o.clipId="c3-"+new Date().valueOf()+"-clip",o.clipIdForXAxis=o.clipId+"-xaxis",o.clipIdForYAxis=o.clipId+"-yaxis",o.clipIdForGrid=o.clipId+"-grid",o.clipIdForSubchart=o.clipId+"-subchart",o.clipPath=o.getClipPath(o.clipId),o.clipPathForXAxis=o.getClipPath(o.clipIdForXAxis),o.clipPathForYAxis=o.getClipPath(o.clipIdForYAxis),o.clipPathForGrid=o.getClipPath(o.clipIdForGrid),o.clipPathForSubchart=o.getClipPath(o.clipIdForSubchart),o.dragStart=null,o.dragging=!1,o.flowing=!1,o.cancelClick=!1,o.mouseover=void 0,o.transiting=!1,o.color=o.generateColor(),o.levelColor=o.generateLevelColor(),o.dataTimeParse=(e.data_xLocaltime?f.timeParse:f.utcParse)(o.config.data_xFormat),o.axisTimeFormat=e.axis_x_localtime?f.timeFormat:f.utcFormat,o.defaultAxisTimeFormat=function(i){return i.getMilliseconds()?f.timeFormat(".%L")(i):i.getSeconds()?f.timeFormat(":%S")(i):i.getMinutes()?f.timeFormat("%I:%M")(i):i.getHours()?f.timeFormat("%I %p")(i):i.getDay()&&i.getDate()!==1||i.getDate()!==1||i.getMonth()?f.timeFormat("%-m/%-d")(i):f.timeFormat("%Y/%-m/%-d")(i)},o.hiddenTargetIds=[],o.hiddenLegendIds=[],o.focusedTargetIds=[],o.defocusedTargetIds=[],o.xOrient=e.axis_rotated?e.axis_x_inner?"right":"left":e.axis_x_inner?"top":"bottom",o.yOrient=e.axis_rotated?e.axis_y_inner?"top":"bottom":e.axis_y_inner?"right":"left",o.y2Orient=e.axis_rotated?e.axis_y2_inner?"bottom":"top":e.axis_y2_inner?"left":"right",o.subXOrient=e.axis_rotated?"left":"bottom",o.isLegendRight=e.legend_position==="right",o.isLegendInset=e.legend_position==="inset",o.isLegendTop=e.legend_inset_anchor==="top-left"||e.legend_inset_anchor==="top-right",o.isLegendLeft=e.legend_inset_anchor==="top-left"||e.legend_inset_anchor==="bottom-left",o.legendStep=0,o.legendItemWidth=0,o.legendItemHeight=0,o.currentMaxTickWidths={x:0,y:0,y2:0},o.rotated_padding_left=30,o.rotated_padding_right=e.axis_rotated&&!e.axis_x_show?0:30,o.rotated_padding_top=5,o.withoutFadeIn={},o.intervalForObserveInserted=void 0,o.axes.subx=f.selectAll([])},t.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},t.prototype.initWithData=function(o){var f=this,e=f.d3,i=f.config,u,d,m=!0;f.axis=new dt(f),i.bindto?typeof i.bindto.node=="function"?f.selectChart=i.bindto:f.selectChart=e.select(i.bindto):f.selectChart=e.selectAll([]),f.selectChart.empty()&&(f.selectChart=e.select(document.createElement("div")).style("opacity",0),f.observeInserted(f.selectChart),m=!1),f.selectChart.html("").classed("c3",!0),f.data.xs={},f.data.targets=f.convertDataToTargets(o),i.data_filter&&(f.data.targets=f.data.targets.filter(i.data_filter)),i.data_hide&&f.addHiddenTargetIds(i.data_hide===!0?f.mapToIds(f.data.targets):i.data_hide),i.legend_hide&&f.addHiddenLegendIds(i.legend_hide===!0?f.mapToIds(f.data.targets):i.legend_hide),f.isStanfordGraphType()&&f.initStanfordData(),f.updateSizes(),f.updateScales(),f.x.domain(e.extent(f.getXDomain(f.data.targets))),f.y.domain(f.getYDomain(f.data.targets,"y")),f.y2.domain(f.getYDomain(f.data.targets,"y2")),f.subX.domain(f.x.domain()),f.subY.domain(f.y.domain()),f.subY2.domain(f.y2.domain()),f.orgXDomain=f.x.domain(),f.svg=f.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return i.onmouseover.call(f)}).on("mouseleave",function(){return i.onmouseout.call(f)}),f.config.svg_classname&&f.svg.attr("class",f.config.svg_classname),u=f.svg.append("defs"),f.clipChart=f.appendClip(u,f.clipId),f.clipXAxis=f.appendClip(u,f.clipIdForXAxis),f.clipYAxis=f.appendClip(u,f.clipIdForYAxis),f.clipGrid=f.appendClip(u,f.clipIdForGrid),f.clipSubchart=f.appendClip(u,f.clipIdForSubchart),f.updateSvgSize(),d=f.main=f.svg.append("g").attr("transform",f.getTranslate("main")),f.initPie&&f.initPie(),f.initDragZoom&&f.initDragZoom(),i.subchart_show&&f.initSubchart&&f.initSubchart(),f.initTooltip&&f.initTooltip(),f.initLegend&&f.initLegend(),f.initTitle&&f.initTitle(),f.initZoom&&f.initZoom(),f.isStanfordGraphType()&&f.drawColorScale(),i.subchart_show&&f.initSubchartBrush&&f.initSubchartBrush(),d.append("text").attr("class",W.text+" "+W.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),f.initRegion(),f.initGrid(),d.append("g").attr("clip-path",f.clipPath).attr("class",W.chart),i.grid_lines_front&&f.initGridLines(),f.initStanfordElements(),f.initEventRect(),f.initChartElements(),f.axis.init(),f.updateTargets(f.data.targets),i.axis_x_selection&&f.brush.selectionAsValue(f.getDefaultSelection()),m&&(f.updateDimension(),f.config.oninit.call(f),f.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),f.bindResize(),f.bindWindowFocus(),f.api.element=f.selectChart.node()},t.prototype.smoothLines=function(o,f){var e=this;f==="grid"&&o.each(function(){var i=e.d3.select(this),u=i.attr("x1"),d=i.attr("x2"),m=i.attr("y1"),S=i.attr("y2");i.attr({x1:Math.ceil(u),x2:Math.ceil(d),y1:Math.ceil(m),y2:Math.ceil(S)})})},t.prototype.updateSizes=function(){var o=this,f=o.config,e=o.legend?o.getLegendHeight():0,i=o.legend?o.getLegendWidth():0,u=o.isLegendRight||o.isLegendInset?0:e,d=o.hasArcType(),m=f.axis_rotated||d?0:o.getHorizontalAxisHeight("x"),S=f.axis_rotated||d?0:o.getHorizontalAxisHeight("x",!0),L=f.subchart_show&&!d?f.subchart_size_height+S:0;o.currentWidth=o.getCurrentWidth(),o.currentHeight=o.getCurrentHeight(),o.margin=f.axis_rotated?{top:o.getHorizontalAxisHeight("y2")+o.getCurrentPaddingTop(),right:d?0:o.getCurrentPaddingRight(),bottom:o.getHorizontalAxisHeight("y")+u+o.getCurrentPaddingBottom(),left:L+(d?0:o.getCurrentPaddingLeft())}:{top:4+o.getCurrentPaddingTop(),right:d?0:o.getCurrentPaddingRight(),bottom:m+L+u+o.getCurrentPaddingBottom(),left:d?0:o.getCurrentPaddingLeft()},o.margin2=f.axis_rotated?{top:o.margin.top,right:NaN,bottom:20+u,left:o.rotated_padding_left}:{top:o.currentHeight-L-u,right:NaN,bottom:S+u,left:o.margin.left},o.margin3={top:0,right:NaN,bottom:0,left:0},o.updateSizeForLegend&&o.updateSizeForLegend(e,i),o.width=o.currentWidth-o.margin.left-o.margin.right,o.height=o.currentHeight-o.margin.top-o.margin.bottom,o.width<0&&(o.width=0),o.height<0&&(o.height=0),o.width2=f.axis_rotated?o.margin.left-o.rotated_padding_left-o.rotated_padding_right:o.width,o.height2=f.axis_rotated?o.height:o.currentHeight-o.margin2.top-o.margin2.bottom,o.width2<0&&(o.width2=0),o.height2<0&&(o.height2=0),o.arcWidth=o.width-(o.isLegendRight?i+10:0),o.arcHeight=o.height-(o.isLegendRight?0:10),o.hasType("gauge")&&!f.gauge_fullCircle&&(o.arcHeight+=o.height-o.getGaugeLabelHeight()),o.updateRadius&&o.updateRadius(),o.isLegendRight&&d&&(o.margin3.left=o.arcWidth/2+o.radiusExpanded*1.1)},t.prototype.updateTargets=function(o){var f=this,e=f.config;f.updateTargetsForText(o),f.updateTargetsForBar(o),f.updateTargetsForLine(o),f.hasArcType()&&f.updateTargetsForArc&&f.updateTargetsForArc(o),e.subchart_show&&f.updateTargetsForSubchart&&f.updateTargetsForSubchart(o),f.showTargets()},t.prototype.showTargets=function(){var o=this;o.svg.selectAll("."+W.target).filter(function(f){return o.isTargetToShow(f.id)}).transition().duration(o.config.transition_duration).style("opacity",1)},t.prototype.redraw=function(o,f){var e=this,i=e.main,u=e.d3,d=e.config,m=e.getShapeIndices(e.isAreaType),S=e.getShapeIndices(e.isBarType),L=e.getShapeIndices(e.isLineType),M,N,O,H,z,nt,Q,ut,ct,St,Ct,It,Dt,Wt=e.hasArcType(),Ft,Ht,Nt,Yt,kt,Gt,zt,Xt,de,Pe,we,Ae,se=e.filterTargetsToShow(e.data.targets),Et,Bt,Vt,oe,Ze=e.xv.bind(e),dn,je;if(o=o||{},M=y(o,"withY",!0),N=y(o,"withSubchart",!0),O=y(o,"withTransition",!0),nt=y(o,"withTransform",!1),Q=y(o,"withUpdateXDomain",!1),ut=y(o,"withUpdateOrgXDomain",!1),ct=y(o,"withTrimXDomain",!0),Dt=y(o,"withUpdateXAxis",Q),St=y(o,"withLegend",!1),Ct=y(o,"withEventRect",!0),It=y(o,"withDimension",!0),H=y(o,"withTransitionForExit",O),z=y(o,"withTransitionForAxis",O),Gt=O?d.transition_duration:0,zt=H?Gt:0,Xt=z?Gt:0,f=f||e.axis.generateTransitions(Xt),St&&d.legend_show?e.updateLegend(e.mapToIds(e.data.targets),o,f):It&&e.updateDimension(!0),e.isCategorized()&&se.length===0&&e.x.domain([0,e.axes.x.selectAll(".tick").size()]),se.length?(e.updateXDomain(se,Q,ut,ct),d.axis_x_tick_values||(Et=e.axis.updateXAxisTickValues(se))):(e.xAxis.tickValues([]),e.subXAxis.tickValues([])),d.zoom_rescale&&!o.flow&&(oe=e.x.orgDomain()),e.y.domain(e.getYDomain(se,"y",oe)),e.y2.domain(e.getYDomain(se,"y2",oe)),!d.axis_y_tick_values&&d.axis_y_tick_count&&e.yAxis.tickValues(e.axis.generateTickValues(e.y.domain(),d.axis_y_tick_count)),!d.axis_y2_tick_values&&d.axis_y2_tick_count&&e.y2Axis.tickValues(e.axis.generateTickValues(e.y2.domain(),d.axis_y2_tick_count)),e.axis.redraw(Xt,Wt),e.axis.updateLabels(O),(Q||Dt)&&se.length)if(d.axis_x_tick_culling&&Et){for(Bt=1;Bt<Et.length;Bt++)if(Et.length/Bt<d.axis_x_tick_culling_max){Vt=Bt;break}e.svg.selectAll("."+W.axisX+" .tick text").each(function(Oe){var He=Et.indexOf(Oe);He>=0&&u.select(this).style("display",He%Vt?"none":"block")})}else e.svg.selectAll("."+W.axisX+" .tick text").style("display","block");Ft=e.generateDrawArea?e.generateDrawArea(m,!1):void 0,Ht=e.generateDrawBar?e.generateDrawBar(S):void 0,Nt=e.generateDrawLine?e.generateDrawLine(L,!1):void 0,Yt=e.generateXYForText(m,S,L,!0),kt=e.generateXYForText(m,S,L,!1),e.updateCircleY(),dn=(e.config.axis_rotated?e.circleY:e.circleX).bind(e),je=(e.config.axis_rotated?e.circleX:e.circleY).bind(e),M&&(e.subY.domain(e.getYDomain(se,"y")),e.subY2.domain(e.getYDomain(se,"y2"))),e.updateXgridFocus(),i.select("text."+W.text+"."+W.empty).attr("x",e.width/2).attr("y",e.height/2).text(d.data_empty_label_text).transition().style("opacity",se.length?0:1),Ct&&e.redrawEventRect(),e.updateGrid(Gt),e.updateStanfordElements(Gt),e.updateRegion(Gt),e.updateBar(zt),e.updateLine(zt),e.updateArea(zt),e.updateCircle(dn,je),e.hasDataLabel()&&e.updateText(Yt,kt,zt),e.redrawTitle&&e.redrawTitle(),e.redrawArc&&e.redrawArc(Gt,zt,nt),d.subchart_show&&e.redrawSubchart&&e.redrawSubchart(N,f,Gt,zt,m,S,L),e.isStanfordGraphType()&&e.drawColorScale(),i.selectAll("."+W.selectedCircles).filter(e.isBarType.bind(e)).selectAll("circle").remove(),o.flow&&(we=e.generateFlow({targets:se,flow:o.flow,duration:o.flow.duration,drawBar:Ht,drawLine:Nt,drawArea:Ft,cx:dn,cy:je,xv:Ze,xForText:Yt,yForText:kt})),Gt&&e.isTabVisible()?(Ae=u.transition().duration(Gt),de=[],[e.redrawBar(Ht,!0,Ae),e.redrawLine(Nt,!0,Ae),e.redrawArea(Ft,!0,Ae),e.redrawCircle(dn,je,!0,Ae),e.redrawText(Yt,kt,o.flow,!0,Ae),e.redrawRegion(!0,Ae),e.redrawGrid(!0,Ae)].forEach(function(Oe){Oe.forEach(function(He){de.push(He)})}),Pe=e.generateWait(),de.forEach(function(Oe){Pe.add(Oe)}),Pe(function(){we&&we(),d.onrendered&&d.onrendered.call(e)})):(e.redrawBar(Ht),e.redrawLine(Nt),e.redrawArea(Ft),e.redrawCircle(dn,je),e.redrawText(Yt,kt,o.flow),e.redrawRegion(),e.redrawGrid(),we&&we(),d.onrendered&&d.onrendered.call(e)),e.mapToIds(e.data.targets).forEach(function(Oe){e.withoutFadeIn[Oe]=!0})},t.prototype.updateAndRedraw=function(o){var f=this,e=f.config,i;o=o||{},o.withTransition=y(o,"withTransition",!0),o.withTransform=y(o,"withTransform",!1),o.withLegend=y(o,"withLegend",!1),o.withUpdateXDomain=y(o,"withUpdateXDomain",!0),o.withUpdateOrgXDomain=y(o,"withUpdateOrgXDomain",!0),o.withTransitionForExit=!1,o.withTransitionForTransform=y(o,"withTransitionForTransform",o.withTransition),f.updateSizes(),o.withLegend&&e.legend_show||(i=f.axis.generateTransitions(o.withTransitionForAxis?e.transition_duration:0),f.updateScales(),f.updateSvgSize(),f.transformAll(o.withTransitionForTransform,i)),f.redraw(o,i)},t.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},t.prototype.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"},t.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},t.prototype.isCustomX=function(){var o=this,f=o.config;return!o.isTimeSeries()&&(f.data_x||Z(f.data_xs))},t.prototype.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"},t.prototype.getTranslate=function(o){var f=this,e=f.config,i,u;return o==="main"?(i=s(f.margin.left),u=s(f.margin.top)):o==="context"?(i=s(f.margin2.left),u=s(f.margin2.top)):o==="legend"?(i=f.margin3.left,u=f.margin3.top):o==="x"?(i=0,u=e.axis_rotated?0:f.height):o==="y"?(i=0,u=e.axis_rotated?f.height:0):o==="y2"?(i=e.axis_rotated?0:f.width,u=e.axis_rotated?1:0):o==="subx"?(i=0,u=e.axis_rotated?0:f.height2):o==="arc"&&(i=f.arcWidth/2,u=f.arcHeight/2-(f.hasType("gauge")?6:0)),"translate("+i+","+u+")"},t.prototype.initialOpacity=function(o){return o.value!==null&&this.withoutFadeIn[o.id]?1:0},t.prototype.initialOpacityForCircle=function(o){return o.value!==null&&this.withoutFadeIn[o.id]?this.opacityForCircle(o):0},t.prototype.opacityForCircle=function(o){var f=$(this.config.point_show)?this.config.point_show(o):this.config.point_show,e=f||this.isStanfordType(o)?1:0;return Y(o.value)?this.isScatterType(o)?.5:e:0},t.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},t.prototype.xx=function(o){return o?this.x(o.x):null},t.prototype.xvCustom=function(o,f){var e=this,i=f?o[f]:o.value;return e.isTimeSeries()?i=e.parseDate(o.value):e.isCategorized()&&typeof o.value=="string"&&(i=e.config.axis_x_categories.indexOf(o.value)),Math.ceil(e.x(i))},t.prototype.yvCustom=function(o,f){var e=this,i=o.axis&&o.axis==="y2"?e.y2:e.y,u=f?o[f]:o.value;return Math.ceil(i(u))},t.prototype.xv=function(o){var f=this,e=o.value;return f.isTimeSeries()?e=f.parseDate(o.value):f.isCategorized()&&typeof o.value=="string"&&(e=f.config.axis_x_categories.indexOf(o.value)),Math.ceil(f.x(e))},t.prototype.yv=function(o){var f=this,e=o.axis&&o.axis==="y2"?f.y2:f.y;return Math.ceil(e(o.value))},t.prototype.subxx=function(o){return o?this.subX(o.x):null},t.prototype.transformMain=function(o,f){var e=this,i,u,d;f&&f.axisX?i=f.axisX:(i=e.main.select("."+W.axisX),o&&(i=i.transition())),f&&f.axisY?u=f.axisY:(u=e.main.select("."+W.axisY),o&&(u=u.transition())),f&&f.axisY2?d=f.axisY2:(d=e.main.select("."+W.axisY2),o&&(d=d.transition())),(o?e.main.transition():e.main).attr("transform",e.getTranslate("main")),i.attr("transform",e.getTranslate("x")),u.attr("transform",e.getTranslate("y")),d.attr("transform",e.getTranslate("y2")),e.main.select("."+W.chartArcs).attr("transform",e.getTranslate("arc"))},t.prototype.transformAll=function(o,f){var e=this;e.transformMain(o,f),e.config.subchart_show&&e.transformContext(o,f),e.legend&&e.transformLegend(o)},t.prototype.updateSvgSize=function(){var o=this,f=o.svg.select("."+W.brush+" .overlay");o.svg.attr("width",o.currentWidth).attr("height",o.currentHeight),o.svg.selectAll(["#"+o.clipId,"#"+o.clipIdForGrid]).select("rect").attr("width",o.width).attr("height",o.height),o.svg.select("#"+o.clipIdForXAxis).select("rect").attr("x",o.getXAxisClipX.bind(o)).attr("y",o.getXAxisClipY.bind(o)).attr("width",o.getXAxisClipWidth.bind(o)).attr("height",o.getXAxisClipHeight.bind(o)),o.svg.select("#"+o.clipIdForYAxis).select("rect").attr("x",o.getYAxisClipX.bind(o)).attr("y",o.getYAxisClipY.bind(o)).attr("width",o.getYAxisClipWidth.bind(o)).attr("height",o.getYAxisClipHeight.bind(o)),o.svg.select("#"+o.clipIdForSubchart).select("rect").attr("width",o.width).attr("height",f.size()&&f.attr("height")||0),o.selectChart.style("max-height",o.currentHeight+"px")},t.prototype.updateDimension=function(o){var f=this;o||(f.config.axis_rotated?(f.axes.x.call(f.xAxis),f.axes.subx.call(f.subXAxis)):(f.axes.y.call(f.yAxis),f.axes.y2.call(f.y2Axis))),f.updateSizes(),f.updateScales(),f.updateSvgSize(),f.transformAll(!1)},t.prototype.observeInserted=function(o){var f=this,e;if(typeof MutationObserver>"u"){window.console.error("MutationObserver not defined.");return}e=new MutationObserver(function(i){i.forEach(function(u){u.type==="childList"&&u.previousSibling&&(e.disconnect(),f.intervalForObserveInserted=window.setInterval(function(){o.node().parentNode&&(window.clearInterval(f.intervalForObserveInserted),f.updateDimension(),f.brush&&f.brush.update(),f.config.oninit.call(f),f.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),o.transition().style("opacity",1))},10))})}),e.observe(o.node(),{attributes:!0,childList:!0,characterData:!0})},t.prototype.bindResize=function(){var o=this,f=o.config;o.resizeFunction=o.generateResize(),o.resizeFunction.add(function(){f.onresize.call(o)}),f.resize_auto&&o.resizeFunction.add(function(){o.resizeTimeout!==void 0&&window.clearTimeout(o.resizeTimeout),o.resizeTimeout=window.setTimeout(function(){delete o.resizeTimeout,o.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),o.brush&&o.brush.update()},100)}),o.resizeFunction.add(function(){f.onresized.call(o)}),o.resizeIfElementDisplayed=function(){o.api==null||!o.api.element.offsetParent||o.resizeFunction()},window.addEventListener("resize",o.resizeIfElementDisplayed,!1)},t.prototype.bindWindowFocus=function(){var o=this;this.windowFocusHandler||(this.windowFocusHandler=function(){o.redraw()},window.addEventListener("focus",this.windowFocusHandler))},t.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},t.prototype.generateResize=function(){var o=[];function f(){o.forEach(function(e){e()})}return f.add=function(e){o.push(e)},f.remove=function(e){for(var i=0;i<o.length;i++)if(o[i]===e){o.splice(i,1);break}},f},t.prototype.endall=function(o,f){var e=0;o.each(function(){++e}).on("end",function(){--e||f.apply(this,arguments)})},t.prototype.generateWait=function(){var o=this,f=[],e=function(i){var u=setInterval(function(){if(o.isTabVisible()){var d=0;f.forEach(function(m){if(m.empty()){d+=1;return}try{m.transition()}catch{d+=1}}),d===f.length&&(clearInterval(u),i&&i())}},50)};return e.add=function(i){f.push(i)},e},t.prototype.parseDate=function(o){var f=this,e;return o instanceof Date?e=o:typeof o=="string"?e=f.dataTimeParse(o):typeof o=="object"?e=new Date(+o):typeof o=="number"&&!isNaN(o)&&(e=new Date(+o)),(!e||isNaN(+e))&&window.console.error("Failed to parse x '"+o+"' to Date object"),e},t.prototype.isTabVisible=function(){return!document.hidden},t.prototype.getPathBox=v,t.prototype.CLASS=W,function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(o,f,e){this.pathSegType=o,this.pathSegTypeAsLetter=f,this._owningPathSegList=e},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",o)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(o,f,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",o),this._x=f,this._y=e},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(o,f,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",o),this._x=f,this._y=e},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(o,f,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",o),this._x=f,this._y=e},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(o,f,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",o),this._x=f,this._y=e},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(o,f,e,i,u,d,m){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",o),this._x=f,this._y=e,this._x1=i,this._y1=u,this._x2=d,this._y2=m},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(o){this._x1=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(o){this._y1=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(o){this._x2=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(o){this._y2=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(o,f,e,i,u,d,m){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",o),this._x=f,this._y=e,this._x1=i,this._y1=u,this._x2=d,this._y2=m},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(o){this._x1=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(o){this._y1=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(o){this._x2=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(o){this._y2=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(o,f,e,i,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",o),this._x=f,this._y=e,this._x1=i,this._y1=u},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(o){this._x1=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(o){this._y1=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(o,f,e,i,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",o),this._x=f,this._y=e,this._x1=i,this._y1=u},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(o){this._x1=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(o){this._y1=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(o,f,e,i,u,d,m,S){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",o),this._x=f,this._y=e,this._r1=i,this._r2=u,this._angle=d,this._largeArcFlag=m,this._sweepFlag=S},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(o){this._r1=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(o){this._r2=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(o){this._angle=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(o){this._largeArcFlag=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(o){this._sweepFlag=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(o,f,e,i,u,d,m,S){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",o),this._x=f,this._y=e,this._r1=i,this._r2=u,this._angle=d,this._largeArcFlag=m,this._sweepFlag=S},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(o){this._r1=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(o){this._r2=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(o){this._angle=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(o){this._largeArcFlag=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(o){this._sweepFlag=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(o,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",o),this._x=f},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(o,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",o),this._x=f},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(o,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",o),this._y=f},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(o,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",o),this._y=f},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(o,f,e,i,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",o),this._x=f,this._y=e,this._x2=i,this._y2=u},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(o){this._x2=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(o){this._y2=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(o,f,e,i,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",o),this._x=f,this._y=e,this._x2=i,this._y2=u},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(o){this._x2=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(o){this._y2=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(o,f,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",o),this._x=f,this._y=e},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(o,f,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",o),this._x=f,this._y=e},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(o){this._x=o,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(o){this._y=o,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(o,f){return new window.SVGPathSegMovetoAbs(void 0,o,f)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(o,f){return new window.SVGPathSegMovetoRel(void 0,o,f)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(o,f){return new window.SVGPathSegLinetoAbs(void 0,o,f)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(o,f){return new window.SVGPathSegLinetoRel(void 0,o,f)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(o,f,e,i,u,d){return new window.SVGPathSegCurvetoCubicAbs(void 0,o,f,e,i,u,d)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(o,f,e,i,u,d){return new window.SVGPathSegCurvetoCubicRel(void 0,o,f,e,i,u,d)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(o,f,e,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,o,f,e,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(o,f,e,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,o,f,e,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(o,f,e,i,u,d,m){return new window.SVGPathSegArcAbs(void 0,o,f,e,i,u,d,m)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(o,f,e,i,u,d,m){return new window.SVGPathSegArcRel(void 0,o,f,e,i,u,d,m)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(o){return new window.SVGPathSegLinetoHorizontalAbs(void 0,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(o){return new window.SVGPathSegLinetoHorizontalRel(void 0,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(o){return new window.SVGPathSegLinetoVerticalAbs(void 0,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(o){return new window.SVGPathSegLinetoVerticalRel(void 0,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(o,f,e,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,o,f,e,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(o,f,e,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,o,f,e,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(o,f){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,o,f)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(o,f){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,o,f)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(o){if(o===void 0||!isFinite(o))throw"Invalid arguments.";var f=document.createElementNS("http://www.w3.org/2000/svg","path");f.setAttribute("d",this.getAttribute("d"));var e=f.pathSegList.numberOfItems-1;if(e<=0)return 0;do{if(f.pathSegList.removeItem(e),o>f.getTotalLength())break;e--}while(e>0);return e})),"SVGPathSegList"in window||(window.SVGPathSegList=function(o){this._pathElement=o,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(o){if(this._pathElement){var f=!1;o.forEach(function(e){e.attributeName=="d"&&(f=!0)}),f&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(o){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(o){o._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(o){return this._checkPathSynchronizedToList(),this._list=[o],o._owningPathSegList=this,this._writeListToPath(),o},window.SVGPathSegList.prototype._checkValidIndex=function(o){if(isNaN(o)||o<0||o>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(o){return this._checkPathSynchronizedToList(),this._checkValidIndex(o),this._list[o]},window.SVGPathSegList.prototype.insertItemBefore=function(o,f){return this._checkPathSynchronizedToList(),f>this.numberOfItems&&(f=this.numberOfItems),o._owningPathSegList&&(o=o.clone()),this._list.splice(f,0,o),o._owningPathSegList=this,this._writeListToPath(),o},window.SVGPathSegList.prototype.replaceItem=function(o,f){return this._checkPathSynchronizedToList(),o._owningPathSegList&&(o=o.clone()),this._checkValidIndex(f),this._list[f]=o,o._owningPathSegList=this,this._writeListToPath(),o},window.SVGPathSegList.prototype.removeItem=function(o){this._checkPathSynchronizedToList(),this._checkValidIndex(o);var f=this._list[o];return this._list.splice(o,1),this._writeListToPath(),f},window.SVGPathSegList.prototype.appendItem=function(o){return this._checkPathSynchronizedToList(),o._owningPathSegList&&(o=o.clone()),this._list.push(o),o._owningPathSegList=this,this._writeListToPath(),o},window.SVGPathSegList._pathSegArrayAsString=function(o){var f="",e=!0;return o.forEach(function(i){e?(e=!1,f+=i._asPathString()):f+=" "+i._asPathString()}),f},window.SVGPathSegList.prototype._parsePath=function(o){if(!o||o.length==0)return[];var f=this,e=function(){this.pathSegList=[]};e.prototype.appendSegment=function(S){this.pathSegList.push(S)};var i=function(S){this._string=S,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){var S=this._string[this._currentIndex];return S<=" "&&(S==" "||S==`
`||S=="	"||S=="\r"||S=="\f")},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){var S=this._string[this._currentIndex];return this._pathSegTypeFromChar(S)},i.prototype._pathSegTypeFromChar=function(S){switch(S){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(S,L){return(S=="+"||S=="-"||S=="."||S>="0"&&S<="9")&&L!=window.SVGPathSeg.PATHSEG_CLOSEPATH?L==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:L==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:L:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var S=this.peekSegmentType();return S==window.SVGPathSeg.PATHSEG_MOVETO_ABS||S==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var S=0,L=0,M=1,N=0,O=1,H=1,z=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,O=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")){for(var nt=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=nt)for(var Q=this._currentIndex-1,ut=1;Q>=nt;)L+=ut*(this._string.charAt(Q--)-"0"),ut*=10;if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)M*=10,N+=(this._string.charAt(this._currentIndex)-"0")/M,this._currentIndex+=1}if(this._currentIndex!=z&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,H=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)S*=10,S+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var ct=L+N;if(ct*=O,S&&(ct*=Math.pow(10,H*S)),z!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),ct}},i.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var S=!1,L=this._string.charAt(this._currentIndex++);if(L=="0")S=!1;else if(L=="1")S=!0;else return;return this._skipOptionalSpacesOrDelimiter(),S}},i.prototype.parseSegment=function(){var S=this._string[this._currentIndex],L=this._pathSegTypeFromChar(S);if(L==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(L=this._nextCommandHelper(S,this._previousCommand),L==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;switch(this._previousCommand=L,L){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(f,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(f,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(f,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(f,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(f,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(f,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(f,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(f,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(f);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var M={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(f,M.x,M.y,M.x1,M.y1,M.x2,M.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var M={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(f,M.x,M.y,M.x1,M.y1,M.x2,M.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var M={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(f,M.x,M.y,M.x2,M.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var M={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(f,M.x,M.y,M.x2,M.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var M={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(f,M.x,M.y,M.x1,M.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var M={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(f,M.x,M.y,M.x1,M.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(f,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(f,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var M={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(f,M.x,M.y,M.x1,M.y1,M.arcAngle,M.arcLarge,M.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var M={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(f,M.x,M.y,M.x1,M.y1,M.arcAngle,M.arcLarge,M.arcSweep);default:throw"Unknown path seg type."}};var u=new e,d=new i(o);if(!d.initialCommandIsMoveTo())return[];for(;d.hasMoreData();){var m=d.parseSegment();if(!m)return[];u.appendSegment(m)}return u.pathSegList})}(),String.prototype.padEnd||(String.prototype.padEnd=function(f,e){return f=f>>0,e=String(typeof e<"u"?e:" "),this.length>f?String(this):(f=f-this.length,f>e.length&&(e+=e.repeat(f/e.length)),String(this)+e.slice(0,f))}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(f,e){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(f),u=1;u<arguments.length;u++){var d=arguments[u];if(d!=null)for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(i[m]=d[m])}return i},writable:!0,configurable:!0}),r.prototype.axis=function(){},r.prototype.axis.labels=function(o){var f=this.internal;arguments.length&&(Object.keys(o).forEach(function(e){f.axis.setLabelText(e,o[e])}),f.axis.updateLabels())},r.prototype.axis.max=function(o){var f=this.internal,e=f.config;if(arguments.length)typeof o=="object"?(Y(o.x)&&(e.axis_x_max=o.x),Y(o.y)&&(e.axis_y_max=o.y),Y(o.y2)&&(e.axis_y2_max=o.y2)):e.axis_y_max=e.axis_y2_max=o,f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:e.axis_x_max,y:e.axis_y_max,y2:e.axis_y2_max}},r.prototype.axis.min=function(o){var f=this.internal,e=f.config;if(arguments.length)typeof o=="object"?(Y(o.x)&&(e.axis_x_min=o.x),Y(o.y)&&(e.axis_y_min=o.y),Y(o.y2)&&(e.axis_y2_min=o.y2)):e.axis_y_min=e.axis_y2_min=o,f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:e.axis_x_min,y:e.axis_y_min,y2:e.axis_y2_min}},r.prototype.axis.range=function(o){if(arguments.length)E(o.max)&&this.axis.max(o.max),E(o.min)&&this.axis.min(o.min);else return{max:this.axis.max(),min:this.axis.min()}},r.prototype.axis.types=function(o){var f=this.internal;if(o===void 0)return{y:f.config.axis_y_type,y2:f.config.axis_y2_type};E(o.y)&&(f.config.axis_y_type=o.y),E(o.y2)&&(f.config.axis_y2_type=o.y2),f.updateScales(),f.redraw()},r.prototype.category=function(o,f){var e=this.internal,i=e.config;return arguments.length>1&&(i.axis_x_categories[o]=f,e.redraw()),i.axis_x_categories[o]},r.prototype.categories=function(o){var f=this.internal,e=f.config;return arguments.length&&(e.axis_x_categories=o,f.redraw()),e.axis_x_categories},r.prototype.resize=function(o){var f=this.internal,e=f.config;e.size_width=o?o.width:null,e.size_height=o?o.height:null,this.flush()},r.prototype.flush=function(){var o=this.internal;o.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},r.prototype.destroy=function(){var o=this.internal;return window.clearInterval(o.intervalForObserveInserted),o.resizeTimeout!==void 0&&window.clearTimeout(o.resizeTimeout),window.removeEventListener("resize",o.resizeIfElementDisplayed),o.resizeFunction.remove(),o.unbindWindowFocus(),o.selectChart.classed("c3",!1).html(""),Object.keys(o).forEach(function(f){o[f]=null}),null},r.prototype.color=function(o){var f=this.internal;return f.color(o)},r.prototype.data=function(o){var f=this.internal.data.targets;return typeof o>"u"?f:f.filter(function(e){return[].concat(o).indexOf(e.id)>=0})},r.prototype.data.shown=function(o){return this.internal.filterTargetsToShow(this.data(o))},r.prototype.data.values=function(o,f){f===void 0&&(f=!0);var e=null;if(o){var i=this.data(o);i&&P(i)&&(e=i.reduce(function(u,d){var m=d.values.map(function(S){return S.value});return f?u=u.concat(m):u.push(m),u},[]))}return e},r.prototype.data.names=function(o){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",o)},r.prototype.data.colors=function(o){return this.internal.updateDataAttributes("colors",o)},r.prototype.data.axes=function(o){return this.internal.updateDataAttributes("axes",o)},r.prototype.data.stackNormalized=function(o){if(o===void 0)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!o,this.internal.redraw()},r.prototype.donut=function(){},r.prototype.donut.padAngle=function(o){if(o===void 0)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=o,this.flush()},r.prototype.flow=function(o){var f=this.internal,e,i,u=[],d=f.getMaxDataCount(),m,S,L,M=0,N=0,O,H;if(o.json)i=f.convertJsonToData(o.json,o.keys);else if(o.rows)i=f.convertRowsToData(o.rows);else if(o.columns)i=f.convertColumnsToData(o.columns);else return;e=f.convertDataToTargets(i,!0),f.data.targets.forEach(function(z){var nt=!1,Q,ut;for(Q=0;Q<e.length;Q++)if(z.id===e[Q].id){for(nt=!0,z.values[z.values.length-1]&&(N=z.values[z.values.length-1].index+1),M=e[Q].values.length,ut=0;ut<M;ut++)e[Q].values[ut].index=N+ut,f.isTimeSeries()||(e[Q].values[ut].x=N+ut);z.values=z.values.concat(e[Q].values),e.splice(Q,1);break}nt||u.push(z.id)}),f.data.targets.forEach(function(z){var nt,Q;for(nt=0;nt<u.length;nt++)if(z.id===u[nt])for(N=z.values[z.values.length-1].index+1,Q=0;Q<M;Q++)z.values.push({id:z.id,index:N+Q,x:f.isTimeSeries()?f.getOtherTargetX(N+Q):N+Q,value:null})}),f.data.targets.length&&e.forEach(function(z){var nt,Q=[];for(nt=f.data.targets[0].values[0].index;nt<N;nt++)Q.push({id:z.id,index:nt,x:f.isTimeSeries()?f.getOtherTargetX(nt):nt,value:null});z.values.forEach(function(ut){ut.index+=N,f.isTimeSeries()||(ut.x+=N)}),z.values=Q.concat(z.values)}),f.data.targets=f.data.targets.concat(e),f.getMaxDataCount(),S=f.data.targets[0],L=S.values[0],E(o.to)?(M=0,H=f.isTimeSeries()?f.parseDate(o.to):o.to,S.values.forEach(function(z){z.x<H&&M++})):E(o.length)&&(M=o.length),d?d===1&&f.isTimeSeries()&&(O=(S.values[S.values.length-1].x-L.x)/2,m=[new Date(+L.x-O),new Date(+L.x+O)],f.updateXDomain(null,!0,!0,!1,m)):(f.isTimeSeries()?S.values.length>1?O=S.values[S.values.length-1].x-L.x:O=L.x-f.getXDomain(f.data.targets)[0]:O=1,m=[L.x-O,L.x],f.updateXDomain(null,!0,!0,!1,m)),f.updateTargets(f.data.targets),f.redraw({flow:{index:L.index,length:M,duration:Y(o.duration)?o.duration:f.config.transition_duration,done:o.done,orgDataCount:d},withLegend:!0,withTransition:d>1,withTrimXDomain:!1,withUpdateXAxis:!0})},t.prototype.generateFlow=function(o){var f=this,e=f.config,i=f.d3;return function(){var u=o.targets,d=o.flow,m=o.drawBar,S=o.drawLine,L=o.drawArea,M=o.cx,N=o.cy,O=o.xv,H=o.xForText,z=o.yForText,nt=o.duration,Q,ut=1,ct,St=d.index,Ct=d.length,It=f.getValueOnIndex(f.data.targets[0].values,St),Dt=f.getValueOnIndex(f.data.targets[0].values,St+Ct),Wt=f.x.domain(),Ft,Ht=d.duration||nt,Nt=d.done||function(){},Yt=f.generateWait(),kt,Gt,zt,Xt,de,Pe,we,Ae;f.flowing=!0,f.data.targets.forEach(function(Et){Et.values.splice(0,Ct)}),Ft=f.updateXDomain(u,!0,!0),f.updateXGrid&&f.updateXGrid(!0),kt=f.xgrid||i.selectAll([]),Gt=f.xgridLines||i.selectAll([]),zt=f.mainRegion||i.selectAll([]),Xt=f.mainText||i.selectAll([]),de=f.mainBar||i.selectAll([]),Pe=f.mainLine||i.selectAll([]),we=f.mainArea||i.selectAll([]),Ae=f.mainCircle||i.selectAll([]),d.orgDataCount?d.orgDataCount===1||(It&&It.x)===(Dt&&Dt.x)||f.isTimeSeries()?Q=f.x(Wt[0])-f.x(Ft[0]):Q=f.x(It.x)-f.x(Dt.x):f.data.targets[0].values.length!==1?Q=f.x(Wt[0])-f.x(Ft[0]):f.isTimeSeries()?(It=f.getValueOnIndex(f.data.targets[0].values,0),Dt=f.getValueOnIndex(f.data.targets[0].values,f.data.targets[0].values.length-1),Q=f.x(It.x)-f.x(Dt.x)):Q=g(Ft)/2,ut=g(Wt)/g(Ft),ct="translate("+Q+",0) scale("+ut+",1)",f.hideXGridFocus();var se=i.transition().ease(i.easeLinear).duration(Ht);Yt.add(f.xAxis(f.axes.x,se)),Yt.add(de.transition(se).attr("transform",ct)),Yt.add(Pe.transition(se).attr("transform",ct)),Yt.add(we.transition(se).attr("transform",ct)),Yt.add(Ae.transition(se).attr("transform",ct)),Yt.add(Xt.transition(se).attr("transform",ct)),Yt.add(zt.filter(f.isRegionOnX).transition(se).attr("transform",ct)),Yt.add(kt.transition(se).attr("transform",ct)),Yt.add(Gt.transition(se).attr("transform",ct)),Yt(function(){var Et,Bt=[],Vt=[];if(Ct){for(Et=0;Et<Ct;Et++)Bt.push("."+W.shape+"-"+(St+Et)),Vt.push("."+W.text+"-"+(St+Et));f.svg.selectAll("."+W.shapes).selectAll(Bt).remove(),f.svg.selectAll("."+W.texts).selectAll(Vt).remove(),f.svg.select("."+W.xgrid).remove()}kt.attr("transform",null).attr("x1",f.xgridAttr.x1).attr("x2",f.xgridAttr.x2).attr("y1",f.xgridAttr.y1).attr("y2",f.xgridAttr.y2).style("opacity",f.xgridAttr.opacity),Gt.attr("transform",null),Gt.select("line").attr("x1",e.axis_rotated?0:O).attr("x2",e.axis_rotated?f.width:O),Gt.select("text").attr("x",e.axis_rotated?f.width:0).attr("y",O),de.attr("transform",null).attr("d",m),Pe.attr("transform",null).attr("d",S),we.attr("transform",null).attr("d",L),Ae.attr("transform",null).attr("cx",M).attr("cy",N),Xt.attr("transform",null).attr("x",H).attr("y",z).style("fill-opacity",f.opacityForText.bind(f)),zt.attr("transform",null),zt.filter(f.isRegionOnX).attr("x",f.regionX.bind(f)).attr("width",f.regionWidth.bind(f)),Nt(),f.flowing=!1})}},r.prototype.focus=function(o){var f=this.internal,e;o=f.mapToTargetIds(o),e=f.svg.selectAll(f.selectorTargets(o.filter(f.isTargetToShow,f))),this.revert(),this.defocus(),e.classed(W.focused,!0).classed(W.defocused,!1),f.hasArcType()&&f.expandArc(o),f.toggleFocusLegend(o,!0),f.focusedTargetIds=o,f.defocusedTargetIds=f.defocusedTargetIds.filter(function(i){return o.indexOf(i)<0})},r.prototype.defocus=function(o){var f=this.internal,e;o=f.mapToTargetIds(o),e=f.svg.selectAll(f.selectorTargets(o.filter(f.isTargetToShow,f))),e.classed(W.focused,!1).classed(W.defocused,!0),f.hasArcType()&&f.unexpandArc(o),f.toggleFocusLegend(o,!1),f.focusedTargetIds=f.focusedTargetIds.filter(function(i){return o.indexOf(i)<0}),f.defocusedTargetIds=o},r.prototype.revert=function(o){var f=this.internal,e;o=f.mapToTargetIds(o),e=f.svg.selectAll(f.selectorTargets(o)),e.classed(W.focused,!1).classed(W.defocused,!1),f.hasArcType()&&f.unexpandArc(o),f.config.legend_show&&(f.showLegend(o.filter(f.isLegendToShow.bind(f))),f.legend.selectAll(f.selectorLegends(o)).filter(function(){return f.d3.select(this).classed(W.legendItemFocused)}).classed(W.legendItemFocused,!1)),f.focusedTargetIds=[],f.defocusedTargetIds=[]},r.prototype.xgrids=function(o){var f=this.internal,e=f.config;return o&&(e.grid_x_lines=o,f.redrawWithoutRescale()),e.grid_x_lines},r.prototype.xgrids.add=function(o){var f=this.internal;return this.xgrids(f.config.grid_x_lines.concat(o||[]))},r.prototype.xgrids.remove=function(o){var f=this.internal;f.removeGridLines(o,!0)},r.prototype.ygrids=function(o){var f=this.internal,e=f.config;return o&&(e.grid_y_lines=o,f.redrawWithoutRescale()),e.grid_y_lines},r.prototype.ygrids.add=function(o){var f=this.internal;return this.ygrids(f.config.grid_y_lines.concat(o||[]))},r.prototype.ygrids.remove=function(o){var f=this.internal;f.removeGridLines(o,!1)},r.prototype.groups=function(o){var f=this.internal,e=f.config;return B(o)||(e.data_groups=o,f.redraw()),e.data_groups},r.prototype.legend=function(){},r.prototype.legend.show=function(o){var f=this.internal;f.showLegend(f.mapToTargetIds(o)),f.updateAndRedraw({withLegend:!0})},r.prototype.legend.hide=function(o){var f=this.internal;f.hideLegend(f.mapToTargetIds(o)),f.updateAndRedraw({withLegend:!1})},r.prototype.load=function(o){var f=this.internal,e=f.config;if(o.xs&&f.addXs(o.xs),"names"in o&&r.prototype.data.names.bind(this)(o.names),"classes"in o&&Object.keys(o.classes).forEach(function(i){e.data_classes[i]=o.classes[i]}),"categories"in o&&f.isCategorized()&&(e.axis_x_categories=o.categories),"axes"in o&&Object.keys(o.axes).forEach(function(i){e.data_axes[i]=o.axes[i]}),"colors"in o&&Object.keys(o.colors).forEach(function(i){e.data_colors[i]=o.colors[i]}),"cacheIds"in o&&f.hasCaches(o.cacheIds)){f.load(f.getCaches(o.cacheIds),o.done);return}o.unload?f.unload(f.mapToTargetIds(o.unload===!0?null:o.unload),function(){f.loadFromArgs(o)}):f.loadFromArgs(o)},r.prototype.unload=function(o){var f=this.internal;o=o||{},o instanceof Array?o={ids:o}:typeof o=="string"&&(o={ids:[o]}),f.unload(f.mapToTargetIds(o.ids),function(){f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),o.done&&o.done()})},r.prototype.pie=function(){},r.prototype.pie.padAngle=function(o){if(o===void 0)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=o,this.flush()},r.prototype.regions=function(o){var f=this.internal,e=f.config;return o&&(e.regions=o,f.redrawWithoutRescale()),e.regions},r.prototype.regions.add=function(o){var f=this.internal,e=f.config;return o&&(e.regions=e.regions.concat(o),f.redrawWithoutRescale()),e.regions},r.prototype.regions.remove=function(o){var f=this.internal,e=f.config,i,u,d;return o=o||{},i=y(o,"duration",e.transition_duration),u=y(o,"classes",[W.region]),d=f.main.select("."+W.regions).selectAll(u.map(function(m){return"."+m})),(i?d.transition().duration(i):d).style("opacity",0).remove(),e.regions=e.regions.filter(function(m){var S=!1;return m.class?(m.class.split(" ").forEach(function(L){u.indexOf(L)>=0&&(S=!0)}),!S):!0}),e.regions},r.prototype.selected=function(o){var f=this.internal,e=f.d3;return f.main.selectAll("."+W.shapes+f.getTargetSelectorSuffix(o)).selectAll("."+W.shape).filter(function(){return e.select(this).classed(W.SELECTED)}).nodes().map(function(i){var u=i.__data__;return u.data?u.data:u})},r.prototype.select=function(o,f,e){var i=this.internal,u=i.d3,d=i.config;d.data_selection_enabled&&i.main.selectAll("."+W.shapes).selectAll("."+W.shape).each(function(m,S){var L=u.select(this),M=m.data?m.data.id:m.id,N=i.getToggle(this,m).bind(i),O=d.data_selection_grouped||!o||o.indexOf(M)>=0,H=!f||f.indexOf(S)>=0,z=L.classed(W.SELECTED);L.classed(W.line)||L.classed(W.area)||(O&&H?d.data_selection_isselectable(m)&&!z&&N(!0,L.classed(W.SELECTED,!0),m,S):E(e)&&e&&z&&N(!1,L.classed(W.SELECTED,!1),m,S))})},r.prototype.unselect=function(o,f){var e=this.internal,i=e.d3,u=e.config;u.data_selection_enabled&&e.main.selectAll("."+W.shapes).selectAll("."+W.shape).each(function(d,m){var S=i.select(this),L=d.data?d.data.id:d.id,M=e.getToggle(this,d).bind(e),N=u.data_selection_grouped||!o||o.indexOf(L)>=0,O=!f||f.indexOf(m)>=0,H=S.classed(W.SELECTED);S.classed(W.line)||S.classed(W.area)||N&&O&&u.data_selection_isselectable(d)&&H&&M(!1,S.classed(W.SELECTED,!1),d,m)})},r.prototype.show=function(o,f){var e=this.internal,i;o=e.mapToTargetIds(o),f=f||{},e.removeHiddenTargetIds(o),i=e.svg.selectAll(e.selectorTargets(o)),i.transition().style("display",gt()?"block":"initial","important").style("opacity",1,"important").call(e.endall,function(){i.style("opacity",null).style("opacity",1)}),f.withLegend&&e.showLegend(o),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.prototype.hide=function(o,f){var e=this.internal,i;o=e.mapToTargetIds(o),f=f||{},e.addHiddenTargetIds(o),i=e.svg.selectAll(e.selectorTargets(o)),i.transition().style("opacity",0,"important").call(e.endall,function(){i.style("opacity",null).style("opacity",0),i.style("display","none")}),f.withLegend&&e.hideLegend(o),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.prototype.toggle=function(o,f){var e=this,i=this.internal;i.mapToTargetIds(o).forEach(function(u){i.isTargetToShow(u)?e.hide(u,f):e.show(u,f)})},r.prototype.subchart=function(){},r.prototype.subchart.isShown=function(){var o=this.internal;return o.config.subchart_show},r.prototype.subchart.show=function(){var o=this.internal;o.config.subchart_show||(o.config.subchart_show=!0,o.initSubchart(),o.updateDimension(),o.initSubchartBrush(),o.updateTargetsForSubchart(o.getTargets()),o.mapToIds(o.data.targets).forEach(function(f){o.withoutFadeIn[f]=!1}),o.updateAndRedraw(),o.showTargets())},r.prototype.subchart.hide=function(){var o=this.internal;o.config.subchart_show&&(o.config.subchart_show=!1,o.removeSubchart(),o.redraw())},r.prototype.tooltip=function(){},r.prototype.tooltip.show=function(o){var f=this.internal,e,i,u={};o.mouse?u=o.mouse:(o.data?i=o.data:typeof o.x<"u"&&(o.id?e=f.data.targets.filter(function(d){return d.id===o.id}):e=f.data.targets,i=f.filterByX(e,o.x).slice(0,1)[0]),u=i?f.getMousePosition(i):null),f.dispatchEvent("mousemove",u),f.config.tooltip_onshow.call(f,i)},r.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},r.prototype.transform=function(o,f){var e=this.internal,i=["pie","donut"].indexOf(o)>=0?{withTransform:!0}:null;e.transformTo(f,o,i)},t.prototype.transformTo=function(o,f,e){var i=this,u=!i.hasArcType(),d=e||{withTransitionForAxis:u};d.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(o,f),i.updateTargets(i.data.targets),i.updateAndRedraw(d)},r.prototype.x=function(o){var f=this.internal;return arguments.length&&(f.updateTargetX(f.data.targets,o),f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),f.data.xs},r.prototype.xs=function(o){var f=this.internal;return arguments.length&&(f.updateTargetXs(f.data.targets,o),f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),f.data.xs},r.prototype.zoom=function(o){var f=this.internal;return o?(f.isTimeSeries()&&(o=o.map(function(e){return f.parseDate(e)})),f.config.subchart_show?f.brush.selectionAsValue(o,!0):(f.updateXDomain(null,!0,!1,!1,o),f.redraw({withY:f.config.zoom_rescale,withSubchart:!1})),f.config.zoom_onzoom.call(this,f.x.orgDomain()),o):f.x.domain()},r.prototype.zoom.enable=function(o){var f=this.internal;f.config.zoom_enabled=o,f.updateAndRedraw()},r.prototype.unzoom=function(){var o=this.internal;o.config.subchart_show?o.brush.clear():(o.updateXDomain(null,!0,!1,!1,o.subX.domain()),o.redraw({withY:o.config.zoom_rescale,withSubchart:!1}))},r.prototype.zoom.max=function(o){var f=this.internal,e=f.config,i=f.d3;if(o===0||o)e.zoom_x_max=i.max([f.orgXDomain[1],o]);else return e.zoom_x_max},r.prototype.zoom.min=function(o){var f=this.internal,e=f.config,i=f.d3;if(o===0||o)e.zoom_x_min=i.min([f.orgXDomain[0],o]);else return e.zoom_x_min},r.prototype.zoom.range=function(o){if(arguments.length)E(o.max)&&this.domain.max(o.max),E(o.min)&&this.domain.min(o.min);else return{max:this.domain.max(),min:this.domain.min()}},t.prototype.initPie=function(){var o=this,f=o.d3;o.pie=f.pie().padAngle(this.getPadAngle.bind(this)).value(function(u){return u.values.reduce(function(d,m){return d+m.value},0)});var e=o.getOrderFunction();if(e&&(o.isOrderAsc()||o.isOrderDesc())){var i=e;e=function(u,d){return i(u,d)*-1}}o.pie.sort(e||null)},t.prototype.updateRadius=function(){var o=this,f=o.config,e=f.gauge_width||f.donut_width,i=o.filterTargetsToShow(o.data.targets).length*o.config.gauge_arcs_minWidth;o.radiusExpanded=Math.min(o.arcWidth,o.arcHeight)/2*(o.hasType("gauge")?.85:1),o.radius=o.radiusExpanded*.95,o.innerRadiusRatio=e?(o.radius-e)/o.radius:.6,o.innerRadius=o.hasType("donut")||o.hasType("gauge")?o.radius*o.innerRadiusRatio:0,o.gaugeArcWidth=e||(i<=o.radius-o.innerRadius?o.radius-o.innerRadius:i<=o.radius?i:o.radius)},t.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},t.prototype.updateArc=function(){var o=this;o.svgArc=o.getSvgArc(),o.svgArcExpanded=o.getSvgArcExpanded(),o.svgArcExpandedSub=o.getSvgArcExpanded(.98)},t.prototype.updateAngle=function(o){var f=this,e=f.config,i=!1,u=0,d,m,S,L;return e?(f.pie(f.filterTargetsToShow(f.data.targets)).forEach(function(M){!i&&M.data.id===o.data.id&&(i=!0,o=M,o.index=u),u++}),isNaN(o.startAngle)&&(o.startAngle=0),isNaN(o.endAngle)&&(o.endAngle=o.startAngle),f.isGaugeType(o.data)&&(d=e.gauge_min,m=e.gauge_max,S=Math.PI*(e.gauge_fullCircle?2:1)/(m-d),L=o.value<d?0:o.value<m?o.value-d:m-d,o.startAngle=e.gauge_startingAngle,o.endAngle=o.startAngle+S*L),i?o:null):null},t.prototype.getSvgArc=function(){var o=this,f=o.hasType("gauge"),e=o.gaugeArcWidth/o.filterTargetsToShow(o.data.targets).length,i=o.d3.arc().outerRadius(function(d){return f?o.radius-e*d.index:o.radius}).innerRadius(function(d){return f?o.radius-e*(d.index+1):o.innerRadius}),u=function(d,m){var S;return m?i(d):(S=o.updateAngle(d),S?i(S):"M 0 0")};return u.centroid=i.centroid,u},t.prototype.getSvgArcExpanded=function(o){o=o||1;var f=this,e=f.hasType("gauge"),i=f.gaugeArcWidth/f.filterTargetsToShow(f.data.targets).length,u=Math.min(f.radiusExpanded*o-f.radius,i*.8-(1-o)*100),d=f.d3.arc().outerRadius(function(m){return e?f.radius-i*m.index+u:f.radiusExpanded*o}).innerRadius(function(m){return e?f.radius-i*(m.index+1):f.innerRadius});return function(m){var S=f.updateAngle(m);return S?d(S):"M 0 0"}},t.prototype.getArc=function(o,f,e){return e||this.isArcType(o.data)?this.svgArc(o,f):"M 0 0"},t.prototype.transformForArcLabel=function(o){var f=this,e=f.config,i=f.updateAngle(o),u,d,m,S,L,M="",N=f.hasType("gauge");if(i&&!N)u=this.svgArc.centroid(i),d=isNaN(u[0])?0:u[0],m=isNaN(u[1])?0:u[1],S=Math.sqrt(d*d+m*m),f.hasType("donut")&&e.donut_label_ratio?L=$(e.donut_label_ratio)?e.donut_label_ratio(o,f.radius,S):e.donut_label_ratio:f.hasType("pie")&&e.pie_label_ratio?L=$(e.pie_label_ratio)?e.pie_label_ratio(o,f.radius,S):e.pie_label_ratio:L=f.radius&&S?(36/f.radius>.375?1.175-36/f.radius:.8)*f.radius/S:0,M="translate("+d*L+","+m*L+")";else if(i&&N&&f.filterTargetsToShow(f.data.targets).length>1){var O=Math.sin(i.endAngle-Math.PI/2);d=Math.cos(i.endAngle-Math.PI/2)*(f.radiusExpanded+25),m=O*(f.radiusExpanded+15-Math.abs(O*10))+3,M="translate("+d+","+m+")"}return M},t.prototype.getArcRatio=function(o){return this.getRatio("arc",o)},t.prototype.convertToArcData=function(o){return this.addName({id:o.data.id,value:o.value,ratio:this.getRatio("arc",o),index:o.index})},t.prototype.textForArcLabel=function(o){var f=this,e,i,u,d,m;return!f.shouldShowArcLabel()||(e=f.updateAngle(o),i=e?e.value:null,u=f.getRatio("arc",e),d=o.data.id,!f.hasType("gauge")&&!f.meetsArcLabelThreshold(u))?"":(m=f.getArcLabelFormat(),m?m(i,u,d):f.defaultArcValueFormat(i,u))},t.prototype.textForGaugeMinMax=function(o,f){var e=this,i=e.getGaugeLabelExtents();return i?i(o,f):o},t.prototype.expandArc=function(o){var f=this,e;if(f.transiting){e=window.setInterval(function(){f.transiting||(window.clearInterval(e),f.legend.selectAll(".c3-legend-item-focused").size()>0&&f.expandArc(o))},10);return}o=f.mapToTargetIds(o),f.svg.selectAll(f.selectorTargets(o,"."+W.chartArc)).each(function(i){f.shouldExpand(i.data.id)&&f.d3.select(this).selectAll("path").transition().duration(f.expandDuration(i.data.id)).attr("d",f.svgArcExpanded).transition().duration(f.expandDuration(i.data.id)*2).attr("d",f.svgArcExpandedSub).each(function(u){f.isDonutType(u.data)})})},t.prototype.unexpandArc=function(o){var f=this;f.transiting||(o=f.mapToTargetIds(o),f.svg.selectAll(f.selectorTargets(o,"."+W.chartArc)).selectAll("path").transition().duration(function(e){return f.expandDuration(e.data.id)}).attr("d",f.svgArc),f.svg.selectAll("."+W.arc))},t.prototype.expandDuration=function(o){var f=this,e=f.config;return f.isDonutType(o)?e.donut_expand_duration:f.isGaugeType(o)?e.gauge_expand_duration:f.isPieType(o)?e.pie_expand_duration:50},t.prototype.shouldExpand=function(o){var f=this,e=f.config;return f.isDonutType(o)&&e.donut_expand||f.isGaugeType(o)&&e.gauge_expand||f.isPieType(o)&&e.pie_expand},t.prototype.shouldShowArcLabel=function(){var o=this,f=o.config,e=!0;return o.hasType("donut")?e=f.donut_label_show:o.hasType("pie")&&(e=f.pie_label_show),e},t.prototype.meetsArcLabelThreshold=function(o){var f=this,e=f.config,i=f.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold;return o>=i},t.prototype.getArcLabelFormat=function(){var o=this,f=o.config,e=f.pie_label_format;return o.hasType("gauge")?e=f.gauge_label_format:o.hasType("donut")&&(e=f.donut_label_format),e},t.prototype.getGaugeLabelExtents=function(){var o=this,f=o.config;return f.gauge_label_extents},t.prototype.getArcTitle=function(){var o=this;return o.hasType("donut")?o.config.donut_title:""},t.prototype.updateTargetsForArc=function(o){var f=this,e=f.main,i,u,d=f.classChartArc.bind(f),m=f.classArcs.bind(f),S=f.classFocus.bind(f);i=e.select("."+W.chartArcs).selectAll("."+W.chartArc).data(f.pie(o)).attr("class",function(L){return d(L)+S(L.data)}),u=i.enter().append("g").attr("class",d),u.append("g").attr("class",m),u.append("text").attr("dy",f.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},t.prototype.initArc=function(){var o=this;o.arcs=o.main.select("."+W.chart).append("g").attr("class",W.chartArcs).attr("transform",o.getTranslate("arc")),o.arcs.append("text").attr("class",W.chartArcsTitle).style("text-anchor","middle").text(o.getArcTitle())},t.prototype.redrawArc=function(o,f,e){var i=this,u=i.d3,d=i.config,m=i.main,S,L,M,N,O=i.hasType("gauge");if(S=m.selectAll("."+W.arcs).selectAll("."+W.arc).data(i.arcData.bind(i)),L=S.enter().append("path").attr("class",i.classArc.bind(i)).style("fill",function(nt){return i.color(nt.data)}).style("cursor",function(nt){return d.interaction_enabled&&d.data_selection_isselectable(nt)?"pointer":null}).each(function(nt){i.isGaugeType(nt.data)&&(nt.startAngle=nt.endAngle=d.gauge_startingAngle),this._current=nt}).merge(S),O&&(M=m.selectAll("."+W.arcs).selectAll("."+W.arcLabelLine).data(i.arcData.bind(i)),N=M.enter().append("rect").attr("class",function(nt){return W.arcLabelLine+" "+W.target+" "+W.target+"-"+nt.data.id}).merge(M),i.filterTargetsToShow(i.data.targets).length===1?N.style("display","none"):N.style("fill",function(nt){return i.levelColor?i.levelColor(nt.data.values.reduce(function(Q,ut){return Q+ut.value},0)):i.color(nt.data)}).style("display",d.gauge_labelLine_show?"":"none").each(function(nt){var Q=0,ut=2,ct=0,St=0,Ct="";if(i.hiddenTargetIds.indexOf(nt.data.id)<0){var It=i.updateAngle(nt),Dt=i.gaugeArcWidth/i.filterTargetsToShow(i.data.targets).length*(It.index+1),Wt=It.endAngle-Math.PI/2,Ft=i.radius-Dt,Ht=Wt-(Ft===0?0:1/Ft);Q=i.radiusExpanded-i.radius+Dt,ct=Math.cos(Ht)*Ft,St=Math.sin(Ht)*Ft,Ct="rotate("+Wt*180/Math.PI+", "+ct+", "+St+")"}u.select(this).attr("x",ct).attr("y",St).attr("width",Q).attr("height",ut).attr("transform",Ct).style("stroke-dasharray","0, "+(Q+ut)+", 0")})),L.attr("transform",function(nt){return!i.isGaugeType(nt.data)&&e?"scale(0)":""}).on("mouseover",d.interaction_enabled?function(nt){var Q,ut;i.transiting||(Q=i.updateAngle(nt),Q&&(ut=i.convertToArcData(Q),i.expandArc(Q.data.id),i.api.focus(Q.data.id),i.toggleFocusLegend(Q.data.id,!0),i.config.data_onmouseover(ut,this)))}:null).on("mousemove",d.interaction_enabled?function(nt){var Q=i.updateAngle(nt),ut,ct;Q&&(ut=i.convertToArcData(Q),ct=[ut],i.showTooltip(ct,this))}:null).on("mouseout",d.interaction_enabled?function(nt){var Q,ut;i.transiting||(Q=i.updateAngle(nt),Q&&(ut=i.convertToArcData(Q),i.unexpandArc(Q.data.id),i.api.revert(),i.revertLegend(),i.hideTooltip(),i.config.data_onmouseout(ut,this)))}:null).on("click",d.interaction_enabled?function(nt,Q){var ut=i.updateAngle(nt),ct;ut&&(ct=i.convertToArcData(ut),i.toggleShape&&i.toggleShape(this,ct,Q),i.config.data_onclick.call(i.api,ct,this))}:null).each(function(){i.transiting=!0}).transition().duration(o).attrTween("d",function(nt){var Q=i.updateAngle(nt),ut;return Q?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),ut=u.interpolate(this._current,Q),this._current=ut(0),function(ct){if(i.config===null)return"M 0 0";var St=ut(ct);return St.data=nt.data,i.getArc(St,!0)}):function(){return"M 0 0"}}).attr("transform",e?"scale(1)":"").style("fill",function(nt){return i.levelColor?i.levelColor(nt.data.values.reduce(function(Q,ut){return Q+ut.value},0)):i.color(nt.data.id)}).call(i.endall,function(){i.transiting=!1}),S.exit().transition().duration(f).style("opacity",0).remove(),m.selectAll("."+W.chartArc).select("text").style("opacity",0).attr("class",function(nt){return i.isGaugeType(nt.data)?W.gaugeValue:""}).text(i.textForArcLabel.bind(i)).attr("transform",i.transformForArcLabel.bind(i)).style("font-size",function(nt){return i.isGaugeType(nt.data)&&i.filterTargetsToShow(i.data.targets).length===1?Math.round(i.radius/5)+"px":""}).transition().duration(o).style("opacity",function(nt){return i.isTargetToShow(nt.data.id)&&i.isArcType(nt.data)?1:0}),m.select("."+W.chartArcsTitle).style("opacity",i.hasType("donut")||O?1:0),O){var H=0,z=i.arcs.select("g."+W.chartArcsBackground).selectAll("path."+W.chartArcsBackground).data(i.data.targets);z.enter().append("path").attr("class",function(nt,Q){return W.chartArcsBackground+" "+W.chartArcsBackground+"-"+Q}).merge(z).attr("d",function(nt){if(i.hiddenTargetIds.indexOf(nt.id)>=0)return"M 0 0";var Q={data:[{value:d.gauge_max}],startAngle:d.gauge_startingAngle,endAngle:-1*d.gauge_startingAngle*(d.gauge_fullCircle?Math.PI:1),index:H++};return i.getArc(Q,!0,!0)}),z.exit().remove(),i.arcs.select("."+W.chartArcsGaugeUnit).attr("dy",".75em").text(d.gauge_label_show?d.gauge_units:""),i.arcs.select("."+W.chartArcsGaugeMin).attr("dx",-1*(i.innerRadius+(i.radius-i.innerRadius)/(d.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(d.gauge_label_show?i.textForGaugeMinMax(d.gauge_min,!1):""),i.arcs.select("."+W.chartArcsGaugeMax).attr("dx",i.innerRadius+(i.radius-i.innerRadius)/(d.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(d.gauge_label_show?i.textForGaugeMinMax(d.gauge_max,!0):"")}},t.prototype.initGauge=function(){var o=this.arcs;this.hasType("gauge")&&(o.append("g").attr("class",W.chartArcsBackground),o.append("text").attr("class",W.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),o.append("text").attr("class",W.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),o.append("text").attr("class",W.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},t.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},t.prototype.addToCache=function(o,f){this.cache["$"+o]=f},t.prototype.getFromCache=function(o){return this.cache["$"+o]},t.prototype.resetCache=function(){var o=this;Object.keys(this.cache).filter(function(f){return/^\$/.test(f)}).forEach(function(f){delete o.cache[f]})},t.prototype.hasCaches=function(o){for(var f=0;f<o.length;f++)if(!(o[f]in this.cache))return!1;return!0},t.prototype.addCache=function(o,f){this.cache[o]=this.cloneTarget(f)},t.prototype.getCaches=function(o){var f=[],e;for(e=0;e<o.length;e++)o[e]in this.cache&&f.push(this.cloneTarget(this.cache[o[e]]));return f},t.prototype.categoryName=function(o){var f=this.config;return o<f.axis_x_categories.length?f.axis_x_categories[o]:o},t.prototype.generateTargetClass=function(o){return o||o===0?("-"+o).replace(/\s/g,"-"):""},t.prototype.generateClass=function(o,f){return" "+o+" "+o+this.generateTargetClass(f)},t.prototype.classText=function(o){return this.generateClass(W.text,o.index)},t.prototype.classTexts=function(o){return this.generateClass(W.texts,o.id)},t.prototype.classShape=function(o){return this.generateClass(W.shape,o.index)},t.prototype.classShapes=function(o){return this.generateClass(W.shapes,o.id)},t.prototype.classLine=function(o){return this.classShape(o)+this.generateClass(W.line,o.id)},t.prototype.classLines=function(o){return this.classShapes(o)+this.generateClass(W.lines,o.id)},t.prototype.classCircle=function(o){return this.classShape(o)+this.generateClass(W.circle,o.index)},t.prototype.classCircles=function(o){return this.classShapes(o)+this.generateClass(W.circles,o.id)},t.prototype.classBar=function(o){return this.classShape(o)+this.generateClass(W.bar,o.index)},t.prototype.classBars=function(o){return this.classShapes(o)+this.generateClass(W.bars,o.id)},t.prototype.classArc=function(o){return this.classShape(o.data)+this.generateClass(W.arc,o.data.id)},t.prototype.classArcs=function(o){return this.classShapes(o.data)+this.generateClass(W.arcs,o.data.id)},t.prototype.classArea=function(o){return this.classShape(o)+this.generateClass(W.area,o.id)},t.prototype.classAreas=function(o){return this.classShapes(o)+this.generateClass(W.areas,o.id)},t.prototype.classRegion=function(o,f){return this.generateClass(W.region,f)+" "+("class"in o?o.class:"")},t.prototype.classEvent=function(o){return this.generateClass(W.eventRect,o.index)},t.prototype.classTarget=function(o){var f=this,e=f.config.data_classes[o],i="";return e&&(i=" "+W.target+"-"+e),f.generateClass(W.target,o)+i},t.prototype.classFocus=function(o){return this.classFocused(o)+this.classDefocused(o)},t.prototype.classFocused=function(o){return" "+(this.focusedTargetIds.indexOf(o.id)>=0?W.focused:"")},t.prototype.classDefocused=function(o){return" "+(this.defocusedTargetIds.indexOf(o.id)>=0?W.defocused:"")},t.prototype.classChartText=function(o){return W.chartText+this.classTarget(o.id)},t.prototype.classChartLine=function(o){return W.chartLine+this.classTarget(o.id)},t.prototype.classChartBar=function(o){return W.chartBar+this.classTarget(o.id)},t.prototype.classChartArc=function(o){return W.chartArc+this.classTarget(o.data.id)},t.prototype.getTargetSelectorSuffix=function(o){var f=this.generateTargetClass(o);return window.CSS&&window.CSS.escape?window.CSS.escape(f):f.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},t.prototype.selectorTarget=function(o,f){return(f||"")+"."+W.target+this.getTargetSelectorSuffix(o)},t.prototype.selectorTargets=function(o,f){var e=this;return o=o||[],o.length?o.map(function(i){return e.selectorTarget(i,f)}):null},t.prototype.selectorLegend=function(o){return"."+W.legendItem+this.getTargetSelectorSuffix(o)},t.prototype.selectorLegends=function(o){var f=this;return o&&o.length?o.map(function(e){return f.selectorLegend(e)}):null},t.prototype.getClipPath=function(o){return"url("+(gt(9)?"":document.URL.split("#")[0])+"#"+o+")"},t.prototype.appendClip=function(o,f){return o.append("clipPath").attr("id",f).append("rect")},t.prototype.getAxisClipX=function(o){var f=Math.max(30,this.margin.left);return o?-(1+f):-(f-1)},t.prototype.getAxisClipY=function(o){return o?-20:-this.margin.top},t.prototype.getXAxisClipX=function(){var o=this;return o.getAxisClipX(!o.config.axis_rotated)},t.prototype.getXAxisClipY=function(){var o=this;return o.getAxisClipY(!o.config.axis_rotated)},t.prototype.getYAxisClipX=function(){var o=this;return o.config.axis_y_inner?-1:o.getAxisClipX(o.config.axis_rotated)},t.prototype.getYAxisClipY=function(){var o=this;return o.getAxisClipY(o.config.axis_rotated)},t.prototype.getAxisClipWidth=function(o){var f=this,e=Math.max(30,f.margin.left),i=Math.max(30,f.margin.right);return o?f.width+2+e+i:f.margin.left+20},t.prototype.getAxisClipHeight=function(o){return(o?this.margin.bottom:this.margin.top+this.height)+20},t.prototype.getXAxisClipWidth=function(){var o=this;return o.getAxisClipWidth(!o.config.axis_rotated)},t.prototype.getXAxisClipHeight=function(){var o=this;return o.getAxisClipHeight(!o.config.axis_rotated)},t.prototype.getYAxisClipWidth=function(){var o=this;return o.getAxisClipWidth(o.config.axis_rotated)+(o.config.axis_y_inner?20:0)},t.prototype.getYAxisClipHeight=function(){var o=this;return o.getAxisClipHeight(o.config.axis_rotated)},t.prototype.generateColor=function(){var o=this,f=o.config,e=o.d3,i=f.data_colors,u=Z(f.color_pattern)?f.color_pattern:e.schemeCategory10,d=f.data_color,m=[];return function(S){var L=S.id||S.data&&S.data.id||S,M;return i[L]instanceof Function?M=i[L](S):i[L]?M=i[L]:(m.indexOf(L)<0&&m.push(L),M=u[m.indexOf(L)%u.length],i[L]=M),d instanceof Function?d(M,S):M}},t.prototype.generateLevelColor=function(){var o=this,f=o.config,e=f.color_pattern,i=f.color_threshold,u=i.unit==="value",d=i.values&&i.values.length?i.values:[],m=i.max||100;return Z(i)&&Z(e)?function(S){var L,M,N=e[e.length-1];for(L=0;L<d.length;L++)if(M=u?S:S*100/m,M<d[L]){N=e[L];break}return N}:null},t.prototype.getDefaultConfig=function(){var o={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(f){return f},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(f,e,i,u){return this.getTooltipContent?this.getTooltipContent(f,e,i,u):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(f){o[f]=this.additionalConfig[f]},this),o},t.prototype.additionalConfig={},t.prototype.loadConfig=function(o){var f=this.config,e,i,u;function d(){var m=i.shift();return m&&e&&typeof e=="object"&&m in e?(e=e[m],d()):m?void 0:e}Object.keys(f).forEach(function(m){e=o,i=m.split("_"),u=d(),E(u)&&(f[m]=u)})},t.prototype.convertUrlToData=function(o,f,e,i,u){var d=this,m=f||"csv",S,L;m==="json"?(S=d.d3.json,L=d.convertJsonToData):m==="tsv"?(S=d.d3.tsv,L=d.convertXsvToData):(S=d.d3.csv,L=d.convertXsvToData),S(o,e).then(function(M){u.call(d,L.call(d,M,i))}).catch(function(M){throw M})},t.prototype.convertXsvToData=function(o){var f=o.columns,e=o;return e.length===0?{keys:f,rows:[f.reduce(function(i,u){var d;return Object.assign(i,(d={},d[u]=null,d))},{})]}:{keys:f,rows:[].concat(o)}},t.prototype.convertJsonToData=function(o,f){var e=this,i=[],u,d;return f?(f.x?(u=f.value.concat(f.x),e.config.data_x=f.x):u=f.value,i.push(u),o.forEach(function(m){var S=[];u.forEach(function(L){var M=e.findValueInJson(m,L);B(M)&&(M=null),S.push(M)}),i.push(S)}),d=e.convertRowsToData(i)):(Object.keys(o).forEach(function(m){i.push([m].concat(o[m]))}),d=e.convertColumnsToData(i)),d},t.prototype.findValueInJson=function(o,f){if(f in o)return o[f];f=f.replace(/\[(\w+)\]/g,".$1"),f=f.replace(/^\./,"");for(var e=f.split("."),i=0;i<e.length;++i){var u=e[i];if(u in o)o=o[u];else return}return o},t.prototype.convertRowsToData=function(o){for(var f=[],e=o[0],i=1;i<o.length;i++){for(var u={},d=0;d<o[i].length;d++){if(B(o[i][d]))throw new Error("Source data is missing a component at ("+i+","+d+")!");u[e[d]]=o[i][d]}f.push(u)}return{keys:e,rows:f}},t.prototype.convertColumnsToData=function(o){for(var f=[],e=[],i=0;i<o.length;i++){for(var u=o[i][0],d=1;d<o[i].length;d++){if(B(f[d-1])&&(f[d-1]={}),B(o[i][d]))throw new Error("Source data is missing a component at ("+i+","+d+")!");f[d-1][u]=o[i][d]}e.push(u)}return{keys:e,rows:f}},t.prototype.convertDataToTargets=function(o,f){var e=this,i=e.config,u,d,m,S,L;if(P(o)?S=Object.keys(o[0]):(S=o.keys,o=o.rows),m=S.filter(e.isX,e),!e.isStanfordGraphType())d=S.filter(e.isNotX,e);else if(L=S.filter(e.isEpochs,e),d=S.filter(e.isNotXAndNotEpochs,e),m.length!==1||L.length!==1||d.length!==1)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams");return d.forEach(function(M){var N=e.getXKey(M);e.isCustomX()||e.isTimeSeries()?m.indexOf(N)>=0?e.data.xs[M]=(f&&e.data.xs[M]?e.data.xs[M]:[]).concat(o.map(function(O){return O[N]}).filter(Y).map(function(O,H){return e.generateTargetX(O,M,H)})):i.data_x?e.data.xs[M]=e.getOtherTargetXs():Z(i.data_xs)&&(e.data.xs[M]=e.getXValuesOfXKey(N,e.data.targets)):e.data.xs[M]=o.map(function(O,H){return H})}),d.forEach(function(M){if(!e.data.xs[M])throw new Error('x is not defined for id = "'+M+'".')}),u=d.map(function(M,N){var O=i.data_idConverter(M);return{id:O,id_org:M,values:o.map(function(H,z){var nt=e.getXKey(M),Q=H[nt],ut=H[M]!==null&&!isNaN(H[M])?+H[M]:null,ct,St;return e.isCustomX()&&e.isCategorized()&&!B(Q)?(N===0&&z===0&&(i.axis_x_categories=[]),ct=i.axis_x_categories.indexOf(Q),ct===-1&&(ct=i.axis_x_categories.length,i.axis_x_categories.push(Q))):ct=e.generateTargetX(Q,M,z),(B(H[M])||e.data.xs[M].length<=z)&&(ct=void 0),St={x:ct,value:ut,id:O},e.isStanfordGraphType()&&(St.epochs=H[L]),St}).filter(function(H){return E(H.x)})}}),u.forEach(function(M){var N;i.data_xSort&&(M.values=M.values.sort(function(O,H){var z=O.x||O.x===0?O.x:1/0,nt=H.x||H.x===0?H.x:1/0;return z-nt})),N=0,M.values.forEach(function(O){O.index=N++}),e.data.xs[M.id].sort(function(O,H){return O-H})}),e.hasNegativeValue=e.hasNegativeValueInTargets(u),e.hasPositiveValue=e.hasPositiveValueInTargets(u),i.data_type&&e.setTargetType(e.mapToIds(u).filter(function(M){return!(M in i.data_types)}),i.data_type),u.forEach(function(M){e.addCache(M.id_org,M)}),u},t.prototype.isEpochs=function(o){var f=this,e=f.config;return e.data_epochs&&o===e.data_epochs},t.prototype.isX=function(o){var f=this,e=f.config;return e.data_x&&o===e.data_x||Z(e.data_xs)&&T(e.data_xs,o)},t.prototype.isNotX=function(o){return!this.isX(o)},t.prototype.isNotXAndNotEpochs=function(o){return!this.isX(o)&&!this.isEpochs(o)},t.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},t.prototype.isAxisNormalized=function(o){var f=this;return f.isStackNormalized()?f.data.targets.filter(function(e){return f.axis.getId(e.id)===o}).some(function(e){return f.isTargetNormalized(e.id)}):!1},t.prototype.isTargetNormalized=function(o){var f=this;return f.isStackNormalized()&&f.config.data_groups.some(function(e){return e.includes(o)})},t.prototype.getXKey=function(o){var f=this,e=f.config;return e.data_x?e.data_x:Z(e.data_xs)?e.data_xs[o]:null},t.prototype.getTotalPerIndex=function(o){var f=this;if(!f.isStackNormalized())return null;var e=f.getFromCache("getTotalPerIndex");if(e!==void 0)return e[o];var i={y:[],y2:[]};return f.data.targets.filter(function(u){return f.isTargetNormalized(u.id)}).filter(function(u){return f.isTargetToShow(u.id)}).forEach(function(u){var d=i[f.axis.getId(u.id)];u.values.forEach(function(m,S){d[S]||(d[S]=0),d[S]+=I(m.value)?m.value:0})}),f.addToCache("getTotalPerIndex",i),i[o]},t.prototype.getTotalDataSum=function(){var o=this,f=o.getFromCache("getTotalDataSum");if(f!==void 0)return f;var e=J(o.data.targets.filter(function(i){return o.isTargetToShow(i.id)}).map(function(i){return i.values})).map(function(i){return i.value}).reduce(function(i,u){return i+u},0);return o.addToCache("getTotalDataSum",e),e},t.prototype.getXValuesOfXKey=function(o,f){var e=this,i,u=f&&Z(f)?e.mapToIds(f):[];return u.forEach(function(d){e.getXKey(d)===o&&(i=e.data.xs[d])}),i},t.prototype.getXValue=function(o,f){var e=this;return o in e.data.xs&&e.data.xs[o]&&Y(e.data.xs[o][f])?e.data.xs[o][f]:f},t.prototype.getOtherTargetXs=function(){var o=this,f=Object.keys(o.data.xs);return f.length?o.data.xs[f[0]]:null},t.prototype.getOtherTargetX=function(o){var f=this.getOtherTargetXs();return f&&o<f.length?f[o]:null},t.prototype.addXs=function(o){var f=this;Object.keys(o).forEach(function(e){f.config.data_xs[e]=o[e]})},t.prototype.addName=function(o){var f=this,e;return o&&(e=f.config.data_names[o.id],o.name=e!==void 0?e:o.id),o},t.prototype.getValueOnIndex=function(o,f){var e=o.filter(function(i){return i.index===f});return e.length?e[0]:null},t.prototype.updateTargetX=function(o,f){var e=this;o.forEach(function(i){i.values.forEach(function(u,d){u.x=e.generateTargetX(f[d],i.id,d)}),e.data.xs[i.id]=f})},t.prototype.updateTargetXs=function(o,f){var e=this;o.forEach(function(i){f[i.id]&&e.updateTargetX([i],f[i.id])})},t.prototype.generateTargetX=function(o,f,e){var i=this,u;return i.isTimeSeries()?u=o?i.parseDate(o):i.parseDate(i.getXValue(f,e)):i.isCustomX()&&!i.isCategorized()?u=Y(o)?+o:i.getXValue(f,e):u=e,u},t.prototype.cloneTarget=function(o){return{id:o.id,id_org:o.id_org,values:o.values.map(function(f){return{x:f.x,value:f.value,id:f.id}})}},t.prototype.getMaxDataCount=function(){var o=this;return o.d3.max(o.data.targets,function(f){return f.values.length})},t.prototype.mapToIds=function(o){return o.map(function(f){return f.id})},t.prototype.mapToTargetIds=function(o){var f=this;return o?[].concat(o):f.mapToIds(f.data.targets)},t.prototype.hasTarget=function(o,f){var e=this.mapToIds(o),i;for(i=0;i<e.length;i++)if(e[i]===f)return!0;return!1},t.prototype.isTargetToShow=function(o){return this.hiddenTargetIds.indexOf(o)<0},t.prototype.isLegendToShow=function(o){return this.hiddenLegendIds.indexOf(o)<0},t.prototype.getTargetsToShow=function(){var o=this;return o.filterTargetsToShow(o.data.targets)},t.prototype.filterTargetsToShow=function(o){var f=this;return o.filter(function(e){return f.isTargetToShow(e.id)})},t.prototype.getTargets=function(){var o=this;return o.data.targets},t.prototype.mapTargetsToUniqueXs=function(o){var f=this,e=f.d3.set(f.d3.merge(o.map(function(i){return i.values.map(function(u){return+u.x})}))).values();return e=f.isTimeSeries()?e.map(function(i){return new Date(+i)}):e.map(function(i){return+i}),e.sort(function(i,u){return i<u?-1:i>u?1:i>=u?0:NaN})},t.prototype.addHiddenTargetIds=function(o){o=o instanceof Array?o:new Array(o);for(var f=0;f<o.length;f++)this.hiddenTargetIds.indexOf(o[f])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(o[f]));this.resetCache()},t.prototype.removeHiddenTargetIds=function(o){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(f){return o.indexOf(f)<0}),this.resetCache()},t.prototype.addHiddenLegendIds=function(o){o=o instanceof Array?o:new Array(o);for(var f=0;f<o.length;f++)this.hiddenLegendIds.indexOf(o[f])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(o[f]))},t.prototype.removeHiddenLegendIds=function(o){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(f){return o.indexOf(f)<0})},t.prototype.getValuesAsIdKeyed=function(o){var f={};return o.forEach(function(e){f[e.id]=[],e.values.forEach(function(i){f[e.id].push(i.value)})}),f},t.prototype.checkValueInTargets=function(o,f){var e=Object.keys(o),i,u,d;for(i=0;i<e.length;i++)for(d=o[e[i]].values,u=0;u<d.length;u++)if(f(d[u].value))return!0;return!1},t.prototype.hasNegativeValueInTargets=function(o){return this.checkValueInTargets(o,function(f){return f<0})},t.prototype.hasPositiveValueInTargets=function(o){return this.checkValueInTargets(o,function(f){return f>0})},t.prototype.isOrderDesc=function(){var o=this.config;return typeof o.data_order=="string"&&o.data_order.toLowerCase()==="desc"},t.prototype.isOrderAsc=function(){var o=this.config;return typeof o.data_order=="string"&&o.data_order.toLowerCase()==="asc"},t.prototype.getOrderFunction=function(){var o=this,f=o.config,e=o.isOrderAsc(),i=o.isOrderDesc();if(e||i){var u=function(m,S){return m+Math.abs(S.value)};return function(m,S){var L=m.values.reduce(u,0),M=S.values.reduce(u,0);return e?M-L:L-M}}else{if($(f.data_order))return f.data_order;if(P(f.data_order)){var d=f.data_order;return function(m,S){return d.indexOf(m.id)-d.indexOf(S.id)}}}},t.prototype.orderTargets=function(o){var f=this.getOrderFunction();return f&&o.sort(f),o},t.prototype.filterByIndex=function(o,f){return this.d3.merge(o.map(function(e){return e.values.filter(function(i){return i.index===f})}))},t.prototype.filterByX=function(o,f){return this.d3.merge(o.map(function(e){return e.values})).filter(function(e){return e.x-f===0})},t.prototype.filterRemoveNull=function(o){return o.filter(function(f){return Y(f.value)})},t.prototype.filterByXDomain=function(o,f){return o.map(function(e){return{id:e.id,id_org:e.id_org,values:e.values.filter(function(i){return f[0]<=i.x&&i.x<=f[1]})}})},t.prototype.hasDataLabel=function(){var o=this.config;return typeof o.data_labels=="boolean"&&o.data_labels?!0:!!(typeof o.data_labels=="object"&&Z(o.data_labels))},t.prototype.getDataLabelLength=function(o,f,e){var i=this,u=[0,0],d=1.3;return i.selectChart.select("svg").selectAll(".dummy").data([o,f]).enter().append("text").text(function(m){return i.dataLabelFormat(m.id)(m)}).each(function(m,S){u[S]=w(this)[e]*d}).remove(),u},t.prototype.isNoneArc=function(o){return this.hasTarget(this.data.targets,o.id)},t.prototype.isArc=function(o){return"data"in o&&this.hasTarget(this.data.targets,o.data.id)},t.prototype.findClosestFromTargets=function(o,f){var e=this,i=o.map(function(u){return e.findClosest(u.values,f,e.config.tooltip_horizontal?e.horizontalDistance.bind(e):e.dist.bind(e),e.config.point_sensitivity)}).filter(function(u){return u});if(i.length!==0)return i.length===1?i[0]:e.findClosest(i,f,e.dist.bind(e))},t.prototype.findClosestFromTargetsByX=function(o,f){var e,i;return o.forEach(function(u){u.values.forEach(function(d){var m=Math.abs(f-d.x);(i===void 0||m<i)&&(e=d,i=m)})}),e},t.prototype.findClosest=function(o,f,e,i){i===void 0&&(i=1/0);var u=this,d;return o.filter(function(m){return m&&u.isBarType(m.id)}).forEach(function(m){if(!d){var S=u.main.select("."+W.bars+u.getTargetSelectorSuffix(m.id)+" ."+W.bar+"-"+m.index).node();u.isWithinBar(f,S)&&(d=m)}}),o.filter(function(m){return m&&!u.isBarType(m.id)}).forEach(function(m){var S=e(m,f);S<i&&(i=S,d=m)}),d},t.prototype.dist=function(o,f){var e=this,i=e.config,u=i.axis_rotated?1:0,d=i.axis_rotated?0:1,m=e.circleY(o,o.index),S=e.x(o.x);return Math.sqrt(Math.pow(S-f[u],2)+Math.pow(m-f[d],2))},t.prototype.horizontalDistance=function(o,f){var e=this,i=e.config,u=i.axis_rotated?1:0,d=e.x(o.x);return Math.abs(d-f[u])},t.prototype.convertValuesToStep=function(o){var f=[].concat(o),e;if(!this.isCategorized())return o;for(e=o.length+1;0<e;e--)f[e]=f[e-1];return f[0]={x:f[0].x-1,value:f[0].value,id:f[0].id},f[o.length+1]={x:f[o.length].x+1,value:f[o.length].value,id:f[o.length].id},f},t.prototype.getRatio=function(o,f,e){e===void 0&&(e=!1);var i=this,u=i.api,d=0;if(f&&u.data.shown.call(u).length){if(d=f.ratio||f.value,o==="arc")if(i.hasType("gauge"))d=(f.endAngle-f.startAngle)/(Math.PI*(i.config.gauge_fullCircle?2:1));else{var m=i.getTotalDataSum();d=f.value/m}else if(o==="index"){var m=i.getTotalPerIndex(i.axis.getId(f.id));f.ratio=I(f.value)&&m&&m[f.index]>0?f.value/m[f.index]:0,d=f.ratio}}return e&&d?d*100:d},t.prototype.updateDataAttributes=function(o,f){var e=this,i=e.config,u=i["data_"+o];return typeof f>"u"||(Object.keys(f).forEach(function(d){u[d]=f[d]}),e.redraw({withLegend:!0})),u},t.prototype.load=function(o,f){var e=this;o&&(f.filter&&(o=o.filter(f.filter)),(f.type||f.types)&&o.forEach(function(i){var u=f.types&&f.types[i.id]?f.types[i.id]:f.type;e.setTargetType(i.id,u)}),e.data.targets.forEach(function(i){for(var u=0;u<o.length;u++)if(i.id===o[u].id){i.values=o[u].values,o.splice(u,1);break}}),e.data.targets=e.data.targets.concat(o)),e.updateTargets(e.data.targets),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),f.done&&f.done()},t.prototype.loadFromArgs=function(o){var f=this;f.resetCache(),o.data?f.load(f.convertDataToTargets(o.data),o):o.url?f.convertUrlToData(o.url,o.mimeType,o.headers,o.keys,function(e){f.load(f.convertDataToTargets(e),o)}):o.json?f.load(f.convertDataToTargets(f.convertJsonToData(o.json,o.keys)),o):o.rows?f.load(f.convertDataToTargets(f.convertRowsToData(o.rows)),o):o.columns?f.load(f.convertDataToTargets(f.convertColumnsToData(o.columns)),o):f.load(null,o)},t.prototype.unload=function(o,f){var e=this;if(e.resetCache(),f||(f=function(){}),o=o.filter(function(i){return e.hasTarget(e.data.targets,i)}),!o||o.length===0){f();return}e.svg.selectAll(o.map(function(i){return e.selectorTarget(i)})).transition().style("opacity",0).remove().call(e.endall,f),o.forEach(function(i){e.withoutFadeIn[i]=!1,e.legend&&e.legend.selectAll("."+W.legendItem+e.getTargetSelectorSuffix(i)).remove(),e.data.targets=e.data.targets.filter(function(u){return u.id!==i})})},t.prototype.getYDomainMin=function(o){var f=this,e=f.config,i=f.mapToIds(o),u=f.getValuesAsIdKeyed(o),d,m,S,L,M,N;if(e.data_groups.length>0){for(N=f.hasNegativeValueInTargets(o),d=0;d<e.data_groups.length;d++)if(L=e.data_groups[d].filter(function(O){return i.indexOf(O)>=0}),L.length!==0)for(S=L[0],N&&u[S]&&u[S].forEach(function(O,H){u[S][H]=O<0?O:0}),m=1;m<L.length;m++)M=L[m],u[M]&&u[M].forEach(function(O,H){f.axis.getId(M)===f.axis.getId(S)&&u[S]&&!(N&&+O>0)&&(u[S][H]+=+O)})}return f.d3.min(Object.keys(u).map(function(O){return f.d3.min(u[O])}))},t.prototype.getYDomainMax=function(o){var f=this,e=f.config,i=f.mapToIds(o),u=f.getValuesAsIdKeyed(o),d,m,S,L,M,N;if(e.data_groups.length>0){for(N=f.hasPositiveValueInTargets(o),d=0;d<e.data_groups.length;d++)if(L=e.data_groups[d].filter(function(O){return i.indexOf(O)>=0}),L.length!==0)for(S=L[0],N&&u[S]&&u[S].forEach(function(O,H){u[S][H]=O>0?O:0}),m=1;m<L.length;m++)M=L[m],u[M]&&u[M].forEach(function(O,H){f.axis.getId(M)===f.axis.getId(S)&&u[S]&&!(N&&+O<0)&&(u[S][H]+=+O)})}return f.d3.max(Object.keys(u).map(function(O){return f.d3.max(u[O])}))},t.prototype.getYDomain=function(o,f,e){var i=this,u=i.config;if(i.isAxisNormalized(f))return[0,100];var d=o.filter(function(kt){return i.axis.getId(kt.id)===f}),m=e?i.filterByXDomain(d,e):d,S=f==="y2"?u.axis_y2_min:u.axis_y_min,L=f==="y2"?u.axis_y2_max:u.axis_y_max,M=i.getYDomainMin(m),N=i.getYDomainMax(m),O,H,z,nt,Q=f==="y2"?u.axis_y2_center:u.axis_y_center,ut,ct,St,Ct,It,Dt,Wt=i.hasType("bar",m)&&u.bar_zerobased||i.hasType("area",m)&&u.area_zerobased,Ft=f==="y2"?u.axis_y2_inverted:u.axis_y_inverted,Ht=i.hasDataLabel()&&u.axis_rotated,Nt=i.hasDataLabel()&&!u.axis_rotated;if(M=Y(S)?S:Y(L)?M<L?M:L-10:M,N=Y(L)?L:Y(S)?S<N?N:S+10:N,m.length===0)return f==="y2"?i.y2.domain():i.y.domain();if(isNaN(M)&&(M=0),isNaN(N)&&(N=M),M===N&&(M<0?N=0:M=0),It=M>=0&&N>=0,Dt=M<=0&&N<=0,(Y(S)&&It||Y(L)&&Dt)&&(Wt=!1),Wt&&(It&&(M=0),Dt&&(N=0)),H=Math.abs(N-M),z=nt=H*.1,typeof Q<"u"&&(ut=Math.max(Math.abs(M),Math.abs(N)),N=Q+ut,M=Q-ut),Ht)ct=i.getDataLabelLength(M,N,"width"),St=g(i.y.range()),Ct=[ct[0]/St,ct[1]/St],z+=H*(Ct[1]/(1-Ct[0]-Ct[1])),nt+=H*(Ct[0]/(1-Ct[0]-Ct[1]));else if(Nt){ct=i.getDataLabelLength(M,N,"height");var Yt=i.getY(u["axis_"+f+"_type"],[0,u.axis_rotated?i.width:i.height],[0,H]);z+=Yt(ct[1]),nt+=Yt(ct[0])}return f==="y"&&Z(u.axis_y_padding)&&(z=i.axis.getPadding(u.axis_y_padding,"top",z,H),nt=i.axis.getPadding(u.axis_y_padding,"bottom",nt,H)),f==="y2"&&Z(u.axis_y2_padding)&&(z=i.axis.getPadding(u.axis_y2_padding,"top",z,H),nt=i.axis.getPadding(u.axis_y2_padding,"bottom",nt,H)),Wt&&(It&&(nt=M),Dt&&(z=-N)),O=[M-nt,N+z],Ft?O.reverse():O},t.prototype.getXDomainMin=function(o){var f=this,e=f.config;return E(e.axis_x_min)?f.isTimeSeries()?this.parseDate(e.axis_x_min):e.axis_x_min:f.d3.min(o,function(i){return f.d3.min(i.values,function(u){return u.x})})},t.prototype.getXDomainMax=function(o){var f=this,e=f.config;return E(e.axis_x_max)?f.isTimeSeries()?this.parseDate(e.axis_x_max):e.axis_x_max:f.d3.max(o,function(i){return f.d3.max(i.values,function(u){return u.x})})},t.prototype.getXDomainPadding=function(o){var f=this,e=f.config,i=o[1]-o[0],u,d,m,S;return f.isCategorized()?d=0:f.hasType("bar")?(u=f.getMaxDataCount(),d=u>1?i/(u-1)/2:.5):d=i*.01,typeof e.axis_x_padding=="object"&&Z(e.axis_x_padding)?(m=Y(e.axis_x_padding.left)?e.axis_x_padding.left:d,S=Y(e.axis_x_padding.right)?e.axis_x_padding.right:d):typeof e.axis_x_padding=="number"?m=S=e.axis_x_padding:m=S=d,{left:m,right:S}},t.prototype.getXDomain=function(o){var f=this,e=[f.getXDomainMin(o),f.getXDomainMax(o)],i=e[0],u=e[1],d=f.getXDomainPadding(e),m=0,S=0;return i-u===0&&!f.isCategorized()&&(f.isTimeSeries()?(i=new Date(i.getTime()*.5),u=new Date(u.getTime()*1.5)):(i=i===0?1:i*.5,u=u===0?-1:u*1.5)),(i||i===0)&&(m=f.isTimeSeries()?new Date(i.getTime()-d.left):i-d.left),(u||u===0)&&(S=f.isTimeSeries()?new Date(u.getTime()+d.right):u+d.right),[m,S]},t.prototype.updateXDomain=function(o,f,e,i,u){var d=this,m=d.config;return e&&(d.x.domain(u||d.d3.extent(d.getXDomain(o))),d.orgXDomain=d.x.domain(),m.zoom_enabled&&d.zoom.update(),d.subX.domain(d.x.domain()),d.brush&&d.brush.updateScale(d.subX)),f&&d.x.domain(u||(!d.brush||d.brush.empty()?d.orgXDomain:d.brush.selectionAsValue())),i&&d.x.domain(d.trimXDomain(d.x.orgDomain())),d.x.domain()},t.prototype.trimXDomain=function(o){var f=this.getZoomDomain(),e=f[0],i=f[1];return o[0]<=e&&(o[1]=+o[1]+(e-o[0]),o[0]=e),i<=o[1]&&(o[0]=+o[0]-(o[1]-i),o[1]=i),o},t.prototype.drag=function(o){var f=this,e=f.config,i=f.main,u=f.d3,d,m,S,L,M,N,O,H;f.hasArcType()||e.data_selection_enabled&&e.data_selection_multiple&&(d=f.dragStart[0],m=f.dragStart[1],S=o[0],L=o[1],M=Math.min(d,S),N=Math.max(d,S),O=e.data_selection_grouped?f.margin.top:Math.min(m,L),H=e.data_selection_grouped?f.height:Math.max(m,L),i.select("."+W.dragarea).attr("x",M).attr("y",O).attr("width",N-M).attr("height",H-O),i.selectAll("."+W.shapes).selectAll("."+W.shape).each(function(z,nt){if(e.data_selection_isselectable(z)){var Q=u.select(this),ut=Q.classed(W.SELECTED),ct=Q.classed(W.INCLUDED),St,Ct,It,Dt,Wt,Ft=!1,Ht;if(Q.classed(W.circle))St=Q.attr("cx")*1,Ct=Q.attr("cy")*1,Wt=f.togglePoint,Ft=M<St&&St<N&&O<Ct&&Ct<H;else if(Q.classed(W.bar))Ht=v(this),St=Ht.x,Ct=Ht.y,It=Ht.width,Dt=Ht.height,Wt=f.togglePath,Ft=!(N<St||St+It<M)&&!(H<Ct||Ct+Dt<O);else return;Ft^ct&&(Q.classed(W.INCLUDED,!ct),Q.classed(W.SELECTED,!ut),Wt.call(f,!ut,Q,z,nt))}}))},t.prototype.dragstart=function(o){var f=this,e=f.config;f.hasArcType()||e.data_selection_enabled&&(f.dragStart=o,f.main.select("."+W.chart).append("rect").attr("class",W.dragarea).style("opacity",.1),f.dragging=!0)},t.prototype.dragend=function(){var o=this,f=o.config;o.hasArcType()||f.data_selection_enabled&&(o.main.select("."+W.dragarea).transition().duration(100).style("opacity",0).remove(),o.main.selectAll("."+W.shape).classed(W.INCLUDED,!1),o.dragging=!1)},t.prototype.getYFormat=function(o){var f=this,e=o&&!f.hasType("gauge")?f.defaultArcValueFormat:f.yFormat,i=o&&!f.hasType("gauge")?f.defaultArcValueFormat:f.y2Format;return function(u,d,m){var S=f.axis.getId(m)==="y2"?i:e;return S.call(f,u,d)}},t.prototype.yFormat=function(o){var f=this,e=f.config,i=e.axis_y_tick_format?e.axis_y_tick_format:f.defaultValueFormat;return i(o)},t.prototype.y2Format=function(o){var f=this,e=f.config,i=e.axis_y2_tick_format?e.axis_y2_tick_format:f.defaultValueFormat;return i(o)},t.prototype.defaultValueFormat=function(o){return Y(o)?+o:""},t.prototype.defaultArcValueFormat=function(o,f){return(f*100).toFixed(1)+"%"},t.prototype.dataLabelFormat=function(o){var f=this,e=f.config.data_labels,i,u=function(d){return Y(d)?+d:""};return typeof e.format=="function"?i=e.format:typeof e.format=="object"?e.format[o]?i=e.format[o]===!0?u:e.format[o]:i=function(){return""}:i=u,i},t.prototype.initGrid=function(){var o=this,f=o.config,e=o.d3;o.grid=o.main.append("g").attr("clip-path",o.clipPathForGrid).attr("class",W.grid),f.grid_x_show&&o.grid.append("g").attr("class",W.xgrids),f.grid_y_show&&o.grid.append("g").attr("class",W.ygrids),f.grid_focus_show&&o.grid.append("g").attr("class",W.xgridFocus).append("line").attr("class",W.xgridFocus),o.xgrid=e.selectAll([]),f.grid_lines_front||o.initGridLines()},t.prototype.initGridLines=function(){var o=this,f=o.d3;o.gridLines=o.main.append("g").attr("clip-path",o.clipPathForGrid).attr("class",W.grid+" "+W.gridLines),o.gridLines.append("g").attr("class",W.xgridLines),o.gridLines.append("g").attr("class",W.ygridLines),o.xgridLines=f.selectAll([])},t.prototype.updateXGrid=function(o){var f=this,e=f.config,i=f.d3,u=f.generateGridData(e.grid_x_type,f.x),d=f.isCategorized()?f.xAxis.tickOffset():0;f.xgridAttr=e.axis_rotated?{x1:0,x2:f.width,y1:function(L){return f.x(L)-d},y2:function(L){return f.x(L)-d}}:{x1:function(L){return f.x(L)+d},x2:function(L){return f.x(L)+d},y1:0,y2:f.height},f.xgridAttr.opacity=function(){var L=+i.select(this).attr(e.axis_rotated?"y1":"x1");return L===(e.axis_rotated?f.height:0)?0:1};var m=f.main.select("."+W.xgrids).selectAll("."+W.xgrid).data(u),S=m.enter().append("line").attr("class",W.xgrid).attr("x1",f.xgridAttr.x1).attr("x2",f.xgridAttr.x2).attr("y1",f.xgridAttr.y1).attr("y2",f.xgridAttr.y2).style("opacity",0);f.xgrid=S.merge(m),o||f.xgrid.attr("x1",f.xgridAttr.x1).attr("x2",f.xgridAttr.x2).attr("y1",f.xgridAttr.y1).attr("y2",f.xgridAttr.y2).style("opacity",f.xgridAttr.opacity),m.exit().remove()},t.prototype.updateYGrid=function(){var o=this,f=o.config,e=o.yAxis.tickValues()||o.y.ticks(f.grid_y_ticks),i=o.main.select("."+W.ygrids).selectAll("."+W.ygrid).data(e),u=i.enter().append("line").attr("class",W.ygrid);o.ygrid=u.merge(i),o.ygrid.attr("x1",f.axis_rotated?o.y:0).attr("x2",f.axis_rotated?o.y:o.width).attr("y1",f.axis_rotated?0:o.y).attr("y2",f.axis_rotated?o.height:o.y),i.exit().remove(),o.smoothLines(o.ygrid,"grid")},t.prototype.gridTextAnchor=function(o){return o.position?o.position:"end"},t.prototype.gridTextDx=function(o){return o.position==="start"?4:o.position==="middle"?0:-4},t.prototype.xGridTextX=function(o){return o.position==="start"?-this.height:o.position==="middle"?-this.height/2:0},t.prototype.yGridTextX=function(o){return o.position==="start"?0:o.position==="middle"?this.width/2:this.width},t.prototype.updateGrid=function(o){var f=this,e=f.main,i=f.config,u,d,m,S,L=f.xv.bind(f),M=f.yv.bind(f),N=f.xGridTextX.bind(f),O=f.yGridTextX.bind(f);f.grid.style("visibility",f.hasArcType()?"hidden":"visible"),e.select("line."+W.xgridFocus).style("visibility","hidden"),i.grid_x_show&&f.updateXGrid(),u=e.select("."+W.xgridLines).selectAll("."+W.xgridLine).data(i.grid_x_lines),d=u.enter().append("g").attr("class",function(H){return W.xgridLine+(H.class?" "+H.class:"")}),d.append("line").attr("x1",i.axis_rotated?0:L).attr("x2",i.axis_rotated?f.width:L).attr("y1",i.axis_rotated?L:0).attr("y2",i.axis_rotated?L:f.height).style("opacity",0),d.append("text").attr("text-anchor",f.gridTextAnchor).attr("transform",i.axis_rotated?"":"rotate(-90)").attr("x",i.axis_rotated?O:N).attr("y",L).attr("dx",f.gridTextDx).attr("dy",-5).style("opacity",0),f.xgridLines=d.merge(u),u.exit().transition().duration(o).style("opacity",0).remove(),i.grid_y_show&&f.updateYGrid(),m=e.select("."+W.ygridLines).selectAll("."+W.ygridLine).data(i.grid_y_lines),S=m.enter().append("g").attr("class",function(H){return W.ygridLine+(H.class?" "+H.class:"")}),S.append("line").attr("x1",i.axis_rotated?M:0).attr("x2",i.axis_rotated?M:f.width).attr("y1",i.axis_rotated?0:M).attr("y2",i.axis_rotated?f.height:M).style("opacity",0),S.append("text").attr("text-anchor",f.gridTextAnchor).attr("transform",i.axis_rotated?"rotate(-90)":"").attr("x",i.axis_rotated?N:O).attr("y",M).attr("dx",f.gridTextDx).attr("dy",-5).style("opacity",0),f.ygridLines=S.merge(m),f.ygridLines.select("line").transition().duration(o).attr("x1",i.axis_rotated?M:0).attr("x2",i.axis_rotated?M:f.width).attr("y1",i.axis_rotated?0:M).attr("y2",i.axis_rotated?f.height:M).style("opacity",1),f.ygridLines.select("text").transition().duration(o).attr("x",i.axis_rotated?f.xGridTextX.bind(f):f.yGridTextX.bind(f)).attr("y",M).text(function(H){return H.text}).style("opacity",1),m.exit().transition().duration(o).style("opacity",0).remove()},t.prototype.redrawGrid=function(o,f){var e=this,i=e.config,u=e.xv.bind(e),d=e.xgridLines.select("line"),m=e.xgridLines.select("text");return[(o?d.transition(f):d).attr("x1",i.axis_rotated?0:u).attr("x2",i.axis_rotated?e.width:u).attr("y1",i.axis_rotated?u:0).attr("y2",i.axis_rotated?u:e.height).style("opacity",1),(o?m.transition(f):m).attr("x",i.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",u).text(function(S){return S.text}).style("opacity",1)]},t.prototype.showXGridFocus=function(o){var f=this,e=f.config,i=o.filter(function(m){return m&&Y(m.value)}),u=f.main.selectAll("line."+W.xgridFocus),d=f.xx.bind(f);e.tooltip_show&&(f.hasType("stanford")||f.hasArcType()||(u.style("visibility","visible").data([i[0]]).attr(e.axis_rotated?"y1":"x1",d).attr(e.axis_rotated?"y2":"x2",d),f.smoothLines(u,"grid")))},t.prototype.hideXGridFocus=function(){this.main.select("line."+W.xgridFocus).style("visibility","hidden")},t.prototype.updateXgridFocus=function(){var o=this,f=o.config;o.main.select("line."+W.xgridFocus).attr("x1",f.axis_rotated?0:-10).attr("x2",f.axis_rotated?o.width:-10).attr("y1",f.axis_rotated?-10:0).attr("y2",f.axis_rotated?-10:o.height)},t.prototype.generateGridData=function(o,f){var e=this,i=[],u,d,m,S,L=e.main.select("."+W.axisX).selectAll(".tick").size();if(o==="year")for(u=e.getXDomain(),d=u[0].getFullYear(),m=u[1].getFullYear(),S=d;S<=m;S++)i.push(new Date(S+"-01-01 00:00:00"));else i=f.ticks(10),i.length>L&&(i=i.filter(function(M){return(""+M).indexOf(".")<0}));return i},t.prototype.getGridFilterToRemove=function(o){return o?function(f){var e=!1;return[].concat(o).forEach(function(i){("value"in i&&f.value===i.value||"class"in i&&f.class===i.class)&&(e=!0)}),e}:function(){return!0}},t.prototype.removeGridLines=function(o,f){var e=this,i=e.config,u=e.getGridFilterToRemove(o),d=function(L){return!u(L)},m=f?W.xgridLines:W.ygridLines,S=f?W.xgridLine:W.ygridLine;e.main.select("."+m).selectAll("."+S).filter(u).transition().duration(i.transition_duration).style("opacity",0).remove(),f?i.grid_x_lines=i.grid_x_lines.filter(d):i.grid_y_lines=i.grid_y_lines.filter(d)},t.prototype.initEventRect=function(){var o=this,f=o.config;o.main.select("."+W.chart).append("g").attr("class",W.eventRects).style("fill-opacity",0),o.eventRect=o.main.select("."+W.eventRects).append("rect").attr("class",W.eventRect),f.zoom_enabled&&o.zoom&&(o.eventRect.call(o.zoom).on("dblclick.zoom",null),f.zoom_initialRange&&o.eventRect.transition().duration(0).call(o.zoom.transform,o.zoomTransform(f.zoom_initialRange)))},t.prototype.redrawEventRect=function(){var o=this,f=o.d3,e=o.config;function i(){o.svg.select("."+W.eventRect).style("cursor",null),o.hideXGridFocus(),o.hideTooltip(),o.unexpandCircles(),o.unexpandBars()}var u=function(m,S){return S&&(o.isBarType(S.id)||o.dist(S,m)<e.point_sensitivity)},d=function(m){return m?o.addName(Object.assign({},m)):null};o.main.select("."+W.eventRects).style("cursor",e.zoom_enabled?e.axis_rotated?"ns-resize":"ew-resize":null),o.eventRect.attr("x",0).attr("y",0).attr("width",o.width).attr("height",o.height).on("mouseout",e.interaction_enabled?function(){e&&(o.hasArcType()||(o.mouseover&&(e.data_onmouseout.call(o.api,o.mouseover),o.mouseover=void 0),i()))}:null).on("mousemove",e.interaction_enabled?function(){if(!o.dragging){var m=o.getTargetsToShow();if(!o.hasArcType(m)){var S=f.mouse(this),L=d(o.findClosestFromTargets(m,S)),M=u(S,L);o.mouseover&&(!L||L.id!==o.mouseover.id||L.index!==o.mouseover.index)&&(e.data_onmouseout.call(o.api,o.mouseover),o.mouseover=void 0),L&&!o.mouseover&&(e.data_onmouseover.call(o.api,L),o.mouseover=L),o.svg.select("."+W.eventRect).style("cursor",M?"pointer":null);var N=!e.tooltip_grouped||o.hasType("stanford",m),O;if(N)L&&(O=[L]);else{var H=void 0;if(L)H=L;else{var z=e.axis_rotated?S[1]:S[0];H=o.findClosestFromTargetsByX(m,o.x.invert(z))}H&&(O=o.filterByX(m,H.x))}if(!O||O.length===0)return i();O=O.map(d),o.showTooltip(O,this),e.point_focus_expand_enabled&&(o.unexpandCircles(),O.forEach(function(nt){o.expandCircles(nt.index,nt.id,!1)})),o.unexpandBars(),O.forEach(function(nt){o.expandBars(nt.index,nt.id,!1)}),o.showXGridFocus(O)}}}:null).on("click",e.interaction_enabled?function(){var m=o.getTargetsToShow();if(!o.hasArcType(m)){var S=f.mouse(this),L=d(o.findClosestFromTargets(m,S));if(u(S,L)){var M;if(!e.data_selection_grouped||o.isStanfordType(L)?M=[L]:M=o.filterByX(m,L.x),M.forEach(function(O){o.main.selectAll("."+W.shapes+o.getTargetSelectorSuffix(O.id)).selectAll("."+W.shape+"-"+O.index).each(function(){(e.data_selection_grouped||o.isWithinShape(this,O))&&o.toggleShape(this,O,O.index)})}),L){var N=o.main.selectAll("."+W.shapes+o.getTargetSelectorSuffix(L.id)).select("."+W.shape+"-"+L.index);e.data_onclick.call(o.api,L,N.node())}}}}:null).call(e.interaction_enabled&&e.data_selection_draggable&&o.drag?f.drag().on("drag",function(){o.drag(f.mouse(this))}).on("start",function(){o.dragstart(f.mouse(this))}).on("end",function(){o.dragend()}):function(){})},t.prototype.getMousePosition=function(o){var f=this;return[f.x(o.x),f.getYScale(o.id)(o.value)]},t.prototype.dispatchEvent=function(o,f){var e=this,i="."+W.eventRect,u=e.main.select(i).node(),d=u.getBoundingClientRect(),m=d.left+(f?f[0]:0),S=d.top+(f?f[1]:0),L=document.createEvent("MouseEvents");L.initMouseEvent(o,!0,!0,window,0,m,S,m,S,!1,!1,!1,!1,0,null),u.dispatchEvent(L)},t.prototype.initLegend=function(){var o=this;if(o.legendItemTextBox={},o.legendHasRendered=!1,o.legend=o.svg.append("g").attr("transform",o.getTranslate("legend")),!o.config.legend_show){o.legend.style("visibility","hidden"),o.hiddenLegendIds=o.mapToIds(o.data.targets);return}o.updateLegendWithDefaults()},t.prototype.updateLegendWithDefaults=function(){var o=this;o.updateLegend(o.mapToIds(o.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},t.prototype.updateSizeForLegend=function(o,f){var e=this,i=e.config,u={top:e.isLegendTop?e.getCurrentPaddingTop()+i.legend_inset_y+5.5:e.currentHeight-o-e.getCurrentPaddingBottom()-i.legend_inset_y,left:e.isLegendLeft?e.getCurrentPaddingLeft()+i.legend_inset_x+.5:e.currentWidth-f-e.getCurrentPaddingRight()-i.legend_inset_x+.5};e.margin3={top:e.isLegendRight?0:e.isLegendInset?u.top:e.currentHeight-o,right:NaN,bottom:0,left:e.isLegendRight?e.currentWidth-f:e.isLegendInset?u.left:0}},t.prototype.transformLegend=function(o){var f=this;(o?f.legend.transition():f.legend).attr("transform",f.getTranslate("legend"))},t.prototype.updateLegendStep=function(o){this.legendStep=o},t.prototype.updateLegendItemWidth=function(o){this.legendItemWidth=o},t.prototype.updateLegendItemHeight=function(o){this.legendItemHeight=o},t.prototype.getLegendWidth=function(){var o=this;return o.config.legend_show?o.isLegendRight||o.isLegendInset?o.legendItemWidth*(o.legendStep+1):o.currentWidth:0},t.prototype.getLegendHeight=function(){var o=this,f=0;return o.config.legend_show&&(o.isLegendRight?f=o.currentHeight:f=Math.max(20,o.legendItemHeight)*(o.legendStep+1)),f},t.prototype.opacityForLegend=function(o){return o.classed(W.legendItemHidden)?null:1},t.prototype.opacityForUnfocusedLegend=function(o){return o.classed(W.legendItemHidden)?null:.3},t.prototype.toggleFocusLegend=function(o,f){var e=this;o=e.mapToTargetIds(o),e.legend.selectAll("."+W.legendItem).filter(function(i){return o.indexOf(i)>=0}).classed(W.legendItemFocused,f).transition().duration(100).style("opacity",function(){var i=f?e.opacityForLegend:e.opacityForUnfocusedLegend;return i.call(e,e.d3.select(this))})},t.prototype.revertLegend=function(){var o=this,f=o.d3;o.legend.selectAll("."+W.legendItem).classed(W.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return o.opacityForLegend(f.select(this))})},t.prototype.showLegend=function(o){var f=this,e=f.config;e.legend_show||(e.legend_show=!0,f.legend.style("visibility","visible"),f.legendHasRendered||f.updateLegendWithDefaults()),f.removeHiddenLegendIds(o),f.legend.selectAll(f.selectorLegends(o)).style("visibility","visible").transition().style("opacity",function(){return f.opacityForLegend(f.d3.select(this))})},t.prototype.hideLegend=function(o){var f=this,e=f.config;e.legend_show&&V(o)&&(e.legend_show=!1,f.legend.style("visibility","hidden")),f.addHiddenLegendIds(o),f.legend.selectAll(f.selectorLegends(o)).style("opacity",0).style("visibility","hidden")},t.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},t.prototype.updateLegend=function(o,f,e){var i=this,u=i.config,d,m,S,L,M,N,O,H,z,nt=4,Q=10,ut=0,ct=0,St=10,Ct=u.legend_item_tile_width+5,It,Dt=0,Wt={},Ft={},Ht={},Nt=[0],Yt={},kt=0,Gt,zt,Xt,de,Pe,we;o=o.filter(function(Et){return!E(u.data_names[Et])||u.data_names[Et]!==null}),f=f||{},Gt=y(f,"withTransition",!0),zt=y(f,"withTransitionForTransform",!0);function Ae(Et,Bt){return i.legendItemTextBox[Bt]||(i.legendItemTextBox[Bt]=i.getTextRect(Et.textContent,W.legendItem,Et)),i.legendItemTextBox[Bt]}function se(Et,Bt,Vt){var oe=Vt===0,Ze=Vt===o.length-1,dn=Ae(Et,Bt),je=dn.width+Ct+(Ze&&!(i.isLegendRight||i.isLegendInset)?0:Q)+u.legend_padding,Oe=dn.height+nt,He=i.isLegendRight||i.isLegendInset?Oe:je,We=i.isLegendRight||i.isLegendInset?i.getLegendHeight():i.getLegendWidth(),sn,$i;function ni(zn,Br){Br||(sn=(We-Dt-He)/2,sn<St&&(sn=(We-He)/2,Dt=0,kt++)),Yt[zn]=kt,Nt[kt]=i.isLegendInset?10:sn,Wt[zn]=Dt,Dt+=He}if(oe&&(Dt=0,kt=0,ut=0,ct=0),u.legend_show&&!i.isLegendToShow(Bt)){Ft[Bt]=Ht[Bt]=Yt[Bt]=Wt[Bt]=0;return}Ft[Bt]=je,Ht[Bt]=Oe,(!ut||je>=ut)&&(ut=je),(!ct||Oe>=ct)&&(ct=Oe),$i=i.isLegendRight||i.isLegendInset?ct:ut,u.legend_equally?(Object.keys(Ft).forEach(function(zn){Ft[zn]=ut}),Object.keys(Ht).forEach(function(zn){Ht[zn]=ct}),sn=(We-$i*o.length)/2,sn<St?(Dt=0,kt=0,o.forEach(function(zn){ni(zn)})):ni(Bt,!0)):ni(Bt)}i.isLegendInset&&(kt=u.legend_inset_step?u.legend_inset_step:o.length,i.updateLegendStep(kt)),i.isLegendRight?(d=function(Et){return ut*Yt[Et]},L=function(Et){return Nt[Yt[Et]]+Wt[Et]}):i.isLegendInset?(d=function(Et){return ut*Yt[Et]+10},L=function(Et){return Nt[Yt[Et]]+Wt[Et]}):(d=function(Et){return Nt[Yt[Et]]+Wt[Et]},L=function(Et){return ct*Yt[Et]}),m=function(Et,Bt){return d(Et,Bt)+4+u.legend_item_tile_width},M=function(Et,Bt){return L(Et,Bt)+9},S=function(Et,Bt){return d(Et,Bt)},N=function(Et,Bt){return L(Et,Bt)-5},O=function(Et,Bt){return d(Et,Bt)-2},H=function(Et,Bt){return d(Et,Bt)-2+u.legend_item_tile_width},z=function(Et,Bt){return L(Et,Bt)+4},It=i.legend.selectAll("."+W.legendItem).data(o).enter().append("g").attr("class",function(Et){return i.generateClass(W.legendItem,Et)}).style("visibility",function(Et){return i.isLegendToShow(Et)?"visible":"hidden"}).style("cursor",function(){return u.interaction_enabled?"pointer":"auto"}).on("click",u.interaction_enabled?function(Et){u.legend_item_onclick?u.legend_item_onclick.call(i,Et):i.d3.event.altKey?(i.api.hide(),i.api.show(Et)):(i.api.toggle(Et),i.isTargetToShow(Et)?i.api.focus(Et):i.api.revert())}:null).on("mouseover",u.interaction_enabled?function(Et){u.legend_item_onmouseover?u.legend_item_onmouseover.call(i,Et):(i.d3.select(this).classed(W.legendItemFocused,!0),!i.transiting&&i.isTargetToShow(Et)&&i.api.focus(Et))}:null).on("mouseout",u.interaction_enabled?function(Et){u.legend_item_onmouseout?u.legend_item_onmouseout.call(i,Et):(i.d3.select(this).classed(W.legendItemFocused,!1),i.api.revert())}:null),It.append("text").text(function(Et){return E(u.data_names[Et])?u.data_names[Et]:Et}).each(function(Et,Bt){se(this,Et,Bt)}).style("pointer-events","none").attr("x",i.isLegendRight||i.isLegendInset?m:-200).attr("y",i.isLegendRight||i.isLegendInset?-200:M),It.append("rect").attr("class",W.legendItemEvent).style("fill-opacity",0).attr("x",i.isLegendRight||i.isLegendInset?S:-200).attr("y",i.isLegendRight||i.isLegendInset?-200:N),It.append("line").attr("class",W.legendItemTile).style("stroke",i.color).style("pointer-events","none").attr("x1",i.isLegendRight||i.isLegendInset?O:-200).attr("y1",i.isLegendRight||i.isLegendInset?-200:z).attr("x2",i.isLegendRight||i.isLegendInset?H:-200).attr("y2",i.isLegendRight||i.isLegendInset?-200:z).attr("stroke-width",u.legend_item_tile_height),we=i.legend.select("."+W.legendBackground+" rect"),i.isLegendInset&&ut>0&&we.size()===0&&(we=i.legend.insert("g","."+W.legendItem).attr("class",W.legendBackground).append("rect")),Xt=i.legend.selectAll("text").data(o).text(function(Et){return E(u.data_names[Et])?u.data_names[Et]:Et}).each(function(Et,Bt){se(this,Et,Bt)}),(Gt?Xt.transition():Xt).attr("x",m).attr("y",M),de=i.legend.selectAll("rect."+W.legendItemEvent).data(o),(Gt?de.transition():de).attr("width",function(Et){return Ft[Et]}).attr("height",function(Et){return Ht[Et]}).attr("x",S).attr("y",N),Pe=i.legend.selectAll("line."+W.legendItemTile).data(o),(Gt?Pe.transition():Pe).style("stroke",i.levelColor?function(Et){return i.levelColor(i.cache[Et].values.reduce(function(Bt,Vt){return Bt+Vt.value},0))}:i.color).attr("x1",O).attr("y1",z).attr("x2",H).attr("y2",z),we&&(Gt?we.transition():we).attr("height",i.getLegendHeight()-12).attr("width",ut*(kt+1)+10),i.legend.selectAll("."+W.legendItem).classed(W.legendItemHidden,function(Et){return!i.isTargetToShow(Et)}),i.updateLegendItemWidth(ut),i.updateLegendItemHeight(ct),i.updateLegendStep(kt),i.updateSizes(),i.updateScales(),i.updateSvgSize(),i.transformAll(zt,e),i.legendHasRendered=!0},t.prototype.initRegion=function(){var o=this;o.region=o.main.append("g").attr("clip-path",o.clipPath).attr("class",W.regions)},t.prototype.updateRegion=function(o){var f=this,e=f.config;f.region.style("visibility",f.hasArcType()?"hidden":"visible");var i=f.main.select("."+W.regions).selectAll("."+W.region).data(e.regions),u=i.enter().append("g");u.append("rect").attr("x",f.regionX.bind(f)).attr("y",f.regionY.bind(f)).attr("width",f.regionWidth.bind(f)).attr("height",f.regionHeight.bind(f)).style("fill-opacity",function(d){return Y(d.opacity)?d.opacity:.1}),u.append("text").text(f.labelRegion.bind(f)),f.mainRegion=u.merge(i).attr("class",f.classRegion.bind(f)),i.exit().transition().duration(o).style("opacity",0).remove()},t.prototype.redrawRegion=function(o,f){var e=this,i=e.mainRegion,u=e.mainRegion.selectAll("text");return[(o?i.transition(f):i).attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)).style("fill-opacity",function(d){return Y(d.opacity)?d.opacity:.1}),(o?u.transition(f):u).attr("x",e.labelOffsetX.bind(e)).attr("y",e.labelOffsetY.bind(e)).attr("transform",e.labelTransform.bind(e)).attr("style","text-anchor: left;")]},t.prototype.regionX=function(o){var f=this,e=f.config,i,u=o.axis==="y"?f.y:f.y2;return o.axis==="y"||o.axis==="y2"?i=e.axis_rotated&&"start"in o?u(o.start):0:i=e.axis_rotated?0:"start"in o?f.x(f.isTimeSeries()?f.parseDate(o.start):o.start):0,i},t.prototype.regionY=function(o){var f=this,e=f.config,i,u=o.axis==="y"?f.y:f.y2;return o.axis==="y"||o.axis==="y2"?i=e.axis_rotated?0:"end"in o?u(o.end):0:i=e.axis_rotated&&"start"in o?f.x(f.isTimeSeries()?f.parseDate(o.start):o.start):0,i},t.prototype.regionWidth=function(o){var f=this,e=f.config,i=f.regionX(o),u,d=o.axis==="y"?f.y:f.y2;return o.axis==="y"||o.axis==="y2"?u=e.axis_rotated&&"end"in o?d(o.end):f.width:u=e.axis_rotated?f.width:"end"in o?f.x(f.isTimeSeries()?f.parseDate(o.end):o.end):f.width,u<i?0:u-i},t.prototype.regionHeight=function(o){var f=this,e=f.config,i=this.regionY(o),u,d=o.axis==="y"?f.y:f.y2;return o.axis==="y"||o.axis==="y2"?u=e.axis_rotated?f.height:"start"in o?d(o.start):f.height:u=e.axis_rotated&&"end"in o?f.x(f.isTimeSeries()?f.parseDate(o.end):o.end):f.height,u<i?0:u-i},t.prototype.isRegionOnX=function(o){return!o.axis||o.axis==="x"},t.prototype.labelRegion=function(o){return"label"in o?o.label:""},t.prototype.labelTransform=function(o){return"vertical"in o&&o.vertical?"rotate(90)":""},t.prototype.labelOffsetX=function(o){var f="paddingX"in o?o.paddingX:3,e="paddingY"in o?o.paddingY:3;return"vertical"in o&&o.vertical?this.regionY(o)+e:this.regionX(o)+f},t.prototype.labelOffsetY=function(o){var f="paddingX"in o?o.paddingX:3,e="paddingY"in o?o.paddingY:3;return"vertical"in o&&o.vertical?-(this.regionX(o)+f):this.regionY(o)+10+e};function et(o,f,e){var i=[.01,10];f||(f=o.scaleLinear(),f.range(i)),e||(e=o.scaleLog(),e.domain(i),e.nice());function u(m,S,L){var M,N,O,H;if(arguments.length<3)L=10;else if(L===0)return[];N=L-1,H=(S-m)/N,M=new Array(L),O=m,M[0]=Math.pow(10,O);for(var z=1;z<N;z++)O+=H,M[z]=Math.pow(10,O);return M[N]=Math.pow(10,S),M}function d(m){return e(f(m))}return d.domain=function(m){return arguments.length?(f.domain(m),d):f.domain()},d.range=function(m){return arguments.length?(e.range(m),d):e.range()},d.ticks=function(m){return u(-2,1,m||10).map(function(S){return f.invert(S)})},d.copy=function(){return et(o,f.copy(),e.copy())},d}t.prototype.getScale=function(o,f,e){return(e?this.d3.scaleTime():this.d3.scaleLinear()).range([o,f])},t.prototype.getX=function(o,f,e,i){var u=this,d=u.getScale(o,f,u.isTimeSeries()),m=e?d.domain(e):d,S;u.isCategorized()?(i=i||function(){return 0},d=function(L,M){var N=m(L)+i(L);return M?N:Math.ceil(N)}):d=function(L,M){var N=m(L);return M?N:Math.ceil(N)};for(S in m)d[S]=m[S];return d.orgDomain=function(){return m.domain()},u.isCategorized()&&(d.domain=function(L){return arguments.length?(m.domain(L),d):(L=this.orgDomain(),[L[0],L[1]+1])}),d},t.prototype.getY=function(o,f,e){var i;if(o==="timeseries"||o==="time")i=this.d3.scaleTime();else if(o==="log")i=et(this.d3);else if(o==="linear"||o===void 0)i=this.d3.scaleLinear();else throw new Error('Invalid Y axis type: "'+o+'"');return f&&i.domain(f),e&&i.range(e),i},t.prototype.getYScale=function(o){return this.axis.getId(o)==="y2"?this.y2:this.y},t.prototype.getSubYScale=function(o){return this.axis.getId(o)==="y2"?this.subY2:this.subY},t.prototype.updateScales=function(){var o=this,f=o.config,e=!o.x;o.xMin=f.axis_rotated?1:0,o.xMax=f.axis_rotated?o.height:o.width,o.yMin=f.axis_rotated?0:o.height,o.yMax=f.axis_rotated?o.width:1,o.subXMin=o.xMin,o.subXMax=o.xMax,o.subYMin=f.axis_rotated?0:o.height2,o.subYMax=f.axis_rotated?o.width2:1,o.x=o.getX(o.xMin,o.xMax,e?void 0:o.x.orgDomain(),function(){return o.xAxis.tickOffset()}),o.y=o.getY(f.axis_y_type,e?f.axis_y_default:o.y.domain(),[o.yMin,o.yMax]),o.y2=o.getY(f.axis_y2_type,e?f.axis_y2_default:o.y2.domain(),[o.yMin,o.yMax]),o.subX=o.getX(o.xMin,o.xMax,o.orgXDomain,function(i){return i%1?0:o.subXAxis.tickOffset()}),o.subY=o.getY(f.axis_y_type,e?f.axis_y_default:o.subY.domain(),[o.subYMin,o.subYMax]),o.subY2=o.getY(f.axis_y2_type,e?f.axis_y2_default:o.subY2.domain(),[o.subYMin,o.subYMax]),o.xAxisTickFormat=o.axis.getXAxisTickFormat(),o.xAxisTickValues=o.axis.getXAxisTickValues(),o.yAxisTickValues=o.axis.getYAxisTickValues(),o.y2AxisTickValues=o.axis.getY2AxisTickValues(),o.xAxis=o.axis.getXAxis(o.x,o.xOrient,o.xAxisTickFormat,o.xAxisTickValues,f.axis_x_tick_outer),o.subXAxis=o.axis.getXAxis(o.subX,o.subXOrient,o.xAxisTickFormat,o.xAxisTickValues,f.axis_x_tick_outer),o.yAxis=o.axis.getYAxis("y",o.y,o.yOrient,o.yAxisTickValues,f.axis_y_tick_outer),o.y2Axis=o.axis.getYAxis("y2",o.y2,o.y2Orient,o.y2AxisTickValues,f.axis_y2_tick_outer),e||o.brush&&o.brush.updateScale(o.subX),o.updateArc&&o.updateArc()},t.prototype.selectPoint=function(o,f,e){var i=this,u=i.config,d=(u.axis_rotated?i.circleY:i.circleX).bind(i),m=(u.axis_rotated?i.circleX:i.circleY).bind(i),S=i.pointSelectR.bind(i);u.data_onselected.call(i.api,f,o.node()),i.main.select("."+W.selectedCircles+i.getTargetSelectorSuffix(f.id)).selectAll("."+W.selectedCircle+"-"+e).data([f]).enter().append("circle").attr("class",function(){return i.generateClass(W.selectedCircle,e)}).attr("cx",d).attr("cy",m).attr("stroke",function(){return i.color(f)}).attr("r",function(L){return i.pointSelectR(L)*1.4}).transition().duration(100).attr("r",S)},t.prototype.unselectPoint=function(o,f,e){var i=this;i.config.data_onunselected.call(i.api,f,o.node()),i.main.select("."+W.selectedCircles+i.getTargetSelectorSuffix(f.id)).selectAll("."+W.selectedCircle+"-"+e).transition().duration(100).attr("r",0).remove()},t.prototype.togglePoint=function(o,f,e,i){o?this.selectPoint(f,e,i):this.unselectPoint(f,e,i)},t.prototype.selectPath=function(o,f){var e=this;e.config.data_onselected.call(e,f,o.node()),e.config.interaction_brighten&&o.transition().duration(100).style("fill",function(){return e.d3.rgb(e.color(f)).brighter(.75)})},t.prototype.unselectPath=function(o,f){var e=this;e.config.data_onunselected.call(e,f,o.node()),e.config.interaction_brighten&&o.transition().duration(100).style("fill",function(){return e.color(f)})},t.prototype.togglePath=function(o,f,e,i){o?this.selectPath(f,e,i):this.unselectPath(f,e,i)},t.prototype.getToggle=function(o,f){var e=this,i;return o.nodeName==="circle"?e.isStepType(f)?i=function(){}:i=e.togglePoint:o.nodeName==="path"&&(i=e.togglePath),i},t.prototype.toggleShape=function(o,f,e){var i=this,u=i.d3,d=i.config,m=u.select(o),S=m.classed(W.SELECTED),L=i.getToggle(o,f).bind(i);d.data_selection_enabled&&d.data_selection_isselectable(f)&&(d.data_selection_multiple||i.main.selectAll("."+W.shapes+(d.data_selection_grouped?i.getTargetSelectorSuffix(f.id):"")).selectAll("."+W.shape).each(function(M,N){var O=u.select(this);O.classed(W.SELECTED)&&L(!1,O.classed(W.SELECTED,!1),M,N)}),m.classed(W.SELECTED,!S),L(!S,m,f,e))},t.prototype.initBar=function(){var o=this;o.main.select("."+W.chart).append("g").attr("class",W.chartBars)},t.prototype.updateTargetsForBar=function(o){var f=this,e=f.config,i,u,d=f.classChartBar.bind(f),m=f.classBars.bind(f),S=f.classFocus.bind(f);i=f.main.select("."+W.chartBars).selectAll("."+W.chartBar).data(o).attr("class",function(L){return d(L)+S(L)}),u=i.enter().append("g").attr("class",d).style("pointer-events","none"),u.append("g").attr("class",m).style("cursor",function(L){return e.data_selection_isselectable(L)?"pointer":null})},t.prototype.updateBar=function(o){var f=this,e=f.barData.bind(f),i=f.classBar.bind(f),u=f.initialOpacity.bind(f),d=function(L){return f.color(L.id)},m=f.main.selectAll("."+W.bars).selectAll("."+W.bar).data(e),S=m.enter().append("path").attr("class",i).style("stroke",d).style("fill",d);f.mainBar=S.merge(m).style("opacity",u),m.exit().transition().duration(o).style("opacity",0)},t.prototype.redrawBar=function(o,f,e){var i=this;return[(f?this.mainBar.transition(e):this.mainBar).attr("d",o).style("stroke",this.color).style("fill",this.color).style("opacity",function(u){return i.isTargetToShow(u.id)?1:0})]},t.prototype.getBarW=function(o,f){var e=this,i=e.config,u=typeof i.bar_width=="number"?i.bar_width:f?o.tickInterval()*i.bar_width_ratio/f:0;return i.bar_width_max&&u>i.bar_width_max?i.bar_width_max:u},t.prototype.getBars=function(o,f){var e=this;return(f?e.main.selectAll("."+W.bars+e.getTargetSelectorSuffix(f)):e.main).selectAll("."+W.bar+(Y(o)?"-"+o:""))},t.prototype.expandBars=function(o,f,e){var i=this;e&&i.unexpandBars(),i.getBars(o,f).classed(W.EXPANDED,!0)},t.prototype.unexpandBars=function(o){var f=this;f.getBars(o).classed(W.EXPANDED,!1)},t.prototype.generateDrawBar=function(o,f){var e=this,i=e.config,u=e.generateGetBarPoints(o,f);return function(d,m){var S=u(d,m),L=i.axis_rotated?1:0,M=i.axis_rotated?0:1,N="M "+S[0][L]+","+S[0][M]+" L"+S[1][L]+","+S[1][M]+" L"+S[2][L]+","+S[2][M]+" L"+S[3][L]+","+S[3][M]+" z";return N}},t.prototype.generateGetBarPoints=function(o,f){var e=this,i=f?e.subXAxis:e.xAxis,u=o.__max__+1,d=e.getBarW(i,u),m=e.getShapeX(d,u,o,!!f),S=e.getShapeY(!!f),L=e.getShapeOffset(e.isBarType,o,!!f),M=d*(e.config.bar_space/2),N=f?e.getSubYScale:e.getYScale;return function(O,H){var z=N.call(e,O.id)(0),nt=L(O,H)||z,Q=m(O),ut=S(O);return e.config.axis_rotated&&(0<O.value&&ut<z||O.value<0&&z<ut)&&(ut=z),ut-=z-nt,[[Q+M,nt],[Q+M,ut],[Q+d-M,ut],[Q+d-M,nt]]}},t.prototype.isWithinBar=function(o,f){return rt(o,w(f),2)},t.prototype.getShapeIndices=function(o){var f=this,e=f.config,i={},u=0,d,m;return f.filterTargetsToShow(f.data.targets.filter(o,f)).forEach(function(S){for(d=0;d<e.data_groups.length;d++)if(!(e.data_groups[d].indexOf(S.id)<0)){for(m=0;m<e.data_groups[d].length;m++)if(e.data_groups[d][m]in i){i[S.id]=i[e.data_groups[d][m]];break}}B(i[S.id])&&(i[S.id]=u++)}),i.__max__=u-1,i},t.prototype.getShapeX=function(o,f,e,i){var u=this,d=i?u.subX:u.x;return function(m){var S=m.id in e?e[m.id]:0;return m.x||m.x===0?d(m.x)-o*(f/2-S):0}},t.prototype.getShapeY=function(o){var f=this;return function(e){var i=o?f.getSubYScale(e.id):f.getYScale(e.id);return i(f.isTargetNormalized(e.id)?f.getRatio("index",e,!0):e.value)}},t.prototype.getShapeOffset=function(o,f,e){var i=this,u=i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(o,i))),d=u.map(function(m){return m.id});return function(m,S){var L=e?i.getSubYScale(m.id):i.getYScale(m.id),M=L(0),N=M;return u.forEach(function(O){var H=i.isStepType(m)?i.convertValuesToStep(O.values):O.values,z=i.isTargetNormalized(m.id),nt=H.map(function(Q){return z?i.getRatio("index",Q,!0):Q.value});O.id===m.id||f[O.id]!==f[m.id]||d.indexOf(O.id)<d.indexOf(m.id)&&((B(H[S])||+H[S].x!=+m.x)&&(S=-1,H.forEach(function(Q,ut){var ct=Q.x.constructor===Date?+Q.x:Q.x,St=m.x.constructor===Date?+m.x:m.x;ct===St&&(S=ut)})),S in H&&H[S].value*m.value>=0&&(N+=L(nt[S])-M))}),N}},t.prototype.isWithinShape=function(o,f){var e=this,i=e.d3.select(o),u;return e.isTargetToShow(f.id)?o.nodeName==="circle"?u=e.isStepType(f)?e.isWithinStep(o,e.getYScale(f.id)(f.value)):e.isWithinCircle(o,e.pointSelectR(f)*1.5):o.nodeName==="path"&&(u=i.classed(W.bar)?e.isWithinBar(e.d3.mouse(o),o):!0):u=!1,u},t.prototype.getInterpolate=function(o){var f=this,e=f.d3,i={linear:e.curveLinear,"linear-closed":e.curveLinearClosed,basis:e.curveBasis,"basis-open":e.curveBasisOpen,"basis-closed":e.curveBasisClosed,bundle:e.curveBundle,cardinal:e.curveCardinal,"cardinal-open":e.curveCardinalOpen,"cardinal-closed":e.curveCardinalClosed,monotone:e.curveMonotoneX,step:e.curveStep,"step-before":e.curveStepBefore,"step-after":e.curveStepAfter},u;return f.isSplineType(o)?u=i[f.config.spline_interpolation_type]||i.cardinal:f.isStepType(o)?u=i[f.config.line_step_type]:u=i.linear,u},t.prototype.initLine=function(){var o=this;o.main.select("."+W.chart).append("g").attr("class",W.chartLines)},t.prototype.updateTargetsForLine=function(o){var f=this,e=f.config,i,u,d=f.classChartLine.bind(f),m=f.classLines.bind(f),S=f.classAreas.bind(f),L=f.classCircles.bind(f),M=f.classFocus.bind(f);i=f.main.select("."+W.chartLines).selectAll("."+W.chartLine).data(o).attr("class",function(N){return d(N)+M(N)}),u=i.enter().append("g").attr("class",d).style("opacity",0).style("pointer-events","none"),u.append("g").attr("class",m),u.append("g").attr("class",S),u.append("g").attr("class",function(N){return f.generateClass(W.selectedCircles,N.id)}),u.append("g").attr("class",L).style("cursor",function(N){return e.data_selection_isselectable(N)?"pointer":null}),o.forEach(function(N){f.main.selectAll("."+W.selectedCircles+f.getTargetSelectorSuffix(N.id)).selectAll("."+W.selectedCircle).each(function(O){O.value=N.values[O.index].value})})},t.prototype.updateLine=function(o){var f=this,e=f.main.selectAll("."+W.lines).selectAll("."+W.line).data(f.lineData.bind(f)),i=e.enter().append("path").attr("class",f.classLine.bind(f)).style("stroke",f.color);f.mainLine=i.merge(e).style("opacity",f.initialOpacity.bind(f)).style("shape-rendering",function(u){return f.isStepType(u)?"crispEdges":""}).attr("transform",null),e.exit().transition().duration(o).style("opacity",0)},t.prototype.redrawLine=function(o,f,e){return[(f?this.mainLine.transition(e):this.mainLine).attr("d",o).style("stroke",this.color).style("opacity",1)]},t.prototype.generateDrawLine=function(o,f){var e=this,i=e.config,u=e.d3.line(),d=e.generateGetLinePoints(o,f),m=f?e.getSubYScale:e.getYScale,S=function(M){return(f?e.subxx:e.xx).call(e,M)},L=function(M,N){return i.data_groups.length>0?d(M,N)[0][1]:m.call(e,M.id)(M.value)};return u=i.axis_rotated?u.x(L).y(S):u.x(S).y(L),i.line_connectNull||(u=u.defined(function(M){return M.value!=null})),function(M){var N=i.line_connectNull?e.filterRemoveNull(M.values):M.values,O=f?e.subX:e.x,H=m.call(e,M.id),z=0,nt=0,Q;return e.isLineType(M)?i.data_regions[M.id]?Q=e.lineWithRegions(N,O,H,i.data_regions[M.id]):(e.isStepType(M)&&(N=e.convertValuesToStep(N)),Q=u.curve(e.getInterpolate(M))(N)):(N[0]&&(z=O(N[0].x),nt=H(N[0].value)),Q=i.axis_rotated?"M "+nt+" "+z:"M "+z+" "+nt),Q||"M 0 0"}},t.prototype.generateGetLinePoints=function(o,f){var e=this,i=e.config,u=o.__max__+1,d=e.getShapeX(0,u,o,!!f),m=e.getShapeY(!!f),S=e.getShapeOffset(e.isLineType,o,!!f),L=f?e.getSubYScale:e.getYScale;return function(M,N){var O=L.call(e,M.id)(0),H=S(M,N)||O,z=d(M),nt=m(M);return i.axis_rotated&&(0<M.value&&nt<O||M.value<0&&O<nt)&&(nt=O),[[z,nt-(O-H)],[z,nt-(O-H)],[z,nt-(O-H)],[z,nt-(O-H)]]}},t.prototype.lineWithRegions=function(o,f,e,i){var u=this,d=u.config,m,S,L="M",M,N,O,H,z,nt,Q,ut,ct=u.isCategorized()?.5:0,St,Ct,It=[];function Dt(Ft,Ht){var Nt;for(Nt=0;Nt<Ht.length;Nt++)if(Ht[Nt].start<Ft&&Ft<=Ht[Nt].end)return!0;return!1}if(E(i))for(m=0;m<i.length;m++)It[m]={},B(i[m].start)?It[m].start=o[0].x:It[m].start=u.isTimeSeries()?u.parseDate(i[m].start):i[m].start,B(i[m].end)?It[m].end=o[o.length-1].x:It[m].end=u.isTimeSeries()?u.parseDate(i[m].end):i[m].end;St=d.axis_rotated?function(Ft){return e(Ft.value)}:function(Ft){return f(Ft.x)},Ct=d.axis_rotated?function(Ft){return f(Ft.x)}:function(Ft){return e(Ft.value)};function Wt(Ft){return"M"+Ft[0][0]+" "+Ft[0][1]+" "+Ft[1][0]+" "+Ft[1][1]}for(u.isTimeSeries()?M=function(Ft,Ht,Nt,Yt){var kt=Ft.x.getTime(),Gt=Ht.x-Ft.x,zt=new Date(kt+Gt*Nt),Xt=new Date(kt+Gt*(Nt+Yt)),de;return d.axis_rotated?de=[[e(O(Nt)),f(zt)],[e(O(Nt+Yt)),f(Xt)]]:de=[[f(zt),e(O(Nt))],[f(Xt),e(O(Nt+Yt))]],Wt(de)}:M=function(Ft,Ht,Nt,Yt){var kt;return d.axis_rotated?kt=[[e(O(Nt),!0),f(N(Nt))],[e(O(Nt+Yt),!0),f(N(Nt+Yt))]]:kt=[[f(N(Nt),!0),e(O(Nt))],[f(N(Nt+Yt),!0),e(O(Nt+Yt))]],Wt(kt)},m=0;m<o.length;m++){if(B(It)||!Dt(o[m].x,It))L+=" "+St(o[m])+" "+Ct(o[m]);else for(N=u.getScale(o[m-1].x+ct,o[m].x+ct,u.isTimeSeries()),O=u.getScale(o[m-1].value,o[m].value),H=f(o[m].x)-f(o[m-1].x),z=e(o[m].value)-e(o[m-1].value),nt=Math.sqrt(Math.pow(H,2)+Math.pow(z,2)),Q=2/nt,ut=Q*2,S=Q;S<=1;S+=ut)L+=M(o[m-1],o[m],S,Q);o[m].x}return L},t.prototype.updateArea=function(o){var f=this,e=f.d3,i=f.main.selectAll("."+W.areas).selectAll("."+W.area).data(f.lineData.bind(f)),u=i.enter().append("path").attr("class",f.classArea.bind(f)).style("fill",f.color).style("opacity",function(){return f.orgAreaOpacity=+e.select(this).style("opacity"),0});f.mainArea=u.merge(i).style("opacity",f.orgAreaOpacity),i.exit().transition().duration(o).style("opacity",0)},t.prototype.redrawArea=function(o,f,e){return[(f?this.mainArea.transition(e):this.mainArea).attr("d",o).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},t.prototype.generateDrawArea=function(o,f){var e=this,i=e.config,u=e.d3.area(),d=e.generateGetAreaPoints(o,f),m=f?e.getSubYScale:e.getYScale,S=function(N){return(f?e.subxx:e.xx).call(e,N)},L=function(N,O){return i.data_groups.length>0?d(N,O)[0][1]:m.call(e,N.id)(e.getAreaBaseValue(N.id))},M=function(N,O){return i.data_groups.length>0?d(N,O)[1][1]:m.call(e,N.id)(N.value)};return u=i.axis_rotated?u.x0(L).x1(M).y(S):u.x(S).y0(i.area_above?0:L).y1(M),i.line_connectNull||(u=u.defined(function(N){return N.value!==null})),function(N){var O=i.line_connectNull?e.filterRemoveNull(N.values):N.values,H=0,z=0,nt;return e.isAreaType(N)?(e.isStepType(N)&&(O=e.convertValuesToStep(O)),nt=u.curve(e.getInterpolate(N))(O)):(O[0]&&(H=e.x(O[0].x),z=e.getYScale(N.id)(O[0].value)),nt=i.axis_rotated?"M "+z+" "+H:"M "+H+" "+z),nt||"M 0 0"}},t.prototype.getAreaBaseValue=function(){return 0},t.prototype.generateGetAreaPoints=function(o,f){var e=this,i=e.config,u=o.__max__+1,d=e.getShapeX(0,u,o,!!f),m=e.getShapeY(!!f),S=e.getShapeOffset(e.isAreaType,o,!!f),L=f?e.getSubYScale:e.getYScale;return function(M,N){var O=L.call(e,M.id)(0),H=S(M,N)||O,z=d(M),nt=m(M);return i.axis_rotated&&(0<M.value&&nt<O||M.value<0&&O<nt)&&(nt=O),[[z,H],[z,nt-(O-H)],[z,nt-(O-H)],[z,H]]}},t.prototype.updateCircle=function(o,f){var e=this,i=e.main.selectAll("."+W.circles).selectAll("."+W.circle).data(e.lineOrScatterOrStanfordData.bind(e)),u=i.enter().append("circle").attr("shape-rendering",e.isStanfordGraphType()?"crispEdges":"").attr("class",e.classCircle.bind(e)).attr("cx",o).attr("cy",f).attr("r",e.pointR.bind(e)).style("color",e.isStanfordGraphType()?e.getStanfordPointColor.bind(e):e.color);e.mainCircle=u.merge(i).style("opacity",e.isStanfordGraphType()?1:e.initialOpacityForCircle.bind(e)),i.exit().style("opacity",0)},t.prototype.redrawCircle=function(o,f,e,i){var u=this,d=u.main.selectAll("."+W.selectedCircle);return[(e?u.mainCircle.transition(i):u.mainCircle).style("opacity",this.opacityForCircle.bind(u)).style("color",u.isStanfordGraphType()?u.getStanfordPointColor.bind(u):u.color).attr("cx",o).attr("cy",f),(e?d.transition(i):d).attr("cx",o).attr("cy",f)]},t.prototype.circleX=function(o){return o.x||o.x===0?this.x(o.x):null},t.prototype.updateCircleY=function(){var o=this,f,e;o.config.data_groups.length>0?(f=o.getShapeIndices(o.isLineType),e=o.generateGetLinePoints(f),o.circleY=function(i,u){return e(i,u)[0][1]}):o.circleY=function(i){return o.getYScale(i.id)(i.value)}},t.prototype.getCircles=function(o,f){var e=this;return(f?e.main.selectAll("."+W.circles+e.getTargetSelectorSuffix(f)):e.main).selectAll("."+W.circle+(Y(o)?"-"+o:""))},t.prototype.expandCircles=function(o,f,e){var i=this,u=i.pointExpandedR.bind(i);e&&i.unexpandCircles(),i.getCircles(o,f).classed(W.EXPANDED,!0).attr("r",u)},t.prototype.unexpandCircles=function(o){var f=this,e=f.pointR.bind(f);f.getCircles(o).filter(function(){return f.d3.select(this).classed(W.EXPANDED)}).classed(W.EXPANDED,!1).attr("r",e)},t.prototype.pointR=function(o){var f=this,e=f.config;return f.isStepType(o)?0:$(e.point_r)?e.point_r(o):e.point_r},t.prototype.pointExpandedR=function(o){var f=this,e=f.config;return e.point_focus_expand_enabled?$(e.point_focus_expand_r)?e.point_focus_expand_r(o):e.point_focus_expand_r?e.point_focus_expand_r:f.pointR(o)*1.75:f.pointR(o)},t.prototype.pointSelectR=function(o){var f=this,e=f.config;return $(e.point_select_r)?e.point_select_r(o):e.point_select_r?e.point_select_r:f.pointR(o)*4},t.prototype.isWithinCircle=function(o,f){var e=this.d3,i=e.mouse(o),u=e.select(o),d=+u.attr("cx"),m=+u.attr("cy");return Math.sqrt(Math.pow(d-i[0],2)+Math.pow(m-i[1],2))<f},t.prototype.isWithinStep=function(o,f){return Math.abs(f-this.d3.mouse(o)[1])<30},t.prototype.getCurrentWidth=function(){var o=this,f=o.config;return f.size_width?f.size_width:o.getParentWidth()},t.prototype.getCurrentHeight=function(){var o=this,f=o.config,e=f.size_height?f.size_height:o.getParentHeight();return e>0?e:320/(o.hasType("gauge")&&!f.gauge_fullCircle?2:1)},t.prototype.getCurrentPaddingTop=function(){var o=this,f=o.config,e=Y(f.padding_top)?f.padding_top:0;return o.title&&o.title.node()&&(e+=o.getTitlePadding()),e},t.prototype.getCurrentPaddingBottom=function(){var o=this.config;return Y(o.padding_bottom)?o.padding_bottom:0},t.prototype.getCurrentPaddingLeft=function(o){var f=this,e=f.config;return Y(e.padding_left)?e.padding_left:e.axis_rotated?!e.axis_x_show||e.axis_x_inner?1:Math.max(l(f.getAxisWidthByAxisId("x",o)),40):!e.axis_y_show||e.axis_y_inner?f.axis.getYAxisLabelPosition().isOuter?30:1:l(f.getAxisWidthByAxisId("y",o))},t.prototype.getCurrentPaddingRight=function(){var o=this,f=o.config,e=0,i=10,u=o.isLegendRight?o.getLegendWidth()+20:0;return Y(f.padding_right)?e=f.padding_right+1:f.axis_rotated?e=i+u:!f.axis_y2_show||f.axis_y2_inner?e=2+u+(o.axis.getY2AxisLabelPosition().isOuter?20:0):e=l(o.getAxisWidthByAxisId("y2"))+u,o.colorScale&&o.colorScale.node()&&(e+=o.getColorScalePadding()),e},t.prototype.getParentRectValue=function(o){for(var f=this.selectChart.node(),e;f&&f.tagName!=="BODY";){try{e=f.getBoundingClientRect()[o]}catch{o==="width"&&(e=f.offsetWidth)}if(e)break;f=f.parentNode}return e},t.prototype.getParentWidth=function(){return this.getParentRectValue("width")},t.prototype.getParentHeight=function(){var o=this.selectChart.style("height");return o.indexOf("px")>0?+o.replace("px",""):0},t.prototype.getSvgLeft=function(o){var f=this,e=f.config,i=e.axis_rotated||!e.axis_rotated&&!e.axis_y_inner,u=e.axis_rotated?W.axisX:W.axisY,d=f.main.select("."+u).node(),m=d&&i?d.getBoundingClientRect():{right:0},S=f.selectChart.node().getBoundingClientRect(),L=f.hasArcType(),M=m.right-S.left-(L?0:f.getCurrentPaddingLeft(o));return M>0?M:0},t.prototype.getAxisWidthByAxisId=function(o,f){var e=this,i=e.axis.getLabelPositionById(o);return e.axis.getMaxTickWidth(o,f)+(i.isInner?20:40)},t.prototype.getHorizontalAxisHeight=function(o,f){var e=this,i=e.config,u=30;return o==="x"&&!(E(f)&&f?i.subchart_axis_x_show:i.axis_x_show)?8:o==="x"&&i.axis_x_height?i.axis_x_height:o==="y"&&!i.axis_y_show?i.legend_show&&!e.isLegendRight&&!e.isLegendInset?10:1:o==="y2"&&!i.axis_y2_show?e.rotated_padding_top:(o==="x"&&!i.axis_rotated&&i.axis_x_tick_rotate&&(u=30+e.axis.getMaxTickWidth(o)*Math.cos(Math.PI*(90-Math.abs(i.axis_x_tick_rotate))/180)),o==="y"&&i.axis_rotated&&i.axis_y_tick_rotate&&(u=30+e.axis.getMaxTickWidth(o)*Math.cos(Math.PI*(90-Math.abs(i.axis_y_tick_rotate))/180)),u+(e.axis.getLabelPositionById(o).isInner?0:10)+(o==="y2"?-10:0))},t.prototype.initBrush=function(o){var f=this,e=f.d3;return f.brush=(f.config.axis_rotated?e.brushY():e.brushX()).on("brush",function(){var i=e.event.sourceEvent;i&&i.type==="zoom"||f.redrawForBrush()}).on("end",function(){var i=e.event.sourceEvent;i&&i.type==="zoom"||f.brush.empty()&&i&&i.type!=="end"&&f.brush.clear()}),f.brush.updateExtent=function(){var i=this.scale.range(),u;return f.config.axis_rotated?u=[[0,i[0]],[f.width2,i[1]]]:u=[[i[0],0],[i[1],f.height2]],this.extent(u),this},f.brush.updateScale=function(i){return this.scale=i,this},f.brush.update=function(i){this.updateScale(i||f.subX).updateExtent(),f.context.select("."+W.brush).call(this)},f.brush.clear=function(){f.context.select("."+W.brush).call(f.brush.move,null)},f.brush.selection=function(){return e.brushSelection(f.context.select("."+W.brush).node())},f.brush.selectionAsValue=function(i,u){var d,m;return i?(f.context&&(d=[this.scale(i[0]),this.scale(i[1])],m=f.context.select("."+W.brush),u&&(m=m.transition()),f.brush.move(m,d)),[]):(d=f.brush.selection()||[0,0],[this.scale.invert(d[0]),this.scale.invert(d[1])])},f.brush.empty=function(){var i=f.brush.selection();return!i||i[0]===i[1]},f.brush.updateScale(o)},t.prototype.initSubchart=function(){var o=this,f=o.config,e=o.context=o.svg.append("g").attr("transform",o.getTranslate("context"));e.style("visibility","visible"),e.append("g").attr("clip-path",o.clipPathForSubchart).attr("class",W.chart),e.select("."+W.chart).append("g").attr("class",W.chartBars),e.select("."+W.chart).append("g").attr("class",W.chartLines),e.append("g").attr("clip-path",o.clipPath).attr("class",W.brush),o.axes.subx=e.append("g").attr("class",W.axisX).attr("transform",o.getTranslate("subx")).attr("clip-path",f.axis_rotated?"":o.clipPathForXAxis).style("visibility",f.subchart_axis_x_show?"visible":"hidden")},t.prototype.initSubchartBrush=function(){var o=this;o.initBrush(o.subX).updateExtent(),o.context.select("."+W.brush).call(o.brush)},t.prototype.updateTargetsForSubchart=function(o){var f=this,e=f.context,i=f.config,u,d,m,S,L=f.classChartBar.bind(f),M=f.classBars.bind(f),N=f.classChartLine.bind(f),O=f.classLines.bind(f),H=f.classAreas.bind(f);S=e.select("."+W.chartBars).selectAll("."+W.chartBar).data(o),m=S.enter().append("g").style("opacity",0),m.merge(S).attr("class",L),m.append("g").attr("class",M),d=e.select("."+W.chartLines).selectAll("."+W.chartLine).data(o),u=d.enter().append("g").style("opacity",0),u.merge(d).attr("class",N),u.append("g").attr("class",O),u.append("g").attr("class",H),e.selectAll("."+W.brush+" rect").attr(i.axis_rotated?"width":"height",i.axis_rotated?f.width2:f.height2)},t.prototype.updateBarForSubchart=function(o){var f=this,e=f.context.selectAll("."+W.bars).selectAll("."+W.bar).data(f.barData.bind(f)),i=e.enter().append("path").attr("class",f.classBar.bind(f)).style("stroke","none").style("fill",f.color);e.exit().transition().duration(o).style("opacity",0).remove(),f.contextBar=i.merge(e).style("opacity",f.initialOpacity.bind(f))},t.prototype.redrawBarForSubchart=function(o,f,e){(f?this.contextBar.transition(Math.random().toString()).duration(e):this.contextBar).attr("d",o).style("opacity",1)},t.prototype.updateLineForSubchart=function(o){var f=this,e=f.context.selectAll("."+W.lines).selectAll("."+W.line).data(f.lineData.bind(f)),i=e.enter().append("path").attr("class",f.classLine.bind(f)).style("stroke",f.color);e.exit().transition().duration(o).style("opacity",0).remove(),f.contextLine=i.merge(e).style("opacity",f.initialOpacity.bind(f))},t.prototype.redrawLineForSubchart=function(o,f,e){(f?this.contextLine.transition(Math.random().toString()).duration(e):this.contextLine).attr("d",o).style("opacity",1)},t.prototype.updateAreaForSubchart=function(o){var f=this,e=f.d3,i=f.context.selectAll("."+W.areas).selectAll("."+W.area).data(f.lineData.bind(f)),u=i.enter().append("path").attr("class",f.classArea.bind(f)).style("fill",f.color).style("opacity",function(){return f.orgAreaOpacity=+e.select(this).style("opacity"),0});i.exit().transition().duration(o).style("opacity",0).remove(),f.contextArea=u.merge(i).style("opacity",0)},t.prototype.redrawAreaForSubchart=function(o,f,e){(f?this.contextArea.transition(Math.random().toString()).duration(e):this.contextArea).attr("d",o).style("fill",this.color).style("opacity",this.orgAreaOpacity)},t.prototype.redrawSubchart=function(o,f,e,i,u,d,m){var S=this,L=S.d3,M,N,O;L.event&&L.event.type==="zoom"&&S.brush.selectionAsValue(S.x.orgDomain()),o&&(S.brush.empty()||S.brush.selectionAsValue(S.x.orgDomain()),M=S.generateDrawArea(u,!0),N=S.generateDrawBar(d,!0),O=S.generateDrawLine(m,!0),S.updateBarForSubchart(e),S.updateLineForSubchart(e),S.updateAreaForSubchart(e),S.redrawBarForSubchart(N,e,e),S.redrawLineForSubchart(O,e,e),S.redrawAreaForSubchart(M,e,e))},t.prototype.redrawForBrush=function(){var o=this,f=o.x,e=o.d3,i;o.redraw({withTransition:!1,withY:o.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),i=e.event.selection||o.brush.scale.range(),o.main.select("."+W.eventRect).call(o.zoom.transform,e.zoomIdentity.scale(o.width/(i[1]-i[0])).translate(-i[0],0)),o.config.subchart_onbrush.call(o.api,f.orgDomain())},t.prototype.transformContext=function(o,f){var e=this,i;f&&f.axisSubX?i=f.axisSubX:(i=e.context.select("."+W.axisX),o&&(i=i.transition())),e.context.attr("transform",e.getTranslate("context")),i.attr("transform",e.getTranslate("subx"))},t.prototype.getDefaultSelection=function(){var o=this,f=o.config,e=$(f.axis_x_selection)?f.axis_x_selection(o.getXDomain(o.data.targets)):f.axis_x_selection;return o.isTimeSeries()&&(e=[o.parseDate(e[0]),o.parseDate(e[1])]),e},t.prototype.removeSubchart=function(){var o=this;o.brush=null,o.context.remove(),o.context=null},t.prototype.initText=function(){var o=this;o.main.select("."+W.chart).append("g").attr("class",W.chartTexts),o.mainText=o.d3.selectAll([])},t.prototype.updateTargetsForText=function(o){var f=this,e=f.classChartText.bind(f),i=f.classTexts.bind(f),u=f.classFocus.bind(f),d=f.main.select("."+W.chartTexts).selectAll("."+W.chartText).data(o),m=d.enter().append("g").attr("class",e).style("opacity",0).style("pointer-events","none");m.append("g").attr("class",i),m.merge(d).attr("class",function(S){return e(S)+u(S)})},t.prototype.updateText=function(o,f,e){var i=this,u=i.config,d=i.barOrLineData.bind(i),m=i.classText.bind(i),S=i.main.selectAll("."+W.texts).selectAll("."+W.text).data(d),L=S.enter().append("text").attr("class",m).attr("text-anchor",function(M){return u.axis_rotated?M.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",o).attr("y",f).style("fill",function(M){return i.color(M)}).style("fill-opacity",0);i.mainText=L.merge(S).text(function(M,N,O){return i.dataLabelFormat(M.id)(M.value,M.id,N,O)}),S.exit().transition().duration(e).style("fill-opacity",0).remove()},t.prototype.redrawText=function(o,f,e,i,u){return[(i?this.mainText.transition(u):this.mainText).attr("x",o).attr("y",f).style("fill",this.color).style("fill-opacity",e?0:this.opacityForText.bind(this))]},t.prototype.getTextRect=function(o,f,e){var i=this.d3.select("body").append("div").classed("c3",!0),u=i.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),d=this.d3.select(e).style("font"),m;return u.selectAll(".dummy").data([o]).enter().append("text").classed(f||"",!0).style("font",d).text(o).each(function(){m=w(this)}),i.remove(),m},t.prototype.generateXYForText=function(o,f,e,i){var u=this,d=u.generateGetAreaPoints(o,!1),m=u.generateGetBarPoints(f,!1),S=u.generateGetLinePoints(e,!1),L=i?u.getXForText:u.getYForText;return function(M,N){var O=u.isAreaType(M)?d:u.isBarType(M)?m:S;return L.call(u,O(M,N),M,this)}},t.prototype.getXForText=function(o,f,e){var i=this,u=w(e),d,m;return i.config.axis_rotated?(m=i.isBarType(f)?4:6,d=o[2][1]+m*(f.value<0?-1:1)):d=i.hasType("bar")?(o[2][0]+o[0][0])/2:o[0][0],f.value===null&&(d>i.width?d=i.width-u.width:d<0&&(d=4)),d},t.prototype.getYForText=function(o,f,e){var i=this,u=w(e),d;return i.config.axis_rotated?d=(o[0][0]+o[2][0]+u.height*.6)/2:(d=o[2][1],f.value<0||f.value===0&&!i.hasPositiveValue?(d+=u.height,i.isBarType(f)&&i.isSafari()?d-=3:!i.isBarType(f)&&i.isChrome()&&(d+=3)):d+=i.isBarType(f)?-3:-6),f.value===null&&!i.config.axis_rotated&&(d<u.height?d=u.height:d>this.height&&(d=this.height-4)),d},t.prototype.initTitle=function(){var o=this;o.title=o.svg.append("text").text(o.config.title_text).attr("class",o.CLASS.title)},t.prototype.redrawTitle=function(){var o=this;o.title.attr("x",o.xForTitle.bind(o)).attr("y",o.yForTitle.bind(o))},t.prototype.xForTitle=function(){var o=this,f=o.config,e=f.title_position||"left",i;return e.indexOf("right")>=0?i=o.currentWidth-o.getTextRect(o.title.node().textContent,o.CLASS.title,o.title.node()).width-f.title_padding.right:e.indexOf("center")>=0?i=Math.max((o.currentWidth-o.getTextRect(o.title.node().textContent,o.CLASS.title,o.title.node()).width)/2,0):i=f.title_padding.left,i},t.prototype.yForTitle=function(){var o=this;return o.config.title_padding.top+o.getTextRect(o.title.node().textContent,o.CLASS.title,o.title.node()).height},t.prototype.getTitlePadding=function(){var o=this;return o.yForTitle()+o.config.title_padding.bottom};function _t(o){return o/Math.pow(10,Math.ceil(Math.log(o)/Math.LN10-1e-12))===1}t.prototype.drawColorScale=function(){var o=this,f=o.d3,e=o.config,i=o.data.targets[0],u,d,m,S,L,M,N,O;if(u=isNaN(e.stanford_scaleWidth)?20:e.stanford_scaleWidth,d=5,d<0||u<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");O=o.height-e.stanford_padding.bottom-e.stanford_padding.top,S=f.range(e.stanford_padding.bottom,O,d),N=f.scaleSequential(i.colors).domain([S[S.length-1],S[0]]),o.colorScale&&o.colorScale.remove(),o.colorScale=o.svg.append("g").attr("width",50).attr("height",O).attr("class",W.colorScale),o.colorScale.append("g").attr("transform","translate(0, "+e.stanford_padding.top+")").selectAll("bars").data(S).enter().append("rect").attr("y",function(H,z){return z*d}).attr("x",0).attr("width",u).attr("height",d).attr("fill",function(H){return N(H)}),M=f.scaleLog().domain([i.minEpochs,i.maxEpochs]).range([S[0]+e.stanford_padding.top+S[S.length-1]+d-1,S[0]+e.stanford_padding.top]),L=f.axisRight(M),e.stanford_scaleFormat==="pow10"?L.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):$(e.stanford_scaleFormat)?L.tickFormat(e.stanford_scaleFormat):L.tickFormat(f.format("d")),$(e.stanford_scaleValues)&&L.tickValues(e.stanford_scaleValues(i.minEpochs,i.maxEpochs)),m=o.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+u+",0)").call(L),e.stanford_scaleFormat==="pow10"&&m.selectAll(".tick text").text(null).filter(_t).text(10).append("tspan").attr("dy","-.7em").text(function(H){return Math.round(Math.log(H)/Math.LN10)}),o.colorScale.attr("transform","translate("+(o.currentWidth-o.xForColorScale())+", 0)")},t.prototype.xForColorScale=function(){var o=this;return o.config.stanford_padding.right+w(o.colorScale.node()).width},t.prototype.getColorScalePadding=function(){var o=this;return o.xForColorScale()+o.config.stanford_padding.left+20},t.prototype.isStanfordGraphType=function(){var o=this;return o.config.data_type==="stanford"},t.prototype.initStanfordData=function(){var o=this,f=o.d3,e=o.config,i=o.data.targets[0],u,d,m;if(i.values.sort(Lt),u=i.values.map(function(S){return S.epochs}),m=isNaN(e.stanford_scaleMin)?f.min(u):e.stanford_scaleMin,d=isNaN(e.stanford_scaleMax)?f.max(u):e.stanford_scaleMax,m>d)throw Error("Number of minEpochs has to be smaller than maxEpochs");i.colors=$(e.stanford_colors)?e.stanford_colors:f.interpolateHslLong(f.hsl(250,1,.5),f.hsl(0,1,.5)),i.colorscale=f.scaleSequentialLog(i.colors).domain([m,d]),i.minEpochs=m,i.maxEpochs=d},t.prototype.getStanfordPointColor=function(o){var f=this,e=f.data.targets[0];return e.colorscale(o.epochs)},t.prototype.getCentroid=function(o){var f=Mt(o),e=0,i=0,u,d,m,S,L;for(u=0,d=o.length-1;u<o.length;d=u,u+=1)S=o[u],L=o[d],m=S.x*L.y-L.x*S.y,e+=(S.x+L.x)*m,i+=(S.y+L.y)*m;return m=f*6,{x:e/m,y:i/m}},t.prototype.getStanfordTooltipTitle=function(o){var f=this,e=f.axis.getLabelText("x"),i=f.axis.getLabelText("y");return`
      <tr><th>`+(e?tt(e):"x")+"</th><th class='value'>"+o.x+`</th></tr>
      <tr><th>`+(i?tt(i):"y")+"</th><th class='value'>"+o.value+`</th></tr>
    `},t.prototype.countEpochsInRegion=function(o){var f=this,e=f.data.targets[0],i,u;return i=e.values.reduce(function(d,m){return d+Number(m.epochs)},0),u=e.values.reduce(function(d,m){return pt(m,o)?d+Number(m.epochs):d},0),{value:u,percentage:u!==0?(u/i*100).toFixed(1):0}};var Mt=function(o){var f=0,e,i,u,d;for(e=0,i=o.length-1;e<o.length;i=e,e+=1)u=o[e],d=o[i],f+=u.x*d.y,f-=u.y*d.x;return f/=2,f},pt=function(o,f){for(var e,i,u,d,m,S=o.x,L=o.value,M=!1,N=0,O=f.length-1;N<f.length;O=N++)e=f[N].x,i=f[N].y,d=f[O].x,u=f[O].y,m=i>L!=u>L&&S<(d-e)*(L-i)/(u-i)+e,m&&(M=!M);return M},Lt=function(o,f){return o.epochs<f.epochs?-1:o.epochs>f.epochs?1:0};return t.prototype.initStanfordElements=function(){var o=this;o.stanfordElements=o.main.select("."+W.chart).append("g").attr("class",W.stanfordElements),o.stanfordElements.append("g").attr("class",W.stanfordLines),o.stanfordElements.append("g").attr("class",W.stanfordTexts),o.stanfordElements.append("g").attr("class",W.stanfordRegions)},t.prototype.updateStanfordElements=function(o){var f=this,e=f.main,i=f.config,u,d,m,S,L,M,N=f.xvCustom.bind(f),O=f.yvCustom.bind(f),H=f.countEpochsInRegion.bind(f);u=e.select("."+W.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+W.stanfordLine).data(i.stanford_lines),d=u.enter().append("g").attr("class",function(z){return W.stanfordLine+(z.class?" "+z.class:"")}),d.append("line").attr("x1",function(z){return i.axis_rotated?O(z,"value_y1"):N(z,"value_x1")}).attr("x2",function(z){return i.axis_rotated?O(z,"value_y2"):N(z,"value_x2")}).attr("y1",function(z){return i.axis_rotated?N(z,"value_x1"):O(z,"value_y1")}).attr("y2",function(z){return i.axis_rotated?N(z,"value_x2"):O(z,"value_y2")}).style("opacity",0),f.stanfordLines=d.merge(u),f.stanfordLines.select("line").transition().duration(o).attr("x1",function(z){return i.axis_rotated?O(z,"value_y1"):N(z,"value_x1")}).attr("x2",function(z){return i.axis_rotated?O(z,"value_y2"):N(z,"value_x2")}).attr("y1",function(z){return i.axis_rotated?N(z,"value_x1"):O(z,"value_y1")}).attr("y2",function(z){return i.axis_rotated?N(z,"value_x2"):O(z,"value_y2")}).style("opacity",1),u.exit().transition().duration(o).style("opacity",0).remove(),L=e.select("."+W.stanfordTexts).selectAll("."+W.stanfordText).data(i.stanford_texts),M=L.enter().append("g").attr("class",function(z){return W.stanfordText+(z.class?" "+z.class:"")}),M.append("text").attr("x",function(z){return i.axis_rotated?O(z,"y"):N(z,"x")}).attr("y",function(z){return i.axis_rotated?N(z,"x"):O(z,"y")}).style("opacity",0),f.stanfordTexts=M.merge(L),f.stanfordTexts.select("text").transition().duration(o).attr("x",function(z){return i.axis_rotated?O(z,"y"):N(z,"x")}).attr("y",function(z){return i.axis_rotated?N(z,"x"):O(z,"y")}).text(function(z){return z.content}).style("opacity",1),L.exit().transition().duration(o).style("opacity",0).remove(),m=e.select("."+W.stanfordRegions).selectAll("."+W.stanfordRegion).data(i.stanford_regions),S=m.enter().append("g").attr("class",function(z){return W.stanfordRegion+(z.class?" "+z.class:"")}),S.append("polygon").attr("points",function(z){return z.points.map(function(nt){return[i.axis_rotated?O(nt,"y"):N(nt,"x"),i.axis_rotated?N(nt,"x"):O(nt,"y")].join(",")}).join(" ")}).style("opacity",0),S.append("text").attr("x",function(z){return f.getCentroid(z.points).x}).attr("y",function(z){return f.getCentroid(z.points).y}).style("opacity",0),f.stanfordRegions=S.merge(m),f.stanfordRegions.select("polygon").transition().duration(o).attr("points",function(z){return z.points.map(function(nt){return[i.axis_rotated?O(nt,"y"):N(nt,"x"),i.axis_rotated?N(nt,"x"):O(nt,"y")].join(",")}).join(" ")}).style("opacity",function(z){return z.opacity?z.opacity:.2}),f.stanfordRegions.select("text").transition().duration(o).attr("x",function(z){return i.axis_rotated?O(f.getCentroid(z.points),"y"):N(f.getCentroid(z.points),"x")}).attr("y",function(z){return i.axis_rotated?N(f.getCentroid(z.points),"x"):O(f.getCentroid(z.points),"y")}).text(function(z){if(z.text){var nt,Q,ut;return f.isStanfordGraphType()&&(ut=H(z.points),nt=ut.value,Q=ut.percentage),z.text(nt,Q)}return""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),m.exit().transition().duration(o).style("opacity",0).remove()},t.prototype.initTooltip=function(){var o=this,f=o.config,e;if(o.tooltip=o.selectChart.style("position","relative").append("div").attr("class",W.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),f.tooltip_init_show){if(o.isTimeSeries()&&X(f.tooltip_init_x)){for(f.tooltip_init_x=o.parseDate(f.tooltip_init_x),e=0;e<o.data.targets[0].values.length&&o.data.targets[0].values[e].x-f.tooltip_init_x!==0;e++);f.tooltip_init_x=e}o.tooltip.html(f.tooltip_contents.call(o,o.data.targets.map(function(i){return o.addName(i.values[f.tooltip_init_x])}),o.axis.getXAxisTickFormat(),o.getYFormat(o.hasArcType()),o.color)),o.tooltip.style("top",f.tooltip_init_position.top).style("left",f.tooltip_init_position.left).style("display","block")}},t.prototype.getTooltipSortFunction=function(){var o=this,f=o.config;if(f.data_groups.length===0||f.tooltip_order!==void 0){var e=f.tooltip_order;e===void 0&&(e=f.data_order);var i=function(m){return m?m.value:null};if(X(e)&&e.toLowerCase()==="asc")return function(m,S){return i(m)-i(S)};if(X(e)&&e.toLowerCase()==="desc")return function(m,S){return i(S)-i(m)};if($(e)){var u=e;return f.tooltip_order===void 0&&(u=function(m,S){return e(m?{id:m.id,values:[m]}:null,S?{id:S.id,values:[S]}:null)}),u}else if(P(e))return function(m,S){return e.indexOf(m.id)-e.indexOf(S.id)}}else{var d=o.orderTargets(o.data.targets).map(function(m){return m.id});return(o.isOrderAsc()||o.isOrderDesc())&&(d=d.reverse()),function(m,S){return d.indexOf(m.id)-d.indexOf(S.id)}}},t.prototype.getTooltipContent=function(o,f,e,i){var u=this,d=u.config,m=d.tooltip_format_title||f,S=d.tooltip_format_name||function(ut){return ut},L,M,N,O,H,z,nt=d.tooltip_format_value;nt||(nt=u.isTargetNormalized(o.id)?function(ut,ct){return(ct*100).toFixed(2)+"%"}:e);var Q=this.getTooltipSortFunction();for(Q&&o.sort(Q),M=0;M<o.length;M++)if(o[M]&&(o[M].value||o[M].value===0)){if(u.isStanfordGraphType())L||(N=u.getStanfordTooltipTitle(o[M]),L="<table class='"+u.CLASS.tooltip+"'>"+N),z=u.getStanfordPointColor(o[M]),H=tt(d.data_epochs),O=o[M].epochs;else if(L||(N=tt(m?m(o[M].x,o[M].index):o[M].x),L="<table class='"+u.CLASS.tooltip+"'>"+(N||N===0?"<tr><th colspan='2'>"+N+"</th></tr>":"")),O=tt(nt(o[M].value,o[M].ratio,o[M].id,o[M].index,o)),O!==void 0){if(o[M].name===null)continue;H=tt(S(o[M].name,o[M].ratio,o[M].id,o[M].index)),z=u.levelColor?u.levelColor(o[M].value):i(o[M].id)}O!==void 0&&(L+="<tr class='"+u.CLASS.tooltipName+"-"+u.getTargetSelectorSuffix(o[M].id)+"'>",L+="<td class='name'><span style='background-color:"+z+"'></span>"+H+"</td>",L+="<td class='value'>"+O+"</td>",L+="</tr>")}return L+"</table>"},t.prototype.tooltipPosition=function(o,f,e,i){var u=this,d=u.config,m=u.d3,S,L,M,N,O,H=u.hasArcType(),z=m.mouse(i);return H?(L=(u.width-(u.isLegendRight?u.getLegendWidth():0))/2+z[0],N=(u.hasType("gauge")?u.height:u.height/2)+z[1]+20):(S=u.getSvgLeft(!0),d.axis_rotated?(L=S+z[0]+100,M=L+f,O=u.currentWidth-u.getCurrentPaddingRight(),N=u.x(o[0].x)+20):(L=S+u.getCurrentPaddingLeft(!0)+u.x(o[0].x)+20,M=L+f,O=S+u.currentWidth-u.getCurrentPaddingRight(),N=z[1]+15),M>O&&(L-=M-O+20),N+e>u.currentHeight&&(N-=e+30)),N<0&&(N=0),{top:N,left:L}},t.prototype.showTooltip=function(o,f){var e=this,i=e.config,u,d,m,S=e.hasArcType(),L=o.filter(function(N){return N&&Y(N.value)}),M=i.tooltip_position||t.prototype.tooltipPosition;if(L.length===0||!i.tooltip_show){e.hideTooltip();return}e.tooltip.html(i.tooltip_contents.call(e,o,e.axis.getXAxisTickFormat(),e.getYFormat(S),e.color)).style("display","block"),u=e.tooltip.property("offsetWidth"),d=e.tooltip.property("offsetHeight"),m=M.call(this,L,u,d,f),e.tooltip.style("top",m.top+"px").style("left",m.left+"px")},t.prototype.hideTooltip=function(){this.tooltip.style("display","none")},t.prototype.setTargetType=function(o,f){var e=this,i=e.config;e.mapToTargetIds(o).forEach(function(u){e.withoutFadeIn[u]=f===i.data_types[u],i.data_types[u]=f}),o||(i.data_type=f)},t.prototype.hasType=function(o,f){var e=this,i=e.config.data_types,u=!1;return f=f||e.data.targets,f&&f.length?f.forEach(function(d){var m=i[d.id];(m&&m.indexOf(o)>=0||!m&&o==="line")&&(u=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(d){i[d]===o&&(u=!0)}):u=e.config.data_type===o,u},t.prototype.hasArcType=function(o){return this.hasType("pie",o)||this.hasType("donut",o)||this.hasType("gauge",o)},t.prototype.isLineType=function(o){var f=this.config,e=X(o)?o:o.id;return!f.data_types[e]||["line","spline","area","area-spline","step","area-step"].indexOf(f.data_types[e])>=0},t.prototype.isStepType=function(o){var f=X(o)?o:o.id;return["step","area-step"].indexOf(this.config.data_types[f])>=0},t.prototype.isSplineType=function(o){var f=X(o)?o:o.id;return["spline","area-spline"].indexOf(this.config.data_types[f])>=0},t.prototype.isAreaType=function(o){var f=X(o)?o:o.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[f])>=0},t.prototype.isBarType=function(o){var f=X(o)?o:o.id;return this.config.data_types[f]==="bar"},t.prototype.isScatterType=function(o){var f=X(o)?o:o.id;return this.config.data_types[f]==="scatter"},t.prototype.isStanfordType=function(o){var f=X(o)?o:o.id;return this.config.data_types[f]==="stanford"},t.prototype.isPieType=function(o){var f=X(o)?o:o.id;return this.config.data_types[f]==="pie"},t.prototype.isGaugeType=function(o){var f=X(o)?o:o.id;return this.config.data_types[f]==="gauge"},t.prototype.isDonutType=function(o){var f=X(o)?o:o.id;return this.config.data_types[f]==="donut"},t.prototype.isArcType=function(o){return this.isPieType(o)||this.isDonutType(o)||this.isGaugeType(o)},t.prototype.lineData=function(o){return this.isLineType(o)?[o]:[]},t.prototype.arcData=function(o){return this.isArcType(o.data)?[o]:[]},t.prototype.barData=function(o){return this.isBarType(o)?o.values:[]},t.prototype.lineOrScatterOrStanfordData=function(o){return this.isLineType(o)||this.isScatterType(o)||this.isStanfordType(o)?o.values:[]},t.prototype.barOrLineData=function(o){return this.isBarType(o)||this.isLineType(o)?o.values:[]},t.prototype.isSafari=function(){var o=window.navigator.userAgent;return o.indexOf("Safari")>=0&&o.indexOf("Chrome")<0},t.prototype.isChrome=function(){var o=window.navigator.userAgent;return o.indexOf("Chrome")>=0},t.prototype.initZoom=function(){var o=this,f=o.d3,e=o.config,i;return o.zoom=f.zoom().on("start",function(){if(e.zoom_type==="scroll"){var u=f.event.sourceEvent;u&&u.type==="brush"||(i=u,e.zoom_onzoomstart.call(o.api,u))}}).on("zoom",function(){if(e.zoom_type==="scroll"){var u=f.event.sourceEvent;u&&u.type==="brush"||(o.redrawForZoom(),e.zoom_onzoom.call(o.api,o.x.orgDomain()))}}).on("end",function(){if(e.zoom_type==="scroll"){var u=f.event.sourceEvent;u&&u.type==="brush"||u&&i.clientX===u.clientX&&i.clientY===u.clientY||e.zoom_onzoomend.call(o.api,o.x.orgDomain())}}),o.zoom.updateDomain=function(){return f.event&&f.event.transform&&(e.axis_rotated&&e.zoom_type==="scroll"&&f.event.sourceEvent.type==="mousemove"?o.x.domain(f.event.transform.rescaleY(o.subX).domain()):o.x.domain(f.event.transform.rescaleX(o.subX).domain())),this},o.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[o.width,o.height]]).extent([[0,0],[o.width,o.height]]),this},o.zoom.update=function(){return this.updateExtent().updateDomain()},o.zoom.updateExtent()},t.prototype.zoomTransform=function(o){var f=this,e=[f.x(o[0]),f.x(o[1])];return f.d3.zoomIdentity.scale(f.width/(e[1]-e[0])).translate(-e[0],0)},t.prototype.initDragZoom=function(){var o=this,f=o.d3,e=o.config,i=o.context=o.svg,u=o.margin.left+20.5,d=o.margin.top+.5;if(e.zoom_type==="drag"&&e.zoom_enabled){var m=function(L){return L&&L.map(function(M){return o.x.invert(M)})},S=o.dragZoomBrush=f.brushX().on("start",function(){o.api.unzoom(),o.svg.select("."+W.dragZoom).classed("disabled",!1),e.zoom_onzoomstart.call(o.api,f.event.sourceEvent)}).on("brush",function(){e.zoom_onzoom.call(o.api,m(f.event.selection))}).on("end",function(){if(f.event.selection!=null){var L=m(f.event.selection);e.zoom_disableDefaultBehavior||o.api.zoom(L),o.svg.select("."+W.dragZoom).classed("disabled",!0),e.zoom_onzoomend.call(o.api,L)}});i.append("g").classed(W.dragZoom,!0).attr("clip-path",o.clipPath).attr("transform","translate("+u+","+d+")").call(S)}},t.prototype.getZoomDomain=function(){var o=this,f=o.config,e=o.d3,i=e.min([o.orgXDomain[0],f.zoom_x_min]),u=e.max([o.orgXDomain[1],f.zoom_x_max]);return[i,u]},t.prototype.redrawForZoom=function(){var o=this,f=o.d3,e=o.config,i=o.zoom,u=o.x;e.zoom_enabled&&o.filterTargetsToShow(o.data.targets).length!==0&&(i.update(),!e.zoom_disableDefaultBehavior&&(o.isCategorized()&&u.orgDomain()[0]===o.orgXDomain[0]&&u.domain([o.orgXDomain[0]-1e-10,u.orgDomain()[1]]),o.redraw({withTransition:!1,withY:e.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),f.event.sourceEvent&&f.event.sourceEvent.type==="mousemove"&&(o.cancelClick=!0)))},vt});(function(t,r){typeof Ph=="object"&&typeof Ch<"u"?r(Ph):typeof define=="function"&&define.amd?define(["exports"],r):(t=t||self,r(t.d3=t.d3||{}))})(void 0,function(t){var r="5.16.0";function s(n,a){return n<a?-1:n>a?1:n>=a?0:NaN}function l(n){return n.length===1&&(n=g(n)),{left:function(a,c,h,p){for(h==null&&(h=0),p==null&&(p=a.length);h<p;){var _=h+p>>>1;n(a[_],c)<0?h=_+1:p=_}return h},right:function(a,c,h,p){for(h==null&&(h=0),p==null&&(p=a.length);h<p;){var _=h+p>>>1;n(a[_],c)>0?p=_:h=_+1}return h}}}function g(n){return function(a,c){return s(n(a),c)}}var y=l(s),v=y.right,w=y.left;function T(n,a){a==null&&(a=P);for(var c=0,h=n.length-1,p=n[0],_=new Array(h<0?0:h);c<h;)_[c]=a(p,p=n[++c]);return _}function P(n,a){return[n,a]}function E(n,a,c){var h=n.length,p=a.length,_=new Array(h*p),x,b,A,C;for(c==null&&(c=P),x=A=0;x<h;++x)for(C=n[x],b=0;b<p;++b,++A)_[A]=c(C,a[b]);return _}function V(n,a){return a<n?-1:a>n?1:a>=n?0:NaN}function $(n){return n===null?NaN:+n}function I(n,a){var c=n.length,h=0,p=-1,_=0,x,b,A=0;if(a==null)for(;++p<c;)isNaN(x=$(n[p]))||(b=x-_,_+=b/++h,A+=b*(x-_));else for(;++p<c;)isNaN(x=$(a(n[p],p,n)))||(b=x-_,_+=b/++h,A+=b*(x-_));if(h>1)return A/(h-1)}function X(n,a){var c=I(n,a);return c&&Math.sqrt(c)}function B(n,a){var c=n.length,h=-1,p,_,x;if(a==null){for(;++h<c;)if((p=n[h])!=null&&p>=p)for(_=x=p;++h<c;)(p=n[h])!=null&&(_>p&&(_=p),x<p&&(x=p))}else for(;++h<c;)if((p=a(n[h],h,n))!=null&&p>=p)for(_=x=p;++h<c;)(p=a(n[h],h,n))!=null&&(_>p&&(_=p),x<p&&(x=p));return[_,x]}var Y=Array.prototype,Z=Y.slice,tt=Y.map;function J(n){return function(){return n}}function rt(n){return n}function ft(n,a,c){n=+n,a=+a,c=(p=arguments.length)<2?(a=n,n=0,1):p<3?1:+c;for(var h=-1,p=Math.max(0,Math.ceil((a-n)/c))|0,_=new Array(p);++h<p;)_[h]=n+h*c;return _}var gt=Math.sqrt(50),lt=Math.sqrt(10),W=Math.sqrt(2);function dt(n,a,c){var h,p=-1,_,x,b;if(a=+a,n=+n,c=+c,n===a&&c>0)return[n];if((h=a<n)&&(_=n,n=a,a=_),(b=F(n,a,c))===0||!isFinite(b))return[];if(b>0)for(n=Math.ceil(n/b),a=Math.floor(a/b),x=new Array(_=Math.ceil(a-n+1));++p<_;)x[p]=(n+p)*b;else for(n=Math.floor(n*b),a=Math.ceil(a*b),x=new Array(_=Math.ceil(n-a+1));++p<_;)x[p]=(n-p)/b;return h&&x.reverse(),x}function F(n,a,c){var h=(a-n)/Math.max(0,c),p=Math.floor(Math.log(h)/Math.LN10),_=h/Math.pow(10,p);return p>=0?(_>=gt?10:_>=lt?5:_>=W?2:1)*Math.pow(10,p):-Math.pow(10,-p)/(_>=gt?10:_>=lt?5:_>=W?2:1)}function vt(n,a,c){var h=Math.abs(a-n)/Math.max(0,c),p=Math.pow(10,Math.floor(Math.log(h)/Math.LN10)),_=h/p;return _>=gt?p*=10:_>=lt?p*=5:_>=W&&(p*=2),a<n?-p:p}function et(n){return Math.ceil(Math.log(n.length)/Math.LN2)+1}function _t(){var n=rt,a=B,c=et;function h(p){var _,x=p.length,b,A=new Array(x);for(_=0;_<x;++_)A[_]=n(p[_],_,p);var C=a(A),k=C[0],G=C[1],R=c(A,k,G);Array.isArray(R)||(R=vt(k,G,R),R=ft(Math.ceil(k/R)*R,G,R));for(var D=R.length;R[0]<=k;)R.shift(),--D;for(;R[D-1]>G;)R.pop(),--D;var q=new Array(D+1),U;for(_=0;_<=D;++_)U=q[_]=[],U.x0=_>0?R[_-1]:k,U.x1=_<D?R[_]:G;for(_=0;_<x;++_)b=A[_],k<=b&&b<=G&&q[v(R,b,0,D)].push(p[_]);return q}return h.value=function(p){return arguments.length?(n=typeof p=="function"?p:J(p),h):n},h.domain=function(p){return arguments.length?(a=typeof p=="function"?p:J([p[0],p[1]]),h):a},h.thresholds=function(p){return arguments.length?(c=typeof p=="function"?p:Array.isArray(p)?J(Z.call(p)):J(p),h):c},h}function Mt(n,a,c){if(c==null&&(c=$),!!(h=n.length)){if((a=+a)<=0||h<2)return+c(n[0],0,n);if(a>=1)return+c(n[h-1],h-1,n);var h,p=(h-1)*a,_=Math.floor(p),x=+c(n[_],_,n),b=+c(n[_+1],_+1,n);return x+(b-x)*(p-_)}}function pt(n,a,c){return n=tt.call(n,$).sort(s),Math.ceil((c-a)/(2*(Mt(n,.75)-Mt(n,.25))*Math.pow(n.length,-1/3)))}function Lt(n,a,c){return Math.ceil((c-a)/(3.5*X(n)*Math.pow(n.length,-1/3)))}function o(n,a){var c=n.length,h=-1,p,_;if(a==null){for(;++h<c;)if((p=n[h])!=null&&p>=p)for(_=p;++h<c;)(p=n[h])!=null&&p>_&&(_=p)}else for(;++h<c;)if((p=a(n[h],h,n))!=null&&p>=p)for(_=p;++h<c;)(p=a(n[h],h,n))!=null&&p>_&&(_=p);return _}function f(n,a){var c=n.length,h=c,p=-1,_,x=0;if(a==null)for(;++p<c;)isNaN(_=$(n[p]))?--h:x+=_;else for(;++p<c;)isNaN(_=$(a(n[p],p,n)))?--h:x+=_;if(h)return x/h}function e(n,a){var c=n.length,h=-1,p,_=[];if(a==null)for(;++h<c;)isNaN(p=$(n[h]))||_.push(p);else for(;++h<c;)isNaN(p=$(a(n[h],h,n)))||_.push(p);return Mt(_.sort(s),.5)}function i(n){for(var a=n.length,c,h=-1,p=0,_,x;++h<a;)p+=n[h].length;for(_=new Array(p);--a>=0;)for(x=n[a],c=x.length;--c>=0;)_[--p]=x[c];return _}function u(n,a){var c=n.length,h=-1,p,_;if(a==null){for(;++h<c;)if((p=n[h])!=null&&p>=p)for(_=p;++h<c;)(p=n[h])!=null&&_>p&&(_=p)}else for(;++h<c;)if((p=a(n[h],h,n))!=null&&p>=p)for(_=p;++h<c;)(p=a(n[h],h,n))!=null&&_>p&&(_=p);return _}function d(n,a){for(var c=a.length,h=new Array(c);c--;)h[c]=n[a[c]];return h}function m(n,a){if(c=n.length){var c,h=0,p=0,_,x=n[p];for(a==null&&(a=s);++h<c;)(a(_=n[h],x)<0||a(x,x)!==0)&&(x=_,p=h);if(a(x,x)===0)return p}}function S(n,a,c){for(var h=(c??n.length)-(a=a==null?0:+a),p,_;h;)_=Math.random()*h--|0,p=n[h+a],n[h+a]=n[_+a],n[_+a]=p;return n}function L(n,a){var c=n.length,h=-1,p,_=0;if(a==null)for(;++h<c;)(p=+n[h])&&(_+=p);else for(;++h<c;)(p=+a(n[h],h,n))&&(_+=p);return _}function M(n){if(!(_=n.length))return[];for(var a=-1,c=u(n,N),h=new Array(c);++a<c;)for(var p=-1,_,x=h[a]=new Array(_);++p<_;)x[p]=n[p][a];return h}function N(n){return n.length}function O(){return M(arguments)}var H=Array.prototype.slice;function z(n){return n}var nt=1,Q=2,ut=3,ct=4,St=1e-6;function Ct(n){return"translate("+(n+.5)+",0)"}function It(n){return"translate(0,"+(n+.5)+")"}function Dt(n){return function(a){return+n(a)}}function Wt(n){var a=Math.max(0,n.bandwidth()-1)/2;return n.round()&&(a=Math.round(a)),function(c){return+n(c)+a}}function Ft(){return!this.__axis}function Ht(n,a){var c=[],h=null,p=null,_=6,x=6,b=3,A=n===nt||n===ct?-1:1,C=n===ct||n===Q?"x":"y",k=n===nt||n===ut?Ct:It;function G(R){var D=h??(a.ticks?a.ticks.apply(a,c):a.domain()),q=p??(a.tickFormat?a.tickFormat.apply(a,c):z),U=Math.max(_,0)+b,j=a.range(),K=+j[0]+.5,ot=+j[j.length-1]+.5,it=(a.bandwidth?Wt:Dt)(a.copy()),at=R.selection?R.selection():R,ht=at.selectAll(".domain").data([null]),xt=at.selectAll(".tick").data(D,a).order(),yt=xt.exit(),Pt=xt.enter().append("g").attr("class","tick"),Tt=xt.select("line"),At=xt.select("text");ht=ht.merge(ht.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),xt=xt.merge(Pt),Tt=Tt.merge(Pt.append("line").attr("stroke","currentColor").attr(C+"2",A*_)),At=At.merge(Pt.append("text").attr("fill","currentColor").attr(C,A*U).attr("dy",n===nt?"0em":n===ut?"0.71em":"0.32em")),R!==at&&(ht=ht.transition(R),xt=xt.transition(R),Tt=Tt.transition(R),At=At.transition(R),yt=yt.transition(R).attr("opacity",St).attr("transform",function(bt){return isFinite(bt=it(bt))?k(bt):this.getAttribute("transform")}),Pt.attr("opacity",St).attr("transform",function(bt){var st=this.parentNode.__axis;return k(st&&isFinite(st=st(bt))?st:it(bt))})),yt.remove(),ht.attr("d",n===ct||n==Q?x?"M"+A*x+","+K+"H0.5V"+ot+"H"+A*x:"M0.5,"+K+"V"+ot:x?"M"+K+","+A*x+"V0.5H"+ot+"V"+A*x:"M"+K+",0.5H"+ot),xt.attr("opacity",1).attr("transform",function(bt){return k(it(bt))}),Tt.attr(C+"2",A*_),At.attr(C,A*U).text(q),at.filter(Ft).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===Q?"start":n===ct?"end":"middle"),at.each(function(){this.__axis=it})}return G.scale=function(R){return arguments.length?(a=R,G):a},G.ticks=function(){return c=H.call(arguments),G},G.tickArguments=function(R){return arguments.length?(c=R==null?[]:H.call(R),G):c.slice()},G.tickValues=function(R){return arguments.length?(h=R==null?null:H.call(R),G):h&&h.slice()},G.tickFormat=function(R){return arguments.length?(p=R,G):p},G.tickSize=function(R){return arguments.length?(_=x=+R,G):_},G.tickSizeInner=function(R){return arguments.length?(_=+R,G):_},G.tickSizeOuter=function(R){return arguments.length?(x=+R,G):x},G.tickPadding=function(R){return arguments.length?(b=+R,G):b},G}function Nt(n){return Ht(nt,n)}function Yt(n){return Ht(Q,n)}function kt(n){return Ht(ut,n)}function Gt(n){return Ht(ct,n)}var zt={value:function(){}};function Xt(){for(var n=0,a=arguments.length,c={},h;n<a;++n){if(!(h=arguments[n]+"")||h in c||/[\s.]/.test(h))throw new Error("illegal type: "+h);c[h]=[]}return new de(c)}function de(n){this._=n}function Pe(n,a){return n.trim().split(/^|\s+/).map(function(c){var h="",p=c.indexOf(".");if(p>=0&&(h=c.slice(p+1),c=c.slice(0,p)),c&&!a.hasOwnProperty(c))throw new Error("unknown type: "+c);return{type:c,name:h}})}de.prototype=Xt.prototype={constructor:de,on:function(n,a){var c=this._,h=Pe(n+"",c),p,_=-1,x=h.length;if(arguments.length<2){for(;++_<x;)if((p=(n=h[_]).type)&&(p=we(c[p],n.name)))return p;return}if(a!=null&&typeof a!="function")throw new Error("invalid callback: "+a);for(;++_<x;)if(p=(n=h[_]).type)c[p]=Ae(c[p],n.name,a);else if(a==null)for(p in c)c[p]=Ae(c[p],n.name,null);return this},copy:function(){var n={},a=this._;for(var c in a)n[c]=a[c].slice();return new de(n)},call:function(n,a){if((p=arguments.length-2)>0)for(var c=new Array(p),h=0,p,_;h<p;++h)c[h]=arguments[h+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(_=this._[n],h=0,p=_.length;h<p;++h)_[h].value.apply(a,c)},apply:function(n,a,c){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var h=this._[n],p=0,_=h.length;p<_;++p)h[p].value.apply(a,c)}};function we(n,a){for(var c=0,h=n.length,p;c<h;++c)if((p=n[c]).name===a)return p.value}function Ae(n,a,c){for(var h=0,p=n.length;h<p;++h)if(n[h].name===a){n[h]=zt,n=n.slice(0,h).concat(n.slice(h+1));break}return c!=null&&n.push({name:a,value:c}),n}var se="http://www.w3.org/1999/xhtml",Et={svg:"http://www.w3.org/2000/svg",xhtml:se,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bt(n){var a=n+="",c=a.indexOf(":");return c>=0&&(a=n.slice(0,c))!=="xmlns"&&(n=n.slice(c+1)),Et.hasOwnProperty(a)?{space:Et[a],local:n}:n}function Vt(n){return function(){var a=this.ownerDocument,c=this.namespaceURI;return c===se&&a.documentElement.namespaceURI===se?a.createElement(n):a.createElementNS(c,n)}}function oe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Ze(n){var a=Bt(n);return(a.local?oe:Vt)(a)}function dn(){}function je(n){return n==null?dn:function(){return this.querySelector(n)}}function Oe(n){typeof n!="function"&&(n=je(n));for(var a=this._groups,c=a.length,h=new Array(c),p=0;p<c;++p)for(var _=a[p],x=_.length,b=h[p]=new Array(x),A,C,k=0;k<x;++k)(A=_[k])&&(C=n.call(A,A.__data__,k,_))&&("__data__"in A&&(C.__data__=A.__data__),b[k]=C);return new wn(h,this._parents)}function He(){return[]}function We(n){return n==null?He:function(){return this.querySelectorAll(n)}}function sn(n){typeof n!="function"&&(n=We(n));for(var a=this._groups,c=a.length,h=[],p=[],_=0;_<c;++_)for(var x=a[_],b=x.length,A,C=0;C<b;++C)(A=x[C])&&(h.push(n.call(A,A.__data__,C,x)),p.push(A));return new wn(h,p)}function $i(n){return function(){return this.matches(n)}}function ni(n){typeof n!="function"&&(n=$i(n));for(var a=this._groups,c=a.length,h=new Array(c),p=0;p<c;++p)for(var _=a[p],x=_.length,b=h[p]=[],A,C=0;C<x;++C)(A=_[C])&&n.call(A,A.__data__,C,_)&&b.push(A);return new wn(h,this._parents)}function zn(n){return new Array(n.length)}function Br(){return new wn(this._enter||this._groups.map(zn),this._parents)}function qn(n,a){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=a}qn.prototype={constructor:qn,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,a){return this._parent.insertBefore(n,a)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function ad(n){return function(){return n}}var W_="$";function K5(n,a,c,h,p,_){for(var x=0,b,A=a.length,C=_.length;x<C;++x)(b=a[x])?(b.__data__=_[x],h[x]=b):c[x]=new qn(n,_[x]);for(;x<A;++x)(b=a[x])&&(p[x]=b)}function J5(n,a,c,h,p,_,x){var b,A,C={},k=a.length,G=_.length,R=new Array(k),D;for(b=0;b<k;++b)(A=a[b])&&(R[b]=D=W_+x.call(A,A.__data__,b,a),D in C?p[b]=A:C[D]=A);for(b=0;b<G;++b)D=W_+x.call(n,_[b],b,_),(A=C[D])?(h[b]=A,A.__data__=_[b],C[D]=null):c[b]=new qn(n,_[b]);for(b=0;b<k;++b)(A=a[b])&&C[R[b]]===A&&(p[b]=A)}function t6(n,a){if(!n)return D=new Array(this.size()),C=-1,this.each(function(xt){D[++C]=xt}),D;var c=a?J5:K5,h=this._parents,p=this._groups;typeof n!="function"&&(n=ad(n));for(var _=p.length,x=new Array(_),b=new Array(_),A=new Array(_),C=0;C<_;++C){var k=h[C],G=p[C],R=G.length,D=n.call(k,k&&k.__data__,C,h),q=D.length,U=b[C]=new Array(q),j=x[C]=new Array(q),K=A[C]=new Array(R);c(k,G,U,j,K,D,a);for(var ot=0,it=0,at,ht;ot<q;++ot)if(at=U[ot]){for(ot>=it&&(it=ot+1);!(ht=j[it])&&++it<q;);at._next=ht||null}}return x=new wn(x,h),x._enter=b,x._exit=A,x}function e6(){return new wn(this._exit||this._groups.map(zn),this._parents)}function n6(n,a,c){var h=this.enter(),p=this,_=this.exit();return h=typeof n=="function"?n(h):h.append(n+""),a!=null&&(p=a(p)),c==null?_.remove():c(_),h&&p?h.merge(p).order():p}function i6(n){for(var a=this._groups,c=n._groups,h=a.length,p=c.length,_=Math.min(h,p),x=new Array(h),b=0;b<_;++b)for(var A=a[b],C=c[b],k=A.length,G=x[b]=new Array(k),R,D=0;D<k;++D)(R=A[D]||C[D])&&(G[D]=R);for(;b<h;++b)x[b]=a[b];return new wn(x,this._parents)}function r6(){for(var n=this._groups,a=-1,c=n.length;++a<c;)for(var h=n[a],p=h.length-1,_=h[p],x;--p>=0;)(x=h[p])&&(_&&x.compareDocumentPosition(_)^4&&_.parentNode.insertBefore(x,_),_=x);return this}function a6(n){n||(n=o6);function a(G,R){return G&&R?n(G.__data__,R.__data__):!G-!R}for(var c=this._groups,h=c.length,p=new Array(h),_=0;_<h;++_){for(var x=c[_],b=x.length,A=p[_]=new Array(b),C,k=0;k<b;++k)(C=x[k])&&(A[k]=C);A.sort(a)}return new wn(p,this._parents).order()}function o6(n,a){return n<a?-1:n>a?1:n>=a?0:NaN}function s6(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function u6(){var n=new Array(this.size()),a=-1;return this.each(function(){n[++a]=this}),n}function c6(){for(var n=this._groups,a=0,c=n.length;a<c;++a)for(var h=n[a],p=0,_=h.length;p<_;++p){var x=h[p];if(x)return x}return null}function f6(){var n=0;return this.each(function(){++n}),n}function l6(){return!this.node()}function h6(n){for(var a=this._groups,c=0,h=a.length;c<h;++c)for(var p=a[c],_=0,x=p.length,b;_<x;++_)(b=p[_])&&n.call(b,b.__data__,_,p);return this}function d6(n){return function(){this.removeAttribute(n)}}function g6(n){return function(){this.removeAttributeNS(n.space,n.local)}}function p6(n,a){return function(){this.setAttribute(n,a)}}function y6(n,a){return function(){this.setAttributeNS(n.space,n.local,a)}}function _6(n,a){return function(){var c=a.apply(this,arguments);c==null?this.removeAttribute(n):this.setAttribute(n,c)}}function m6(n,a){return function(){var c=a.apply(this,arguments);c==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,c)}}function v6(n,a){var c=Bt(n);if(arguments.length<2){var h=this.node();return c.local?h.getAttributeNS(c.space,c.local):h.getAttribute(c)}return this.each((a==null?c.local?g6:d6:typeof a=="function"?c.local?m6:_6:c.local?y6:p6)(c,a))}function od(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function x6(n){return function(){this.style.removeProperty(n)}}function w6(n,a,c){return function(){this.style.setProperty(n,a,c)}}function b6(n,a,c){return function(){var h=a.apply(this,arguments);h==null?this.style.removeProperty(n):this.style.setProperty(n,h,c)}}function S6(n,a,c){return arguments.length>1?this.each((a==null?x6:typeof a=="function"?b6:w6)(n,a,c??"")):Hr(this.node(),n)}function Hr(n,a){return n.style.getPropertyValue(a)||od(n).getComputedStyle(n,null).getPropertyValue(a)}function T6(n){return function(){delete this[n]}}function A6(n,a){return function(){this[n]=a}}function P6(n,a){return function(){var c=a.apply(this,arguments);c==null?delete this[n]:this[n]=c}}function C6(n,a){return arguments.length>1?this.each((a==null?T6:typeof a=="function"?P6:A6)(n,a)):this.node()[n]}function q_(n){return n.trim().split(/^|\s+/)}function sd(n){return n.classList||new Q_(n)}function Q_(n){this._node=n,this._names=q_(n.getAttribute("class")||"")}Q_.prototype={add:function(n){var a=this._names.indexOf(n);a<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var a=this._names.indexOf(n);a>=0&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Z_(n,a){for(var c=sd(n),h=-1,p=a.length;++h<p;)c.add(a[h])}function j_(n,a){for(var c=sd(n),h=-1,p=a.length;++h<p;)c.remove(a[h])}function L6(n){return function(){Z_(this,n)}}function M6(n){return function(){j_(this,n)}}function $6(n,a){return function(){(a.apply(this,arguments)?Z_:j_)(this,n)}}function E6(n,a){var c=q_(n+"");if(arguments.length<2){for(var h=sd(this.node()),p=-1,_=c.length;++p<_;)if(!h.contains(c[p]))return!1;return!0}return this.each((typeof a=="function"?$6:a?L6:M6)(c,a))}function k6(){this.textContent=""}function R6(n){return function(){this.textContent=n}}function V6(n){return function(){var a=n.apply(this,arguments);this.textContent=a??""}}function G6(n){return arguments.length?this.each(n==null?k6:(typeof n=="function"?V6:R6)(n)):this.node().textContent}function O6(){this.innerHTML=""}function N6(n){return function(){this.innerHTML=n}}function I6(n){return function(){var a=n.apply(this,arguments);this.innerHTML=a??""}}function D6(n){return arguments.length?this.each(n==null?O6:(typeof n=="function"?I6:N6)(n)):this.node().innerHTML}function F6(){this.nextSibling&&this.parentNode.appendChild(this)}function z6(){return this.each(F6)}function X6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Y6(){return this.each(X6)}function B6(n){var a=typeof n=="function"?n:Ze(n);return this.select(function(){return this.appendChild(a.apply(this,arguments))})}function H6(){return null}function U6(n,a){var c=typeof n=="function"?n:Ze(n),h=a==null?H6:typeof a=="function"?a:je(a);return this.select(function(){return this.insertBefore(c.apply(this,arguments),h.apply(this,arguments)||null)})}function W6(){var n=this.parentNode;n&&n.removeChild(this)}function q6(){return this.each(W6)}function Q6(){var n=this.cloneNode(!1),a=this.parentNode;return a?a.insertBefore(n,this.nextSibling):n}function Z6(){var n=this.cloneNode(!0),a=this.parentNode;return a?a.insertBefore(n,this.nextSibling):n}function j6(n){return this.select(n?Z6:Q6)}function K6(n){return arguments.length?this.property("__data__",n):this.node().__data__}var K_={};if(t.event=null,typeof document<"u"){var J6=document.documentElement;"onmouseenter"in J6||(K_={mouseenter:"mouseover",mouseleave:"mouseout"})}function t8(n,a,c){return n=J_(n,a,c),function(h){var p=h.relatedTarget;(!p||p!==this&&!(p.compareDocumentPosition(this)&8))&&n.call(this,h)}}function J_(n,a,c){return function(h){var p=t.event;t.event=h;try{n.call(this,this.__data__,a,c)}finally{t.event=p}}}function e8(n){return n.trim().split(/^|\s+/).map(function(a){var c="",h=a.indexOf(".");return h>=0&&(c=a.slice(h+1),a=a.slice(0,h)),{type:a,name:c}})}function n8(n){return function(){var a=this.__on;if(a){for(var c=0,h=-1,p=a.length,_;c<p;++c)_=a[c],(!n.type||_.type===n.type)&&_.name===n.name?this.removeEventListener(_.type,_.listener,_.capture):a[++h]=_;++h?a.length=h:delete this.__on}}}function i8(n,a,c){var h=K_.hasOwnProperty(n.type)?t8:J_;return function(p,_,x){var b=this.__on,A,C=h(a,_,x);if(b){for(var k=0,G=b.length;k<G;++k)if((A=b[k]).type===n.type&&A.name===n.name){this.removeEventListener(A.type,A.listener,A.capture),this.addEventListener(A.type,A.listener=C,A.capture=c),A.value=a;return}}this.addEventListener(n.type,C,c),A={type:n.type,name:n.name,value:a,listener:C,capture:c},b?b.push(A):this.__on=[A]}}function r8(n,a,c){var h=e8(n+""),p,_=h.length,x;if(arguments.length<2){var b=this.node().__on;if(b){for(var A=0,C=b.length,k;A<C;++A)for(p=0,k=b[A];p<_;++p)if((x=h[p]).type===k.type&&x.name===k.name)return k.value}return}for(b=a?i8:n8,c==null&&(c=!1),p=0;p<_;++p)this.each(b(h[p],a,c));return this}function Uo(n,a,c,h){var p=t.event;n.sourceEvent=t.event,t.event=n;try{return a.apply(c,h)}finally{t.event=p}}function t1(n,a,c){var h=od(n),p=h.CustomEvent;typeof p=="function"?p=new p(a,c):(p=h.document.createEvent("Event"),c?(p.initEvent(a,c.bubbles,c.cancelable),p.detail=c.detail):p.initEvent(a,!1,!1)),n.dispatchEvent(p)}function a8(n,a){return function(){return t1(this,n,a)}}function o8(n,a){return function(){return t1(this,n,a.apply(this,arguments))}}function s8(n,a){return this.each((typeof a=="function"?o8:a8)(n,a))}var ud=[null];function wn(n,a){this._groups=n,this._parents=a}function Ur(){return new wn([[document.documentElement]],ud)}wn.prototype=Ur.prototype={constructor:wn,select:Oe,selectAll:sn,filter:ni,data:t6,enter:Br,exit:e6,join:n6,merge:i6,order:r6,sort:a6,call:s6,nodes:u6,node:c6,size:f6,empty:l6,each:h6,attr:v6,style:S6,property:C6,classed:E6,text:G6,html:D6,raise:z6,lower:Y6,append:B6,insert:U6,remove:q6,clone:j6,datum:K6,on:r8,dispatch:s8};function Xn(n){return typeof n=="string"?new wn([[document.querySelector(n)]],[document.documentElement]):new wn([[n]],ud)}function u8(n){return Xn(Ze(n).call(document.documentElement))}var c8=0;function e1(){return new cd}function cd(){this._="@"+(++c8).toString(36)}cd.prototype=e1.prototype={constructor:cd,get:function(n){for(var a=this._;!(a in n);)if(!(n=n.parentNode))return;return n[a]},set:function(n,a){return n[this._]=a},remove:function(n){return this._ in n&&delete n[this._]},toString:function(){return this._}};function fd(){for(var n=t.event,a;a=n.sourceEvent;)n=a;return n}function gc(n,a){var c=n.ownerSVGElement||n;if(c.createSVGPoint){var h=c.createSVGPoint();return h.x=a.clientX,h.y=a.clientY,h=h.matrixTransform(n.getScreenCTM().inverse()),[h.x,h.y]}var p=n.getBoundingClientRect();return[a.clientX-p.left-n.clientLeft,a.clientY-p.top-n.clientTop]}function Wr(n){var a=fd();return a.changedTouches&&(a=a.changedTouches[0]),gc(n,a)}function f8(n){return typeof n=="string"?new wn([document.querySelectorAll(n)],[document.documentElement]):new wn([n??[]],ud)}function Wo(n,a,c){arguments.length<3&&(c=a,a=fd().changedTouches);for(var h=0,p=a?a.length:0,_;h<p;++h)if((_=a[h]).identifier===c)return gc(n,_);return null}function l8(n,a){a==null&&(a=fd().touches);for(var c=0,h=a?a.length:0,p=new Array(h);c<h;++c)p[c]=gc(n,a[c]);return p}function ld(){t.event.stopImmediatePropagation()}function Da(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function pc(n){var a=n.document.documentElement,c=Xn(n).on("dragstart.drag",Da,!0);"onselectstart"in a?c.on("selectstart.drag",Da,!0):(a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none")}function yc(n,a){var c=n.document.documentElement,h=Xn(n).on("dragstart.drag",null);a&&(h.on("click.drag",Da,!0),setTimeout(function(){h.on("click.drag",null)},0)),"onselectstart"in c?h.on("selectstart.drag",null):(c.style.MozUserSelect=c.__noselect,delete c.__noselect)}function _c(n){return function(){return n}}function hd(n,a,c,h,p,_,x,b,A,C){this.target=n,this.type=a,this.subject=c,this.identifier=h,this.active=p,this.x=_,this.y=x,this.dx=b,this.dy=A,this._=C}hd.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function h8(){return!t.event.ctrlKey&&!t.event.button}function d8(){return this.parentNode}function g8(n){return n??{x:t.event.x,y:t.event.y}}function p8(){return navigator.maxTouchPoints||"ontouchstart"in this}function y8(){var n=h8,a=d8,c=g8,h=p8,p={},_=Xt("start","drag","end"),x=0,b,A,C,k,G=0;function R(at){at.on("mousedown.drag",D).filter(h).on("touchstart.drag",j).on("touchmove.drag",K).on("touchend.drag touchcancel.drag",ot).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function D(){if(!(k||!n.apply(this,arguments))){var at=it("mouse",a.apply(this,arguments),Wr,this,arguments);at&&(Xn(t.event.view).on("mousemove.drag",q,!0).on("mouseup.drag",U,!0),pc(t.event.view),ld(),C=!1,b=t.event.clientX,A=t.event.clientY,at("start"))}}function q(){if(Da(),!C){var at=t.event.clientX-b,ht=t.event.clientY-A;C=at*at+ht*ht>G}p.mouse("drag")}function U(){Xn(t.event.view).on("mousemove.drag mouseup.drag",null),yc(t.event.view,C),Da(),p.mouse("end")}function j(){if(n.apply(this,arguments)){var at=t.event.changedTouches,ht=a.apply(this,arguments),xt=at.length,yt,Pt;for(yt=0;yt<xt;++yt)(Pt=it(at[yt].identifier,ht,Wo,this,arguments))&&(ld(),Pt("start"))}}function K(){var at=t.event.changedTouches,ht=at.length,xt,yt;for(xt=0;xt<ht;++xt)(yt=p[at[xt].identifier])&&(Da(),yt("drag"))}function ot(){var at=t.event.changedTouches,ht=at.length,xt,yt;for(k&&clearTimeout(k),k=setTimeout(function(){k=null},500),xt=0;xt<ht;++xt)(yt=p[at[xt].identifier])&&(ld(),yt("end"))}function it(at,ht,xt,yt,Pt){var Tt=xt(ht,at),At,bt,st,wt=_.copy();if(Uo(new hd(R,"beforestart",At,at,x,Tt[0],Tt[1],0,0,wt),function(){return(t.event.subject=At=c.apply(yt,Pt))==null?!1:(bt=At.x-Tt[0]||0,st=At.y-Tt[1]||0,!0)}))return function Rt(mt){var $t=Tt,Kt;switch(mt){case"start":p[at]=Rt,Kt=x++;break;case"end":delete p[at],--x;case"drag":Tt=xt(ht,at),Kt=x;break}Uo(new hd(R,mt,At,at,Kt,Tt[0]+bt,Tt[1]+st,Tt[0]-$t[0],Tt[1]-$t[1],wt),wt.apply,wt,[mt,yt,Pt])}}return R.filter=function(at){return arguments.length?(n=typeof at=="function"?at:_c(!!at),R):n},R.container=function(at){return arguments.length?(a=typeof at=="function"?at:_c(at),R):a},R.subject=function(at){return arguments.length?(c=typeof at=="function"?at:_c(at),R):c},R.touchable=function(at){return arguments.length?(h=typeof at=="function"?at:_c(!!at),R):h},R.on=function(){var at=_.on.apply(_,arguments);return at===_?R:at},R.clickDistance=function(at){return arguments.length?(G=(at=+at)*at,R):Math.sqrt(G)},R}function Fa(n,a,c){n.prototype=a.prototype=c,c.constructor=n}function qo(n,a){var c=Object.create(n.prototype);for(var h in a)c[h]=a[h];return c}function mr(){}var qr=.7,za=1/qr,Xa="\\s*([+-]?\\d+)\\s*",Qo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ei="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_8=/^#([0-9a-f]{3,8})$/,m8=new RegExp("^rgb\\("+[Xa,Xa,Xa]+"\\)$"),v8=new RegExp("^rgb\\("+[Ei,Ei,Ei]+"\\)$"),x8=new RegExp("^rgba\\("+[Xa,Xa,Xa,Qo]+"\\)$"),w8=new RegExp("^rgba\\("+[Ei,Ei,Ei,Qo]+"\\)$"),b8=new RegExp("^hsl\\("+[Qo,Ei,Ei]+"\\)$"),S8=new RegExp("^hsla\\("+[Qo,Ei,Ei,Qo]+"\\)$"),n1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fa(mr,vr,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:i1,formatHex:i1,formatHsl:T8,formatRgb:r1,toString:r1});function i1(){return this.rgb().formatHex()}function T8(){return c1(this).formatHsl()}function r1(){return this.rgb().formatRgb()}function vr(n){var a,c;return n=(n+"").trim().toLowerCase(),(a=_8.exec(n))?(c=a[1].length,a=parseInt(a[1],16),c===6?a1(a):c===3?new un(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1):c===8?mc(a>>24&255,a>>16&255,a>>8&255,(a&255)/255):c===4?mc(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|a&240,((a&15)<<4|a&15)/255):null):(a=m8.exec(n))?new un(a[1],a[2],a[3],1):(a=v8.exec(n))?new un(a[1]*255/100,a[2]*255/100,a[3]*255/100,1):(a=x8.exec(n))?mc(a[1],a[2],a[3],a[4]):(a=w8.exec(n))?mc(a[1]*255/100,a[2]*255/100,a[3]*255/100,a[4]):(a=b8.exec(n))?u1(a[1],a[2]/100,a[3]/100,1):(a=S8.exec(n))?u1(a[1],a[2]/100,a[3]/100,a[4]):n1.hasOwnProperty(n)?a1(n1[n]):n==="transparent"?new un(NaN,NaN,NaN,0):null}function a1(n){return new un(n>>16&255,n>>8&255,n&255,1)}function mc(n,a,c,h){return h<=0&&(n=a=c=NaN),new un(n,a,c,h)}function dd(n){return n instanceof mr||(n=vr(n)),n?(n=n.rgb(),new un(n.r,n.g,n.b,n.opacity)):new un}function Ya(n,a,c,h){return arguments.length===1?dd(n):new un(n,a,c,h??1)}function un(n,a,c,h){this.r=+n,this.g=+a,this.b=+c,this.opacity=+h}Fa(un,Ya,qo(mr,{brighter:function(n){return n=n==null?za:Math.pow(za,n),new un(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=n==null?qr:Math.pow(qr,n),new un(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o1,formatHex:o1,formatRgb:s1,toString:s1}));function o1(){return"#"+gd(this.r)+gd(this.g)+gd(this.b)}function s1(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?")":", "+n+")")}function gd(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n<16?"0":"")+n.toString(16)}function u1(n,a,c,h){return h<=0?n=a=c=NaN:c<=0||c>=1?n=a=NaN:a<=0&&(n=NaN),new ki(n,a,c,h)}function c1(n){if(n instanceof ki)return new ki(n.h,n.s,n.l,n.opacity);if(n instanceof mr||(n=vr(n)),!n)return new ki;if(n instanceof ki)return n;n=n.rgb();var a=n.r/255,c=n.g/255,h=n.b/255,p=Math.min(a,c,h),_=Math.max(a,c,h),x=NaN,b=_-p,A=(_+p)/2;return b?(a===_?x=(c-h)/b+(c<h)*6:c===_?x=(h-a)/b+2:x=(a-c)/b+4,b/=A<.5?_+p:2-_-p,x*=60):b=A>0&&A<1?0:x,new ki(x,b,A,n.opacity)}function vc(n,a,c,h){return arguments.length===1?c1(n):new ki(n,a,c,h??1)}function ki(n,a,c,h){this.h=+n,this.s=+a,this.l=+c,this.opacity=+h}Fa(ki,vc,qo(mr,{brighter:function(n){return n=n==null?za:Math.pow(za,n),new ki(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?qr:Math.pow(qr,n),new ki(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+(this.h<0)*360,a=isNaN(n)||isNaN(this.s)?0:this.s,c=this.l,h=c+(c<.5?c:1-c)*a,p=2*c-h;return new un(pd(n>=240?n-240:n+120,p,h),pd(n,p,h),pd(n<120?n+240:n-120,p,h),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(n===1?")":", "+n+")")}}));function pd(n,a,c){return(n<60?a+(c-a)*n/60:n<180?c:n<240?a+(c-a)*(240-n)/60:a)*255}var f1=Math.PI/180,l1=180/Math.PI,xc=18,h1=.96422,d1=1,g1=.82521,p1=4/29,Ba=6/29,y1=3*Ba*Ba,A8=Ba*Ba*Ba;function _1(n){if(n instanceof yi)return new yi(n.l,n.a,n.b,n.opacity);if(n instanceof Ri)return v1(n);n instanceof un||(n=dd(n));var a=vd(n.r),c=vd(n.g),h=vd(n.b),p=yd((.2225045*a+.7168786*c+.0606169*h)/d1),_,x;return a===c&&c===h?_=x=p:(_=yd((.4360747*a+.3850649*c+.1430804*h)/h1),x=yd((.0139322*a+.0971045*c+.7141733*h)/g1)),new yi(116*p-16,500*(_-p),200*(p-x),n.opacity)}function P8(n,a){return new yi(n,0,0,a??1)}function wc(n,a,c,h){return arguments.length===1?_1(n):new yi(n,a,c,h??1)}function yi(n,a,c,h){this.l=+n,this.a=+a,this.b=+c,this.opacity=+h}Fa(yi,wc,qo(mr,{brighter:function(n){return new yi(this.l+xc*(n??1),this.a,this.b,this.opacity)},darker:function(n){return new yi(this.l-xc*(n??1),this.a,this.b,this.opacity)},rgb:function(){var n=(this.l+16)/116,a=isNaN(this.a)?n:n+this.a/500,c=isNaN(this.b)?n:n-this.b/200;return a=h1*_d(a),n=d1*_d(n),c=g1*_d(c),new un(md(3.1338561*a-1.6168667*n-.4906146*c),md(-.9787684*a+1.9161415*n+.033454*c),md(.0719453*a-.2289914*n+1.4052427*c),this.opacity)}}));function yd(n){return n>A8?Math.pow(n,1/3):n/y1+p1}function _d(n){return n>Ba?n*n*n:y1*(n-p1)}function md(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function vd(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function m1(n){if(n instanceof Ri)return new Ri(n.h,n.c,n.l,n.opacity);if(n instanceof yi||(n=_1(n)),n.a===0&&n.b===0)return new Ri(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var a=Math.atan2(n.b,n.a)*l1;return new Ri(a<0?a+360:a,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function C8(n,a,c,h){return arguments.length===1?m1(n):new Ri(c,a,n,h??1)}function bc(n,a,c,h){return arguments.length===1?m1(n):new Ri(n,a,c,h??1)}function Ri(n,a,c,h){this.h=+n,this.c=+a,this.l=+c,this.opacity=+h}function v1(n){if(isNaN(n.h))return new yi(n.l,0,0,n.opacity);var a=n.h*f1;return new yi(n.l,Math.cos(a)*n.c,Math.sin(a)*n.c,n.opacity)}Fa(Ri,bc,qo(mr,{brighter:function(n){return new Ri(this.h,this.c,this.l+xc*(n??1),this.opacity)},darker:function(n){return new Ri(this.h,this.c,this.l-xc*(n??1),this.opacity)},rgb:function(){return v1(this).rgb()}}));var x1=-.14861,xd=1.78277,wd=-.29227,Sc=-.90649,Zo=1.97294,w1=Zo*Sc,b1=Zo*xd,S1=xd*wd-Sc*x1;function L8(n){if(n instanceof Qr)return new Qr(n.h,n.s,n.l,n.opacity);n instanceof un||(n=dd(n));var a=n.r/255,c=n.g/255,h=n.b/255,p=(S1*h+w1*a-b1*c)/(S1+w1-b1),_=h-p,x=(Zo*(c-p)-wd*_)/Sc,b=Math.sqrt(x*x+_*_)/(Zo*p*(1-p)),A=b?Math.atan2(x,_)*l1-120:NaN;return new Qr(A<0?A+360:A,b,p,n.opacity)}function _i(n,a,c,h){return arguments.length===1?L8(n):new Qr(n,a,c,h??1)}function Qr(n,a,c,h){this.h=+n,this.s=+a,this.l=+c,this.opacity=+h}Fa(Qr,_i,qo(mr,{brighter:function(n){return n=n==null?za:Math.pow(za,n),new Qr(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?qr:Math.pow(qr,n),new Qr(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=isNaN(this.h)?0:(this.h+120)*f1,a=+this.l,c=isNaN(this.s)?0:this.s*a*(1-a),h=Math.cos(n),p=Math.sin(n);return new un(255*(a+c*(x1*h+xd*p)),255*(a+c*(wd*h+Sc*p)),255*(a+c*(Zo*h)),this.opacity)}}));function T1(n,a,c,h,p){var _=n*n,x=_*n;return((1-3*n+3*_-x)*a+(4-6*_+3*x)*c+(1+3*n+3*_-3*x)*h+x*p)/6}function A1(n){var a=n.length-1;return function(c){var h=c<=0?c=0:c>=1?(c=1,a-1):Math.floor(c*a),p=n[h],_=n[h+1],x=h>0?n[h-1]:2*p-_,b=h<a-1?n[h+2]:2*_-p;return T1((c-h/a)*a,x,p,_,b)}}function P1(n){var a=n.length;return function(c){var h=Math.floor(((c%=1)<0?++c:c)*a),p=n[(h+a-1)%a],_=n[h%a],x=n[(h+1)%a],b=n[(h+2)%a];return T1((c-h/a)*a,p,_,x,b)}}function Tc(n){return function(){return n}}function C1(n,a){return function(c){return n+c*a}}function M8(n,a,c){return n=Math.pow(n,c),a=Math.pow(a,c)-n,c=1/c,function(h){return Math.pow(n+h*a,c)}}function Ac(n,a){var c=a-n;return c?C1(n,c>180||c<-180?c-360*Math.round(c/360):c):Tc(isNaN(n)?a:n)}function $8(n){return(n=+n)==1?nn:function(a,c){return c-a?M8(a,c,n):Tc(isNaN(a)?c:a)}}function nn(n,a){var c=a-n;return c?C1(n,c):Tc(isNaN(n)?a:n)}var jo=function n(a){var c=$8(a);function h(p,_){var x=c((p=Ya(p)).r,(_=Ya(_)).r),b=c(p.g,_.g),A=c(p.b,_.b),C=nn(p.opacity,_.opacity);return function(k){return p.r=x(k),p.g=b(k),p.b=A(k),p.opacity=C(k),p+""}}return h.gamma=n,h}(1);function L1(n){return function(a){var c=a.length,h=new Array(c),p=new Array(c),_=new Array(c),x,b;for(x=0;x<c;++x)b=Ya(a[x]),h[x]=b.r||0,p[x]=b.g||0,_[x]=b.b||0;return h=n(h),p=n(p),_=n(_),b.opacity=1,function(A){return b.r=h(A),b.g=p(A),b.b=_(A),b+""}}}var M1=L1(A1),E8=L1(P1);function bd(n,a){a||(a=[]);var c=n?Math.min(a.length,n.length):0,h=a.slice(),p;return function(_){for(p=0;p<c;++p)h[p]=n[p]*(1-_)+a[p]*_;return h}}function $1(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function k8(n,a){return($1(a)?bd:E1)(n,a)}function E1(n,a){var c=a?a.length:0,h=n?Math.min(c,n.length):0,p=new Array(h),_=new Array(c),x;for(x=0;x<h;++x)p[x]=Ko(n[x],a[x]);for(;x<c;++x)_[x]=a[x];return function(b){for(x=0;x<h;++x)_[x]=p[x](b);return _}}function k1(n,a){var c=new Date;return n=+n,a=+a,function(h){return c.setTime(n*(1-h)+a*h),c}}function ii(n,a){return n=+n,a=+a,function(c){return n*(1-c)+a*c}}function R1(n,a){var c={},h={},p;(n===null||typeof n!="object")&&(n={}),(a===null||typeof a!="object")&&(a={});for(p in a)p in n?c[p]=Ko(n[p],a[p]):h[p]=a[p];return function(_){for(p in c)h[p]=c[p](_);return h}}var Sd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Td=new RegExp(Sd.source,"g");function R8(n){return function(){return n}}function V8(n){return function(a){return n(a)+""}}function Ad(n,a){var c=Sd.lastIndex=Td.lastIndex=0,h,p,_,x=-1,b=[],A=[];for(n=n+"",a=a+"";(h=Sd.exec(n))&&(p=Td.exec(a));)(_=p.index)>c&&(_=a.slice(c,_),b[x]?b[x]+=_:b[++x]=_),(h=h[0])===(p=p[0])?b[x]?b[x]+=p:b[++x]=p:(b[++x]=null,A.push({i:x,x:ii(h,p)})),c=Td.lastIndex;return c<a.length&&(_=a.slice(c),b[x]?b[x]+=_:b[++x]=_),b.length<2?A[0]?V8(A[0].x):R8(a):(a=A.length,function(C){for(var k=0,G;k<a;++k)b[(G=A[k]).i]=G.x(C);return b.join("")})}function Ko(n,a){var c=typeof a,h;return a==null||c==="boolean"?Tc(a):(c==="number"?ii:c==="string"?(h=vr(a))?(a=h,jo):Ad:a instanceof vr?jo:a instanceof Date?k1:$1(a)?bd:Array.isArray(a)?E1:typeof a.valueOf!="function"&&typeof a.toString!="function"||isNaN(a)?R1:ii)(n,a)}function G8(n){var a=n.length;return function(c){return n[Math.max(0,Math.min(a-1,Math.floor(c*a)))]}}function O8(n,a){var c=Ac(+n,+a);return function(h){var p=c(h);return p-360*Math.floor(p/360)}}function V1(n,a){return n=+n,a=+a,function(c){return Math.round(n*(1-c)+a*c)}}var G1=180/Math.PI,Pd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function O1(n,a,c,h,p,_){var x,b,A;return(x=Math.sqrt(n*n+a*a))&&(n/=x,a/=x),(A=n*c+a*h)&&(c-=n*A,h-=a*A),(b=Math.sqrt(c*c+h*h))&&(c/=b,h/=b,A/=b),n*h<a*c&&(n=-n,a=-a,A=-A,x=-x),{translateX:p,translateY:_,rotate:Math.atan2(a,n)*G1,skewX:Math.atan(A)*G1,scaleX:x,scaleY:b}}var Jo,Cd,N1,Pc;function N8(n){return n==="none"?Pd:(Jo||(Jo=document.createElement("DIV"),Cd=document.documentElement,N1=document.defaultView),Jo.style.transform=n,n=N1.getComputedStyle(Cd.appendChild(Jo),null).getPropertyValue("transform"),Cd.removeChild(Jo),n=n.slice(7,-1).split(","),O1(+n[0],+n[1],+n[2],+n[3],+n[4],+n[5]))}function I8(n){return n==null||(Pc||(Pc=document.createElementNS("http://www.w3.org/2000/svg","g")),Pc.setAttribute("transform",n),!(n=Pc.transform.baseVal.consolidate()))?Pd:(n=n.matrix,O1(n.a,n.b,n.c,n.d,n.e,n.f))}function I1(n,a,c,h){function p(C){return C.length?C.pop()+" ":""}function _(C,k,G,R,D,q){if(C!==G||k!==R){var U=D.push("translate(",null,a,null,c);q.push({i:U-4,x:ii(C,G)},{i:U-2,x:ii(k,R)})}else(G||R)&&D.push("translate("+G+a+R+c)}function x(C,k,G,R){C!==k?(C-k>180?k+=360:k-C>180&&(C+=360),R.push({i:G.push(p(G)+"rotate(",null,h)-2,x:ii(C,k)})):k&&G.push(p(G)+"rotate("+k+h)}function b(C,k,G,R){C!==k?R.push({i:G.push(p(G)+"skewX(",null,h)-2,x:ii(C,k)}):k&&G.push(p(G)+"skewX("+k+h)}function A(C,k,G,R,D,q){if(C!==G||k!==R){var U=D.push(p(D)+"scale(",null,",",null,")");q.push({i:U-4,x:ii(C,G)},{i:U-2,x:ii(k,R)})}else(G!==1||R!==1)&&D.push(p(D)+"scale("+G+","+R+")")}return function(C,k){var G=[],R=[];return C=n(C),k=n(k),_(C.translateX,C.translateY,k.translateX,k.translateY,G,R),x(C.rotate,k.rotate,G,R),b(C.skewX,k.skewX,G,R),A(C.scaleX,C.scaleY,k.scaleX,k.scaleY,G,R),C=k=null,function(D){for(var q=-1,U=R.length,j;++q<U;)G[(j=R[q]).i]=j.x(D);return G.join("")}}}var D1=I1(N8,"px, ","px)","deg)"),F1=I1(I8,", ",")",")"),ts=Math.SQRT2,Ld=2,z1=4,D8=1e-12;function X1(n){return((n=Math.exp(n))+1/n)/2}function F8(n){return((n=Math.exp(n))-1/n)/2}function z8(n){return((n=Math.exp(2*n))-1)/(n+1)}function Y1(n,a){var c=n[0],h=n[1],p=n[2],_=a[0],x=a[1],b=a[2],A=_-c,C=x-h,k=A*A+C*C,G,R;if(k<D8)R=Math.log(b/p)/ts,G=function(ot){return[c+ot*A,h+ot*C,p*Math.exp(ts*ot*R)]};else{var D=Math.sqrt(k),q=(b*b-p*p+z1*k)/(2*p*Ld*D),U=(b*b-p*p-z1*k)/(2*b*Ld*D),j=Math.log(Math.sqrt(q*q+1)-q),K=Math.log(Math.sqrt(U*U+1)-U);R=(K-j)/ts,G=function(ot){var it=ot*R,at=X1(j),ht=p/(Ld*D)*(at*z8(ts*it+j)-F8(j));return[c+ht*A,h+ht*C,p*at/X1(ts*it+j)]}}return G.duration=R*1e3,G}function B1(n){return function(a,c){var h=n((a=vc(a)).h,(c=vc(c)).h),p=nn(a.s,c.s),_=nn(a.l,c.l),x=nn(a.opacity,c.opacity);return function(b){return a.h=h(b),a.s=p(b),a.l=_(b),a.opacity=x(b),a+""}}}var X8=B1(Ac),Y8=B1(nn);function B8(n,a){var c=nn((n=wc(n)).l,(a=wc(a)).l),h=nn(n.a,a.a),p=nn(n.b,a.b),_=nn(n.opacity,a.opacity);return function(x){return n.l=c(x),n.a=h(x),n.b=p(x),n.opacity=_(x),n+""}}function H1(n){return function(a,c){var h=n((a=bc(a)).h,(c=bc(c)).h),p=nn(a.c,c.c),_=nn(a.l,c.l),x=nn(a.opacity,c.opacity);return function(b){return a.h=h(b),a.c=p(b),a.l=_(b),a.opacity=x(b),a+""}}}var H8=H1(Ac),U8=H1(nn);function U1(n){return function a(c){c=+c;function h(p,_){var x=n((p=_i(p)).h,(_=_i(_)).h),b=nn(p.s,_.s),A=nn(p.l,_.l),C=nn(p.opacity,_.opacity);return function(k){return p.h=x(k),p.s=b(k),p.l=A(Math.pow(k,c)),p.opacity=C(k),p+""}}return h.gamma=a,h}(1)}var W8=U1(Ac),Cc=U1(nn);function q8(n,a){for(var c=0,h=a.length-1,p=a[0],_=new Array(h<0?0:h);c<h;)_[c]=n(p,p=a[++c]);return function(x){var b=Math.max(0,Math.min(h-1,Math.floor(x*=h)));return _[b](x-b)}}function Q8(n,a){for(var c=new Array(a),h=0;h<a;++h)c[h]=n(h/(a-1));return c}var Ha=0,es=0,ns=0,W1=1e3,Lc,is,Mc=0,Zr=0,$c=0,rs=typeof performance=="object"&&performance.now?performance:Date,q1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Ua(){return Zr||(q1(Z8),Zr=rs.now()+$c)}function Z8(){Zr=0}function as(){this._call=this._time=this._next=null}as.prototype=Ec.prototype={constructor:as,restart:function(n,a,c){if(typeof n!="function")throw new TypeError("callback is not a function");c=(c==null?Ua():+c)+(a==null?0:+a),!this._next&&is!==this&&(is?is._next=this:Lc=this,is=this),this._call=n,this._time=c,Md()},stop:function(){this._call&&(this._call=null,this._time=1/0,Md())}};function Ec(n,a,c){var h=new as;return h.restart(n,a,c),h}function Q1(){Ua(),++Ha;for(var n=Lc,a;n;)(a=Zr-n._time)>=0&&n._call.call(null,a),n=n._next;--Ha}function Z1(){Zr=(Mc=rs.now())+$c,Ha=es=0;try{Q1()}finally{Ha=0,K8(),Zr=0}}function j8(){var n=rs.now(),a=n-Mc;a>W1&&($c-=a,Mc=n)}function K8(){for(var n,a=Lc,c,h=1/0;a;)a._call?(h>a._time&&(h=a._time),n=a,a=a._next):(c=a._next,a._next=null,a=n?n._next=c:Lc=c);is=n,Md(h)}function Md(n){if(!Ha){es&&(es=clearTimeout(es));var a=n-Zr;a>24?(n<1/0&&(es=setTimeout(Z1,n-rs.now()-$c)),ns&&(ns=clearInterval(ns))):(ns||(Mc=rs.now(),ns=setInterval(j8,W1)),Ha=1,q1(Z1))}}function $d(n,a,c){var h=new as;return a=a==null?0:+a,h.restart(function(p){h.stop(),n(p+a)},a,c),h}function J8(n,a,c){var h=new as,p=a;return a==null?(h.restart(n,a,c),h):(a=+a,c=c==null?Ua():+c,h.restart(function _(x){x+=p,h.restart(_,p+=a,c),n(x)},a,c),h)}var tP=Xt("start","end","cancel","interrupt"),eP=[],j1=0,Ed=1,kd=2,kc=3,K1=4,Rd=5,Rc=6;function Vc(n,a,c,h,p,_){var x=n.__transition;if(!x)n.__transition={};else if(c in x)return;nP(n,c,{name:a,index:h,group:p,on:tP,tween:eP,time:_.time,delay:_.delay,duration:_.duration,ease:_.ease,timer:null,state:j1})}function Vd(n,a){var c=mi(n,a);if(c.state>j1)throw new Error("too late; already scheduled");return c}function Qi(n,a){var c=mi(n,a);if(c.state>kc)throw new Error("too late; already running");return c}function mi(n,a){var c=n.__transition;if(!c||!(c=c[a]))throw new Error("transition not found");return c}function nP(n,a,c){var h=n.__transition,p;h[a]=c,c.timer=Ec(_,0,c.time);function _(C){c.state=Ed,c.timer.restart(x,c.delay,c.time),c.delay<=C&&x(C-c.delay)}function x(C){var k,G,R,D;if(c.state!==Ed)return A();for(k in h)if(D=h[k],D.name===c.name){if(D.state===kc)return $d(x);D.state===K1?(D.state=Rc,D.timer.stop(),D.on.call("interrupt",n,n.__data__,D.index,D.group),delete h[k]):+k<a&&(D.state=Rc,D.timer.stop(),D.on.call("cancel",n,n.__data__,D.index,D.group),delete h[k])}if($d(function(){c.state===kc&&(c.state=K1,c.timer.restart(b,c.delay,c.time),b(C))}),c.state=kd,c.on.call("start",n,n.__data__,c.index,c.group),c.state===kd){for(c.state=kc,p=new Array(R=c.tween.length),k=0,G=-1;k<R;++k)(D=c.tween[k].value.call(n,n.__data__,c.index,c.group))&&(p[++G]=D);p.length=G+1}}function b(C){for(var k=C<c.duration?c.ease.call(null,C/c.duration):(c.timer.restart(A),c.state=Rd,1),G=-1,R=p.length;++G<R;)p[G].call(n,k);c.state===Rd&&(c.on.call("end",n,n.__data__,c.index,c.group),A())}function A(){c.state=Rc,c.timer.stop(),delete h[a];for(var C in h)return;delete n.__transition}}function jr(n,a){var c=n.__transition,h,p,_=!0,x;if(c){a=a==null?null:a+"";for(x in c){if((h=c[x]).name!==a){_=!1;continue}p=h.state>kd&&h.state<Rd,h.state=Rc,h.timer.stop(),h.on.call(p?"interrupt":"cancel",n,n.__data__,h.index,h.group),delete c[x]}_&&delete n.__transition}}function iP(n){return this.each(function(){jr(this,n)})}function rP(n,a){var c,h;return function(){var p=Qi(this,n),_=p.tween;if(_!==c){h=c=_;for(var x=0,b=h.length;x<b;++x)if(h[x].name===a){h=h.slice(),h.splice(x,1);break}}p.tween=h}}function aP(n,a,c){var h,p;if(typeof c!="function")throw new Error;return function(){var _=Qi(this,n),x=_.tween;if(x!==h){p=(h=x).slice();for(var b={name:a,value:c},A=0,C=p.length;A<C;++A)if(p[A].name===a){p[A]=b;break}A===C&&p.push(b)}_.tween=p}}function oP(n,a){var c=this._id;if(n+="",arguments.length<2){for(var h=mi(this.node(),c).tween,p=0,_=h.length,x;p<_;++p)if((x=h[p]).name===n)return x.value;return null}return this.each((a==null?rP:aP)(c,n,a))}function Gd(n,a,c){var h=n._id;return n.each(function(){var p=Qi(this,h);(p.value||(p.value={}))[a]=c.apply(this,arguments)}),function(p){return mi(p,h).value[a]}}function J1(n,a){var c;return(typeof a=="number"?ii:a instanceof vr?jo:(c=vr(a))?(a=c,jo):Ad)(n,a)}function sP(n){return function(){this.removeAttribute(n)}}function uP(n){return function(){this.removeAttributeNS(n.space,n.local)}}function cP(n,a,c){var h,p=c+"",_;return function(){var x=this.getAttribute(n);return x===p?null:x===h?_:_=a(h=x,c)}}function fP(n,a,c){var h,p=c+"",_;return function(){var x=this.getAttributeNS(n.space,n.local);return x===p?null:x===h?_:_=a(h=x,c)}}function lP(n,a,c){var h,p,_;return function(){var x,b=c(this),A;return b==null?void this.removeAttribute(n):(x=this.getAttribute(n),A=b+"",x===A?null:x===h&&A===p?_:(p=A,_=a(h=x,b)))}}function hP(n,a,c){var h,p,_;return function(){var x,b=c(this),A;return b==null?void this.removeAttributeNS(n.space,n.local):(x=this.getAttributeNS(n.space,n.local),A=b+"",x===A?null:x===h&&A===p?_:(p=A,_=a(h=x,b)))}}function dP(n,a){var c=Bt(n),h=c==="transform"?F1:J1;return this.attrTween(n,typeof a=="function"?(c.local?hP:lP)(c,h,Gd(this,"attr."+n,a)):a==null?(c.local?uP:sP)(c):(c.local?fP:cP)(c,h,a))}function gP(n,a){return function(c){this.setAttribute(n,a.call(this,c))}}function pP(n,a){return function(c){this.setAttributeNS(n.space,n.local,a.call(this,c))}}function yP(n,a){var c,h;function p(){var _=a.apply(this,arguments);return _!==h&&(c=(h=_)&&pP(n,_)),c}return p._value=a,p}function _P(n,a){var c,h;function p(){var _=a.apply(this,arguments);return _!==h&&(c=(h=_)&&gP(n,_)),c}return p._value=a,p}function mP(n,a){var c="attr."+n;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(a==null)return this.tween(c,null);if(typeof a!="function")throw new Error;var h=Bt(n);return this.tween(c,(h.local?yP:_P)(h,a))}function vP(n,a){return function(){Vd(this,n).delay=+a.apply(this,arguments)}}function xP(n,a){return a=+a,function(){Vd(this,n).delay=a}}function wP(n){var a=this._id;return arguments.length?this.each((typeof n=="function"?vP:xP)(a,n)):mi(this.node(),a).delay}function bP(n,a){return function(){Qi(this,n).duration=+a.apply(this,arguments)}}function SP(n,a){return a=+a,function(){Qi(this,n).duration=a}}function TP(n){var a=this._id;return arguments.length?this.each((typeof n=="function"?bP:SP)(a,n)):mi(this.node(),a).duration}function AP(n,a){if(typeof a!="function")throw new Error;return function(){Qi(this,n).ease=a}}function PP(n){var a=this._id;return arguments.length?this.each(AP(a,n)):mi(this.node(),a).ease}function CP(n){typeof n!="function"&&(n=$i(n));for(var a=this._groups,c=a.length,h=new Array(c),p=0;p<c;++p)for(var _=a[p],x=_.length,b=h[p]=[],A,C=0;C<x;++C)(A=_[C])&&n.call(A,A.__data__,C,_)&&b.push(A);return new Vi(h,this._parents,this._name,this._id)}function LP(n){if(n._id!==this._id)throw new Error;for(var a=this._groups,c=n._groups,h=a.length,p=c.length,_=Math.min(h,p),x=new Array(h),b=0;b<_;++b)for(var A=a[b],C=c[b],k=A.length,G=x[b]=new Array(k),R,D=0;D<k;++D)(R=A[D]||C[D])&&(G[D]=R);for(;b<h;++b)x[b]=a[b];return new Vi(x,this._parents,this._name,this._id)}function MP(n){return(n+"").trim().split(/^|\s+/).every(function(a){var c=a.indexOf(".");return c>=0&&(a=a.slice(0,c)),!a||a==="start"})}function $P(n,a,c){var h,p,_=MP(a)?Vd:Qi;return function(){var x=_(this,n),b=x.on;b!==h&&(p=(h=b).copy()).on(a,c),x.on=p}}function EP(n,a){var c=this._id;return arguments.length<2?mi(this.node(),c).on.on(n):this.each($P(c,n,a))}function kP(n){return function(){var a=this.parentNode;for(var c in this.__transition)if(+c!==n)return;a&&a.removeChild(this)}}function RP(){return this.on("end.remove",kP(this._id))}function VP(n){var a=this._name,c=this._id;typeof n!="function"&&(n=je(n));for(var h=this._groups,p=h.length,_=new Array(p),x=0;x<p;++x)for(var b=h[x],A=b.length,C=_[x]=new Array(A),k,G,R=0;R<A;++R)(k=b[R])&&(G=n.call(k,k.__data__,R,b))&&("__data__"in k&&(G.__data__=k.__data__),C[R]=G,Vc(C[R],a,c,R,C,mi(k,c)));return new Vi(_,this._parents,a,c)}function GP(n){var a=this._name,c=this._id;typeof n!="function"&&(n=We(n));for(var h=this._groups,p=h.length,_=[],x=[],b=0;b<p;++b)for(var A=h[b],C=A.length,k,G=0;G<C;++G)if(k=A[G]){for(var R=n.call(k,k.__data__,G,A),D,q=mi(k,c),U=0,j=R.length;U<j;++U)(D=R[U])&&Vc(D,a,c,U,R,q);_.push(R),x.push(k)}return new Vi(_,x,a,c)}var OP=Ur.prototype.constructor;function NP(){return new OP(this._groups,this._parents)}function IP(n,a){var c,h,p;return function(){var _=Hr(this,n),x=(this.style.removeProperty(n),Hr(this,n));return _===x?null:_===c&&x===h?p:p=a(c=_,h=x)}}function tm(n){return function(){this.style.removeProperty(n)}}function DP(n,a,c){var h,p=c+"",_;return function(){var x=Hr(this,n);return x===p?null:x===h?_:_=a(h=x,c)}}function FP(n,a,c){var h,p,_;return function(){var x=Hr(this,n),b=c(this),A=b+"";return b==null&&(A=b=(this.style.removeProperty(n),Hr(this,n))),x===A?null:x===h&&A===p?_:(p=A,_=a(h=x,b))}}function zP(n,a){var c,h,p,_="style."+a,x="end."+_,b;return function(){var A=Qi(this,n),C=A.on,k=A.value[_]==null?b||(b=tm(a)):void 0;(C!==c||p!==k)&&(h=(c=C).copy()).on(x,p=k),A.on=h}}function XP(n,a,c){var h=(n+="")=="transform"?D1:J1;return a==null?this.styleTween(n,IP(n,h)).on("end.style."+n,tm(n)):typeof a=="function"?this.styleTween(n,FP(n,h,Gd(this,"style."+n,a))).each(zP(this._id,n)):this.styleTween(n,DP(n,h,a),c).on("end.style."+n,null)}function YP(n,a,c){return function(h){this.style.setProperty(n,a.call(this,h),c)}}function BP(n,a,c){var h,p;function _(){var x=a.apply(this,arguments);return x!==p&&(h=(p=x)&&YP(n,x,c)),h}return _._value=a,_}function HP(n,a,c){var h="style."+(n+="");if(arguments.length<2)return(h=this.tween(h))&&h._value;if(a==null)return this.tween(h,null);if(typeof a!="function")throw new Error;return this.tween(h,BP(n,a,c??""))}function UP(n){return function(){this.textContent=n}}function WP(n){return function(){var a=n(this);this.textContent=a??""}}function qP(n){return this.tween("text",typeof n=="function"?WP(Gd(this,"text",n)):UP(n==null?"":n+""))}function QP(n){return function(a){this.textContent=n.call(this,a)}}function ZP(n){var a,c;function h(){var p=n.apply(this,arguments);return p!==c&&(a=(c=p)&&QP(p)),a}return h._value=n,h}function jP(n){var a="text";if(arguments.length<1)return(a=this.tween(a))&&a._value;if(n==null)return this.tween(a,null);if(typeof n!="function")throw new Error;return this.tween(a,ZP(n))}function KP(){for(var n=this._name,a=this._id,c=nm(),h=this._groups,p=h.length,_=0;_<p;++_)for(var x=h[_],b=x.length,A,C=0;C<b;++C)if(A=x[C]){var k=mi(A,a);Vc(A,n,c,C,x,{time:k.time+k.delay+k.duration,delay:0,duration:k.duration,ease:k.ease})}return new Vi(h,this._parents,n,c)}function JP(){var n,a,c=this,h=c._id,p=c.size();return new Promise(function(_,x){var b={value:x},A={value:function(){--p===0&&_()}};c.each(function(){var C=Qi(this,h),k=C.on;k!==n&&(a=(n=k).copy(),a._.cancel.push(b),a._.interrupt.push(b),a._.end.push(A)),C.on=a})})}var tC=0;function Vi(n,a,c,h){this._groups=n,this._parents=a,this._name=c,this._id=h}function em(n){return Ur().transition(n)}function nm(){return++tC}var Wa=Ur.prototype;Vi.prototype=em.prototype={constructor:Vi,select:VP,selectAll:GP,filter:CP,merge:LP,selection:NP,transition:KP,call:Wa.call,nodes:Wa.nodes,node:Wa.node,size:Wa.size,empty:Wa.empty,each:Wa.each,on:EP,attr:dP,attrTween:mP,style:XP,styleTween:HP,text:qP,textTween:jP,remove:RP,tween:oP,delay:wP,duration:TP,ease:PP,end:JP};function eC(n){return+n}function nC(n){return n*n}function iC(n){return n*(2-n)}function im(n){return((n*=2)<=1?n*n:--n*(2-n)+1)/2}function rC(n){return n*n*n}function aC(n){return--n*n*n+1}function Od(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Nd=3,oC=function n(a){a=+a;function c(h){return Math.pow(h,a)}return c.exponent=n,c}(Nd),sC=function n(a){a=+a;function c(h){return 1-Math.pow(1-h,a)}return c.exponent=n,c}(Nd),rm=function n(a){a=+a;function c(h){return((h*=2)<=1?Math.pow(h,a):2-Math.pow(2-h,a))/2}return c.exponent=n,c}(Nd),am=Math.PI,om=am/2;function uC(n){return 1-Math.cos(n*om)}function cC(n){return Math.sin(n*om)}function sm(n){return(1-Math.cos(am*n))/2}function fC(n){return Math.pow(2,10*n-10)}function lC(n){return 1-Math.pow(2,-10*n)}function um(n){return((n*=2)<=1?Math.pow(2,10*n-10):2-Math.pow(2,10-10*n))/2}function hC(n){return 1-Math.sqrt(1-n*n)}function dC(n){return Math.sqrt(1- --n*n)}function cm(n){return((n*=2)<=1?1-Math.sqrt(1-n*n):Math.sqrt(1-(n-=2)*n)+1)/2}var Id=4/11,gC=6/11,pC=8/11,yC=3/4,_C=9/11,mC=10/11,vC=15/16,xC=21/22,wC=63/64,Gc=1/Id/Id;function bC(n){return 1-os(1-n)}function os(n){return(n=+n)<Id?Gc*n*n:n<pC?Gc*(n-=gC)*n+yC:n<mC?Gc*(n-=_C)*n+vC:Gc*(n-=xC)*n+wC}function SC(n){return((n*=2)<=1?1-os(1-n):os(n-1)+1)/2}var Dd=1.70158,TC=function n(a){a=+a;function c(h){return h*h*((a+1)*h-a)}return c.overshoot=n,c}(Dd),AC=function n(a){a=+a;function c(h){return--h*h*((a+1)*h+a)+1}return c.overshoot=n,c}(Dd),fm=function n(a){a=+a;function c(h){return((h*=2)<1?h*h*((a+1)*h-a):(h-=2)*h*((a+1)*h+a)+2)/2}return c.overshoot=n,c}(Dd),qa=2*Math.PI,Fd=1,zd=.3,PC=function n(a,c){var h=Math.asin(1/(a=Math.max(1,a)))*(c/=qa);function p(_){return a*Math.pow(2,10*--_)*Math.sin((h-_)/c)}return p.amplitude=function(_){return n(_,c*qa)},p.period=function(_){return n(a,_)},p}(Fd,zd),lm=function n(a,c){var h=Math.asin(1/(a=Math.max(1,a)))*(c/=qa);function p(_){return 1-a*Math.pow(2,-10*(_=+_))*Math.sin((_+h)/c)}return p.amplitude=function(_){return n(_,c*qa)},p.period=function(_){return n(a,_)},p}(Fd,zd),CC=function n(a,c){var h=Math.asin(1/(a=Math.max(1,a)))*(c/=qa);function p(_){return((_=_*2-1)<0?a*Math.pow(2,10*_)*Math.sin((h-_)/c):2-a*Math.pow(2,-10*_)*Math.sin((h+_)/c))/2}return p.amplitude=function(_){return n(_,c*qa)},p.period=function(_){return n(a,_)},p}(Fd,zd),Xd={time:null,delay:0,duration:250,ease:Od};function LC(n,a){for(var c;!(c=n.__transition)||!(c=c[a]);)if(!(n=n.parentNode))return Xd.time=Ua(),Xd;return c}function MC(n){var a,c;n instanceof Vi?(a=n._id,n=n._name):(a=nm(),(c=Xd).time=Ua(),n=n==null?null:n+"");for(var h=this._groups,p=h.length,_=0;_<p;++_)for(var x=h[_],b=x.length,A,C=0;C<b;++C)(A=x[C])&&Vc(A,n,a,C,x,c||LC(A,a));return new Vi(h,this._parents,n,a)}Ur.prototype.interrupt=iP,Ur.prototype.transition=MC;var $C=[null];function EC(n,a){var c=n.__transition,h,p;if(c){a=a==null?null:a+"";for(p in c)if((h=c[p]).state>Ed&&h.name===a)return new Vi([[n]],$C,a,+p)}return null}function Yd(n){return function(){return n}}function kC(n,a,c){this.target=n,this.type=a,this.selection=c}function hm(){t.event.stopImmediatePropagation()}function Bd(){t.event.preventDefault(),t.event.stopImmediatePropagation()}var dm={name:"drag"},Hd={name:"space"},Qa={name:"handle"},Za={name:"center"};function gm(n){return[+n[0],+n[1]]}function Ud(n){return[gm(n[0]),gm(n[1])]}function RC(n){return function(a){return Wo(a,t.event.touches,n)}}var Oc={name:"x",handles:["w","e"].map(ss),input:function(n,a){return n==null?null:[[+n[0],a[0][1]],[+n[1],a[1][1]]]},output:function(n){return n&&[n[0][0],n[1][0]]}},Nc={name:"y",handles:["n","s"].map(ss),input:function(n,a){return n==null?null:[[a[0][0],+n[0]],[a[1][0],+n[1]]]},output:function(n){return n&&[n[0][1],n[1][1]]}},VC={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(ss),input:function(n){return n==null?null:Ud(n)},output:function(n){return n}},Zi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},pm={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ym={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},GC={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},OC={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ss(n){return{type:n}}function NC(){return!t.event.ctrlKey&&!t.event.button}function IC(){var n=this.ownerSVGElement||this;return n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]}function DC(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wd(n){for(;!n.__brush;)if(!(n=n.parentNode))return;return n.__brush}function FC(n){return n[0][0]===n[1][0]||n[0][1]===n[1][1]}function zC(n){var a=n.__brush;return a?a.dim.output(a.selection):null}function XC(){return qd(Oc)}function YC(){return qd(Nc)}function BC(){return qd(VC)}function qd(n){var a=IC,c=NC,h=DC,p=!0,_=Xt("start","brush","end"),x=6,b;function A(j){var K=j.property("__brush",U).selectAll(".overlay").data([ss("overlay")]);K.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Zi.overlay).merge(K).each(function(){var it=Wd(this).extent;Xn(this).attr("x",it[0][0]).attr("y",it[0][1]).attr("width",it[1][0]-it[0][0]).attr("height",it[1][1]-it[0][1])}),j.selectAll(".selection").data([ss("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Zi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var ot=j.selectAll(".handle").data(n.handles,function(it){return it.type});ot.exit().remove(),ot.enter().append("rect").attr("class",function(it){return"handle handle--"+it.type}).attr("cursor",function(it){return Zi[it.type]}),j.each(C).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",R).filter(h).on("touchstart.brush",R).on("touchmove.brush",D).on("touchend.brush touchcancel.brush",q).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}A.move=function(j,K){j.selection?j.on("start.brush",function(){k(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){k(this,arguments).end()}).tween("brush",function(){var ot=this,it=ot.__brush,at=k(ot,arguments),ht=it.selection,xt=n.input(typeof K=="function"?K.apply(this,arguments):K,it.extent),yt=Ko(ht,xt);function Pt(Tt){it.selection=Tt===1&&xt===null?null:yt(Tt),C.call(ot),at.brush()}return ht!==null&&xt!==null?Pt:Pt(1)}):j.each(function(){var ot=this,it=arguments,at=ot.__brush,ht=n.input(typeof K=="function"?K.apply(ot,it):K,at.extent),xt=k(ot,it).beforestart();jr(ot),at.selection=ht===null?null:ht,C.call(ot),xt.start().brush().end()})},A.clear=function(j){A.move(j,null)};function C(){var j=Xn(this),K=Wd(this).selection;K?(j.selectAll(".selection").style("display",null).attr("x",K[0][0]).attr("y",K[0][1]).attr("width",K[1][0]-K[0][0]).attr("height",K[1][1]-K[0][1]),j.selectAll(".handle").style("display",null).attr("x",function(ot){return ot.type[ot.type.length-1]==="e"?K[1][0]-x/2:K[0][0]-x/2}).attr("y",function(ot){return ot.type[0]==="s"?K[1][1]-x/2:K[0][1]-x/2}).attr("width",function(ot){return ot.type==="n"||ot.type==="s"?K[1][0]-K[0][0]+x:x}).attr("height",function(ot){return ot.type==="e"||ot.type==="w"?K[1][1]-K[0][1]+x:x})):j.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function k(j,K,ot){return!ot&&j.__brush.emitter||new G(j,K)}function G(j,K){this.that=j,this.args=K,this.state=j.__brush,this.active=0}G.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(j){Uo(new kC(A,j,n.output(this.state.selection)),_.apply,_,[j,this.that,this.args])}};function R(){if(b&&!t.event.touches||!c.apply(this,arguments))return;var j=this,K=t.event.target.__data__.type,ot=(p&&t.event.metaKey?K="overlay":K)==="selection"?dm:p&&t.event.altKey?Za:Qa,it=n===Nc?null:GC[K],at=n===Oc?null:OC[K],ht=Wd(j),xt=ht.extent,yt=ht.selection,Pt=xt[0][0],Tt,At,bt=xt[0][1],st,wt,Rt=xt[1][0],mt,$t,Kt=xt[1][1],Qt,Jt,ue=0,ce=0,Ge,Me=it&&at&&p&&t.event.shiftKey,be,Ue,ci=t.event.touches?RC(t.event.changedTouches[0].identifier):Wr,bi=ci(j),Si=bi,Ut=k(j,arguments,!0).beforestart();K==="overlay"?(yt&&(Ge=!0),ht.selection=yt=[[Tt=n===Nc?Pt:bi[0],st=n===Oc?bt:bi[1]],[mt=n===Nc?Rt:Tt,Qt=n===Oc?Kt:st]]):(Tt=yt[0][0],st=yt[0][1],mt=yt[1][0],Qt=yt[1][1]),At=Tt,wt=st,$t=mt,Jt=Qt;var fe=Xn(j).attr("pointer-events","none"),_e=fe.selectAll(".overlay").attr("cursor",Zi[K]);if(t.event.touches)Ut.moved=fn,Ut.ended=_n;else{var Ot=Xn(t.event.view).on("mousemove.brush",fn,!0).on("mouseup.brush",_n,!0);p&&Ot.on("keydown.brush",$n,!0).on("keyup.brush",or,!0),pc(t.event.view)}hm(),jr(j),C.call(j),Ut.start();function fn(){var En=ci(j);Me&&!be&&!Ue&&(Math.abs(En[0]-Si[0])>Math.abs(En[1]-Si[1])?Ue=!0:be=!0),Si=En,Ge=!0,Bd(),Se()}function Se(){var En;switch(ue=Si[0]-bi[0],ce=Si[1]-bi[1],ot){case Hd:case dm:{it&&(ue=Math.max(Pt-Tt,Math.min(Rt-mt,ue)),At=Tt+ue,$t=mt+ue),at&&(ce=Math.max(bt-st,Math.min(Kt-Qt,ce)),wt=st+ce,Jt=Qt+ce);break}case Qa:{it<0?(ue=Math.max(Pt-Tt,Math.min(Rt-Tt,ue)),At=Tt+ue,$t=mt):it>0&&(ue=Math.max(Pt-mt,Math.min(Rt-mt,ue)),At=Tt,$t=mt+ue),at<0?(ce=Math.max(bt-st,Math.min(Kt-st,ce)),wt=st+ce,Jt=Qt):at>0&&(ce=Math.max(bt-Qt,Math.min(Kt-Qt,ce)),wt=st,Jt=Qt+ce);break}case Za:{it&&(At=Math.max(Pt,Math.min(Rt,Tt-ue*it)),$t=Math.max(Pt,Math.min(Rt,mt+ue*it))),at&&(wt=Math.max(bt,Math.min(Kt,st-ce*at)),Jt=Math.max(bt,Math.min(Kt,Qt+ce*at)));break}}$t<At&&(it*=-1,En=Tt,Tt=mt,mt=En,En=At,At=$t,$t=En,K in pm&&_e.attr("cursor",Zi[K=pm[K]])),Jt<wt&&(at*=-1,En=st,st=Qt,Qt=En,En=wt,wt=Jt,Jt=En,K in ym&&_e.attr("cursor",Zi[K=ym[K]])),ht.selection&&(yt=ht.selection),be&&(At=yt[0][0],$t=yt[1][0]),Ue&&(wt=yt[0][1],Jt=yt[1][1]),(yt[0][0]!==At||yt[0][1]!==wt||yt[1][0]!==$t||yt[1][1]!==Jt)&&(ht.selection=[[At,wt],[$t,Jt]],C.call(j),Ut.brush())}function _n(){if(hm(),t.event.touches){if(t.event.touches.length)return;b&&clearTimeout(b),b=setTimeout(function(){b=null},500)}else yc(t.event.view,Ge),Ot.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);fe.attr("pointer-events","all"),_e.attr("cursor",Zi.overlay),ht.selection&&(yt=ht.selection),FC(yt)&&(ht.selection=null,C.call(j)),Ut.end()}function $n(){switch(t.event.keyCode){case 16:{Me=it&&at;break}case 18:{ot===Qa&&(it&&(mt=$t-ue*it,Tt=At+ue*it),at&&(Qt=Jt-ce*at,st=wt+ce*at),ot=Za,Se());break}case 32:{(ot===Qa||ot===Za)&&(it<0?mt=$t-ue:it>0&&(Tt=At-ue),at<0?Qt=Jt-ce:at>0&&(st=wt-ce),ot=Hd,_e.attr("cursor",Zi.selection),Se());break}default:return}Bd()}function or(){switch(t.event.keyCode){case 16:{Me&&(be=Ue=Me=!1,Se());break}case 18:{ot===Za&&(it<0?mt=$t:it>0&&(Tt=At),at<0?Qt=Jt:at>0&&(st=wt),ot=Qa,Se());break}case 32:{ot===Hd&&(t.event.altKey?(it&&(mt=$t-ue*it,Tt=At+ue*it),at&&(Qt=Jt-ce*at,st=wt+ce*at),ot=Za):(it<0?mt=$t:it>0&&(Tt=At),at<0?Qt=Jt:at>0&&(st=wt),ot=Qa),_e.attr("cursor",Zi[K]),Se());break}default:return}Bd()}}function D(){k(this,arguments).moved()}function q(){k(this,arguments).ended()}function U(){var j=this.__brush||{selection:null};return j.extent=Ud(a.apply(this,arguments)),j.dim=n,j}return A.extent=function(j){return arguments.length?(a=typeof j=="function"?j:Yd(Ud(j)),A):a},A.filter=function(j){return arguments.length?(c=typeof j=="function"?j:Yd(!!j),A):c},A.touchable=function(j){return arguments.length?(h=typeof j=="function"?j:Yd(!!j),A):h},A.handleSize=function(j){return arguments.length?(x=+j,A):x},A.keyModifiers=function(j){return arguments.length?(p=!!j,A):p},A.on=function(){var j=_.on.apply(_,arguments);return j===_?A:j},A}var _m=Math.cos,mm=Math.sin,vm=Math.PI,Ic=vm/2,xm=vm*2,wm=Math.max;function HC(n){return function(a,c){return n(a.source.value+a.target.value,c.source.value+c.target.value)}}function UC(){var n=0,a=null,c=null,h=null;function p(_){var x=_.length,b=[],A=ft(x),C=[],k=[],G=k.groups=new Array(x),R=new Array(x*x),D,q,U,j,K,ot;for(D=0,K=-1;++K<x;){for(q=0,ot=-1;++ot<x;)q+=_[K][ot];b.push(q),C.push(ft(x)),D+=q}for(a&&A.sort(function(At,bt){return a(b[At],b[bt])}),c&&C.forEach(function(At,bt){At.sort(function(st,wt){return c(_[bt][st],_[bt][wt])})}),D=wm(0,xm-n*x)/D,j=D?n:xm/x,q=0,K=-1;++K<x;){for(U=q,ot=-1;++ot<x;){var it=A[K],at=C[it][ot],ht=_[it][at],xt=q,yt=q+=ht*D;R[at*x+it]={index:it,subindex:at,startAngle:xt,endAngle:yt,value:ht}}G[it]={index:it,startAngle:U,endAngle:q,value:b[it]},q+=j}for(K=-1;++K<x;)for(ot=K-1;++ot<x;){var Pt=R[ot*x+K],Tt=R[K*x+ot];(Pt.value||Tt.value)&&k.push(Pt.value<Tt.value?{source:Tt,target:Pt}:{source:Pt,target:Tt})}return h?k.sort(h):k}return p.padAngle=function(_){return arguments.length?(n=wm(0,_),p):n},p.sortGroups=function(_){return arguments.length?(a=_,p):a},p.sortSubgroups=function(_){return arguments.length?(c=_,p):c},p.sortChords=function(_){return arguments.length?(_==null?h=null:(h=HC(_))._=_,p):h&&h._},p}var WC=Array.prototype.slice;function Qd(n){return function(){return n}}var Zd=Math.PI,jd=2*Zd,Kr=1e-6,qC=jd-Kr;function Kd(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function xr(){return new Kd}Kd.prototype=xr.prototype={constructor:Kd,moveTo:function(n,a){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+a)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,a){this._+="L"+(this._x1=+n)+","+(this._y1=+a)},quadraticCurveTo:function(n,a,c,h){this._+="Q"+ +n+","+ +a+","+(this._x1=+c)+","+(this._y1=+h)},bezierCurveTo:function(n,a,c,h,p,_){this._+="C"+ +n+","+ +a+","+ +c+","+ +h+","+(this._x1=+p)+","+(this._y1=+_)},arcTo:function(n,a,c,h,p){n=+n,a=+a,c=+c,h=+h,p=+p;var _=this._x1,x=this._y1,b=c-n,A=h-a,C=_-n,k=x-a,G=C*C+k*k;if(p<0)throw new Error("negative radius: "+p);if(this._x1===null)this._+="M"+(this._x1=n)+","+(this._y1=a);else if(G>Kr)if(!(Math.abs(k*b-A*C)>Kr)||!p)this._+="L"+(this._x1=n)+","+(this._y1=a);else{var R=c-_,D=h-x,q=b*b+A*A,U=R*R+D*D,j=Math.sqrt(q),K=Math.sqrt(G),ot=p*Math.tan((Zd-Math.acos((q+G-U)/(2*j*K)))/2),it=ot/K,at=ot/j;Math.abs(it-1)>Kr&&(this._+="L"+(n+it*C)+","+(a+it*k)),this._+="A"+p+","+p+",0,0,"+ +(k*R>C*D)+","+(this._x1=n+at*b)+","+(this._y1=a+at*A)}},arc:function(n,a,c,h,p,_){n=+n,a=+a,c=+c,_=!!_;var x=c*Math.cos(h),b=c*Math.sin(h),A=n+x,C=a+b,k=1^_,G=_?h-p:p-h;if(c<0)throw new Error("negative radius: "+c);this._x1===null?this._+="M"+A+","+C:(Math.abs(this._x1-A)>Kr||Math.abs(this._y1-C)>Kr)&&(this._+="L"+A+","+C),c&&(G<0&&(G=G%jd+jd),G>qC?this._+="A"+c+","+c+",0,1,"+k+","+(n-x)+","+(a-b)+"A"+c+","+c+",0,1,"+k+","+(this._x1=A)+","+(this._y1=C):G>Kr&&(this._+="A"+c+","+c+",0,"+ +(G>=Zd)+","+k+","+(this._x1=n+c*Math.cos(p))+","+(this._y1=a+c*Math.sin(p))))},rect:function(n,a,c,h){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+a)+"h"+ +c+"v"+ +h+"h"+-c+"Z"},toString:function(){return this._}};function QC(n){return n.source}function ZC(n){return n.target}function jC(n){return n.radius}function KC(n){return n.startAngle}function JC(n){return n.endAngle}function t4(){var n=QC,a=ZC,c=jC,h=KC,p=JC,_=null;function x(){var b,A=WC.call(arguments),C=n.apply(this,A),k=a.apply(this,A),G=+c.apply(this,(A[0]=C,A)),R=h.apply(this,A)-Ic,D=p.apply(this,A)-Ic,q=G*_m(R),U=G*mm(R),j=+c.apply(this,(A[0]=k,A)),K=h.apply(this,A)-Ic,ot=p.apply(this,A)-Ic;if(_||(_=b=xr()),_.moveTo(q,U),_.arc(0,0,G,R,D),(R!==K||D!==ot)&&(_.quadraticCurveTo(0,0,j*_m(K),j*mm(K)),_.arc(0,0,j,K,ot)),_.quadraticCurveTo(0,0,q,U),_.closePath(),b)return _=null,b+""||null}return x.radius=function(b){return arguments.length?(c=typeof b=="function"?b:Qd(+b),x):c},x.startAngle=function(b){return arguments.length?(h=typeof b=="function"?b:Qd(+b),x):h},x.endAngle=function(b){return arguments.length?(p=typeof b=="function"?b:Qd(+b),x):p},x.source=function(b){return arguments.length?(n=b,x):n},x.target=function(b){return arguments.length?(a=b,x):a},x.context=function(b){return arguments.length?(_=b??null,x):_},x}var ri="$";function Dc(){}Dc.prototype=ji.prototype={constructor:Dc,has:function(n){return ri+n in this},get:function(n){return this[ri+n]},set:function(n,a){return this[ri+n]=a,this},remove:function(n){var a=ri+n;return a in this&&delete this[a]},clear:function(){for(var n in this)n[0]===ri&&delete this[n]},keys:function(){var n=[];for(var a in this)a[0]===ri&&n.push(a.slice(1));return n},values:function(){var n=[];for(var a in this)a[0]===ri&&n.push(this[a]);return n},entries:function(){var n=[];for(var a in this)a[0]===ri&&n.push({key:a.slice(1),value:this[a]});return n},size:function(){var n=0;for(var a in this)a[0]===ri&&++n;return n},empty:function(){for(var n in this)if(n[0]===ri)return!1;return!0},each:function(n){for(var a in this)a[0]===ri&&n(this[a],a.slice(1),this)}};function ji(n,a){var c=new Dc;if(n instanceof Dc)n.each(function(b,A){c.set(A,b)});else if(Array.isArray(n)){var h=-1,p=n.length,_;if(a==null)for(;++h<p;)c.set(h,n[h]);else for(;++h<p;)c.set(a(_=n[h],h,n),_)}else if(n)for(var x in n)c.set(x,n[x]);return c}function e4(){var n=[],a=[],c,h,p;function _(b,A,C,k){if(A>=n.length)return c!=null&&b.sort(c),h!=null?h(b):b;for(var G=-1,R=b.length,D=n[A++],q,U,j=ji(),K,ot=C();++G<R;)(K=j.get(q=D(U=b[G])+""))?K.push(U):j.set(q,[U]);return j.each(function(it,at){k(ot,at,_(it,A,C,k))}),ot}function x(b,A){if(++A>n.length)return b;var C,k=a[A-1];return h!=null&&A>=n.length?C=b.entries():(C=[],b.each(function(G,R){C.push({key:R,values:x(G,A)})})),k!=null?C.sort(function(G,R){return k(G.key,R.key)}):C}return p={object:function(b){return _(b,0,n4,i4)},map:function(b){return _(b,0,bm,Sm)},entries:function(b){return x(_(b,0,bm,Sm),0)},key:function(b){return n.push(b),p},sortKeys:function(b){return a[n.length-1]=b,p},sortValues:function(b){return c=b,p},rollup:function(b){return h=b,p}}}function n4(){return{}}function i4(n,a,c){n[a]=c}function bm(){return ji()}function Sm(n,a,c){n.set(a,c)}function Fc(){}var Jr=ji.prototype;Fc.prototype=Tm.prototype={constructor:Fc,has:Jr.has,add:function(n){return n+="",this[ri+n]=n,this},remove:Jr.remove,clear:Jr.clear,values:Jr.keys,size:Jr.size,empty:Jr.empty,each:Jr.each};function Tm(n,a){var c=new Fc;if(n instanceof Fc)n.each(function(_){c.add(_)});else if(n){var h=-1,p=n.length;if(a==null)for(;++h<p;)c.add(n[h]);else for(;++h<p;)c.add(a(n[h],h,n))}return c}function r4(n){var a=[];for(var c in n)a.push(c);return a}function a4(n){var a=[];for(var c in n)a.push(n[c]);return a}function o4(n){var a=[];for(var c in n)a.push({key:c,value:n[c]});return a}var s4=Array.prototype,Am=s4.slice;function u4(n,a){return n-a}function c4(n){for(var a=0,c=n.length,h=n[c-1][1]*n[0][0]-n[c-1][0]*n[0][1];++a<c;)h+=n[a-1][1]*n[a][0]-n[a-1][0]*n[a][1];return h}function wr(n){return function(){return n}}function f4(n,a){for(var c=-1,h=a.length,p;++c<h;)if(p=l4(n,a[c]))return p;return 0}function l4(n,a){for(var c=a[0],h=a[1],p=-1,_=0,x=n.length,b=x-1;_<x;b=_++){var A=n[_],C=A[0],k=A[1],G=n[b],R=G[0],D=G[1];if(h4(A,G,a))return 0;k>h!=D>h&&c<(R-C)*(h-k)/(D-k)+C&&(p=-p)}return p}function h4(n,a,c){var h;return d4(n,a,c)&&g4(n[h=+(n[0]===a[0])],c[h],a[h])}function d4(n,a,c){return(a[0]-n[0])*(c[1]-n[1])===(c[0]-n[0])*(a[1]-n[1])}function g4(n,a,c){return n<=a&&a<=c||c<=a&&a<=n}function p4(){}var Ki=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Pm(){var n=1,a=1,c=et,h=A;function p(C){var k=c(C);if(Array.isArray(k))k=k.slice().sort(u4);else{var G=B(C),R=G[0],D=G[1];k=vt(R,D,k),k=ft(Math.floor(R/k)*k,Math.floor(D/k)*k,k)}return k.map(function(q){return _(C,q)})}function _(C,k){var G=[],R=[];return x(C,k,function(D){h(D,C,k),c4(D)>0?G.push([D]):R.push(D)}),R.forEach(function(D){for(var q=0,U=G.length,j;q<U;++q)if(f4((j=G[q])[0],D)!==-1){j.push(D);return}}),{type:"MultiPolygon",value:k,coordinates:G}}function x(C,k,G){var R=new Array,D=new Array,q,U,j,K,ot,it;for(q=U=-1,K=C[0]>=k,Ki[K<<1].forEach(at);++q<n-1;)j=K,K=C[q+1]>=k,Ki[j|K<<1].forEach(at);for(Ki[K<<0].forEach(at);++U<a-1;){for(q=-1,K=C[U*n+n]>=k,ot=C[U*n]>=k,Ki[K<<1|ot<<2].forEach(at);++q<n-1;)j=K,K=C[U*n+n+q+1]>=k,it=ot,ot=C[U*n+q+1]>=k,Ki[j|K<<1|ot<<2|it<<3].forEach(at);Ki[K|ot<<3].forEach(at)}for(q=-1,ot=C[U*n]>=k,Ki[ot<<2].forEach(at);++q<n-1;)it=ot,ot=C[U*n+q+1]>=k,Ki[ot<<2|it<<3].forEach(at);Ki[ot<<3].forEach(at);function at(ht){var xt=[ht[0][0]+q,ht[0][1]+U],yt=[ht[1][0]+q,ht[1][1]+U],Pt=b(xt),Tt=b(yt),At,bt;(At=D[Pt])?(bt=R[Tt])?(delete D[At.end],delete R[bt.start],At===bt?(At.ring.push(yt),G(At.ring)):R[At.start]=D[bt.end]={start:At.start,end:bt.end,ring:At.ring.concat(bt.ring)}):(delete D[At.end],At.ring.push(yt),D[At.end=Tt]=At):(At=R[Tt])?(bt=D[Pt])?(delete R[At.start],delete D[bt.end],At===bt?(At.ring.push(yt),G(At.ring)):R[bt.start]=D[At.end]={start:bt.start,end:At.end,ring:bt.ring.concat(At.ring)}):(delete R[At.start],At.ring.unshift(xt),R[At.start=Pt]=At):R[Pt]=D[Tt]={start:Pt,end:Tt,ring:[xt,yt]}}}function b(C){return C[0]*2+C[1]*(n+1)*4}function A(C,k,G){C.forEach(function(R){var D=R[0],q=R[1],U=D|0,j=q|0,K,ot=k[j*n+U];D>0&&D<n&&U===D&&(K=k[j*n+U-1],R[0]=D+(G-K)/(ot-K)-.5),q>0&&q<a&&j===q&&(K=k[(j-1)*n+U],R[1]=q+(G-K)/(ot-K)-.5)})}return p.contour=_,p.size=function(C){if(!arguments.length)return[n,a];var k=Math.ceil(C[0]),G=Math.ceil(C[1]);if(!(k>0)||!(G>0))throw new Error("invalid size");return n=k,a=G,p},p.thresholds=function(C){return arguments.length?(c=typeof C=="function"?C:Array.isArray(C)?wr(Am.call(C)):wr(C),p):c},p.smooth=function(C){return arguments.length?(h=C?A:p4,p):h===A},p}function Jd(n,a,c){for(var h=n.width,p=n.height,_=(c<<1)+1,x=0;x<p;++x)for(var b=0,A=0;b<h+c;++b)b<h&&(A+=n.data[b+x*h]),b>=c&&(b>=_&&(A-=n.data[b-_+x*h]),a.data[b-c+x*h]=A/Math.min(b+1,h-1+_-b,_))}function tg(n,a,c){for(var h=n.width,p=n.height,_=(c<<1)+1,x=0;x<h;++x)for(var b=0,A=0;b<p+c;++b)b<p&&(A+=n.data[x+b*h]),b>=c&&(b>=_&&(A-=n.data[x+(b-_)*h]),a.data[x+(b-c)*h]=A/Math.min(b+1,p-1+_-b,_))}function y4(n){return n[0]}function _4(n){return n[1]}function m4(){return 1}function v4(){var n=y4,a=_4,c=m4,h=960,p=500,_=20,x=2,b=_*3,A=h+b*2>>x,C=p+b*2>>x,k=wr(20);function G(K){var ot=new Float32Array(A*C),it=new Float32Array(A*C);K.forEach(function(xt,yt,Pt){var Tt=+n(xt,yt,Pt)+b>>x,At=+a(xt,yt,Pt)+b>>x,bt=+c(xt,yt,Pt);Tt>=0&&Tt<A&&At>=0&&At<C&&(ot[Tt+At*A]+=bt)}),Jd({width:A,height:C,data:ot},{width:A,height:C,data:it},_>>x),tg({width:A,height:C,data:it},{width:A,height:C,data:ot},_>>x),Jd({width:A,height:C,data:ot},{width:A,height:C,data:it},_>>x),tg({width:A,height:C,data:it},{width:A,height:C,data:ot},_>>x),Jd({width:A,height:C,data:ot},{width:A,height:C,data:it},_>>x),tg({width:A,height:C,data:it},{width:A,height:C,data:ot},_>>x);var at=k(ot);if(!Array.isArray(at)){var ht=o(ot);at=vt(0,ht,at),at=ft(0,Math.floor(ht/at)*at,at),at.shift()}return Pm().thresholds(at).size([A,C])(ot).map(R)}function R(K){return K.value*=Math.pow(2,-2*x),K.coordinates.forEach(D),K}function D(K){K.forEach(q)}function q(K){K.forEach(U)}function U(K){K[0]=K[0]*Math.pow(2,x)-b,K[1]=K[1]*Math.pow(2,x)-b}function j(){return b=_*3,A=h+b*2>>x,C=p+b*2>>x,G}return G.x=function(K){return arguments.length?(n=typeof K=="function"?K:wr(+K),G):n},G.y=function(K){return arguments.length?(a=typeof K=="function"?K:wr(+K),G):a},G.weight=function(K){return arguments.length?(c=typeof K=="function"?K:wr(+K),G):c},G.size=function(K){if(!arguments.length)return[h,p];var ot=Math.ceil(K[0]),it=Math.ceil(K[1]);if(!(ot>=0)&&!(ot>=0))throw new Error("invalid size");return h=ot,p=it,j()},G.cellSize=function(K){if(!arguments.length)return 1<<x;if(!((K=+K)>=1))throw new Error("invalid cell size");return x=Math.floor(Math.log(K)/Math.LN2),j()},G.thresholds=function(K){return arguments.length?(k=typeof K=="function"?K:Array.isArray(K)?wr(Am.call(K)):wr(K),G):k},G.bandwidth=function(K){if(!arguments.length)return Math.sqrt(_*(_+1));if(!((K=+K)>=0))throw new Error("invalid bandwidth");return _=Math.round((Math.sqrt(4*K*K+1)-1)/2),j()},G}var Cm={},eg={},ng=34,us=10,ig=13;function Lm(n){return new Function("d","return {"+n.map(function(a,c){return JSON.stringify(a)+": d["+c+'] || ""'}).join(",")+"}")}function x4(n,a){var c=Lm(n);return function(h,p){return a(c(h),p,n)}}function Mm(n){var a=Object.create(null),c=[];return n.forEach(function(h){for(var p in h)p in a||c.push(a[p]=p)}),c}function Yn(n,a){var c=n+"",h=c.length;return h<a?new Array(a-h+1).join(0)+c:c}function w4(n){return n<0?"-"+Yn(-n,6):n>9999?"+"+Yn(n,6):Yn(n,4)}function b4(n){var a=n.getUTCHours(),c=n.getUTCMinutes(),h=n.getUTCSeconds(),p=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":w4(n.getUTCFullYear())+"-"+Yn(n.getUTCMonth()+1,2)+"-"+Yn(n.getUTCDate(),2)+(p?"T"+Yn(a,2)+":"+Yn(c,2)+":"+Yn(h,2)+"."+Yn(p,3)+"Z":h?"T"+Yn(a,2)+":"+Yn(c,2)+":"+Yn(h,2)+"Z":c||a?"T"+Yn(a,2)+":"+Yn(c,2)+"Z":"")}function zc(n){var a=new RegExp('["'+n+`
\r]`),c=n.charCodeAt(0);function h(G,R){var D,q,U=p(G,function(j,K){if(D)return D(j,K-1);q=j,D=R?x4(j,R):Lm(j)});return U.columns=q||[],U}function p(G,R){var D=[],q=G.length,U=0,j=0,K,ot=q<=0,it=!1;G.charCodeAt(q-1)===us&&--q,G.charCodeAt(q-1)===ig&&--q;function at(){if(ot)return eg;if(it)return it=!1,Cm;var xt,yt=U,Pt;if(G.charCodeAt(yt)===ng){for(;U++<q&&G.charCodeAt(U)!==ng||G.charCodeAt(++U)===ng;);return(xt=U)>=q?ot=!0:(Pt=G.charCodeAt(U++))===us?it=!0:Pt===ig&&(it=!0,G.charCodeAt(U)===us&&++U),G.slice(yt+1,xt-1).replace(/""/g,'"')}for(;U<q;){if((Pt=G.charCodeAt(xt=U++))===us)it=!0;else if(Pt===ig)it=!0,G.charCodeAt(U)===us&&++U;else if(Pt!==c)continue;return G.slice(yt,xt)}return ot=!0,G.slice(yt,q)}for(;(K=at())!==eg;){for(var ht=[];K!==Cm&&K!==eg;)ht.push(K),K=at();R&&(ht=R(ht,j++))==null||D.push(ht)}return D}function _(G,R){return G.map(function(D){return R.map(function(q){return k(D[q])}).join(n)})}function x(G,R){return R==null&&(R=Mm(G)),[R.map(k).join(n)].concat(_(G,R)).join(`
`)}function b(G,R){return R==null&&(R=Mm(G)),_(G,R).join(`
`)}function A(G){return G.map(C).join(`
`)}function C(G){return G.map(k).join(n)}function k(G){return G==null?"":G instanceof Date?b4(G):a.test(G+="")?'"'+G.replace(/"/g,'""')+'"':G}return{parse:h,parseRows:p,format:x,formatBody:b,formatRows:A,formatRow:C,formatValue:k}}var ta=zc(","),$m=ta.parse,S4=ta.parseRows,T4=ta.format,A4=ta.formatBody,P4=ta.formatRows,C4=ta.formatRow,L4=ta.formatValue,ea=zc("	"),Em=ea.parse,M4=ea.parseRows,$4=ea.format,E4=ea.formatBody,k4=ea.formatRows,R4=ea.formatRow,V4=ea.formatValue;function G4(n){for(var a in n){var c=n[a].trim(),h,p;if(!c)c=null;else if(c==="true")c=!0;else if(c==="false")c=!1;else if(c==="NaN")c=NaN;else if(!isNaN(h=+c))c=h;else if(p=c.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))O4&&p[4]&&!p[7]&&(c=c.replace(/-/g,"/").replace(/T/," ")),c=new Date(c);else continue;n[a]=c}return n}var O4=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function N4(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.blob()}function I4(n,a){return fetch(n,a).then(N4)}function D4(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.arrayBuffer()}function F4(n,a){return fetch(n,a).then(D4)}function z4(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.text()}function Xc(n,a){return fetch(n,a).then(z4)}function km(n){return function(a,c,h){return arguments.length===2&&typeof c=="function"&&(h=c,c=void 0),Xc(a,c).then(function(p){return n(p,h)})}}function X4(n,a,c,h){arguments.length===3&&typeof c=="function"&&(h=c,c=void 0);var p=zc(n);return Xc(a,c).then(function(_){return p.parse(_,h)})}var Y4=km($m),B4=km(Em);function H4(n,a){return new Promise(function(c,h){var p=new Image;for(var _ in a)p[_]=a[_];p.onerror=h,p.onload=function(){c(p)},p.src=n})}function U4(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.json()}function W4(n,a){return fetch(n,a).then(U4)}function rg(n){return function(a,c){return Xc(a,c).then(function(h){return new DOMParser().parseFromString(h,n)})}}var q4=rg("application/xml"),Q4=rg("text/html"),Z4=rg("image/svg+xml");function j4(n,a){var c;n==null&&(n=0),a==null&&(a=0);function h(){var p,_=c.length,x,b=0,A=0;for(p=0;p<_;++p)x=c[p],b+=x.x,A+=x.y;for(b=b/_-n,A=A/_-a,p=0;p<_;++p)x=c[p],x.x-=b,x.y-=A}return h.initialize=function(p){c=p},h.x=function(p){return arguments.length?(n=+p,h):n},h.y=function(p){return arguments.length?(a=+p,h):a},h}function Ke(n){return function(){return n}}function br(){return(Math.random()-.5)*1e-6}function K4(n){var a=+this._x.call(null,n),c=+this._y.call(null,n);return Rm(this.cover(a,c),a,c,n)}function Rm(n,a,c,h){if(isNaN(a)||isNaN(c))return n;var p,_=n._root,x={data:h},b=n._x0,A=n._y0,C=n._x1,k=n._y1,G,R,D,q,U,j,K,ot;if(!_)return n._root=x,n;for(;_.length;)if((U=a>=(G=(b+C)/2))?b=G:C=G,(j=c>=(R=(A+k)/2))?A=R:k=R,p=_,!(_=_[K=j<<1|U]))return p[K]=x,n;if(D=+n._x.call(null,_.data),q=+n._y.call(null,_.data),a===D&&c===q)return x.next=_,p?p[K]=x:n._root=x,n;do p=p?p[K]=new Array(4):n._root=new Array(4),(U=a>=(G=(b+C)/2))?b=G:C=G,(j=c>=(R=(A+k)/2))?A=R:k=R;while((K=j<<1|U)===(ot=(q>=R)<<1|D>=G));return p[ot]=_,p[K]=x,n}function J4(n){var a,c,h=n.length,p,_,x=new Array(h),b=new Array(h),A=1/0,C=1/0,k=-1/0,G=-1/0;for(c=0;c<h;++c)isNaN(p=+this._x.call(null,a=n[c]))||isNaN(_=+this._y.call(null,a))||(x[c]=p,b[c]=_,p<A&&(A=p),p>k&&(k=p),_<C&&(C=_),_>G&&(G=_));if(A>k||C>G)return this;for(this.cover(A,C).cover(k,G),c=0;c<h;++c)Rm(this,x[c],b[c],n[c]);return this}function t7(n,a){if(isNaN(n=+n)||isNaN(a=+a))return this;var c=this._x0,h=this._y0,p=this._x1,_=this._y1;if(isNaN(c))p=(c=Math.floor(n))+1,_=(h=Math.floor(a))+1;else{for(var x=p-c,b=this._root,A,C;c>n||n>=p||h>a||a>=_;)switch(C=(a<h)<<1|n<c,A=new Array(4),A[C]=b,b=A,x*=2,C){case 0:p=c+x,_=h+x;break;case 1:c=p-x,_=h+x;break;case 2:p=c+x,h=_-x;break;case 3:c=p-x,h=_-x;break}this._root&&this._root.length&&(this._root=b)}return this._x0=c,this._y0=h,this._x1=p,this._y1=_,this}function e7(){var n=[];return this.visit(function(a){if(!a.length)do n.push(a.data);while(a=a.next)}),n}function n7(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function bn(n,a,c,h,p){this.node=n,this.x0=a,this.y0=c,this.x1=h,this.y1=p}function i7(n,a,c){var h,p=this._x0,_=this._y0,x,b,A,C,k=this._x1,G=this._y1,R=[],D=this._root,q,U;for(D&&R.push(new bn(D,p,_,k,G)),c==null?c=1/0:(p=n-c,_=a-c,k=n+c,G=a+c,c*=c);q=R.pop();)if(!(!(D=q.node)||(x=q.x0)>k||(b=q.y0)>G||(A=q.x1)<p||(C=q.y1)<_))if(D.length){var j=(x+A)/2,K=(b+C)/2;R.push(new bn(D[3],j,K,A,C),new bn(D[2],x,K,j,C),new bn(D[1],j,b,A,K),new bn(D[0],x,b,j,K)),(U=(a>=K)<<1|n>=j)&&(q=R[R.length-1],R[R.length-1]=R[R.length-1-U],R[R.length-1-U]=q)}else{var ot=n-+this._x.call(null,D.data),it=a-+this._y.call(null,D.data),at=ot*ot+it*it;if(at<c){var ht=Math.sqrt(c=at);p=n-ht,_=a-ht,k=n+ht,G=a+ht,h=D.data}}return h}function r7(n){if(isNaN(k=+this._x.call(null,n))||isNaN(G=+this._y.call(null,n)))return this;var a,c=this._root,h,p,_,x=this._x0,b=this._y0,A=this._x1,C=this._y1,k,G,R,D,q,U,j,K;if(!c)return this;if(c.length)for(;;){if((q=k>=(R=(x+A)/2))?x=R:A=R,(U=G>=(D=(b+C)/2))?b=D:C=D,a=c,!(c=c[j=U<<1|q]))return this;if(!c.length)break;(a[j+1&3]||a[j+2&3]||a[j+3&3])&&(h=a,K=j)}for(;c.data!==n;)if(p=c,!(c=c.next))return this;return(_=c.next)&&delete c.next,p?(_?p.next=_:delete p.next,this):a?(_?a[j]=_:delete a[j],(c=a[0]||a[1]||a[2]||a[3])&&c===(a[3]||a[2]||a[1]||a[0])&&!c.length&&(h?h[K]=c:this._root=c),this):(this._root=_,this)}function a7(n){for(var a=0,c=n.length;a<c;++a)this.remove(n[a]);return this}function o7(){return this._root}function s7(){var n=0;return this.visit(function(a){if(!a.length)do++n;while(a=a.next)}),n}function u7(n){var a=[],c,h=this._root,p,_,x,b,A;for(h&&a.push(new bn(h,this._x0,this._y0,this._x1,this._y1));c=a.pop();)if(!n(h=c.node,_=c.x0,x=c.y0,b=c.x1,A=c.y1)&&h.length){var C=(_+b)/2,k=(x+A)/2;(p=h[3])&&a.push(new bn(p,C,k,b,A)),(p=h[2])&&a.push(new bn(p,_,k,C,A)),(p=h[1])&&a.push(new bn(p,C,x,b,k)),(p=h[0])&&a.push(new bn(p,_,x,C,k))}return this}function c7(n){var a=[],c=[],h;for(this._root&&a.push(new bn(this._root,this._x0,this._y0,this._x1,this._y1));h=a.pop();){var p=h.node;if(p.length){var _,x=h.x0,b=h.y0,A=h.x1,C=h.y1,k=(x+A)/2,G=(b+C)/2;(_=p[0])&&a.push(new bn(_,x,b,k,G)),(_=p[1])&&a.push(new bn(_,k,b,A,G)),(_=p[2])&&a.push(new bn(_,x,G,k,C)),(_=p[3])&&a.push(new bn(_,k,G,A,C))}c.push(h)}for(;h=c.pop();)n(h.node,h.x0,h.y0,h.x1,h.y1);return this}function f7(n){return n[0]}function l7(n){return arguments.length?(this._x=n,this):this._x}function h7(n){return n[1]}function d7(n){return arguments.length?(this._y=n,this):this._y}function Yc(n,a,c){var h=new ag(a??f7,c??h7,NaN,NaN,NaN,NaN);return n==null?h:h.addAll(n)}function ag(n,a,c,h,p,_){this._x=n,this._y=a,this._x0=c,this._y0=h,this._x1=p,this._y1=_,this._root=void 0}function Vm(n){for(var a={data:n.data},c=a;n=n.next;)c=c.next={data:n.data};return a}var Sn=Yc.prototype=ag.prototype;Sn.copy=function(){var n=new ag(this._x,this._y,this._x0,this._y0,this._x1,this._y1),a=this._root,c,h;if(!a)return n;if(!a.length)return n._root=Vm(a),n;for(c=[{source:a,target:n._root=new Array(4)}];a=c.pop();)for(var p=0;p<4;++p)(h=a.source[p])&&(h.length?c.push({source:h,target:a.target[p]=new Array(4)}):a.target[p]=Vm(h));return n},Sn.add=K4,Sn.addAll=J4,Sn.cover=t7,Sn.data=e7,Sn.extent=n7,Sn.find=i7,Sn.remove=r7,Sn.removeAll=a7,Sn.root=o7,Sn.size=s7,Sn.visit=u7,Sn.visitAfter=c7,Sn.x=l7,Sn.y=d7;function g7(n){return n.x+n.vx}function p7(n){return n.y+n.vy}function y7(n){var a,c,h=1,p=1;typeof n!="function"&&(n=Ke(n==null?1:+n));function _(){for(var A,C=a.length,k,G,R,D,q,U,j=0;j<p;++j)for(k=Yc(a,g7,p7).visitAfter(x),A=0;A<C;++A)G=a[A],q=c[G.index],U=q*q,R=G.x+G.vx,D=G.y+G.vy,k.visit(K);function K(ot,it,at,ht,xt){var yt=ot.data,Pt=ot.r,Tt=q+Pt;if(yt){if(yt.index>G.index){var At=R-yt.x-yt.vx,bt=D-yt.y-yt.vy,st=At*At+bt*bt;st<Tt*Tt&&(At===0&&(At=br(),st+=At*At),bt===0&&(bt=br(),st+=bt*bt),st=(Tt-(st=Math.sqrt(st)))/st*h,G.vx+=(At*=st)*(Tt=(Pt*=Pt)/(U+Pt)),G.vy+=(bt*=st)*Tt,yt.vx-=At*(Tt=1-Tt),yt.vy-=bt*Tt)}return}return it>R+Tt||ht<R-Tt||at>D+Tt||xt<D-Tt}}function x(A){if(A.data)return A.r=c[A.data.index];for(var C=A.r=0;C<4;++C)A[C]&&A[C].r>A.r&&(A.r=A[C].r)}function b(){if(a){var A,C=a.length,k;for(c=new Array(C),A=0;A<C;++A)k=a[A],c[k.index]=+n(k,A,a)}}return _.initialize=function(A){a=A,b()},_.iterations=function(A){return arguments.length?(p=+A,_):p},_.strength=function(A){return arguments.length?(h=+A,_):h},_.radius=function(A){return arguments.length?(n=typeof A=="function"?A:Ke(+A),b(),_):n},_}function _7(n){return n.index}function Gm(n,a){var c=n.get(a);if(!c)throw new Error("missing: "+a);return c}function m7(n){var a=_7,c=k,h,p=Ke(30),_,x,b,A,C=1;n==null&&(n=[]);function k(U){return 1/Math.min(b[U.source.index],b[U.target.index])}function G(U){for(var j=0,K=n.length;j<C;++j)for(var ot=0,it,at,ht,xt,yt,Pt,Tt;ot<K;++ot)it=n[ot],at=it.source,ht=it.target,xt=ht.x+ht.vx-at.x-at.vx||br(),yt=ht.y+ht.vy-at.y-at.vy||br(),Pt=Math.sqrt(xt*xt+yt*yt),Pt=(Pt-_[ot])/Pt*U*h[ot],xt*=Pt,yt*=Pt,ht.vx-=xt*(Tt=A[ot]),ht.vy-=yt*Tt,at.vx+=xt*(Tt=1-Tt),at.vy+=yt*Tt}function R(){if(x){var U,j=x.length,K=n.length,ot=ji(x,a),it;for(U=0,b=new Array(j);U<K;++U)it=n[U],it.index=U,typeof it.source!="object"&&(it.source=Gm(ot,it.source)),typeof it.target!="object"&&(it.target=Gm(ot,it.target)),b[it.source.index]=(b[it.source.index]||0)+1,b[it.target.index]=(b[it.target.index]||0)+1;for(U=0,A=new Array(K);U<K;++U)it=n[U],A[U]=b[it.source.index]/(b[it.source.index]+b[it.target.index]);h=new Array(K),D(),_=new Array(K),q()}}function D(){if(x)for(var U=0,j=n.length;U<j;++U)h[U]=+c(n[U],U,n)}function q(){if(x)for(var U=0,j=n.length;U<j;++U)_[U]=+p(n[U],U,n)}return G.initialize=function(U){x=U,R()},G.links=function(U){return arguments.length?(n=U,R(),G):n},G.id=function(U){return arguments.length?(a=U,G):a},G.iterations=function(U){return arguments.length?(C=+U,G):C},G.strength=function(U){return arguments.length?(c=typeof U=="function"?U:Ke(+U),D(),G):c},G.distance=function(U){return arguments.length?(p=typeof U=="function"?U:Ke(+U),q(),G):p},G}function v7(n){return n.x}function x7(n){return n.y}var w7=10,b7=Math.PI*(3-Math.sqrt(5));function S7(n){var a,c=1,h=.001,p=1-Math.pow(h,1/300),_=0,x=.6,b=ji(),A=Ec(k),C=Xt("tick","end");n==null&&(n=[]);function k(){G(),C.call("tick",a),c<h&&(A.stop(),C.call("end",a))}function G(q){var U,j=n.length,K;q===void 0&&(q=1);for(var ot=0;ot<q;++ot)for(c+=(_-c)*p,b.each(function(it){it(c)}),U=0;U<j;++U)K=n[U],K.fx==null?K.x+=K.vx*=x:(K.x=K.fx,K.vx=0),K.fy==null?K.y+=K.vy*=x:(K.y=K.fy,K.vy=0);return a}function R(){for(var q=0,U=n.length,j;q<U;++q){if(j=n[q],j.index=q,j.fx!=null&&(j.x=j.fx),j.fy!=null&&(j.y=j.fy),isNaN(j.x)||isNaN(j.y)){var K=w7*Math.sqrt(q),ot=q*b7;j.x=K*Math.cos(ot),j.y=K*Math.sin(ot)}(isNaN(j.vx)||isNaN(j.vy))&&(j.vx=j.vy=0)}}function D(q){return q.initialize&&q.initialize(n),q}return R(),a={tick:G,restart:function(){return A.restart(k),a},stop:function(){return A.stop(),a},nodes:function(q){return arguments.length?(n=q,R(),b.each(D),a):n},alpha:function(q){return arguments.length?(c=+q,a):c},alphaMin:function(q){return arguments.length?(h=+q,a):h},alphaDecay:function(q){return arguments.length?(p=+q,a):+p},alphaTarget:function(q){return arguments.length?(_=+q,a):_},velocityDecay:function(q){return arguments.length?(x=1-q,a):1-x},force:function(q,U){return arguments.length>1?(U==null?b.remove(q):b.set(q,D(U)),a):b.get(q)},find:function(q,U,j){var K=0,ot=n.length,it,at,ht,xt,yt;for(j==null?j=1/0:j*=j,K=0;K<ot;++K)xt=n[K],it=q-xt.x,at=U-xt.y,ht=it*it+at*at,ht<j&&(yt=xt,j=ht);return yt},on:function(q,U){return arguments.length>1?(C.on(q,U),a):C.on(q)}}}function T7(){var n,a,c,h=Ke(-30),p,_=1,x=1/0,b=.81;function A(R){var D,q=n.length,U=Yc(n,v7,x7).visitAfter(k);for(c=R,D=0;D<q;++D)a=n[D],U.visit(G)}function C(){if(n){var R,D=n.length,q;for(p=new Array(D),R=0;R<D;++R)q=n[R],p[q.index]=+h(q,R,n)}}function k(R){var D=0,q,U,j=0,K,ot,it;if(R.length){for(K=ot=it=0;it<4;++it)(q=R[it])&&(U=Math.abs(q.value))&&(D+=q.value,j+=U,K+=U*q.x,ot+=U*q.y);R.x=K/j,R.y=ot/j}else{q=R,q.x=q.data.x,q.y=q.data.y;do D+=p[q.data.index];while(q=q.next)}R.value=D}function G(R,D,q,U){if(!R.value)return!0;var j=R.x-a.x,K=R.y-a.y,ot=U-D,it=j*j+K*K;if(ot*ot/b<it)return it<x&&(j===0&&(j=br(),it+=j*j),K===0&&(K=br(),it+=K*K),it<_&&(it=Math.sqrt(_*it)),a.vx+=j*R.value*c/it,a.vy+=K*R.value*c/it),!0;if(R.length||it>=x)return;(R.data!==a||R.next)&&(j===0&&(j=br(),it+=j*j),K===0&&(K=br(),it+=K*K),it<_&&(it=Math.sqrt(_*it)));do R.data!==a&&(ot=p[R.data.index]*c/it,a.vx+=j*ot,a.vy+=K*ot);while(R=R.next)}return A.initialize=function(R){n=R,C()},A.strength=function(R){return arguments.length?(h=typeof R=="function"?R:Ke(+R),C(),A):h},A.distanceMin=function(R){return arguments.length?(_=R*R,A):Math.sqrt(_)},A.distanceMax=function(R){return arguments.length?(x=R*R,A):Math.sqrt(x)},A.theta=function(R){return arguments.length?(b=R*R,A):Math.sqrt(b)},A}function A7(n,a,c){var h,p=Ke(.1),_,x;typeof n!="function"&&(n=Ke(+n)),a==null&&(a=0),c==null&&(c=0);function b(C){for(var k=0,G=h.length;k<G;++k){var R=h[k],D=R.x-a||1e-6,q=R.y-c||1e-6,U=Math.sqrt(D*D+q*q),j=(x[k]-U)*_[k]*C/U;R.vx+=D*j,R.vy+=q*j}}function A(){if(h){var C,k=h.length;for(_=new Array(k),x=new Array(k),C=0;C<k;++C)x[C]=+n(h[C],C,h),_[C]=isNaN(x[C])?0:+p(h[C],C,h)}}return b.initialize=function(C){h=C,A()},b.strength=function(C){return arguments.length?(p=typeof C=="function"?C:Ke(+C),A(),b):p},b.radius=function(C){return arguments.length?(n=typeof C=="function"?C:Ke(+C),A(),b):n},b.x=function(C){return arguments.length?(a=+C,b):a},b.y=function(C){return arguments.length?(c=+C,b):c},b}function P7(n){var a=Ke(.1),c,h,p;typeof n!="function"&&(n=Ke(n==null?0:+n));function _(b){for(var A=0,C=c.length,k;A<C;++A)k=c[A],k.vx+=(p[A]-k.x)*h[A]*b}function x(){if(c){var b,A=c.length;for(h=new Array(A),p=new Array(A),b=0;b<A;++b)h[b]=isNaN(p[b]=+n(c[b],b,c))?0:+a(c[b],b,c)}}return _.initialize=function(b){c=b,x()},_.strength=function(b){return arguments.length?(a=typeof b=="function"?b:Ke(+b),x(),_):a},_.x=function(b){return arguments.length?(n=typeof b=="function"?b:Ke(+b),x(),_):n},_}function C7(n){var a=Ke(.1),c,h,p;typeof n!="function"&&(n=Ke(n==null?0:+n));function _(b){for(var A=0,C=c.length,k;A<C;++A)k=c[A],k.vy+=(p[A]-k.y)*h[A]*b}function x(){if(c){var b,A=c.length;for(h=new Array(A),p=new Array(A),b=0;b<A;++b)h[b]=isNaN(p[b]=+n(c[b],b,c))?0:+a(c[b],b,c)}}return _.initialize=function(b){c=b,x()},_.strength=function(b){return arguments.length?(a=typeof b=="function"?b:Ke(+b),x(),_):a},_.y=function(b){return arguments.length?(n=typeof b=="function"?b:Ke(+b),x(),_):n},_}function Bc(n,a){if((c=(n=a?n.toExponential(a-1):n.toExponential()).indexOf("e"))<0)return null;var c,h=n.slice(0,c);return[h.length>1?h[0]+h.slice(2):h,+n.slice(c+1)]}function ja(n){return n=Bc(Math.abs(n)),n?n[1]:NaN}function L7(n,a){return function(c,h){for(var p=c.length,_=[],x=0,b=n[0],A=0;p>0&&b>0&&(A+b+1>h&&(b=Math.max(1,h-A)),_.push(c.substring(p-=b,p+b)),!((A+=b+1)>h));)b=n[x=(x+1)%n.length];return _.reverse().join(a)}}function M7(n){return function(a){return a.replace(/[0-9]/g,function(c){return n[+c]})}}var $7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cs(n){if(!(a=$7.exec(n)))throw new Error("invalid format: "+n);var a;return new Hc({fill:a[1],align:a[2],sign:a[3],symbol:a[4],zero:a[5],width:a[6],comma:a[7],precision:a[8]&&a[8].slice(1),trim:a[9],type:a[10]})}cs.prototype=Hc.prototype;function Hc(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Hc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function E7(n){t:for(var a=n.length,c=1,h=-1,p;c<a;++c)switch(n[c]){case".":h=p=c;break;case"0":h===0&&(h=c),p=c;break;default:if(!+n[c])break t;h>0&&(h=0);break}return h>0?n.slice(0,h)+n.slice(p+1):n}var Om;function k7(n,a){var c=Bc(n,a);if(!c)return n+"";var h=c[0],p=c[1],_=p-(Om=Math.max(-8,Math.min(8,Math.floor(p/3)))*3)+1,x=h.length;return _===x?h:_>x?h+new Array(_-x+1).join("0"):_>0?h.slice(0,_)+"."+h.slice(_):"0."+new Array(1-_).join("0")+Bc(n,Math.max(0,a+_-1))[0]}function Nm(n,a){var c=Bc(n,a);if(!c)return n+"";var h=c[0],p=c[1];return p<0?"0."+new Array(-p).join("0")+h:h.length>p+1?h.slice(0,p+1)+"."+h.slice(p+1):h+new Array(p-h.length+2).join("0")}var Im={"%":function(n,a){return(n*100).toFixed(a)},b:function(n){return Math.round(n).toString(2)},c:function(n){return n+""},d:function(n){return Math.round(n).toString(10)},e:function(n,a){return n.toExponential(a)},f:function(n,a){return n.toFixed(a)},g:function(n,a){return n.toPrecision(a)},o:function(n){return Math.round(n).toString(8)},p:function(n,a){return Nm(n*100,a)},r:Nm,s:k7,X:function(n){return Math.round(n).toString(16).toUpperCase()},x:function(n){return Math.round(n).toString(16)}};function Dm(n){return n}var Fm=Array.prototype.map,zm=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xm(n){var a=n.grouping===void 0||n.thousands===void 0?Dm:L7(Fm.call(n.grouping,Number),n.thousands+""),c=n.currency===void 0?"":n.currency[0]+"",h=n.currency===void 0?"":n.currency[1]+"",p=n.decimal===void 0?".":n.decimal+"",_=n.numerals===void 0?Dm:M7(Fm.call(n.numerals,String)),x=n.percent===void 0?"%":n.percent+"",b=n.minus===void 0?"-":n.minus+"",A=n.nan===void 0?"NaN":n.nan+"";function C(G){G=cs(G);var R=G.fill,D=G.align,q=G.sign,U=G.symbol,j=G.zero,K=G.width,ot=G.comma,it=G.precision,at=G.trim,ht=G.type;ht==="n"?(ot=!0,ht="g"):Im[ht]||(it===void 0&&(it=12),at=!0,ht="g"),(j||R==="0"&&D==="=")&&(j=!0,R="0",D="=");var xt=U==="$"?c:U==="#"&&/[boxX]/.test(ht)?"0"+ht.toLowerCase():"",yt=U==="$"?h:/[%p]/.test(ht)?x:"",Pt=Im[ht],Tt=/[defgprs%]/.test(ht);it=it===void 0?6:/[gprs]/.test(ht)?Math.max(1,Math.min(21,it)):Math.max(0,Math.min(20,it));function At(bt){var st=xt,wt=yt,Rt,mt,$t;if(ht==="c")wt=Pt(bt)+wt,bt="";else{bt=+bt;var Kt=bt<0||1/bt<0;if(bt=isNaN(bt)?A:Pt(Math.abs(bt),it),at&&(bt=E7(bt)),Kt&&+bt==0&&q!=="+"&&(Kt=!1),st=(Kt?q==="("?q:b:q==="-"||q==="("?"":q)+st,wt=(ht==="s"?zm[8+Om/3]:"")+wt+(Kt&&q==="("?")":""),Tt){for(Rt=-1,mt=bt.length;++Rt<mt;)if($t=bt.charCodeAt(Rt),48>$t||$t>57){wt=($t===46?p+bt.slice(Rt+1):bt.slice(Rt))+wt,bt=bt.slice(0,Rt);break}}}ot&&!j&&(bt=a(bt,1/0));var Qt=st.length+bt.length+wt.length,Jt=Qt<K?new Array(K-Qt+1).join(R):"";switch(ot&&j&&(bt=a(Jt+bt,Jt.length?K-wt.length:1/0),Jt=""),D){case"<":bt=st+bt+wt+Jt;break;case"=":bt=st+Jt+bt+wt;break;case"^":bt=Jt.slice(0,Qt=Jt.length>>1)+st+bt+wt+Jt.slice(Qt);break;default:bt=Jt+st+bt+wt;break}return _(bt)}return At.toString=function(){return G+""},At}function k(G,R){var D=C((G=cs(G),G.type="f",G)),q=Math.max(-8,Math.min(8,Math.floor(ja(R)/3)))*3,U=Math.pow(10,-q),j=zm[8+q/3];return function(K){return D(U*K)+j}}return{format:C,formatPrefix:k}}var Uc;Ym({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Ym(n){return Uc=Xm(n),t.format=Uc.format,t.formatPrefix=Uc.formatPrefix,Uc}function Bm(n){return Math.max(0,-ja(Math.abs(n)))}function Hm(n,a){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ja(a)/3)))*3-ja(Math.abs(n)))}function Um(n,a){return n=Math.abs(n),a=Math.abs(a)-n,Math.max(0,ja(a)-ja(n))+1}function Sr(){return new Wc}function Wc(){this.reset()}Wc.prototype={constructor:Wc,reset:function(){this.s=this.t=0},add:function(n){Wm(qc,n,this.t),Wm(this,qc.s,this.s),this.s?this.t+=qc.t:this.s=qc.t},valueOf:function(){return this.s}};var qc=new Wc;function Wm(n,a,c){var h=n.s=a+c,p=h-a,_=h-p;n.t=a-_+(c-p)}var ne=1e-6,Qc=1e-12,ge=Math.PI,ze=ge/2,Zc=ge/4,Tn=ge*2,Ee=180/ge,re=ge/180,ve=Math.abs,Ka=Math.atan,An=Math.atan2,te=Math.cos,jc=Math.ceil,qm=Math.exp,Kc=Math.log,og=Math.pow,Zt=Math.sin,ai=Math.sign||function(n){return n>0?1:n<0?-1:0},qe=Math.sqrt,sg=Math.tan;function Qm(n){return n>1?0:n<-1?ge:Math.acos(n)}function Pn(n){return n>1?ze:n<-1?-ze:Math.asin(n)}function Zm(n){return(n=Zt(n/2))*n}function Ne(){}function Jc(n,a){n&&Km.hasOwnProperty(n.type)&&Km[n.type](n,a)}var jm={Feature:function(n,a){Jc(n.geometry,a)},FeatureCollection:function(n,a){for(var c=n.features,h=-1,p=c.length;++h<p;)Jc(c[h].geometry,a)}},Km={Sphere:function(n,a){a.sphere()},Point:function(n,a){n=n.coordinates,a.point(n[0],n[1],n[2])},MultiPoint:function(n,a){for(var c=n.coordinates,h=-1,p=c.length;++h<p;)n=c[h],a.point(n[0],n[1],n[2])},LineString:function(n,a){ug(n.coordinates,a,0)},MultiLineString:function(n,a){for(var c=n.coordinates,h=-1,p=c.length;++h<p;)ug(c[h],a,0)},Polygon:function(n,a){Jm(n.coordinates,a)},MultiPolygon:function(n,a){for(var c=n.coordinates,h=-1,p=c.length;++h<p;)Jm(c[h],a)},GeometryCollection:function(n,a){for(var c=n.geometries,h=-1,p=c.length;++h<p;)Jc(c[h],a)}};function ug(n,a,c){var h=-1,p=n.length-c,_;for(a.lineStart();++h<p;)_=n[h],a.point(_[0],_[1],_[2]);a.lineEnd()}function Jm(n,a){var c=-1,h=n.length;for(a.polygonStart();++c<h;)ug(n[c],a,1);a.polygonEnd()}function vi(n,a){n&&jm.hasOwnProperty(n.type)?jm[n.type](n,a):Jc(n,a)}var tf=Sr(),ef=Sr(),tv,ev,cg,fg,lg,Gi={point:Ne,lineStart:Ne,lineEnd:Ne,polygonStart:function(){tf.reset(),Gi.lineStart=R7,Gi.lineEnd=V7},polygonEnd:function(){var n=+tf;ef.add(n<0?Tn+n:n),this.lineStart=this.lineEnd=this.point=Ne},sphere:function(){ef.add(Tn)}};function R7(){Gi.point=G7}function V7(){nv(tv,ev)}function G7(n,a){Gi.point=nv,tv=n,ev=a,n*=re,a*=re,cg=n,fg=te(a=a/2+Zc),lg=Zt(a)}function nv(n,a){n*=re,a*=re,a=a/2+Zc;var c=n-cg,h=c>=0?1:-1,p=h*c,_=te(a),x=Zt(a),b=lg*x,A=fg*_+b*te(p),C=b*h*Zt(p);tf.add(An(C,A)),cg=n,fg=_,lg=x}function O7(n){return ef.reset(),vi(n,Gi),ef*2}function nf(n){return[An(n[1],n[0]),Pn(n[2])]}function na(n){var a=n[0],c=n[1],h=te(c);return[h*te(a),h*Zt(a),Zt(c)]}function rf(n,a){return n[0]*a[0]+n[1]*a[1]+n[2]*a[2]}function Ja(n,a){return[n[1]*a[2]-n[2]*a[1],n[2]*a[0]-n[0]*a[2],n[0]*a[1]-n[1]*a[0]]}function hg(n,a){n[0]+=a[0],n[1]+=a[1],n[2]+=a[2]}function af(n,a){return[n[0]*a,n[1]*a,n[2]*a]}function of(n){var a=qe(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=a,n[1]/=a,n[2]/=a}var Ie,Bn,Xe,Qn,ia,iv,rv,to,fs=Sr(),Tr,Ji,tr={point:dg,lineStart:ov,lineEnd:sv,polygonStart:function(){tr.point=uv,tr.lineStart=N7,tr.lineEnd=I7,fs.reset(),Gi.polygonStart()},polygonEnd:function(){Gi.polygonEnd(),tr.point=dg,tr.lineStart=ov,tr.lineEnd=sv,tf<0?(Ie=-(Xe=180),Bn=-(Qn=90)):fs>ne?Qn=90:fs<-ne&&(Bn=-90),Ji[0]=Ie,Ji[1]=Xe},sphere:function(){Ie=-(Xe=180),Bn=-(Qn=90)}};function dg(n,a){Tr.push(Ji=[Ie=n,Xe=n]),a<Bn&&(Bn=a),a>Qn&&(Qn=a)}function av(n,a){var c=na([n*re,a*re]);if(to){var h=Ja(to,c),p=[h[1],-h[0],0],_=Ja(p,h);of(_),_=nf(_);var x=n-ia,b=x>0?1:-1,A=_[0]*Ee*b,C,k=ve(x)>180;k^(b*ia<A&&A<b*n)?(C=_[1]*Ee,C>Qn&&(Qn=C)):(A=(A+360)%360-180,k^(b*ia<A&&A<b*n)?(C=-_[1]*Ee,C<Bn&&(Bn=C)):(a<Bn&&(Bn=a),a>Qn&&(Qn=a))),k?n<ia?Zn(Ie,n)>Zn(Ie,Xe)&&(Xe=n):Zn(n,Xe)>Zn(Ie,Xe)&&(Ie=n):Xe>=Ie?(n<Ie&&(Ie=n),n>Xe&&(Xe=n)):n>ia?Zn(Ie,n)>Zn(Ie,Xe)&&(Xe=n):Zn(n,Xe)>Zn(Ie,Xe)&&(Ie=n)}else Tr.push(Ji=[Ie=n,Xe=n]);a<Bn&&(Bn=a),a>Qn&&(Qn=a),to=c,ia=n}function ov(){tr.point=av}function sv(){Ji[0]=Ie,Ji[1]=Xe,tr.point=dg,to=null}function uv(n,a){if(to){var c=n-ia;fs.add(ve(c)>180?c+(c>0?360:-360):c)}else iv=n,rv=a;Gi.point(n,a),av(n,a)}function N7(){Gi.lineStart()}function I7(){uv(iv,rv),Gi.lineEnd(),ve(fs)>ne&&(Ie=-(Xe=180)),Ji[0]=Ie,Ji[1]=Xe,to=null}function Zn(n,a){return(a-=n)<0?a+360:a}function D7(n,a){return n[0]-a[0]}function cv(n,a){return n[0]<=n[1]?n[0]<=a&&a<=n[1]:a<n[0]||n[1]<a}function F7(n){var a,c,h,p,_,x,b;if(Qn=Xe=-(Ie=Bn=1/0),Tr=[],vi(n,tr),c=Tr.length){for(Tr.sort(D7),a=1,h=Tr[0],_=[h];a<c;++a)p=Tr[a],cv(h,p[0])||cv(h,p[1])?(Zn(h[0],p[1])>Zn(h[0],h[1])&&(h[1]=p[1]),Zn(p[0],h[1])>Zn(h[0],h[1])&&(h[0]=p[0])):_.push(h=p);for(x=-1/0,c=_.length-1,a=0,h=_[c];a<=c;h=p,++a)p=_[a],(b=Zn(h[1],p[0]))>x&&(x=b,Ie=p[0],Xe=h[1])}return Tr=Ji=null,Ie===1/0||Bn===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ie,Bn],[Xe,Qn]]}var ls,sf,uf,cf,ff,lf,hf,df,gg,pg,yg,fv,lv,Cn,Ln,Mn,xi={sphere:Ne,point:_g,lineStart:hv,lineEnd:dv,polygonStart:function(){xi.lineStart=Y7,xi.lineEnd=B7},polygonEnd:function(){xi.lineStart=hv,xi.lineEnd=dv}};function _g(n,a){n*=re,a*=re;var c=te(a);hs(c*te(n),c*Zt(n),Zt(a))}function hs(n,a,c){++ls,uf+=(n-uf)/ls,cf+=(a-cf)/ls,ff+=(c-ff)/ls}function hv(){xi.point=z7}function z7(n,a){n*=re,a*=re;var c=te(a);Cn=c*te(n),Ln=c*Zt(n),Mn=Zt(a),xi.point=X7,hs(Cn,Ln,Mn)}function X7(n,a){n*=re,a*=re;var c=te(a),h=c*te(n),p=c*Zt(n),_=Zt(a),x=An(qe((x=Ln*_-Mn*p)*x+(x=Mn*h-Cn*_)*x+(x=Cn*p-Ln*h)*x),Cn*h+Ln*p+Mn*_);sf+=x,lf+=x*(Cn+(Cn=h)),hf+=x*(Ln+(Ln=p)),df+=x*(Mn+(Mn=_)),hs(Cn,Ln,Mn)}function dv(){xi.point=_g}function Y7(){xi.point=H7}function B7(){gv(fv,lv),xi.point=_g}function H7(n,a){fv=n,lv=a,n*=re,a*=re,xi.point=gv;var c=te(a);Cn=c*te(n),Ln=c*Zt(n),Mn=Zt(a),hs(Cn,Ln,Mn)}function gv(n,a){n*=re,a*=re;var c=te(a),h=c*te(n),p=c*Zt(n),_=Zt(a),x=Ln*_-Mn*p,b=Mn*h-Cn*_,A=Cn*p-Ln*h,C=qe(x*x+b*b+A*A),k=Pn(C),G=C&&-k/C;gg+=G*x,pg+=G*b,yg+=G*A,sf+=k,lf+=k*(Cn+(Cn=h)),hf+=k*(Ln+(Ln=p)),df+=k*(Mn+(Mn=_)),hs(Cn,Ln,Mn)}function U7(n){ls=sf=uf=cf=ff=lf=hf=df=gg=pg=yg=0,vi(n,xi);var a=gg,c=pg,h=yg,p=a*a+c*c+h*h;return p<Qc&&(a=lf,c=hf,h=df,sf<ne&&(a=uf,c=cf,h=ff),p=a*a+c*c+h*h,p<Qc)?[NaN,NaN]:[An(c,a)*Ee,Pn(h/qe(p))*Ee]}function eo(n){return function(){return n}}function mg(n,a){function c(h,p){return h=n(h,p),a(h[0],h[1])}return n.invert&&a.invert&&(c.invert=function(h,p){return h=a.invert(h,p),h&&n.invert(h[0],h[1])}),c}function vg(n,a){return[ve(n)>ge?n+Math.round(-n/Tn)*Tn:n,a]}vg.invert=vg;function xg(n,a,c){return(n%=Tn)?a||c?mg(yv(n),_v(a,c)):yv(n):a||c?_v(a,c):vg}function pv(n){return function(a,c){return a+=n,[a>ge?a-Tn:a<-ge?a+Tn:a,c]}}function yv(n){var a=pv(n);return a.invert=pv(-n),a}function _v(n,a){var c=te(n),h=Zt(n),p=te(a),_=Zt(a);function x(b,A){var C=te(A),k=te(b)*C,G=Zt(b)*C,R=Zt(A),D=R*c+k*h;return[An(G*p-D*_,k*c-R*h),Pn(D*p+G*_)]}return x.invert=function(b,A){var C=te(A),k=te(b)*C,G=Zt(b)*C,R=Zt(A),D=R*p-G*_;return[An(G*p+R*_,k*c+D*h),Pn(D*c-k*h)]},x}function mv(n){n=xg(n[0]*re,n[1]*re,n.length>2?n[2]*re:0);function a(c){return c=n(c[0]*re,c[1]*re),c[0]*=Ee,c[1]*=Ee,c}return a.invert=function(c){return c=n.invert(c[0]*re,c[1]*re),c[0]*=Ee,c[1]*=Ee,c},a}function vv(n,a,c,h,p,_){if(c){var x=te(a),b=Zt(a),A=h*c;p==null?(p=a+h*Tn,_=a-A/2):(p=xv(x,p),_=xv(x,_),(h>0?p<_:p>_)&&(p+=h*Tn));for(var C,k=p;h>0?k>_:k<_;k-=A)C=nf([x,-b*te(k),-b*Zt(k)]),n.point(C[0],C[1])}}function xv(n,a){a=na(a),a[0]-=n,of(a);var c=Qm(-a[1]);return((-a[2]<0?-c:c)+Tn-ne)%Tn}function W7(){var n=eo([0,0]),a=eo(90),c=eo(6),h,p,_={point:x};function x(A,C){h.push(A=p(A,C)),A[0]*=Ee,A[1]*=Ee}function b(){var A=n.apply(this,arguments),C=a.apply(this,arguments)*re,k=c.apply(this,arguments)*re;return h=[],p=xg(-A[0]*re,-A[1]*re,0).invert,vv(_,C,k,1),A={type:"Polygon",coordinates:[h]},h=p=null,A}return b.center=function(A){return arguments.length?(n=typeof A=="function"?A:eo([+A[0],+A[1]]),b):n},b.radius=function(A){return arguments.length?(a=typeof A=="function"?A:eo(+A),b):a},b.precision=function(A){return arguments.length?(c=typeof A=="function"?A:eo(+A),b):c},b}function wv(){var n=[],a;return{point:function(c,h){a.push([c,h])},lineStart:function(){n.push(a=[])},lineEnd:Ne,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var c=n;return n=[],a=null,c}}}function gf(n,a){return ve(n[0]-a[0])<ne&&ve(n[1]-a[1])<ne}function pf(n,a,c,h){this.x=n,this.z=a,this.o=c,this.e=h,this.v=!1,this.n=this.p=null}function bv(n,a,c,h,p){var _=[],x=[],b,A;if(n.forEach(function(q){if(!((U=q.length-1)<=0)){var U,j=q[0],K=q[U],ot;if(gf(j,K)){for(p.lineStart(),b=0;b<U;++b)p.point((j=q[b])[0],j[1]);p.lineEnd();return}_.push(ot=new pf(j,q,null,!0)),x.push(ot.o=new pf(j,null,ot,!1)),_.push(ot=new pf(K,q,null,!1)),x.push(ot.o=new pf(K,null,ot,!0))}}),!!_.length){for(x.sort(a),Sv(_),Sv(x),b=0,A=x.length;b<A;++b)x[b].e=c=!c;for(var C=_[0],k,G;;){for(var R=C,D=!0;R.v;)if((R=R.n)===C)return;k=R.z,p.lineStart();do{if(R.v=R.o.v=!0,R.e){if(D)for(b=0,A=k.length;b<A;++b)p.point((G=k[b])[0],G[1]);else h(R.x,R.n.x,1,p);R=R.n}else{if(D)for(k=R.p.z,b=k.length-1;b>=0;--b)p.point((G=k[b])[0],G[1]);else h(R.x,R.p.x,-1,p);R=R.p}R=R.o,k=R.z,D=!D}while(!R.v);p.lineEnd()}}}function Sv(n){if(a=n.length){for(var a,c=0,h=n[0],p;++c<a;)h.n=p=n[c],p.p=h,h=p;h.n=p=n[0],p.p=h}}var wg=Sr();function bg(n){return ve(n[0])<=ge?n[0]:ai(n[0])*((ve(n[0])+ge)%Tn-ge)}function Tv(n,a){var c=bg(a),h=a[1],p=Zt(h),_=[Zt(c),-te(c),0],x=0,b=0;wg.reset(),p===1?h=ze+ne:p===-1&&(h=-ze-ne);for(var A=0,C=n.length;A<C;++A)if(G=(k=n[A]).length)for(var k,G,R=k[G-1],D=bg(R),q=R[1]/2+Zc,U=Zt(q),j=te(q),K=0;K<G;++K,D=it,U=ht,j=xt,R=ot){var ot=k[K],it=bg(ot),at=ot[1]/2+Zc,ht=Zt(at),xt=te(at),yt=it-D,Pt=yt>=0?1:-1,Tt=Pt*yt,At=Tt>ge,bt=U*ht;if(wg.add(An(bt*Pt*Zt(Tt),j*xt+bt*te(Tt))),x+=At?yt+Pt*Tn:yt,At^D>=c^it>=c){var st=Ja(na(R),na(ot));of(st);var wt=Ja(_,st);of(wt);var Rt=(At^yt>=0?-1:1)*Pn(wt[2]);(h>Rt||h===Rt&&(st[0]||st[1]))&&(b+=At^yt>=0?1:-1)}}return(x<-ne||x<ne&&wg<-ne)^b&1}function Av(n,a,c,h){return function(p){var _=a(p),x=wv(),b=a(x),A=!1,C,k,G,R={point:D,lineStart:U,lineEnd:j,polygonStart:function(){R.point=K,R.lineStart=ot,R.lineEnd=it,k=[],C=[]},polygonEnd:function(){R.point=D,R.lineStart=U,R.lineEnd=j,k=i(k);var at=Tv(C,h);k.length?(A||(p.polygonStart(),A=!0),bv(k,Q7,at,c,p)):at&&(A||(p.polygonStart(),A=!0),p.lineStart(),c(null,null,1,p),p.lineEnd()),A&&(p.polygonEnd(),A=!1),k=C=null},sphere:function(){p.polygonStart(),p.lineStart(),c(null,null,1,p),p.lineEnd(),p.polygonEnd()}};function D(at,ht){n(at,ht)&&p.point(at,ht)}function q(at,ht){_.point(at,ht)}function U(){R.point=q,_.lineStart()}function j(){R.point=D,_.lineEnd()}function K(at,ht){G.push([at,ht]),b.point(at,ht)}function ot(){b.lineStart(),G=[]}function it(){K(G[0][0],G[0][1]),b.lineEnd();var at=b.clean(),ht=x.result(),xt,yt=ht.length,Pt,Tt,At;if(G.pop(),C.push(G),G=null,!!yt){if(at&1){if(Tt=ht[0],(Pt=Tt.length-1)>0){for(A||(p.polygonStart(),A=!0),p.lineStart(),xt=0;xt<Pt;++xt)p.point((At=Tt[xt])[0],At[1]);p.lineEnd()}return}yt>1&&at&2&&ht.push(ht.pop().concat(ht.shift())),k.push(ht.filter(q7))}}return R}}function q7(n){return n.length>1}function Q7(n,a){return((n=n.x)[0]<0?n[1]-ze-ne:ze-n[1])-((a=a.x)[0]<0?a[1]-ze-ne:ze-a[1])}var Sg=Av(function(){return!0},Z7,K7,[-ge,-ze]);function Z7(n){var a=NaN,c=NaN,h=NaN,p;return{lineStart:function(){n.lineStart(),p=1},point:function(_,x){var b=_>0?ge:-ge,A=ve(_-a);ve(A-ge)<ne?(n.point(a,c=(c+x)/2>0?ze:-ze),n.point(h,c),n.lineEnd(),n.lineStart(),n.point(b,c),n.point(_,c),p=0):h!==b&&A>=ge&&(ve(a-h)<ne&&(a-=h*ne),ve(_-b)<ne&&(_-=b*ne),c=j7(a,c,_,x),n.point(h,c),n.lineEnd(),n.lineStart(),n.point(b,c),p=0),n.point(a=_,c=x),h=b},lineEnd:function(){n.lineEnd(),a=c=NaN},clean:function(){return 2-p}}}function j7(n,a,c,h){var p,_,x=Zt(n-c);return ve(x)>ne?Ka((Zt(a)*(_=te(h))*Zt(c)-Zt(h)*(p=te(a))*Zt(n))/(p*_*x)):(a+h)/2}function K7(n,a,c,h){var p;if(n==null)p=c*ze,h.point(-ge,p),h.point(0,p),h.point(ge,p),h.point(ge,0),h.point(ge,-p),h.point(0,-p),h.point(-ge,-p),h.point(-ge,0),h.point(-ge,p);else if(ve(n[0]-a[0])>ne){var _=n[0]<a[0]?ge:-ge;p=c*_/2,h.point(-_,p),h.point(0,p),h.point(_,p)}else h.point(a[0],a[1])}function Pv(n){var a=te(n),c=6*re,h=a>0,p=ve(a)>ne;function _(k,G,R,D){vv(D,n,c,R,k,G)}function x(k,G){return te(k)*te(G)>a}function b(k){var G,R,D,q,U;return{lineStart:function(){q=D=!1,U=1},point:function(j,K){var ot=[j,K],it,at=x(j,K),ht=h?at?0:C(j,K):at?C(j+(j<0?ge:-ge),K):0;if(!G&&(q=D=at)&&k.lineStart(),at!==D&&(it=A(G,ot),(!it||gf(G,it)||gf(ot,it))&&(ot[0]+=ne,ot[1]+=ne,at=x(ot[0],ot[1]))),at!==D)U=0,at?(k.lineStart(),it=A(ot,G),k.point(it[0],it[1])):(it=A(G,ot),k.point(it[0],it[1]),k.lineEnd()),G=it;else if(p&&G&&h^at){var xt;!(ht&R)&&(xt=A(ot,G,!0))&&(U=0,h?(k.lineStart(),k.point(xt[0][0],xt[0][1]),k.point(xt[1][0],xt[1][1]),k.lineEnd()):(k.point(xt[1][0],xt[1][1]),k.lineEnd(),k.lineStart(),k.point(xt[0][0],xt[0][1])))}at&&(!G||!gf(G,ot))&&k.point(ot[0],ot[1]),G=ot,D=at,R=ht},lineEnd:function(){D&&k.lineEnd(),G=null},clean:function(){return U|(q&&D)<<1}}}function A(k,G,R){var D=na(k),q=na(G),U=[1,0,0],j=Ja(D,q),K=rf(j,j),ot=j[0],it=K-ot*ot;if(!it)return!R&&k;var at=a*K/it,ht=-a*ot/it,xt=Ja(U,j),yt=af(U,at),Pt=af(j,ht);hg(yt,Pt);var Tt=xt,At=rf(yt,Tt),bt=rf(Tt,Tt),st=At*At-bt*(rf(yt,yt)-1);if(!(st<0)){var wt=qe(st),Rt=af(Tt,(-At-wt)/bt);if(hg(Rt,yt),Rt=nf(Rt),!R)return Rt;var mt=k[0],$t=G[0],Kt=k[1],Qt=G[1],Jt;$t<mt&&(Jt=mt,mt=$t,$t=Jt);var ue=$t-mt,ce=ve(ue-ge)<ne,Ge=ce||ue<ne;if(!ce&&Qt<Kt&&(Jt=Kt,Kt=Qt,Qt=Jt),Ge?ce?Kt+Qt>0^Rt[1]<(ve(Rt[0]-mt)<ne?Kt:Qt):Kt<=Rt[1]&&Rt[1]<=Qt:ue>ge^(mt<=Rt[0]&&Rt[0]<=$t)){var Me=af(Tt,(-At+wt)/bt);return hg(Me,yt),[Rt,nf(Me)]}}}function C(k,G){var R=h?n:ge-n,D=0;return k<-R?D|=1:k>R&&(D|=2),G<-R?D|=4:G>R&&(D|=8),D}return Av(x,b,_,h?[0,-n]:[-ge,n-ge])}function J7(n,a,c,h,p,_){var x=n[0],b=n[1],A=a[0],C=a[1],k=0,G=1,R=A-x,D=C-b,q;if(q=c-x,!(!R&&q>0)){if(q/=R,R<0){if(q<k)return;q<G&&(G=q)}else if(R>0){if(q>G)return;q>k&&(k=q)}if(q=p-x,!(!R&&q<0)){if(q/=R,R<0){if(q>G)return;q>k&&(k=q)}else if(R>0){if(q<k)return;q<G&&(G=q)}if(q=h-b,!(!D&&q>0)){if(q/=D,D<0){if(q<k)return;q<G&&(G=q)}else if(D>0){if(q>G)return;q>k&&(k=q)}if(q=_-b,!(!D&&q<0)){if(q/=D,D<0){if(q>G)return;q>k&&(k=q)}else if(D>0){if(q<k)return;q<G&&(G=q)}return k>0&&(n[0]=x+k*R,n[1]=b+k*D),G<1&&(a[0]=x+G*R,a[1]=b+G*D),!0}}}}}var ds=1e9,yf=-ds;function _f(n,a,c,h){function p(C,k){return n<=C&&C<=c&&a<=k&&k<=h}function _(C,k,G,R){var D=0,q=0;if(C==null||(D=x(C,G))!==(q=x(k,G))||A(C,k)<0^G>0)do R.point(D===0||D===3?n:c,D>1?h:a);while((D=(D+G+4)%4)!==q);else R.point(k[0],k[1])}function x(C,k){return ve(C[0]-n)<ne?k>0?0:3:ve(C[0]-c)<ne?k>0?2:1:ve(C[1]-a)<ne?k>0?1:0:k>0?3:2}function b(C,k){return A(C.x,k.x)}function A(C,k){var G=x(C,1),R=x(k,1);return G!==R?G-R:G===0?k[1]-C[1]:G===1?C[0]-k[0]:G===2?C[1]-k[1]:k[0]-C[0]}return function(C){var k=C,G=wv(),R,D,q,U,j,K,ot,it,at,ht,xt,yt={point:Pt,lineStart:st,lineEnd:wt,polygonStart:At,polygonEnd:bt};function Pt(mt,$t){p(mt,$t)&&k.point(mt,$t)}function Tt(){for(var mt=0,$t=0,Kt=D.length;$t<Kt;++$t)for(var Qt=D[$t],Jt=1,ue=Qt.length,ce=Qt[0],Ge,Me,be=ce[0],Ue=ce[1];Jt<ue;++Jt)Ge=be,Me=Ue,ce=Qt[Jt],be=ce[0],Ue=ce[1],Me<=h?Ue>h&&(be-Ge)*(h-Me)>(Ue-Me)*(n-Ge)&&++mt:Ue<=h&&(be-Ge)*(h-Me)<(Ue-Me)*(n-Ge)&&--mt;return mt}function At(){k=G,R=[],D=[],xt=!0}function bt(){var mt=Tt(),$t=xt&&mt,Kt=(R=i(R)).length;($t||Kt)&&(C.polygonStart(),$t&&(C.lineStart(),_(null,null,1,C),C.lineEnd()),Kt&&bv(R,b,mt,_,C),C.polygonEnd()),k=C,R=D=q=null}function st(){yt.point=Rt,D&&D.push(q=[]),ht=!0,at=!1,ot=it=NaN}function wt(){R&&(Rt(U,j),K&&at&&G.rejoin(),R.push(G.result())),yt.point=Pt,at&&k.lineEnd()}function Rt(mt,$t){var Kt=p(mt,$t);if(D&&q.push([mt,$t]),ht)U=mt,j=$t,K=Kt,ht=!1,Kt&&(k.lineStart(),k.point(mt,$t));else if(Kt&&at)k.point(mt,$t);else{var Qt=[ot=Math.max(yf,Math.min(ds,ot)),it=Math.max(yf,Math.min(ds,it))],Jt=[mt=Math.max(yf,Math.min(ds,mt)),$t=Math.max(yf,Math.min(ds,$t))];J7(Qt,Jt,n,a,c,h)?(at||(k.lineStart(),k.point(Qt[0],Qt[1])),k.point(Jt[0],Jt[1]),Kt||k.lineEnd(),xt=!1):Kt&&(k.lineStart(),k.point(mt,$t),xt=!1)}ot=mt,it=$t,at=Kt}return yt}}function tL(){var n=0,a=0,c=960,h=500,p,_,x;return x={stream:function(b){return p&&_===b?p:p=_f(n,a,c,h)(_=b)},extent:function(b){return arguments.length?(n=+b[0][0],a=+b[0][1],c=+b[1][0],h=+b[1][1],p=_=null,x):[[n,a],[c,h]]}}}var Tg=Sr(),Ag,mf,vf,no={sphere:Ne,point:Ne,lineStart:eL,lineEnd:Ne,polygonStart:Ne,polygonEnd:Ne};function eL(){no.point=iL,no.lineEnd=nL}function nL(){no.point=no.lineEnd=Ne}function iL(n,a){n*=re,a*=re,Ag=n,mf=Zt(a),vf=te(a),no.point=rL}function rL(n,a){n*=re,a*=re;var c=Zt(a),h=te(a),p=ve(n-Ag),_=te(p),x=Zt(p),b=h*x,A=vf*c-mf*h*_,C=mf*c+vf*h*_;Tg.add(An(qe(b*b+A*A),C)),Ag=n,mf=c,vf=h}function Cv(n){return Tg.reset(),vi(n,no),+Tg}var Pg=[null,null],aL={type:"LineString",coordinates:Pg};function xf(n,a){return Pg[0]=n,Pg[1]=a,Cv(aL)}var Lv={Feature:function(n,a){return wf(n.geometry,a)},FeatureCollection:function(n,a){for(var c=n.features,h=-1,p=c.length;++h<p;)if(wf(c[h].geometry,a))return!0;return!1}},Mv={Sphere:function(){return!0},Point:function(n,a){return $v(n.coordinates,a)},MultiPoint:function(n,a){for(var c=n.coordinates,h=-1,p=c.length;++h<p;)if($v(c[h],a))return!0;return!1},LineString:function(n,a){return Ev(n.coordinates,a)},MultiLineString:function(n,a){for(var c=n.coordinates,h=-1,p=c.length;++h<p;)if(Ev(c[h],a))return!0;return!1},Polygon:function(n,a){return kv(n.coordinates,a)},MultiPolygon:function(n,a){for(var c=n.coordinates,h=-1,p=c.length;++h<p;)if(kv(c[h],a))return!0;return!1},GeometryCollection:function(n,a){for(var c=n.geometries,h=-1,p=c.length;++h<p;)if(wf(c[h],a))return!0;return!1}};function wf(n,a){return n&&Mv.hasOwnProperty(n.type)?Mv[n.type](n,a):!1}function $v(n,a){return xf(n,a)===0}function Ev(n,a){for(var c,h,p,_=0,x=n.length;_<x;_++){if(h=xf(n[_],a),h===0||_>0&&(p=xf(n[_],n[_-1]),p>0&&c<=p&&h<=p&&(c+h-p)*(1-Math.pow((c-h)/p,2))<Qc*p))return!0;c=h}return!1}function kv(n,a){return!!Tv(n.map(oL),Rv(a))}function oL(n){return n=n.map(Rv),n.pop(),n}function Rv(n){return[n[0]*re,n[1]*re]}function sL(n,a){return(n&&Lv.hasOwnProperty(n.type)?Lv[n.type]:wf)(n,a)}function Vv(n,a,c){var h=ft(n,a-ne,c).concat(a);return function(p){return h.map(function(_){return[p,_]})}}function Gv(n,a,c){var h=ft(n,a-ne,c).concat(a);return function(p){return h.map(function(_){return[_,p]})}}function Ov(){var n,a,c,h,p,_,x,b,A=10,C=A,k=90,G=360,R,D,q,U,j=2.5;function K(){return{type:"MultiLineString",coordinates:ot()}}function ot(){return ft(jc(h/k)*k,c,k).map(q).concat(ft(jc(b/G)*G,x,G).map(U)).concat(ft(jc(a/A)*A,n,A).filter(function(it){return ve(it%k)>ne}).map(R)).concat(ft(jc(_/C)*C,p,C).filter(function(it){return ve(it%G)>ne}).map(D))}return K.lines=function(){return ot().map(function(it){return{type:"LineString",coordinates:it}})},K.outline=function(){return{type:"Polygon",coordinates:[q(h).concat(U(x).slice(1),q(c).reverse().slice(1),U(b).reverse().slice(1))]}},K.extent=function(it){return arguments.length?K.extentMajor(it).extentMinor(it):K.extentMinor()},K.extentMajor=function(it){return arguments.length?(h=+it[0][0],c=+it[1][0],b=+it[0][1],x=+it[1][1],h>c&&(it=h,h=c,c=it),b>x&&(it=b,b=x,x=it),K.precision(j)):[[h,b],[c,x]]},K.extentMinor=function(it){return arguments.length?(a=+it[0][0],n=+it[1][0],_=+it[0][1],p=+it[1][1],a>n&&(it=a,a=n,n=it),_>p&&(it=_,_=p,p=it),K.precision(j)):[[a,_],[n,p]]},K.step=function(it){return arguments.length?K.stepMajor(it).stepMinor(it):K.stepMinor()},K.stepMajor=function(it){return arguments.length?(k=+it[0],G=+it[1],K):[k,G]},K.stepMinor=function(it){return arguments.length?(A=+it[0],C=+it[1],K):[A,C]},K.precision=function(it){return arguments.length?(j=+it,R=Vv(_,p,90),D=Gv(a,n,j),q=Vv(b,x,90),U=Gv(h,c,j),K):j},K.extentMajor([[-180,-90+ne],[180,90-ne]]).extentMinor([[-180,-80-ne],[180,80+ne]])}function uL(){return Ov()()}function cL(n,a){var c=n[0]*re,h=n[1]*re,p=a[0]*re,_=a[1]*re,x=te(h),b=Zt(h),A=te(_),C=Zt(_),k=x*te(c),G=x*Zt(c),R=A*te(p),D=A*Zt(p),q=2*Pn(qe(Zm(_-h)+x*A*Zm(p-c))),U=Zt(q),j=q?function(K){var ot=Zt(K*=q)/U,it=Zt(q-K)/U,at=it*k+ot*R,ht=it*G+ot*D,xt=it*b+ot*C;return[An(ht,at)*Ee,An(xt,qe(at*at+ht*ht))*Ee]}:function(){return[c*Ee,h*Ee]};return j.distance=q,j}function gs(n){return n}var Cg=Sr(),Lg=Sr(),Nv,Iv,Mg,$g,er={point:Ne,lineStart:Ne,lineEnd:Ne,polygonStart:function(){er.lineStart=fL,er.lineEnd=hL},polygonEnd:function(){er.lineStart=er.lineEnd=er.point=Ne,Cg.add(ve(Lg)),Lg.reset()},result:function(){var n=Cg/2;return Cg.reset(),n}};function fL(){er.point=lL}function lL(n,a){er.point=Dv,Nv=Mg=n,Iv=$g=a}function Dv(n,a){Lg.add($g*n-Mg*a),Mg=n,$g=a}function hL(){Dv(Nv,Iv)}var io=1/0,bf=io,ps=-io,Sf=ps,Tf={point:dL,lineStart:Ne,lineEnd:Ne,polygonStart:Ne,polygonEnd:Ne,result:function(){var n=[[io,bf],[ps,Sf]];return ps=Sf=-(bf=io=1/0),n}};function dL(n,a){n<io&&(io=n),n>ps&&(ps=n),a<bf&&(bf=a),a>Sf&&(Sf=a)}var Eg=0,kg=0,ys=0,Af=0,Pf=0,ro=0,Rg=0,Vg=0,_s=0,Fv,zv,Oi,Ni,oi={point:ra,lineStart:Xv,lineEnd:Yv,polygonStart:function(){oi.lineStart=yL,oi.lineEnd=_L},polygonEnd:function(){oi.point=ra,oi.lineStart=Xv,oi.lineEnd=Yv},result:function(){var n=_s?[Rg/_s,Vg/_s]:ro?[Af/ro,Pf/ro]:ys?[Eg/ys,kg/ys]:[NaN,NaN];return Eg=kg=ys=Af=Pf=ro=Rg=Vg=_s=0,n}};function ra(n,a){Eg+=n,kg+=a,++ys}function Xv(){oi.point=gL}function gL(n,a){oi.point=pL,ra(Oi=n,Ni=a)}function pL(n,a){var c=n-Oi,h=a-Ni,p=qe(c*c+h*h);Af+=p*(Oi+n)/2,Pf+=p*(Ni+a)/2,ro+=p,ra(Oi=n,Ni=a)}function Yv(){oi.point=ra}function yL(){oi.point=mL}function _L(){Bv(Fv,zv)}function mL(n,a){oi.point=Bv,ra(Fv=Oi=n,zv=Ni=a)}function Bv(n,a){var c=n-Oi,h=a-Ni,p=qe(c*c+h*h);Af+=p*(Oi+n)/2,Pf+=p*(Ni+a)/2,ro+=p,p=Ni*n-Oi*a,Rg+=p*(Oi+n),Vg+=p*(Ni+a),_s+=p*3,ra(Oi=n,Ni=a)}function Hv(n){this._context=n}Hv.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,a){switch(this._point){case 0:{this._context.moveTo(n,a),this._point=1;break}case 1:{this._context.lineTo(n,a);break}default:{this._context.moveTo(n+this._radius,a),this._context.arc(n,a,this._radius,0,Tn);break}}},result:Ne};var Gg=Sr(),Og,Uv,Wv,ms,vs,xs={point:Ne,lineStart:function(){xs.point=vL},lineEnd:function(){Og&&qv(Uv,Wv),xs.point=Ne},polygonStart:function(){Og=!0},polygonEnd:function(){Og=null},result:function(){var n=+Gg;return Gg.reset(),n}};function vL(n,a){xs.point=qv,Uv=ms=n,Wv=vs=a}function qv(n,a){ms-=n,vs-=a,Gg.add(qe(ms*ms+vs*vs)),ms=n,vs=a}function Qv(){this._string=[]}Qv.prototype={_radius:4.5,_circle:Zv(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,a){switch(this._point){case 0:{this._string.push("M",n,",",a),this._point=1;break}case 1:{this._string.push("L",n,",",a);break}default:{this._circle==null&&(this._circle=Zv(this._radius)),this._string.push("M",n,",",a,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function Zv(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function xL(n,a){var c=4.5,h,p;function _(x){return x&&(typeof c=="function"&&p.pointRadius(+c.apply(this,arguments)),vi(x,h(p))),p.result()}return _.area=function(x){return vi(x,h(er)),er.result()},_.measure=function(x){return vi(x,h(xs)),xs.result()},_.bounds=function(x){return vi(x,h(Tf)),Tf.result()},_.centroid=function(x){return vi(x,h(oi)),oi.result()},_.projection=function(x){return arguments.length?(h=x==null?(n=null,gs):(n=x).stream,_):n},_.context=function(x){return arguments.length?(p=x==null?(a=null,new Qv):new Hv(a=x),typeof c!="function"&&p.pointRadius(c),_):a},_.pointRadius=function(x){return arguments.length?(c=typeof x=="function"?x:(p.pointRadius(+x),+x),_):c},_.projection(n).context(a)}function wL(n){return{stream:ws(n)}}function ws(n){return function(a){var c=new Ng;for(var h in n)c[h]=n[h];return c.stream=a,c}}function Ng(){}Ng.prototype={constructor:Ng,point:function(n,a){this.stream.point(n,a)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ig(n,a,c){var h=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),h!=null&&n.clipExtent(null),vi(c,n.stream(Tf)),a(Tf.result()),h!=null&&n.clipExtent(h),n}function Cf(n,a,c){return Ig(n,function(h){var p=a[1][0]-a[0][0],_=a[1][1]-a[0][1],x=Math.min(p/(h[1][0]-h[0][0]),_/(h[1][1]-h[0][1])),b=+a[0][0]+(p-x*(h[1][0]+h[0][0]))/2,A=+a[0][1]+(_-x*(h[1][1]+h[0][1]))/2;n.scale(150*x).translate([b,A])},c)}function Dg(n,a,c){return Cf(n,[[0,0],a],c)}function Fg(n,a,c){return Ig(n,function(h){var p=+a,_=p/(h[1][0]-h[0][0]),x=(p-_*(h[1][0]+h[0][0]))/2,b=-_*h[0][1];n.scale(150*_).translate([x,b])},c)}function zg(n,a,c){return Ig(n,function(h){var p=+a,_=p/(h[1][1]-h[0][1]),x=-_*h[0][0],b=(p-_*(h[1][1]+h[0][1]))/2;n.scale(150*_).translate([x,b])},c)}var jv=16,bL=te(30*re);function Kv(n,a){return+a?TL(n,a):SL(n)}function SL(n){return ws({point:function(a,c){a=n(a,c),this.stream.point(a[0],a[1])}})}function TL(n,a){function c(h,p,_,x,b,A,C,k,G,R,D,q,U,j){var K=C-h,ot=k-p,it=K*K+ot*ot;if(it>4*a&&U--){var at=x+R,ht=b+D,xt=A+q,yt=qe(at*at+ht*ht+xt*xt),Pt=Pn(xt/=yt),Tt=ve(ve(xt)-1)<ne||ve(_-G)<ne?(_+G)/2:An(ht,at),At=n(Tt,Pt),bt=At[0],st=At[1],wt=bt-h,Rt=st-p,mt=ot*wt-K*Rt;(mt*mt/it>a||ve((K*wt+ot*Rt)/it-.5)>.3||x*R+b*D+A*q<bL)&&(c(h,p,_,x,b,A,bt,st,Tt,at/=yt,ht/=yt,xt,U,j),j.point(bt,st),c(bt,st,Tt,at,ht,xt,C,k,G,R,D,q,U,j))}}return function(h){var p,_,x,b,A,C,k,G,R,D,q,U,j={point:K,lineStart:ot,lineEnd:at,polygonStart:function(){h.polygonStart(),j.lineStart=ht},polygonEnd:function(){h.polygonEnd(),j.lineStart=ot}};function K(Pt,Tt){Pt=n(Pt,Tt),h.point(Pt[0],Pt[1])}function ot(){G=NaN,j.point=it,h.lineStart()}function it(Pt,Tt){var At=na([Pt,Tt]),bt=n(Pt,Tt);c(G,R,k,D,q,U,G=bt[0],R=bt[1],k=Pt,D=At[0],q=At[1],U=At[2],jv,h),h.point(G,R)}function at(){j.point=K,h.lineEnd()}function ht(){ot(),j.point=xt,j.lineEnd=yt}function xt(Pt,Tt){it(p=Pt,Tt),_=G,x=R,b=D,A=q,C=U,j.point=it}function yt(){c(G,R,k,D,q,U,_,x,p,b,A,C,jv,h),j.lineEnd=at,at()}return j}}var AL=ws({point:function(n,a){this.stream.point(n*re,a*re)}});function PL(n){return ws({point:function(a,c){var h=n(a,c);return this.stream.point(h[0],h[1])}})}function CL(n,a,c,h,p){function _(x,b){return x*=h,b*=p,[a+n*x,c-n*b]}return _.invert=function(x,b){return[(x-a)/n*h,(c-b)/n*p]},_}function Jv(n,a,c,h,p,_){var x=te(_),b=Zt(_),A=x*n,C=b*n,k=x/n,G=b/n,R=(b*c-x*a)/n,D=(b*a+x*c)/n;function q(U,j){return U*=h,j*=p,[A*U-C*j+a,c-C*U-A*j]}return q.invert=function(U,j){return[h*(k*U-G*j+R),p*(D-G*U-k*j)]},q}function Ii(n){return Xg(function(){return n})()}function Xg(n){var a,c=150,h=480,p=250,_=0,x=0,b=0,A=0,C=0,k,G=0,R=1,D=1,q=null,U=Sg,j=null,K,ot,it,at=gs,ht=.5,xt,yt,Pt,Tt,At;function bt(mt){return Pt(mt[0]*re,mt[1]*re)}function st(mt){return mt=Pt.invert(mt[0],mt[1]),mt&&[mt[0]*Ee,mt[1]*Ee]}bt.stream=function(mt){return Tt&&At===mt?Tt:Tt=AL(PL(k)(U(xt(at(At=mt)))))},bt.preclip=function(mt){return arguments.length?(U=mt,q=void 0,Rt()):U},bt.postclip=function(mt){return arguments.length?(at=mt,j=K=ot=it=null,Rt()):at},bt.clipAngle=function(mt){return arguments.length?(U=+mt?Pv(q=mt*re):(q=null,Sg),Rt()):q*Ee},bt.clipExtent=function(mt){return arguments.length?(at=mt==null?(j=K=ot=it=null,gs):_f(j=+mt[0][0],K=+mt[0][1],ot=+mt[1][0],it=+mt[1][1]),Rt()):j==null?null:[[j,K],[ot,it]]},bt.scale=function(mt){return arguments.length?(c=+mt,wt()):c},bt.translate=function(mt){return arguments.length?(h=+mt[0],p=+mt[1],wt()):[h,p]},bt.center=function(mt){return arguments.length?(_=mt[0]%360*re,x=mt[1]%360*re,wt()):[_*Ee,x*Ee]},bt.rotate=function(mt){return arguments.length?(b=mt[0]%360*re,A=mt[1]%360*re,C=mt.length>2?mt[2]%360*re:0,wt()):[b*Ee,A*Ee,C*Ee]},bt.angle=function(mt){return arguments.length?(G=mt%360*re,wt()):G*Ee},bt.reflectX=function(mt){return arguments.length?(R=mt?-1:1,wt()):R<0},bt.reflectY=function(mt){return arguments.length?(D=mt?-1:1,wt()):D<0},bt.precision=function(mt){return arguments.length?(xt=Kv(yt,ht=mt*mt),Rt()):qe(ht)},bt.fitExtent=function(mt,$t){return Cf(bt,mt,$t)},bt.fitSize=function(mt,$t){return Dg(bt,mt,$t)},bt.fitWidth=function(mt,$t){return Fg(bt,mt,$t)},bt.fitHeight=function(mt,$t){return zg(bt,mt,$t)};function wt(){var mt=Jv(c,0,0,R,D,G).apply(null,a(_,x)),$t=(G?Jv:CL)(c,h-mt[0],p-mt[1],R,D,G);return k=xg(b,A,C),yt=mg(a,$t),Pt=mg(k,yt),xt=Kv(yt,ht),Rt()}function Rt(){return Tt=At=null,bt}return function(){return a=n.apply(this,arguments),bt.invert=a.invert&&st,wt()}}function Yg(n){var a=0,c=ge/3,h=Xg(n),p=h(a,c);return p.parallels=function(_){return arguments.length?h(a=_[0]*re,c=_[1]*re):[a*Ee,c*Ee]},p}function LL(n){var a=te(n);function c(h,p){return[h*a,Zt(p)/a]}return c.invert=function(h,p){return[h/a,Pn(p*a)]},c}function tx(n,a){var c=Zt(n),h=(c+Zt(a))/2;if(ve(h)<ne)return LL(n);var p=1+c*(2*h-c),_=qe(p)/h;function x(b,A){var C=qe(p-2*h*Zt(A))/h;return[C*Zt(b*=h),_-C*te(b)]}return x.invert=function(b,A){var C=_-A,k=An(b,ve(C))*ai(C);return C*h<0&&(k-=ge*ai(b)*ai(C)),[k/h,Pn((p-(b*b+C*C)*h*h)/(2*h))]},x}function Lf(){return Yg(tx).scale(155.424).center([0,33.6442])}function ex(){return Lf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ML(n){var a=n.length;return{point:function(c,h){for(var p=-1;++p<a;)n[p].point(c,h)},sphere:function(){for(var c=-1;++c<a;)n[c].sphere()},lineStart:function(){for(var c=-1;++c<a;)n[c].lineStart()},lineEnd:function(){for(var c=-1;++c<a;)n[c].lineEnd()},polygonStart:function(){for(var c=-1;++c<a;)n[c].polygonStart()},polygonEnd:function(){for(var c=-1;++c<a;)n[c].polygonEnd()}}}function $L(){var n,a,c=ex(),h,p=Lf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),_,x=Lf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),b,A,C={point:function(R,D){A=[R,D]}};function k(R){var D=R[0],q=R[1];return A=null,h.point(D,q),A||(_.point(D,q),A)||(b.point(D,q),A)}k.invert=function(R){var D=c.scale(),q=c.translate(),U=(R[0]-q[0])/D,j=(R[1]-q[1])/D;return(j>=.12&&j<.234&&U>=-.425&&U<-.214?p:j>=.166&&j<.234&&U>=-.214&&U<-.115?x:c).invert(R)},k.stream=function(R){return n&&a===R?n:n=ML([c.stream(a=R),p.stream(R),x.stream(R)])},k.precision=function(R){return arguments.length?(c.precision(R),p.precision(R),x.precision(R),G()):c.precision()},k.scale=function(R){return arguments.length?(c.scale(R),p.scale(R*.35),x.scale(R),k.translate(c.translate())):c.scale()},k.translate=function(R){if(!arguments.length)return c.translate();var D=c.scale(),q=+R[0],U=+R[1];return h=c.translate(R).clipExtent([[q-.455*D,U-.238*D],[q+.455*D,U+.238*D]]).stream(C),_=p.translate([q-.307*D,U+.201*D]).clipExtent([[q-.425*D+ne,U+.12*D+ne],[q-.214*D-ne,U+.234*D-ne]]).stream(C),b=x.translate([q-.205*D,U+.212*D]).clipExtent([[q-.214*D+ne,U+.166*D+ne],[q-.115*D-ne,U+.234*D-ne]]).stream(C),G()},k.fitExtent=function(R,D){return Cf(k,R,D)},k.fitSize=function(R,D){return Dg(k,R,D)},k.fitWidth=function(R,D){return Fg(k,R,D)},k.fitHeight=function(R,D){return zg(k,R,D)};function G(){return n=a=null,k}return k.scale(1070)}function nx(n){return function(a,c){var h=te(a),p=te(c),_=n(h*p);return[_*p*Zt(a),_*Zt(c)]}}function bs(n){return function(a,c){var h=qe(a*a+c*c),p=n(h),_=Zt(p),x=te(p);return[An(a*_,h*x),Pn(h&&c*_/h)]}}var Bg=nx(function(n){return qe(2/(1+n))});Bg.invert=bs(function(n){return 2*Pn(n/2)});function EL(){return Ii(Bg).scale(124.75).clipAngle(180-.001)}var Hg=nx(function(n){return(n=Qm(n))&&n/Zt(n)});Hg.invert=bs(function(n){return n});function kL(){return Ii(Hg).scale(79.4188).clipAngle(180-.001)}function Ss(n,a){return[n,Kc(sg((ze+a)/2))]}Ss.invert=function(n,a){return[n,2*Ka(qm(a))-ze]};function RL(){return ix(Ss).scale(961/Tn)}function ix(n){var a=Ii(n),c=a.center,h=a.scale,p=a.translate,_=a.clipExtent,x=null,b,A,C;a.scale=function(G){return arguments.length?(h(G),k()):h()},a.translate=function(G){return arguments.length?(p(G),k()):p()},a.center=function(G){return arguments.length?(c(G),k()):c()},a.clipExtent=function(G){return arguments.length?(G==null?x=b=A=C=null:(x=+G[0][0],b=+G[0][1],A=+G[1][0],C=+G[1][1]),k()):x==null?null:[[x,b],[A,C]]};function k(){var G=ge*h(),R=a(mv(a.rotate()).invert([0,0]));return _(x==null?[[R[0]-G,R[1]-G],[R[0]+G,R[1]+G]]:n===Ss?[[Math.max(R[0]-G,x),b],[Math.min(R[0]+G,A),C]]:[[x,Math.max(R[1]-G,b)],[A,Math.min(R[1]+G,C)]])}return k()}function Mf(n){return sg((ze+n)/2)}function rx(n,a){var c=te(n),h=n===a?Zt(n):Kc(c/te(a))/Kc(Mf(a)/Mf(n)),p=c*og(Mf(n),h)/h;if(!h)return Ss;function _(x,b){p>0?b<-ze+ne&&(b=-ze+ne):b>ze-ne&&(b=ze-ne);var A=p/og(Mf(b),h);return[A*Zt(h*x),p-A*te(h*x)]}return _.invert=function(x,b){var A=p-b,C=ai(h)*qe(x*x+A*A),k=An(x,ve(A))*ai(A);return A*h<0&&(k-=ge*ai(x)*ai(A)),[k/h,2*Ka(og(p/C,1/h))-ze]},_}function VL(){return Yg(rx).scale(109.5).parallels([30,30])}function Ts(n,a){return[n,a]}Ts.invert=Ts;function GL(){return Ii(Ts).scale(152.63)}function ax(n,a){var c=te(n),h=n===a?Zt(n):(c-te(a))/(a-n),p=c/h+n;if(ve(h)<ne)return Ts;function _(x,b){var A=p-b,C=h*x;return[A*Zt(C),p-A*te(C)]}return _.invert=function(x,b){var A=p-b,C=An(x,ve(A))*ai(A);return A*h<0&&(C-=ge*ai(x)*ai(A)),[C/h,p-ai(h)*qe(x*x+A*A)]},_}function OL(){return Yg(ax).scale(131.154).center([0,13.9389])}var As=1.340264,Ps=-.081106,Cs=893e-6,Ls=.003796,$f=qe(3)/2,NL=12;function Ug(n,a){var c=Pn($f*Zt(a)),h=c*c,p=h*h*h;return[n*te(c)/($f*(As+3*Ps*h+p*(7*Cs+9*Ls*h))),c*(As+Ps*h+p*(Cs+Ls*h))]}Ug.invert=function(n,a){for(var c=a,h=c*c,p=h*h*h,_=0,x,b,A;_<NL&&(b=c*(As+Ps*h+p*(Cs+Ls*h))-a,A=As+3*Ps*h+p*(7*Cs+9*Ls*h),c-=x=b/A,h=c*c,p=h*h*h,!(ve(x)<Qc));++_);return[$f*n*(As+3*Ps*h+p*(7*Cs+9*Ls*h))/te(c),Pn(Zt(c)/$f)]};function IL(){return Ii(Ug).scale(177.158)}function Wg(n,a){var c=te(a),h=te(n)*c;return[c*Zt(n)/h,Zt(a)/h]}Wg.invert=bs(Ka);function DL(){return Ii(Wg).scale(144.049).clipAngle(60)}function FL(){var n=1,a=0,c=0,h=1,p=1,_=0,x,b,A=null,C,k,G,R=1,D=1,q=ws({point:function(at,ht){var xt=it([at,ht]);this.stream.point(xt[0],xt[1])}}),U=gs,j,K;function ot(){return R=n*h,D=n*p,j=K=null,it}function it(at){var ht=at[0]*R,xt=at[1]*D;if(_){var yt=xt*x-ht*b;ht=ht*x+xt*b,xt=yt}return[ht+a,xt+c]}return it.invert=function(at){var ht=at[0]-a,xt=at[1]-c;if(_){var yt=xt*x+ht*b;ht=ht*x-xt*b,xt=yt}return[ht/R,xt/D]},it.stream=function(at){return j&&K===at?j:j=q(U(K=at))},it.postclip=function(at){return arguments.length?(U=at,A=C=k=G=null,ot()):U},it.clipExtent=function(at){return arguments.length?(U=at==null?(A=C=k=G=null,gs):_f(A=+at[0][0],C=+at[0][1],k=+at[1][0],G=+at[1][1]),ot()):A==null?null:[[A,C],[k,G]]},it.scale=function(at){return arguments.length?(n=+at,ot()):n},it.translate=function(at){return arguments.length?(a=+at[0],c=+at[1],ot()):[a,c]},it.angle=function(at){return arguments.length?(_=at%360*re,b=Zt(_),x=te(_),ot()):_*Ee},it.reflectX=function(at){return arguments.length?(h=at?-1:1,ot()):h<0},it.reflectY=function(at){return arguments.length?(p=at?-1:1,ot()):p<0},it.fitExtent=function(at,ht){return Cf(it,at,ht)},it.fitSize=function(at,ht){return Dg(it,at,ht)},it.fitWidth=function(at,ht){return Fg(it,at,ht)},it.fitHeight=function(at,ht){return zg(it,at,ht)},it}function qg(n,a){var c=a*a,h=c*c;return[n*(.8707-.131979*c+h*(-.013791+h*(.003971*c-.001529*h))),a*(1.007226+c*(.015085+h*(-.044475+.028874*c-.005916*h)))]}qg.invert=function(n,a){var c=a,h=25,p;do{var _=c*c,x=_*_;c-=p=(c*(1.007226+_*(.015085+x*(-.044475+.028874*_-.005916*x)))-a)/(1.007226+_*(.015085*3+x*(-.044475*7+.028874*9*_-.005916*11*x)))}while(ve(p)>ne&&--h>0);return[n/(.8707+(_=c*c)*(-.131979+_*(-.013791+_*_*_*(.003971-.001529*_)))),c]};function zL(){return Ii(qg).scale(175.295)}function Qg(n,a){return[te(a)*Zt(n),Zt(a)]}Qg.invert=bs(Pn);function XL(){return Ii(Qg).scale(249.5).clipAngle(90+ne)}function Zg(n,a){var c=te(a),h=1+te(n)*c;return[c*Zt(n)/h,Zt(a)/h]}Zg.invert=bs(function(n){return 2*Ka(n)});function YL(){return Ii(Zg).scale(250).clipAngle(142)}function jg(n,a){return[Kc(sg((ze+a)/2)),-n]}jg.invert=function(n,a){return[-a,2*Ka(qm(n))-ze]};function BL(){var n=ix(jg),a=n.center,c=n.rotate;return n.center=function(h){return arguments.length?a([-h[1],h[0]]):(h=a(),[h[1],-h[0]])},n.rotate=function(h){return arguments.length?c([h[0],h[1],h.length>2?h[2]+90:90]):(h=c(),[h[0],h[1],h[2]-90])},c([0,0,90]).scale(159.155)}function HL(n,a){return n.parent===a.parent?1:2}function UL(n){return n.reduce(WL,0)/n.length}function WL(n,a){return n+a.x}function qL(n){return 1+n.reduce(QL,0)}function QL(n,a){return Math.max(n,a.y)}function ZL(n){for(var a;a=n.children;)n=a[0];return n}function jL(n){for(var a;a=n.children;)n=a[a.length-1];return n}function KL(){var n=HL,a=1,c=1,h=!1;function p(_){var x,b=0;_.eachAfter(function(R){var D=R.children;D?(R.x=UL(D),R.y=qL(D)):(R.x=x?b+=n(R,x):0,R.y=0,x=R)});var A=ZL(_),C=jL(_),k=A.x-n(A,C)/2,G=C.x+n(C,A)/2;return _.eachAfter(h?function(R){R.x=(R.x-_.x)*a,R.y=(_.y-R.y)*c}:function(R){R.x=(R.x-k)/(G-k)*a,R.y=(1-(_.y?R.y/_.y:1))*c})}return p.separation=function(_){return arguments.length?(n=_,p):n},p.size=function(_){return arguments.length?(h=!1,a=+_[0],c=+_[1],p):h?null:[a,c]},p.nodeSize=function(_){return arguments.length?(h=!0,a=+_[0],c=+_[1],p):h?[a,c]:null},p}function JL(n){var a=0,c=n.children,h=c&&c.length;if(!h)a=1;else for(;--h>=0;)a+=c[h].value;n.value=a}function tM(){return this.eachAfter(JL)}function eM(n){var a=this,c,h=[a],p,_,x;do for(c=h.reverse(),h=[];a=c.pop();)if(n(a),p=a.children,p)for(_=0,x=p.length;_<x;++_)h.push(p[_]);while(h.length);return this}function nM(n){for(var a=this,c=[a],h,p;a=c.pop();)if(n(a),h=a.children,h)for(p=h.length-1;p>=0;--p)c.push(h[p]);return this}function iM(n){for(var a=this,c=[a],h=[],p,_,x;a=c.pop();)if(h.push(a),p=a.children,p)for(_=0,x=p.length;_<x;++_)c.push(p[_]);for(;a=h.pop();)n(a);return this}function rM(n){return this.eachAfter(function(a){for(var c=+n(a.data)||0,h=a.children,p=h&&h.length;--p>=0;)c+=h[p].value;a.value=c})}function aM(n){return this.eachBefore(function(a){a.children&&a.children.sort(n)})}function oM(n){for(var a=this,c=sM(a,n),h=[a];a!==c;)a=a.parent,h.push(a);for(var p=h.length;n!==c;)h.splice(p,0,n),n=n.parent;return h}function sM(n,a){if(n===a)return n;var c=n.ancestors(),h=a.ancestors(),p=null;for(n=c.pop(),a=h.pop();n===a;)p=n,n=c.pop(),a=h.pop();return p}function uM(){for(var n=this,a=[n];n=n.parent;)a.push(n);return a}function cM(){var n=[];return this.each(function(a){n.push(a)}),n}function fM(){var n=[];return this.eachBefore(function(a){a.children||n.push(a)}),n}function lM(){var n=this,a=[];return n.each(function(c){c!==n&&a.push({source:c.parent,target:c})}),a}function Kg(n,a){var c=new ao(n),h=+n.value&&(c.value=n.value),p,_=[c],x,b,A,C;for(a==null&&(a=dM);p=_.pop();)if(h&&(p.value=+p.data.value),(b=a(p.data))&&(C=b.length))for(p.children=new Array(C),A=C-1;A>=0;--A)_.push(x=p.children[A]=new ao(b[A])),x.parent=p,x.depth=p.depth+1;return c.eachBefore(ox)}function hM(){return Kg(this).eachBefore(gM)}function dM(n){return n.children}function gM(n){n.data=n.data.data}function ox(n){var a=0;do n.height=a;while((n=n.parent)&&n.height<++a)}function ao(n){this.data=n,this.depth=this.height=0,this.parent=null}ao.prototype=Kg.prototype={constructor:ao,count:tM,each:eM,eachAfter:iM,eachBefore:nM,sum:rM,sort:aM,path:oM,ancestors:uM,descendants:cM,leaves:fM,links:lM,copy:hM};var pM=Array.prototype.slice;function yM(n){for(var a=n.length,c,h;a;)h=Math.random()*a--|0,c=n[a],n[a]=n[h],n[h]=c;return n}function sx(n){for(var a=0,c=(n=yM(pM.call(n))).length,h=[],p,_;a<c;)p=n[a],_&&ux(_,p)?++a:(_=mM(h=_M(h,p)),a=0);return _}function _M(n,a){var c,h;if(Jg(a,n))return[a];for(c=0;c<n.length;++c)if(Ef(a,n[c])&&Jg(Ms(n[c],a),n))return[n[c],a];for(c=0;c<n.length-1;++c)for(h=c+1;h<n.length;++h)if(Ef(Ms(n[c],n[h]),a)&&Ef(Ms(n[c],a),n[h])&&Ef(Ms(n[h],a),n[c])&&Jg(cx(n[c],n[h],a),n))return[n[c],n[h],a];throw new Error}function Ef(n,a){var c=n.r-a.r,h=a.x-n.x,p=a.y-n.y;return c<0||c*c<h*h+p*p}function ux(n,a){var c=n.r-a.r+1e-6,h=a.x-n.x,p=a.y-n.y;return c>0&&c*c>h*h+p*p}function Jg(n,a){for(var c=0;c<a.length;++c)if(!ux(n,a[c]))return!1;return!0}function mM(n){switch(n.length){case 1:return vM(n[0]);case 2:return Ms(n[0],n[1]);case 3:return cx(n[0],n[1],n[2])}}function vM(n){return{x:n.x,y:n.y,r:n.r}}function Ms(n,a){var c=n.x,h=n.y,p=n.r,_=a.x,x=a.y,b=a.r,A=_-c,C=x-h,k=b-p,G=Math.sqrt(A*A+C*C);return{x:(c+_+A/G*k)/2,y:(h+x+C/G*k)/2,r:(G+p+b)/2}}function cx(n,a,c){var h=n.x,p=n.y,_=n.r,x=a.x,b=a.y,A=a.r,C=c.x,k=c.y,G=c.r,R=h-x,D=h-C,q=p-b,U=p-k,j=A-_,K=G-_,ot=h*h+p*p-_*_,it=ot-x*x-b*b+A*A,at=ot-C*C-k*k+G*G,ht=D*q-R*U,xt=(q*at-U*it)/(ht*2)-h,yt=(U*j-q*K)/ht,Pt=(D*it-R*at)/(ht*2)-p,Tt=(R*K-D*j)/ht,At=yt*yt+Tt*Tt-1,bt=2*(_+xt*yt+Pt*Tt),st=xt*xt+Pt*Pt-_*_,wt=-(At?(bt+Math.sqrt(bt*bt-4*At*st))/(2*At):st/bt);return{x:h+xt+yt*wt,y:p+Pt+Tt*wt,r:wt}}function fx(n,a,c){var h=n.x-a.x,p,_,x=n.y-a.y,b,A,C=h*h+x*x;C?(_=a.r+c.r,_*=_,A=n.r+c.r,A*=A,_>A?(p=(C+A-_)/(2*C),b=Math.sqrt(Math.max(0,A/C-p*p)),c.x=n.x-p*h-b*x,c.y=n.y-p*x+b*h):(p=(C+_-A)/(2*C),b=Math.sqrt(Math.max(0,_/C-p*p)),c.x=a.x+p*h-b*x,c.y=a.y+p*x+b*h)):(c.x=a.x+c.r,c.y=a.y)}function lx(n,a){var c=n.r+a.r-1e-6,h=a.x-n.x,p=a.y-n.y;return c>0&&c*c>h*h+p*p}function hx(n){var a=n._,c=n.next._,h=a.r+c.r,p=(a.x*c.r+c.x*a.r)/h,_=(a.y*c.r+c.y*a.r)/h;return p*p+_*_}function kf(n){this._=n,this.next=null,this.previous=null}function dx(n){if(!(p=n.length))return 0;var a,c,h,p,_,x,b,A,C,k,G;if(a=n[0],a.x=0,a.y=0,!(p>1))return a.r;if(c=n[1],a.x=-c.r,c.x=a.r,c.y=0,!(p>2))return a.r+c.r;fx(c,a,h=n[2]),a=new kf(a),c=new kf(c),h=new kf(h),a.next=h.previous=c,c.next=a.previous=h,h.next=c.previous=a;t:for(b=3;b<p;++b){fx(a._,c._,h=n[b]),h=new kf(h),A=c.next,C=a.previous,k=c._.r,G=a._.r;do if(k<=G){if(lx(A._,h._)){c=A,a.next=c,c.previous=a,--b;continue t}k+=A._.r,A=A.next}else{if(lx(C._,h._)){a=C,a.next=c,c.previous=a,--b;continue t}G+=C._.r,C=C.previous}while(A!==C.next);for(h.previous=a,h.next=c,a.next=c.previous=c=h,_=hx(a);(h=h.next)!==c;)(x=hx(h))<_&&(a=h,_=x);c=a.next}for(a=[c._],h=c;(h=h.next)!==c;)a.push(h._);for(h=sx(a),b=0;b<p;++b)a=n[b],a.x-=h.x,a.y-=h.y;return h.r}function xM(n){return dx(n),n}function wM(n){return n==null?null:Rf(n)}function Rf(n){if(typeof n!="function")throw new Error;return n}function aa(){return 0}function oo(n){return function(){return n}}function bM(n){return Math.sqrt(n.value)}function SM(){var n=null,a=1,c=1,h=aa;function p(_){return _.x=a/2,_.y=c/2,n?_.eachBefore(gx(n)).eachAfter(tp(h,.5)).eachBefore(px(1)):_.eachBefore(gx(bM)).eachAfter(tp(aa,1)).eachAfter(tp(h,_.r/Math.min(a,c))).eachBefore(px(Math.min(a,c)/(2*_.r))),_}return p.radius=function(_){return arguments.length?(n=wM(_),p):n},p.size=function(_){return arguments.length?(a=+_[0],c=+_[1],p):[a,c]},p.padding=function(_){return arguments.length?(h=typeof _=="function"?_:oo(+_),p):h},p}function gx(n){return function(a){a.children||(a.r=Math.max(0,+n(a)||0))}}function tp(n,a){return function(c){if(h=c.children){var h,p,_=h.length,x=n(c)*a||0,b;if(x)for(p=0;p<_;++p)h[p].r+=x;if(b=dx(h),x)for(p=0;p<_;++p)h[p].r-=x;c.r=b+x}}}function px(n){return function(a){var c=a.parent;a.r*=n,c&&(a.x=c.x+n*a.x,a.y=c.y+n*a.y)}}function yx(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function $s(n,a,c,h,p){for(var _=n.children,x,b=-1,A=_.length,C=n.value&&(h-a)/n.value;++b<A;)x=_[b],x.y0=c,x.y1=p,x.x0=a,x.x1=a+=x.value*C}function TM(){var n=1,a=1,c=0,h=!1;function p(x){var b=x.height+1;return x.x0=x.y0=c,x.x1=n,x.y1=a/b,x.eachBefore(_(a,b)),h&&x.eachBefore(yx),x}function _(x,b){return function(A){A.children&&$s(A,A.x0,x*(A.depth+1)/b,A.x1,x*(A.depth+2)/b);var C=A.x0,k=A.y0,G=A.x1-c,R=A.y1-c;G<C&&(C=G=(C+G)/2),R<k&&(k=R=(k+R)/2),A.x0=C,A.y0=k,A.x1=G,A.y1=R}}return p.round=function(x){return arguments.length?(h=!!x,p):h},p.size=function(x){return arguments.length?(n=+x[0],a=+x[1],p):[n,a]},p.padding=function(x){return arguments.length?(c=+x,p):c},p}var _x="$",AM={depth:-1},mx={};function PM(n){return n.id}function CM(n){return n.parentId}function LM(){var n=PM,a=CM;function c(h){var p,_,x=h.length,b,A,C,k=new Array(x),G,R,D={};for(_=0;_<x;++_)p=h[_],C=k[_]=new ao(p),(G=n(p,_,h))!=null&&(G+="")&&(R=_x+(C.id=G),D[R]=R in D?mx:C);for(_=0;_<x;++_)if(C=k[_],G=a(h[_],_,h),G==null||!(G+="")){if(b)throw new Error("multiple roots");b=C}else{if(A=D[_x+G],!A)throw new Error("missing: "+G);if(A===mx)throw new Error("ambiguous: "+G);A.children?A.children.push(C):A.children=[C],C.parent=A}if(!b)throw new Error("no root");if(b.parent=AM,b.eachBefore(function(q){q.depth=q.parent.depth+1,--x}).eachBefore(ox),b.parent=null,x>0)throw new Error("cycle");return b}return c.id=function(h){return arguments.length?(n=Rf(h),c):n},c.parentId=function(h){return arguments.length?(a=Rf(h),c):a},c}function MM(n,a){return n.parent===a.parent?1:2}function ep(n){var a=n.children;return a?a[0]:n.t}function np(n){var a=n.children;return a?a[a.length-1]:n.t}function $M(n,a,c){var h=c/(a.i-n.i);a.c-=h,a.s+=c,n.c+=h,a.z+=c,a.m+=c}function EM(n){for(var a=0,c=0,h=n.children,p=h.length,_;--p>=0;)_=h[p],_.z+=a,_.m+=a,a+=_.s+(c+=_.c)}function kM(n,a,c){return n.a.parent===a.parent?n.a:c}function Vf(n,a){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=a}Vf.prototype=Object.create(ao.prototype);function RM(n){for(var a=new Vf(n,0),c,h=[a],p,_,x,b;c=h.pop();)if(_=c._.children)for(c.children=new Array(b=_.length),x=b-1;x>=0;--x)h.push(p=c.children[x]=new Vf(_[x],x)),p.parent=c;return(a.parent=new Vf(null,0)).children=[a],a}function VM(){var n=MM,a=1,c=1,h=null;function p(C){var k=RM(C);if(k.eachAfter(_),k.parent.m=-k.z,k.eachBefore(x),h)C.eachBefore(A);else{var G=C,R=C,D=C;C.eachBefore(function(ot){ot.x<G.x&&(G=ot),ot.x>R.x&&(R=ot),ot.depth>D.depth&&(D=ot)});var q=G===R?1:n(G,R)/2,U=q-G.x,j=a/(R.x+q+U),K=c/(D.depth||1);C.eachBefore(function(ot){ot.x=(ot.x+U)*j,ot.y=ot.depth*K})}return C}function _(C){var k=C.children,G=C.parent.children,R=C.i?G[C.i-1]:null;if(k){EM(C);var D=(k[0].z+k[k.length-1].z)/2;R?(C.z=R.z+n(C._,R._),C.m=C.z-D):C.z=D}else R&&(C.z=R.z+n(C._,R._));C.parent.A=b(C,R,C.parent.A||G[0])}function x(C){C._.x=C.z+C.parent.m,C.m+=C.parent.m}function b(C,k,G){if(k){for(var R=C,D=C,q=k,U=R.parent.children[0],j=R.m,K=D.m,ot=q.m,it=U.m,at;q=np(q),R=ep(R),q&&R;)U=ep(U),D=np(D),D.a=C,at=q.z+ot-R.z-j+n(q._,R._),at>0&&($M(kM(q,C,G),C,at),j+=at,K+=at),ot+=q.m,j+=R.m,it+=U.m,K+=D.m;q&&!np(D)&&(D.t=q,D.m+=ot-K),R&&!ep(U)&&(U.t=R,U.m+=j-it,G=C)}return G}function A(C){C.x*=a,C.y=C.depth*c}return p.separation=function(C){return arguments.length?(n=C,p):n},p.size=function(C){return arguments.length?(h=!1,a=+C[0],c=+C[1],p):h?null:[a,c]},p.nodeSize=function(C){return arguments.length?(h=!0,a=+C[0],c=+C[1],p):h?[a,c]:null},p}function Gf(n,a,c,h,p){for(var _=n.children,x,b=-1,A=_.length,C=n.value&&(p-c)/n.value;++b<A;)x=_[b],x.x0=a,x.x1=h,x.y0=c,x.y1=c+=x.value*C}var vx=(1+Math.sqrt(5))/2;function xx(n,a,c,h,p,_){for(var x=[],b=a.children,A,C,k=0,G=0,R=b.length,D,q,U=a.value,j,K,ot,it,at,ht,xt;k<R;){D=p-c,q=_-h;do j=b[G++].value;while(!j&&G<R);for(K=ot=j,ht=Math.max(q/D,D/q)/(U*n),xt=j*j*ht,at=Math.max(ot/xt,xt/K);G<R;++G){if(j+=C=b[G].value,C<K&&(K=C),C>ot&&(ot=C),xt=j*j*ht,it=Math.max(ot/xt,xt/K),it>at){j-=C;break}at=it}x.push(A={value:j,dice:D<q,children:b.slice(k,G)}),A.dice?$s(A,c,h,p,U?h+=q*j/U:_):Gf(A,c,h,U?c+=D*j/U:p,_),U-=j,k=G}return x}var wx=function n(a){function c(h,p,_,x,b){xx(a,h,p,_,x,b)}return c.ratio=function(h){return n((h=+h)>1?h:1)},c}(vx);function GM(){var n=wx,a=!1,c=1,h=1,p=[0],_=aa,x=aa,b=aa,A=aa,C=aa;function k(R){return R.x0=R.y0=0,R.x1=c,R.y1=h,R.eachBefore(G),p=[0],a&&R.eachBefore(yx),R}function G(R){var D=p[R.depth],q=R.x0+D,U=R.y0+D,j=R.x1-D,K=R.y1-D;j<q&&(q=j=(q+j)/2),K<U&&(U=K=(U+K)/2),R.x0=q,R.y0=U,R.x1=j,R.y1=K,R.children&&(D=p[R.depth+1]=_(R)/2,q+=C(R)-D,U+=x(R)-D,j-=b(R)-D,K-=A(R)-D,j<q&&(q=j=(q+j)/2),K<U&&(U=K=(U+K)/2),n(R,q,U,j,K))}return k.round=function(R){return arguments.length?(a=!!R,k):a},k.size=function(R){return arguments.length?(c=+R[0],h=+R[1],k):[c,h]},k.tile=function(R){return arguments.length?(n=Rf(R),k):n},k.padding=function(R){return arguments.length?k.paddingInner(R).paddingOuter(R):k.paddingInner()},k.paddingInner=function(R){return arguments.length?(_=typeof R=="function"?R:oo(+R),k):_},k.paddingOuter=function(R){return arguments.length?k.paddingTop(R).paddingRight(R).paddingBottom(R).paddingLeft(R):k.paddingTop()},k.paddingTop=function(R){return arguments.length?(x=typeof R=="function"?R:oo(+R),k):x},k.paddingRight=function(R){return arguments.length?(b=typeof R=="function"?R:oo(+R),k):b},k.paddingBottom=function(R){return arguments.length?(A=typeof R=="function"?R:oo(+R),k):A},k.paddingLeft=function(R){return arguments.length?(C=typeof R=="function"?R:oo(+R),k):C},k}function OM(n,a,c,h,p){var _=n.children,x,b=_.length,A,C=new Array(b+1);for(C[0]=A=x=0;x<b;++x)C[x+1]=A+=_[x].value;k(0,b,n.value,a,c,h,p);function k(G,R,D,q,U,j,K){if(G>=R-1){var ot=_[G];ot.x0=q,ot.y0=U,ot.x1=j,ot.y1=K;return}for(var it=C[G],at=D/2+it,ht=G+1,xt=R-1;ht<xt;){var yt=ht+xt>>>1;C[yt]<at?ht=yt+1:xt=yt}at-C[ht-1]<C[ht]-at&&G+1<ht&&--ht;var Pt=C[ht]-it,Tt=D-Pt;if(j-q>K-U){var At=(q*Tt+j*Pt)/D;k(G,ht,Pt,q,U,At,K),k(ht,R,Tt,At,U,j,K)}else{var bt=(U*Tt+K*Pt)/D;k(G,ht,Pt,q,U,j,bt),k(ht,R,Tt,q,bt,j,K)}}}function NM(n,a,c,h,p){(n.depth&1?Gf:$s)(n,a,c,h,p)}var IM=function n(a){function c(h,p,_,x,b){if((A=h._squarify)&&A.ratio===a)for(var A,C,k,G,R=-1,D,q=A.length,U=h.value;++R<q;){for(C=A[R],k=C.children,G=C.value=0,D=k.length;G<D;++G)C.value+=k[G].value;C.dice?$s(C,p,_,x,_+=(b-_)*C.value/U):Gf(C,p,_,p+=(x-p)*C.value/U,b),U-=C.value}else h._squarify=A=xx(a,h,p,_,x,b),A.ratio=a}return c.ratio=function(h){return n((h=+h)>1?h:1)},c}(vx);function DM(n){for(var a=-1,c=n.length,h,p=n[c-1],_=0;++a<c;)h=p,p=n[a],_+=h[1]*p[0]-h[0]*p[1];return _/2}function FM(n){for(var a=-1,c=n.length,h=0,p=0,_,x=n[c-1],b,A=0;++a<c;)_=x,x=n[a],A+=b=_[0]*x[1]-x[0]*_[1],h+=(_[0]+x[0])*b,p+=(_[1]+x[1])*b;return A*=3,[h/A,p/A]}function zM(n,a,c){return(a[0]-n[0])*(c[1]-n[1])-(a[1]-n[1])*(c[0]-n[0])}function XM(n,a){return n[0]-a[0]||n[1]-a[1]}function bx(n){for(var a=n.length,c=[0,1],h=2,p=2;p<a;++p){for(;h>1&&zM(n[c[h-2]],n[c[h-1]],n[p])<=0;)--h;c[h++]=p}return c.slice(0,h)}function YM(n){if((c=n.length)<3)return null;var a,c,h=new Array(c),p=new Array(c);for(a=0;a<c;++a)h[a]=[+n[a][0],+n[a][1],a];for(h.sort(XM),a=0;a<c;++a)p[a]=[h[a][0],-h[a][1]];var _=bx(h),x=bx(p),b=x[0]===_[0],A=x[x.length-1]===_[_.length-1],C=[];for(a=_.length-1;a>=0;--a)C.push(n[h[_[a]][2]]);for(a=+b;a<x.length-A;++a)C.push(n[h[x[a]][2]]);return C}function BM(n,a){for(var c=n.length,h=n[c-1],p=a[0],_=a[1],x=h[0],b=h[1],A,C,k=!1,G=0;G<c;++G)h=n[G],A=h[0],C=h[1],C>_!=b>_&&p<(x-A)*(_-C)/(b-C)+A&&(k=!k),x=A,b=C;return k}function HM(n){for(var a=-1,c=n.length,h=n[c-1],p,_,x=h[0],b=h[1],A=0;++a<c;)p=x,_=b,h=n[a],x=h[0],b=h[1],p-=x,_-=b,A+=Math.sqrt(p*p+_*_);return A}function so(){return Math.random()}var UM=function n(a){function c(h,p){return h=h==null?0:+h,p=p==null?1:+p,arguments.length===1?(p=h,h=0):p-=h,function(){return a()*p+h}}return c.source=n,c}(so),Sx=function n(a){function c(h,p){var _,x;return h=h==null?0:+h,p=p==null?1:+p,function(){var b;if(_!=null)b=_,_=null;else do _=a()*2-1,b=a()*2-1,x=_*_+b*b;while(!x||x>1);return h+p*b*Math.sqrt(-2*Math.log(x)/x)}}return c.source=n,c}(so),WM=function n(a){function c(){var h=Sx.source(a).apply(this,arguments);return function(){return Math.exp(h())}}return c.source=n,c}(so),Tx=function n(a){function c(h){return function(){for(var p=0,_=0;_<h;++_)p+=a();return p}}return c.source=n,c}(so),qM=function n(a){function c(h){var p=Tx.source(a)(h);return function(){return p()/h}}return c.source=n,c}(so),QM=function n(a){function c(h){return function(){return-Math.log(1-a())/h}}return c.source=n,c}(so);function wi(n,a){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(a).domain(n);break}return this}function nr(n,a){switch(arguments.length){case 0:break;case 1:this.interpolator(n);break;default:this.interpolator(a).domain(n);break}return this}var Ax=Array.prototype,Of=Ax.map,oa=Ax.slice,ip={name:"implicit"};function rp(){var n=ji(),a=[],c=[],h=ip;function p(_){var x=_+"",b=n.get(x);if(!b){if(h!==ip)return h;n.set(x,b=a.push(_))}return c[(b-1)%c.length]}return p.domain=function(_){if(!arguments.length)return a.slice();a=[],n=ji();for(var x=-1,b=_.length,A,C;++x<b;)n.has(C=(A=_[x])+"")||n.set(C,a.push(A));return p},p.range=function(_){return arguments.length?(c=oa.call(_),p):c.slice()},p.unknown=function(_){return arguments.length?(h=_,p):h},p.copy=function(){return rp(a,c).unknown(h)},wi.apply(p,arguments),p}function ap(){var n=rp().unknown(void 0),a=n.domain,c=n.range,h=[0,1],p,_,x=!1,b=0,A=0,C=.5;delete n.unknown;function k(){var G=a().length,R=h[1]<h[0],D=h[R-0],q=h[1-R];p=(q-D)/Math.max(1,G-b+A*2),x&&(p=Math.floor(p)),D+=(q-D-p*(G-b))*C,_=p*(1-b),x&&(D=Math.round(D),_=Math.round(_));var U=ft(G).map(function(j){return D+p*j});return c(R?U.reverse():U)}return n.domain=function(G){return arguments.length?(a(G),k()):a()},n.range=function(G){return arguments.length?(h=[+G[0],+G[1]],k()):h.slice()},n.rangeRound=function(G){return h=[+G[0],+G[1]],x=!0,k()},n.bandwidth=function(){return _},n.step=function(){return p},n.round=function(G){return arguments.length?(x=!!G,k()):x},n.padding=function(G){return arguments.length?(b=Math.min(1,A=+G),k()):b},n.paddingInner=function(G){return arguments.length?(b=Math.min(1,G),k()):b},n.paddingOuter=function(G){return arguments.length?(A=+G,k()):A},n.align=function(G){return arguments.length?(C=Math.max(0,Math.min(1,G)),k()):C},n.copy=function(){return ap(a(),h).round(x).paddingInner(b).paddingOuter(A).align(C)},wi.apply(k(),arguments)}function Px(n){var a=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Px(a())},n}function ZM(){return Px(ap.apply(null,arguments).paddingInner(1))}function jM(n){return function(){return n}}function op(n){return+n}var Cx=[0,1];function cn(n){return n}function sp(n,a){return(a-=n=+n)?function(c){return(c-n)/a}:jM(isNaN(a)?NaN:.5)}function Lx(n){var a=n[0],c=n[n.length-1],h;return a>c&&(h=a,a=c,c=h),function(p){return Math.max(a,Math.min(c,p))}}function KM(n,a,c){var h=n[0],p=n[1],_=a[0],x=a[1];return p<h?(h=sp(p,h),_=c(x,_)):(h=sp(h,p),_=c(_,x)),function(b){return _(h(b))}}function JM(n,a,c){var h=Math.min(n.length,a.length)-1,p=new Array(h),_=new Array(h),x=-1;for(n[h]<n[0]&&(n=n.slice().reverse(),a=a.slice().reverse());++x<h;)p[x]=sp(n[x],n[x+1]),_[x]=c(a[x],a[x+1]);return function(b){var A=v(n,b,1,h)-1;return _[A](p[A](b))}}function Es(n,a){return a.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Nf(){var n=Cx,a=Cx,c=Ko,h,p,_,x=cn,b,A,C;function k(){return b=Math.min(n.length,a.length)>2?JM:KM,A=C=null,G}function G(R){return isNaN(R=+R)?_:(A||(A=b(n.map(h),a,c)))(h(x(R)))}return G.invert=function(R){return x(p((C||(C=b(a,n.map(h),ii)))(R)))},G.domain=function(R){return arguments.length?(n=Of.call(R,op),x===cn||(x=Lx(n)),k()):n.slice()},G.range=function(R){return arguments.length?(a=oa.call(R),k()):a.slice()},G.rangeRound=function(R){return a=oa.call(R),c=V1,k()},G.clamp=function(R){return arguments.length?(x=R?Lx(n):cn,G):x!==cn},G.interpolate=function(R){return arguments.length?(c=R,k()):c},G.unknown=function(R){return arguments.length?(_=R,G):_},function(R,D){return h=R,p=D,k()}}function Mx(n,a){return Nf()(n,a)}function $x(n,a,c,h){var p=vt(n,a,c),_;switch(h=cs(h??",f"),h.type){case"s":{var x=Math.max(Math.abs(n),Math.abs(a));return h.precision==null&&!isNaN(_=Hm(p,x))&&(h.precision=_),t.formatPrefix(h,x)}case"":case"e":case"g":case"p":case"r":{h.precision==null&&!isNaN(_=Um(p,Math.max(Math.abs(n),Math.abs(a))))&&(h.precision=_-(h.type==="e"));break}case"f":case"%":{h.precision==null&&!isNaN(_=Bm(p))&&(h.precision=_-(h.type==="%")*2);break}}return t.format(h)}function sa(n){var a=n.domain;return n.ticks=function(c){var h=a();return dt(h[0],h[h.length-1],c??10)},n.tickFormat=function(c,h){var p=a();return $x(p[0],p[p.length-1],c??10,h)},n.nice=function(c){c==null&&(c=10);var h=a(),p=0,_=h.length-1,x=h[p],b=h[_],A;return b<x&&(A=x,x=b,b=A,A=p,p=_,_=A),A=F(x,b,c),A>0?(x=Math.floor(x/A)*A,b=Math.ceil(b/A)*A,A=F(x,b,c)):A<0&&(x=Math.ceil(x*A)/A,b=Math.floor(b*A)/A,A=F(x,b,c)),A>0?(h[p]=Math.floor(x/A)*A,h[_]=Math.ceil(b/A)*A,a(h)):A<0&&(h[p]=Math.ceil(x*A)/A,h[_]=Math.floor(b*A)/A,a(h)),n},n}function Ex(){var n=Mx(cn,cn);return n.copy=function(){return Es(n,Ex())},wi.apply(n,arguments),sa(n)}function kx(n){var a;function c(h){return isNaN(h=+h)?a:h}return c.invert=c,c.domain=c.range=function(h){return arguments.length?(n=Of.call(h,op),c):n.slice()},c.unknown=function(h){return arguments.length?(a=h,c):a},c.copy=function(){return kx(n).unknown(a)},n=arguments.length?Of.call(n,op):[0,1],sa(c)}function Rx(n,a){n=n.slice();var c=0,h=n.length-1,p=n[c],_=n[h],x;return _<p&&(x=c,c=h,h=x,x=p,p=_,_=x),n[c]=a.floor(p),n[h]=a.ceil(_),n}function Vx(n){return Math.log(n)}function Gx(n){return Math.exp(n)}function t9(n){return-Math.log(-n)}function e9(n){return-Math.exp(-n)}function n9(n){return isFinite(n)?+("1e"+n):n<0?0:n}function i9(n){return n===10?n9:n===Math.E?Math.exp:function(a){return Math.pow(n,a)}}function r9(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),function(a){return Math.log(a)/n})}function Ox(n){return function(a){return-n(-a)}}function up(n){var a=n(Vx,Gx),c=a.domain,h=10,p,_;function x(){return p=r9(h),_=i9(h),c()[0]<0?(p=Ox(p),_=Ox(_),n(t9,e9)):n(Vx,Gx),a}return a.base=function(b){return arguments.length?(h=+b,x()):h},a.domain=function(b){return arguments.length?(c(b),x()):c()},a.ticks=function(b){var A=c(),C=A[0],k=A[A.length-1],G;(G=k<C)&&(R=C,C=k,k=R);var R=p(C),D=p(k),q,U,j,K=b==null?10:+b,ot=[];if(!(h%1)&&D-R<K){if(R=Math.round(R)-1,D=Math.round(D)+1,C>0){for(;R<D;++R)for(U=1,q=_(R);U<h;++U)if(j=q*U,!(j<C)){if(j>k)break;ot.push(j)}}else for(;R<D;++R)for(U=h-1,q=_(R);U>=1;--U)if(j=q*U,!(j<C)){if(j>k)break;ot.push(j)}}else ot=dt(R,D,Math.min(D-R,K)).map(_);return G?ot.reverse():ot},a.tickFormat=function(b,A){if(A==null&&(A=h===10?".0e":","),typeof A!="function"&&(A=t.format(A)),b===1/0)return A;b==null&&(b=10);var C=Math.max(1,h*b/a.ticks().length);return function(k){var G=k/_(Math.round(p(k)));return G*h<h-.5&&(G*=h),G<=C?A(k):""}},a.nice=function(){return c(Rx(c(),{floor:function(b){return _(Math.floor(p(b)))},ceil:function(b){return _(Math.ceil(p(b)))}}))},a}function Nx(){var n=up(Nf()).domain([1,10]);return n.copy=function(){return Es(n,Nx()).base(n.base())},wi.apply(n,arguments),n}function Ix(n){return function(a){return Math.sign(a)*Math.log1p(Math.abs(a/n))}}function Dx(n){return function(a){return Math.sign(a)*Math.expm1(Math.abs(a))*n}}function cp(n){var a=1,c=n(Ix(a),Dx(a));return c.constant=function(h){return arguments.length?n(Ix(a=+h),Dx(a)):a},sa(c)}function Fx(){var n=cp(Nf());return n.copy=function(){return Es(n,Fx()).constant(n.constant())},wi.apply(n,arguments)}function zx(n){return function(a){return a<0?-Math.pow(-a,n):Math.pow(a,n)}}function a9(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function o9(n){return n<0?-n*n:n*n}function fp(n){var a=n(cn,cn),c=1;function h(){return c===1?n(cn,cn):c===.5?n(a9,o9):n(zx(c),zx(1/c))}return a.exponent=function(p){return arguments.length?(c=+p,h()):c},sa(a)}function lp(){var n=fp(Nf());return n.copy=function(){return Es(n,lp()).exponent(n.exponent())},wi.apply(n,arguments),n}function s9(){return lp.apply(null,arguments).exponent(.5)}function Xx(){var n=[],a=[],c=[],h;function p(){var x=0,b=Math.max(1,a.length);for(c=new Array(b-1);++x<b;)c[x-1]=Mt(n,x/b);return _}function _(x){return isNaN(x=+x)?h:a[v(c,x)]}return _.invertExtent=function(x){var b=a.indexOf(x);return b<0?[NaN,NaN]:[b>0?c[b-1]:n[0],b<c.length?c[b]:n[n.length-1]]},_.domain=function(x){if(!arguments.length)return n.slice();n=[];for(var b=0,A=x.length,C;b<A;++b)C=x[b],C!=null&&!isNaN(C=+C)&&n.push(C);return n.sort(s),p()},_.range=function(x){return arguments.length?(a=oa.call(x),p()):a.slice()},_.unknown=function(x){return arguments.length?(h=x,_):h},_.quantiles=function(){return c.slice()},_.copy=function(){return Xx().domain(n).range(a).unknown(h)},wi.apply(_,arguments)}function Yx(){var n=0,a=1,c=1,h=[.5],p=[0,1],_;function x(A){return A<=A?p[v(h,A,0,c)]:_}function b(){var A=-1;for(h=new Array(c);++A<c;)h[A]=((A+1)*a-(A-c)*n)/(c+1);return x}return x.domain=function(A){return arguments.length?(n=+A[0],a=+A[1],b()):[n,a]},x.range=function(A){return arguments.length?(c=(p=oa.call(A)).length-1,b()):p.slice()},x.invertExtent=function(A){var C=p.indexOf(A);return C<0?[NaN,NaN]:C<1?[n,h[0]]:C>=c?[h[c-1],a]:[h[C-1],h[C]]},x.unknown=function(A){return arguments.length&&(_=A),x},x.thresholds=function(){return h.slice()},x.copy=function(){return Yx().domain([n,a]).range(p).unknown(_)},wi.apply(sa(x),arguments)}function Bx(){var n=[.5],a=[0,1],c,h=1;function p(_){return _<=_?a[v(n,_,0,h)]:c}return p.domain=function(_){return arguments.length?(n=oa.call(_),h=Math.min(n.length,a.length-1),p):n.slice()},p.range=function(_){return arguments.length?(a=oa.call(_),h=Math.min(n.length,a.length-1),p):a.slice()},p.invertExtent=function(_){var x=a.indexOf(_);return[n[x-1],n[x]]},p.unknown=function(_){return arguments.length?(c=_,p):c},p.copy=function(){return Bx().domain(n).range(a).unknown(c)},wi.apply(p,arguments)}var hp=new Date,dp=new Date;function Je(n,a,c,h){function p(_){return n(_=arguments.length===0?new Date:new Date(+_)),_}return p.floor=function(_){return n(_=new Date(+_)),_},p.ceil=function(_){return n(_=new Date(_-1)),a(_,1),n(_),_},p.round=function(_){var x=p(_),b=p.ceil(_);return _-x<b-_?x:b},p.offset=function(_,x){return a(_=new Date(+_),x==null?1:Math.floor(x)),_},p.range=function(_,x,b){var A=[],C;if(_=p.ceil(_),b=b==null?1:Math.floor(b),!(_<x)||!(b>0))return A;do A.push(C=new Date(+_)),a(_,b),n(_);while(C<_&&_<x);return A},p.filter=function(_){return Je(function(x){if(x>=x)for(;n(x),!_(x);)x.setTime(x-1)},function(x,b){if(x>=x)if(b<0)for(;++b<=0;)for(;a(x,-1),!_(x););else for(;--b>=0;)for(;a(x,1),!_(x););})},c&&(p.count=function(_,x){return hp.setTime(+_),dp.setTime(+x),n(hp),n(dp),Math.floor(c(hp,dp))},p.every=function(_){return _=Math.floor(_),!isFinite(_)||!(_>0)?null:_>1?p.filter(h?function(x){return h(x)%_===0}:function(x){return p.count(0,x)%_===0}):p}),p}var ua=Je(function(){},function(n,a){n.setTime(+n+a)},function(n,a){return a-n});ua.every=function(n){return n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Je(function(a){a.setTime(Math.floor(a/n)*n)},function(a,c){a.setTime(+a+c*n)},function(a,c){return(c-a)/n}):ua};var Hx=ua.range,If=1e3,ca=6e4,Df=36e5,Ux=864e5,Wx=6048e5,ks=Je(function(n){n.setTime(n-n.getMilliseconds())},function(n,a){n.setTime(+n+a*If)},function(n,a){return(a-n)/If},function(n){return n.getUTCSeconds()}),qx=ks.range,gp=Je(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*If)},function(n,a){n.setTime(+n+a*ca)},function(n,a){return(a-n)/ca},function(n){return n.getMinutes()}),u9=gp.range,pp=Je(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*If-n.getMinutes()*ca)},function(n,a){n.setTime(+n+a*Df)},function(n,a){return(a-n)/Df},function(n){return n.getHours()}),c9=pp.range,Rs=Je(function(n){n.setHours(0,0,0,0)},function(n,a){n.setDate(n.getDate()+a)},function(n,a){return(a-n-(a.getTimezoneOffset()-n.getTimezoneOffset())*ca)/Ux},function(n){return n.getDate()-1}),f9=Rs.range;function fa(n){return Je(function(a){a.setDate(a.getDate()-(a.getDay()+7-n)%7),a.setHours(0,0,0,0)},function(a,c){a.setDate(a.getDate()+c*7)},function(a,c){return(c-a-(c.getTimezoneOffset()-a.getTimezoneOffset())*ca)/Wx})}var Vs=fa(0),Gs=fa(1),Qx=fa(2),Zx=fa(3),Os=fa(4),jx=fa(5),Kx=fa(6),Jx=Vs.range,l9=Gs.range,h9=Qx.range,d9=Zx.range,g9=Os.range,p9=jx.range,y9=Kx.range,yp=Je(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,a){n.setMonth(n.getMonth()+a)},function(n,a){return a.getMonth()-n.getMonth()+(a.getFullYear()-n.getFullYear())*12},function(n){return n.getMonth()}),_9=yp.range,ir=Je(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,a){n.setFullYear(n.getFullYear()+a)},function(n,a){return a.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});ir.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:Je(function(a){a.setFullYear(Math.floor(a.getFullYear()/n)*n),a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,c){a.setFullYear(a.getFullYear()+c*n)})};var m9=ir.range,_p=Je(function(n){n.setUTCSeconds(0,0)},function(n,a){n.setTime(+n+a*ca)},function(n,a){return(a-n)/ca},function(n){return n.getUTCMinutes()}),v9=_p.range,mp=Je(function(n){n.setUTCMinutes(0,0,0)},function(n,a){n.setTime(+n+a*Df)},function(n,a){return(a-n)/Df},function(n){return n.getUTCHours()}),x9=mp.range,Ns=Je(function(n){n.setUTCHours(0,0,0,0)},function(n,a){n.setUTCDate(n.getUTCDate()+a)},function(n,a){return(a-n)/Ux},function(n){return n.getUTCDate()-1}),w9=Ns.range;function la(n){return Je(function(a){a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-n)%7),a.setUTCHours(0,0,0,0)},function(a,c){a.setUTCDate(a.getUTCDate()+c*7)},function(a,c){return(c-a)/Wx})}var Is=la(0),Ds=la(1),tw=la(2),ew=la(3),Fs=la(4),nw=la(5),iw=la(6),rw=Is.range,b9=Ds.range,S9=tw.range,T9=ew.range,A9=Fs.range,P9=nw.range,C9=iw.range,vp=Je(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,a){n.setUTCMonth(n.getUTCMonth()+a)},function(n,a){return a.getUTCMonth()-n.getUTCMonth()+(a.getUTCFullYear()-n.getUTCFullYear())*12},function(n){return n.getUTCMonth()}),L9=vp.range,rr=Je(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,a){n.setUTCFullYear(n.getUTCFullYear()+a)},function(n,a){return a.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});rr.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:Je(function(a){a.setUTCFullYear(Math.floor(a.getUTCFullYear()/n)*n),a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,c){a.setUTCFullYear(a.getUTCFullYear()+c*n)})};var M9=rr.range;function xp(n){if(0<=n.y&&n.y<100){var a=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return a.setFullYear(n.y),a}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function wp(n){if(0<=n.y&&n.y<100){var a=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function zs(n,a,c){return{y:n,m:a,d:c,H:0,M:0,S:0,L:0}}function aw(n){var a=n.dateTime,c=n.date,h=n.time,p=n.periods,_=n.days,x=n.shortDays,b=n.months,A=n.shortMonths,C=Xs(p),k=Ys(p),G=Xs(_),R=Ys(_),D=Xs(x),q=Ys(x),U=Xs(b),j=Ys(b),K=Xs(A),ot=Ys(A),it={a:Kt,A:Qt,b:Jt,B:ue,c:null,d:cw,e:cw,f:t$,H:j9,I:K9,j:J9,L:fw,m:e$,M:n$,p:ce,q:Ge,Q:gw,s:pw,S:i$,u:r$,U:a$,V:o$,w:s$,W:u$,x:null,X:null,y:c$,Y:f$,Z:l$,"%":dw},at={a:Me,A:be,b:Ue,B:ci,c:null,d:lw,e:lw,f:p$,H:h$,I:d$,j:g$,L:hw,m:y$,M:_$,p:bi,q:Si,Q:gw,s:pw,S:m$,u:v$,U:x$,V:w$,w:b$,W:S$,x:null,X:null,y:T$,Y:A$,Z:P$,"%":dw},ht={a:At,A:bt,b:st,B:wt,c:Rt,d:sw,e:sw,f:W9,H:uw,I:uw,j:Y9,L:U9,m:X9,M:B9,p:Tt,q:z9,Q:Q9,s:Z9,S:H9,u:V9,U:G9,V:O9,w:R9,W:N9,x:mt,X:$t,y:D9,Y:I9,Z:F9,"%":q9};it.x=xt(c,it),it.X=xt(h,it),it.c=xt(a,it),at.x=xt(c,at),at.X=xt(h,at),at.c=xt(a,at);function xt(Ut,fe){return function(_e){var Ot=[],fn=-1,Se=0,_n=Ut.length,$n,or,En;for(_e instanceof Date||(_e=new Date(+_e));++fn<_n;)Ut.charCodeAt(fn)===37&&(Ot.push(Ut.slice(Se,fn)),(or=ow[$n=Ut.charAt(++fn)])!=null?$n=Ut.charAt(++fn):or=$n==="e"?" ":"0",(En=fe[$n])&&($n=En(_e,or)),Ot.push($n),Se=fn+1);return Ot.push(Ut.slice(Se,fn)),Ot.join("")}}function yt(Ut,fe){return function(_e){var Ot=zs(1900,void 0,1),fn=Pt(Ot,Ut,_e+="",0),Se,_n;if(fn!=_e.length)return null;if("Q"in Ot)return new Date(Ot.Q);if("s"in Ot)return new Date(Ot.s*1e3+("L"in Ot?Ot.L:0));if(fe&&!("Z"in Ot)&&(Ot.Z=0),"p"in Ot&&(Ot.H=Ot.H%12+Ot.p*12),Ot.m===void 0&&(Ot.m="q"in Ot?Ot.q:0),"V"in Ot){if(Ot.V<1||Ot.V>53)return null;"w"in Ot||(Ot.w=1),"Z"in Ot?(Se=wp(zs(Ot.y,0,1)),_n=Se.getUTCDay(),Se=_n>4||_n===0?Ds.ceil(Se):Ds(Se),Se=Ns.offset(Se,(Ot.V-1)*7),Ot.y=Se.getUTCFullYear(),Ot.m=Se.getUTCMonth(),Ot.d=Se.getUTCDate()+(Ot.w+6)%7):(Se=xp(zs(Ot.y,0,1)),_n=Se.getDay(),Se=_n>4||_n===0?Gs.ceil(Se):Gs(Se),Se=Rs.offset(Se,(Ot.V-1)*7),Ot.y=Se.getFullYear(),Ot.m=Se.getMonth(),Ot.d=Se.getDate()+(Ot.w+6)%7)}else("W"in Ot||"U"in Ot)&&("w"in Ot||(Ot.w="u"in Ot?Ot.u%7:"W"in Ot?1:0),_n="Z"in Ot?wp(zs(Ot.y,0,1)).getUTCDay():xp(zs(Ot.y,0,1)).getDay(),Ot.m=0,Ot.d="W"in Ot?(Ot.w+6)%7+Ot.W*7-(_n+5)%7:Ot.w+Ot.U*7-(_n+6)%7);return"Z"in Ot?(Ot.H+=Ot.Z/100|0,Ot.M+=Ot.Z%100,wp(Ot)):xp(Ot)}}function Pt(Ut,fe,_e,Ot){for(var fn=0,Se=fe.length,_n=_e.length,$n,or;fn<Se;){if(Ot>=_n)return-1;if($n=fe.charCodeAt(fn++),$n===37){if($n=fe.charAt(fn++),or=ht[$n in ow?fe.charAt(fn++):$n],!or||(Ot=or(Ut,_e,Ot))<0)return-1}else if($n!=_e.charCodeAt(Ot++))return-1}return Ot}function Tt(Ut,fe,_e){var Ot=C.exec(fe.slice(_e));return Ot?(Ut.p=k[Ot[0].toLowerCase()],_e+Ot[0].length):-1}function At(Ut,fe,_e){var Ot=D.exec(fe.slice(_e));return Ot?(Ut.w=q[Ot[0].toLowerCase()],_e+Ot[0].length):-1}function bt(Ut,fe,_e){var Ot=G.exec(fe.slice(_e));return Ot?(Ut.w=R[Ot[0].toLowerCase()],_e+Ot[0].length):-1}function st(Ut,fe,_e){var Ot=K.exec(fe.slice(_e));return Ot?(Ut.m=ot[Ot[0].toLowerCase()],_e+Ot[0].length):-1}function wt(Ut,fe,_e){var Ot=U.exec(fe.slice(_e));return Ot?(Ut.m=j[Ot[0].toLowerCase()],_e+Ot[0].length):-1}function Rt(Ut,fe,_e){return Pt(Ut,a,fe,_e)}function mt(Ut,fe,_e){return Pt(Ut,c,fe,_e)}function $t(Ut,fe,_e){return Pt(Ut,h,fe,_e)}function Kt(Ut){return x[Ut.getDay()]}function Qt(Ut){return _[Ut.getDay()]}function Jt(Ut){return A[Ut.getMonth()]}function ue(Ut){return b[Ut.getMonth()]}function ce(Ut){return p[+(Ut.getHours()>=12)]}function Ge(Ut){return 1+~~(Ut.getMonth()/3)}function Me(Ut){return x[Ut.getUTCDay()]}function be(Ut){return _[Ut.getUTCDay()]}function Ue(Ut){return A[Ut.getUTCMonth()]}function ci(Ut){return b[Ut.getUTCMonth()]}function bi(Ut){return p[+(Ut.getUTCHours()>=12)]}function Si(Ut){return 1+~~(Ut.getUTCMonth()/3)}return{format:function(Ut){var fe=xt(Ut+="",it);return fe.toString=function(){return Ut},fe},parse:function(Ut){var fe=yt(Ut+="",!1);return fe.toString=function(){return Ut},fe},utcFormat:function(Ut){var fe=xt(Ut+="",at);return fe.toString=function(){return Ut},fe},utcParse:function(Ut){var fe=yt(Ut+="",!0);return fe.toString=function(){return Ut},fe}}}var ow={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,$9=/^%/,E9=/[\\^$*+?|[\]().{}]/g;function Ce(n,a,c){var h=n<0?"-":"",p=(h?-n:n)+"",_=p.length;return h+(_<c?new Array(c-_+1).join(a)+p:p)}function k9(n){return n.replace(E9,"\\$&")}function Xs(n){return new RegExp("^(?:"+n.map(k9).join("|")+")","i")}function Ys(n){for(var a={},c=-1,h=n.length;++c<h;)a[n[c].toLowerCase()]=c;return a}function R9(n,a,c){var h=rn.exec(a.slice(c,c+1));return h?(n.w=+h[0],c+h[0].length):-1}function V9(n,a,c){var h=rn.exec(a.slice(c,c+1));return h?(n.u=+h[0],c+h[0].length):-1}function G9(n,a,c){var h=rn.exec(a.slice(c,c+2));return h?(n.U=+h[0],c+h[0].length):-1}function O9(n,a,c){var h=rn.exec(a.slice(c,c+2));return h?(n.V=+h[0],c+h[0].length):-1}function N9(n,a,c){var h=rn.exec(a.slice(c,c+2));return h?(n.W=+h[0],c+h[0].length):-1}function I9(n,a,c){var h=rn.exec(a.slice(c,c+4));return h?(n.y=+h[0],c+h[0].length):-1}function D9(n,a,c){var h=rn.exec(a.slice(c,c+2));return h?(n.y=+h[0]+(+h[0]>68?1900:2e3),c+h[0].length):-1}function F9(n,a,c){var h=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(a.slice(c,c+6));return h?(n.Z=h[1]?0:-(h[2]+(h[3]||"00")),c+h[0].length):-1}function z9(n,a,c){var h=rn.exec(a.slice(c,c+1));return h?(n.q=h[0]*3-3,c+h[0].length):-1}function X9(n,a,c){var h=rn.exec(a.slice(c,c+2));return h?(n.m=h[0]-1,c+h[0].length):-1}function sw(n,a,c){var h=rn.exec(a.slice(c,c+2));return h?(n.d=+h[0],c+h[0].length):-1}function Y9(n,a,c){var h=rn.exec(a.slice(c,c+3));return h?(n.m=0,n.d=+h[0],c+h[0].length):-1}function uw(n,a,c){var h=rn.exec(a.slice(c,c+2));return h?(n.H=+h[0],c+h[0].length):-1}function B9(n,a,c){var h=rn.exec(a.slice(c,c+2));return h?(n.M=+h[0],c+h[0].length):-1}function H9(n,a,c){var h=rn.exec(a.slice(c,c+2));return h?(n.S=+h[0],c+h[0].length):-1}function U9(n,a,c){var h=rn.exec(a.slice(c,c+3));return h?(n.L=+h[0],c+h[0].length):-1}function W9(n,a,c){var h=rn.exec(a.slice(c,c+6));return h?(n.L=Math.floor(h[0]/1e3),c+h[0].length):-1}function q9(n,a,c){var h=$9.exec(a.slice(c,c+1));return h?c+h[0].length:-1}function Q9(n,a,c){var h=rn.exec(a.slice(c));return h?(n.Q=+h[0],c+h[0].length):-1}function Z9(n,a,c){var h=rn.exec(a.slice(c));return h?(n.s=+h[0],c+h[0].length):-1}function cw(n,a){return Ce(n.getDate(),a,2)}function j9(n,a){return Ce(n.getHours(),a,2)}function K9(n,a){return Ce(n.getHours()%12||12,a,2)}function J9(n,a){return Ce(1+Rs.count(ir(n),n),a,3)}function fw(n,a){return Ce(n.getMilliseconds(),a,3)}function t$(n,a){return fw(n,a)+"000"}function e$(n,a){return Ce(n.getMonth()+1,a,2)}function n$(n,a){return Ce(n.getMinutes(),a,2)}function i$(n,a){return Ce(n.getSeconds(),a,2)}function r$(n){var a=n.getDay();return a===0?7:a}function a$(n,a){return Ce(Vs.count(ir(n)-1,n),a,2)}function o$(n,a){var c=n.getDay();return n=c>=4||c===0?Os(n):Os.ceil(n),Ce(Os.count(ir(n),n)+(ir(n).getDay()===4),a,2)}function s$(n){return n.getDay()}function u$(n,a){return Ce(Gs.count(ir(n)-1,n),a,2)}function c$(n,a){return Ce(n.getFullYear()%100,a,2)}function f$(n,a){return Ce(n.getFullYear()%1e4,a,4)}function l$(n){var a=n.getTimezoneOffset();return(a>0?"-":(a*=-1,"+"))+Ce(a/60|0,"0",2)+Ce(a%60,"0",2)}function lw(n,a){return Ce(n.getUTCDate(),a,2)}function h$(n,a){return Ce(n.getUTCHours(),a,2)}function d$(n,a){return Ce(n.getUTCHours()%12||12,a,2)}function g$(n,a){return Ce(1+Ns.count(rr(n),n),a,3)}function hw(n,a){return Ce(n.getUTCMilliseconds(),a,3)}function p$(n,a){return hw(n,a)+"000"}function y$(n,a){return Ce(n.getUTCMonth()+1,a,2)}function _$(n,a){return Ce(n.getUTCMinutes(),a,2)}function m$(n,a){return Ce(n.getUTCSeconds(),a,2)}function v$(n){var a=n.getUTCDay();return a===0?7:a}function x$(n,a){return Ce(Is.count(rr(n)-1,n),a,2)}function w$(n,a){var c=n.getUTCDay();return n=c>=4||c===0?Fs(n):Fs.ceil(n),Ce(Fs.count(rr(n),n)+(rr(n).getUTCDay()===4),a,2)}function b$(n){return n.getUTCDay()}function S$(n,a){return Ce(Ds.count(rr(n)-1,n),a,2)}function T$(n,a){return Ce(n.getUTCFullYear()%100,a,2)}function A$(n,a){return Ce(n.getUTCFullYear()%1e4,a,4)}function P$(){return"+0000"}function dw(){return"%"}function gw(n){return+n}function pw(n){return Math.floor(+n/1e3)}var uo;yw({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yw(n){return uo=aw(n),t.timeFormat=uo.format,t.timeParse=uo.parse,t.utcFormat=uo.utcFormat,t.utcParse=uo.utcParse,uo}var _w="%Y-%m-%dT%H:%M:%S.%LZ";function C$(n){return n.toISOString()}var L$=Date.prototype.toISOString?C$:t.utcFormat(_w);function M$(n){var a=new Date(n);return isNaN(a)?null:a}var $$=+new Date("2000-01-01T00:00:00.000Z")?M$:t.utcParse(_w),Bs=1e3,Hs=Bs*60,Us=Hs*60,Ws=Us*24,E$=Ws*7,mw=Ws*30,bp=Ws*365;function k$(n){return new Date(n)}function R$(n){return n instanceof Date?+n:+new Date(+n)}function Sp(n,a,c,h,p,_,x,b,A){var C=Mx(cn,cn),k=C.invert,G=C.domain,R=A(".%L"),D=A(":%S"),q=A("%I:%M"),U=A("%I %p"),j=A("%a %d"),K=A("%b %d"),ot=A("%B"),it=A("%Y"),at=[[x,1,Bs],[x,5,5*Bs],[x,15,15*Bs],[x,30,30*Bs],[_,1,Hs],[_,5,5*Hs],[_,15,15*Hs],[_,30,30*Hs],[p,1,Us],[p,3,3*Us],[p,6,6*Us],[p,12,12*Us],[h,1,Ws],[h,2,2*Ws],[c,1,E$],[a,1,mw],[a,3,3*mw],[n,1,bp]];function ht(yt){return(x(yt)<yt?R:_(yt)<yt?D:p(yt)<yt?q:h(yt)<yt?U:a(yt)<yt?c(yt)<yt?j:K:n(yt)<yt?ot:it)(yt)}function xt(yt,Pt,Tt,At){if(yt==null&&(yt=10),typeof yt=="number"){var bt=Math.abs(Tt-Pt)/yt,st=l(function(wt){return wt[2]}).right(at,bt);st===at.length?(At=vt(Pt/bp,Tt/bp,yt),yt=n):st?(st=at[bt/at[st-1][2]<at[st][2]/bt?st-1:st],At=st[1],yt=st[0]):(At=Math.max(vt(Pt,Tt,yt),1),yt=b)}return At==null?yt:yt.every(At)}return C.invert=function(yt){return new Date(k(yt))},C.domain=function(yt){return arguments.length?G(Of.call(yt,R$)):G().map(k$)},C.ticks=function(yt,Pt){var Tt=G(),At=Tt[0],bt=Tt[Tt.length-1],st=bt<At,wt;return st&&(wt=At,At=bt,bt=wt),wt=xt(yt,At,bt,Pt),wt=wt?wt.range(At,bt+1):[],st?wt.reverse():wt},C.tickFormat=function(yt,Pt){return Pt==null?ht:A(Pt)},C.nice=function(yt,Pt){var Tt=G();return(yt=xt(yt,Tt[0],Tt[Tt.length-1],Pt))?G(Rx(Tt,yt)):C},C.copy=function(){return Es(C,Sp(n,a,c,h,p,_,x,b,A))},C}function V$(){return wi.apply(Sp(ir,yp,Vs,Rs,pp,gp,ks,ua,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function G$(){return wi.apply(Sp(rr,vp,Is,Ns,mp,_p,ks,ua,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ff(){var n=0,a=1,c,h,p,_,x=cn,b=!1,A;function C(k){return isNaN(k=+k)?A:x(p===0?.5:(k=(_(k)-c)*p,b?Math.max(0,Math.min(1,k)):k))}return C.domain=function(k){return arguments.length?(c=_(n=+k[0]),h=_(a=+k[1]),p=c===h?0:1/(h-c),C):[n,a]},C.clamp=function(k){return arguments.length?(b=!!k,C):b},C.interpolator=function(k){return arguments.length?(x=k,C):x},C.unknown=function(k){return arguments.length?(A=k,C):A},function(k){return _=k,c=k(n),h=k(a),p=c===h?0:1/(h-c),C}}function Ar(n,a){return a.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function vw(){var n=sa(Ff()(cn));return n.copy=function(){return Ar(n,vw())},nr.apply(n,arguments)}function xw(){var n=up(Ff()).domain([1,10]);return n.copy=function(){return Ar(n,xw()).base(n.base())},nr.apply(n,arguments)}function ww(){var n=cp(Ff());return n.copy=function(){return Ar(n,ww()).constant(n.constant())},nr.apply(n,arguments)}function Tp(){var n=fp(Ff());return n.copy=function(){return Ar(n,Tp()).exponent(n.exponent())},nr.apply(n,arguments)}function O$(){return Tp.apply(null,arguments).exponent(.5)}function bw(){var n=[],a=cn;function c(h){if(!isNaN(h=+h))return a((v(n,h)-1)/(n.length-1))}return c.domain=function(h){if(!arguments.length)return n.slice();n=[];for(var p=0,_=h.length,x;p<_;++p)x=h[p],x!=null&&!isNaN(x=+x)&&n.push(x);return n.sort(s),c},c.interpolator=function(h){return arguments.length?(a=h,c):a},c.copy=function(){return bw(a).domain(n)},nr.apply(c,arguments)}function zf(){var n=0,a=.5,c=1,h,p,_,x,b,A=cn,C,k=!1,G;function R(D){return isNaN(D=+D)?G:(D=.5+((D=+C(D))-p)*(D<p?x:b),A(k?Math.max(0,Math.min(1,D)):D))}return R.domain=function(D){return arguments.length?(h=C(n=+D[0]),p=C(a=+D[1]),_=C(c=+D[2]),x=h===p?0:.5/(p-h),b=p===_?0:.5/(_-p),R):[n,a,c]},R.clamp=function(D){return arguments.length?(k=!!D,R):k},R.interpolator=function(D){return arguments.length?(A=D,R):A},R.unknown=function(D){return arguments.length?(G=D,R):G},function(D){return C=D,h=D(n),p=D(a),_=D(c),x=h===p?0:.5/(p-h),b=p===_?0:.5/(_-p),R}}function Sw(){var n=sa(zf()(cn));return n.copy=function(){return Ar(n,Sw())},nr.apply(n,arguments)}function Tw(){var n=up(zf()).domain([.1,1,10]);return n.copy=function(){return Ar(n,Tw()).base(n.base())},nr.apply(n,arguments)}function Aw(){var n=cp(zf());return n.copy=function(){return Ar(n,Aw()).constant(n.constant())},nr.apply(n,arguments)}function Ap(){var n=fp(zf());return n.copy=function(){return Ar(n,Ap()).exponent(n.exponent())},nr.apply(n,arguments)}function N$(){return Ap.apply(null,arguments).exponent(.5)}function le(n){for(var a=n.length/6|0,c=new Array(a),h=0;h<a;)c[h]="#"+n.slice(h*6,++h*6);return c}var I$=le("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),D$=le("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),F$=le("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),z$=le("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),X$=le("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Y$=le("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),B$=le("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),H$=le("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),U$=le("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),W$=le("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ke(n){return M1(n[n.length-1])}var Pw=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(le),q$=ke(Pw),Cw=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(le),Q$=ke(Cw),Lw=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(le),Z$=ke(Lw),Mw=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(le),j$=ke(Mw),$w=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(le),K$=ke($w),Ew=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(le),J$=ke(Ew),kw=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(le),tE=ke(kw),Rw=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(le),eE=ke(Rw),Vw=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(le),nE=ke(Vw),Gw=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(le),iE=ke(Gw),Ow=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(le),rE=ke(Ow),Nw=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(le),aE=ke(Nw),Iw=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(le),oE=ke(Iw),Dw=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(le),sE=ke(Dw),Fw=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(le),uE=ke(Fw),zw=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(le),cE=ke(zw),Xw=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(le),fE=ke(Xw),Yw=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(le),lE=ke(Yw),Bw=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(le),hE=ke(Bw),Hw=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(le),dE=ke(Hw),Uw=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(le),gE=ke(Uw),Ww=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(le),pE=ke(Ww),qw=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(le),yE=ke(qw),Qw=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(le),_E=ke(Qw),Zw=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(le),mE=ke(Zw),jw=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(le),vE=ke(jw),Kw=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(le),xE=ke(Kw);function wE(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-n*(35.34-n*(2381.73-n*(6402.7-n*(7024.72-n*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+n*(170.73+n*(52.82-n*(131.46-n*(176.58-n*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+n*(442.36-n*(2482.43-n*(6167.24-n*(6614.94-n*2475.67)))))))+")"}var bE=Cc(_i(300,.5,0),_i(-240,.5,1)),SE=Cc(_i(-100,.75,.35),_i(80,1.5,.8)),TE=Cc(_i(260,.75,.35),_i(80,1.5,.8)),Xf=_i();function AE(n){(n<0||n>1)&&(n-=Math.floor(n));var a=Math.abs(n-.5);return Xf.h=360*n-100,Xf.s=1.5-1.5*a,Xf.l=.8-.9*a,Xf+""}var Yf=Ya(),PE=Math.PI/3,CE=Math.PI*2/3;function LE(n){var a;return n=(.5-n)*Math.PI,Yf.r=255*(a=Math.sin(n))*a,Yf.g=255*(a=Math.sin(n+PE))*a,Yf.b=255*(a=Math.sin(n+CE))*a,Yf+""}function ME(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}function Bf(n){var a=n.length;return function(c){return n[Math.max(0,Math.min(a-1,Math.floor(c*a)))]}}var $E=Bf(le("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),EE=Bf(le("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),kE=Bf(le("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),RE=Bf(le("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ye(n){return function(){return n}}var Jw=Math.abs,gn=Math.atan2,ha=Math.cos,VE=Math.max,Pp=Math.min,Di=Math.sin,co=Math.sqrt,pn=1e-12,Pr=Math.PI,Hf=Pr/2,Cr=2*Pr;function GE(n){return n>1?0:n<-1?Pr:Math.acos(n)}function tb(n){return n>=1?Hf:n<=-1?-Hf:Math.asin(n)}function OE(n){return n.innerRadius}function NE(n){return n.outerRadius}function IE(n){return n.startAngle}function DE(n){return n.endAngle}function FE(n){return n&&n.padAngle}function zE(n,a,c,h,p,_,x,b){var A=c-n,C=h-a,k=x-p,G=b-_,R=G*A-k*C;if(!(R*R<pn))return R=(k*(a-_)-G*(n-p))/R,[n+R*A,a+R*C]}function Uf(n,a,c,h,p,_,x){var b=n-c,A=a-h,C=(x?_:-_)/co(b*b+A*A),k=C*A,G=-C*b,R=n+k,D=a+G,q=c+k,U=h+G,j=(R+q)/2,K=(D+U)/2,ot=q-R,it=U-D,at=ot*ot+it*it,ht=p-_,xt=R*U-q*D,yt=(it<0?-1:1)*co(VE(0,ht*ht*at-xt*xt)),Pt=(xt*it-ot*yt)/at,Tt=(-xt*ot-it*yt)/at,At=(xt*it+ot*yt)/at,bt=(-xt*ot+it*yt)/at,st=Pt-j,wt=Tt-K,Rt=At-j,mt=bt-K;return st*st+wt*wt>Rt*Rt+mt*mt&&(Pt=At,Tt=bt),{cx:Pt,cy:Tt,x01:-k,y01:-G,x11:Pt*(p/ht-1),y11:Tt*(p/ht-1)}}function XE(){var n=OE,a=NE,c=ye(0),h=null,p=IE,_=DE,x=FE,b=null;function A(){var C,k,G=+n.apply(this,arguments),R=+a.apply(this,arguments),D=p.apply(this,arguments)-Hf,q=_.apply(this,arguments)-Hf,U=Jw(q-D),j=q>D;if(b||(b=C=xr()),R<G&&(k=R,R=G,G=k),!(R>pn))b.moveTo(0,0);else if(U>Cr-pn)b.moveTo(R*ha(D),R*Di(D)),b.arc(0,0,R,D,q,!j),G>pn&&(b.moveTo(G*ha(q),G*Di(q)),b.arc(0,0,G,q,D,j));else{var K=D,ot=q,it=D,at=q,ht=U,xt=U,yt=x.apply(this,arguments)/2,Pt=yt>pn&&(h?+h.apply(this,arguments):co(G*G+R*R)),Tt=Pp(Jw(R-G)/2,+c.apply(this,arguments)),At=Tt,bt=Tt,st,wt;if(Pt>pn){var Rt=tb(Pt/G*Di(yt)),mt=tb(Pt/R*Di(yt));(ht-=Rt*2)>pn?(Rt*=j?1:-1,it+=Rt,at-=Rt):(ht=0,it=at=(D+q)/2),(xt-=mt*2)>pn?(mt*=j?1:-1,K+=mt,ot-=mt):(xt=0,K=ot=(D+q)/2)}var $t=R*ha(K),Kt=R*Di(K),Qt=G*ha(at),Jt=G*Di(at);if(Tt>pn){var ue=R*ha(ot),ce=R*Di(ot),Ge=G*ha(it),Me=G*Di(it),be;if(U<Pr&&(be=zE($t,Kt,Ge,Me,ue,ce,Qt,Jt))){var Ue=$t-be[0],ci=Kt-be[1],bi=ue-be[0],Si=ce-be[1],Ut=1/Di(GE((Ue*bi+ci*Si)/(co(Ue*Ue+ci*ci)*co(bi*bi+Si*Si)))/2),fe=co(be[0]*be[0]+be[1]*be[1]);At=Pp(Tt,(G-fe)/(Ut-1)),bt=Pp(Tt,(R-fe)/(Ut+1))}}xt>pn?bt>pn?(st=Uf(Ge,Me,$t,Kt,R,bt,j),wt=Uf(ue,ce,Qt,Jt,R,bt,j),b.moveTo(st.cx+st.x01,st.cy+st.y01),bt<Tt?b.arc(st.cx,st.cy,bt,gn(st.y01,st.x01),gn(wt.y01,wt.x01),!j):(b.arc(st.cx,st.cy,bt,gn(st.y01,st.x01),gn(st.y11,st.x11),!j),b.arc(0,0,R,gn(st.cy+st.y11,st.cx+st.x11),gn(wt.cy+wt.y11,wt.cx+wt.x11),!j),b.arc(wt.cx,wt.cy,bt,gn(wt.y11,wt.x11),gn(wt.y01,wt.x01),!j))):(b.moveTo($t,Kt),b.arc(0,0,R,K,ot,!j)):b.moveTo($t,Kt),!(G>pn)||!(ht>pn)?b.lineTo(Qt,Jt):At>pn?(st=Uf(Qt,Jt,ue,ce,G,-At,j),wt=Uf($t,Kt,Ge,Me,G,-At,j),b.lineTo(st.cx+st.x01,st.cy+st.y01),At<Tt?b.arc(st.cx,st.cy,At,gn(st.y01,st.x01),gn(wt.y01,wt.x01),!j):(b.arc(st.cx,st.cy,At,gn(st.y01,st.x01),gn(st.y11,st.x11),!j),b.arc(0,0,G,gn(st.cy+st.y11,st.cx+st.x11),gn(wt.cy+wt.y11,wt.cx+wt.x11),j),b.arc(wt.cx,wt.cy,At,gn(wt.y11,wt.x11),gn(wt.y01,wt.x01),!j))):b.arc(0,0,G,at,it,j)}if(b.closePath(),C)return b=null,C+""||null}return A.centroid=function(){var C=(+n.apply(this,arguments)+ +a.apply(this,arguments))/2,k=(+p.apply(this,arguments)+ +_.apply(this,arguments))/2-Pr/2;return[ha(k)*C,Di(k)*C]},A.innerRadius=function(C){return arguments.length?(n=typeof C=="function"?C:ye(+C),A):n},A.outerRadius=function(C){return arguments.length?(a=typeof C=="function"?C:ye(+C),A):a},A.cornerRadius=function(C){return arguments.length?(c=typeof C=="function"?C:ye(+C),A):c},A.padRadius=function(C){return arguments.length?(h=C==null?null:typeof C=="function"?C:ye(+C),A):h},A.startAngle=function(C){return arguments.length?(p=typeof C=="function"?C:ye(+C),A):p},A.endAngle=function(C){return arguments.length?(_=typeof C=="function"?C:ye(+C),A):_},A.padAngle=function(C){return arguments.length?(x=typeof C=="function"?C:ye(+C),A):x},A.context=function(C){return arguments.length?(b=C??null,A):b},A}function eb(n){this._context=n}eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,a){switch(n=+n,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 1:this._point=2;default:this._context.lineTo(n,a);break}}};function Wf(n){return new eb(n)}function Cp(n){return n[0]}function Lp(n){return n[1]}function Mp(){var n=Cp,a=Lp,c=ye(!0),h=null,p=Wf,_=null;function x(b){var A,C=b.length,k,G=!1,R;for(h==null&&(_=p(R=xr())),A=0;A<=C;++A)!(A<C&&c(k=b[A],A,b))===G&&((G=!G)?_.lineStart():_.lineEnd()),G&&_.point(+n(k,A,b),+a(k,A,b));if(R)return _=null,R+""||null}return x.x=function(b){return arguments.length?(n=typeof b=="function"?b:ye(+b),x):n},x.y=function(b){return arguments.length?(a=typeof b=="function"?b:ye(+b),x):a},x.defined=function(b){return arguments.length?(c=typeof b=="function"?b:ye(!!b),x):c},x.curve=function(b){return arguments.length?(p=b,h!=null&&(_=p(h)),x):p},x.context=function(b){return arguments.length?(b==null?h=_=null:_=p(h=b),x):h},x}function nb(){var n=Cp,a=null,c=ye(0),h=Lp,p=ye(!0),_=null,x=Wf,b=null;function A(k){var G,R,D,q=k.length,U,j=!1,K,ot=new Array(q),it=new Array(q);for(_==null&&(b=x(K=xr())),G=0;G<=q;++G){if(!(G<q&&p(U=k[G],G,k))===j)if(j=!j)R=G,b.areaStart(),b.lineStart();else{for(b.lineEnd(),b.lineStart(),D=G-1;D>=R;--D)b.point(ot[D],it[D]);b.lineEnd(),b.areaEnd()}j&&(ot[G]=+n(U,G,k),it[G]=+c(U,G,k),b.point(a?+a(U,G,k):ot[G],h?+h(U,G,k):it[G]))}if(K)return b=null,K+""||null}function C(){return Mp().defined(p).curve(x).context(_)}return A.x=function(k){return arguments.length?(n=typeof k=="function"?k:ye(+k),a=null,A):n},A.x0=function(k){return arguments.length?(n=typeof k=="function"?k:ye(+k),A):n},A.x1=function(k){return arguments.length?(a=k==null?null:typeof k=="function"?k:ye(+k),A):a},A.y=function(k){return arguments.length?(c=typeof k=="function"?k:ye(+k),h=null,A):c},A.y0=function(k){return arguments.length?(c=typeof k=="function"?k:ye(+k),A):c},A.y1=function(k){return arguments.length?(h=k==null?null:typeof k=="function"?k:ye(+k),A):h},A.lineX0=A.lineY0=function(){return C().x(n).y(c)},A.lineY1=function(){return C().x(n).y(h)},A.lineX1=function(){return C().x(a).y(c)},A.defined=function(k){return arguments.length?(p=typeof k=="function"?k:ye(!!k),A):p},A.curve=function(k){return arguments.length?(x=k,_!=null&&(b=x(_)),A):x},A.context=function(k){return arguments.length?(k==null?_=b=null:b=x(_=k),A):_},A}function YE(n,a){return a<n?-1:a>n?1:a>=n?0:NaN}function BE(n){return n}function HE(){var n=BE,a=YE,c=null,h=ye(0),p=ye(Cr),_=ye(0);function x(b){var A,C=b.length,k,G,R=0,D=new Array(C),q=new Array(C),U=+h.apply(this,arguments),j=Math.min(Cr,Math.max(-Cr,p.apply(this,arguments)-U)),K,ot=Math.min(Math.abs(j)/C,_.apply(this,arguments)),it=ot*(j<0?-1:1),at;for(A=0;A<C;++A)(at=q[D[A]=A]=+n(b[A],A,b))>0&&(R+=at);for(a!=null?D.sort(function(ht,xt){return a(q[ht],q[xt])}):c!=null&&D.sort(function(ht,xt){return c(b[ht],b[xt])}),A=0,G=R?(j-C*it)/R:0;A<C;++A,U=K)k=D[A],at=q[k],K=U+(at>0?at*G:0)+it,q[k]={data:b[k],index:A,value:at,startAngle:U,endAngle:K,padAngle:ot};return q}return x.value=function(b){return arguments.length?(n=typeof b=="function"?b:ye(+b),x):n},x.sortValues=function(b){return arguments.length?(a=b,c=null,x):a},x.sort=function(b){return arguments.length?(c=b,a=null,x):c},x.startAngle=function(b){return arguments.length?(h=typeof b=="function"?b:ye(+b),x):h},x.endAngle=function(b){return arguments.length?(p=typeof b=="function"?b:ye(+b),x):p},x.padAngle=function(b){return arguments.length?(_=typeof b=="function"?b:ye(+b),x):_},x}var ib=$p(Wf);function rb(n){this._curve=n}rb.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(n,a){this._curve.point(a*Math.sin(n),a*-Math.cos(n))}};function $p(n){function a(c){return new rb(n(c))}return a._curve=n,a}function qs(n){var a=n.curve;return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n.curve=function(c){return arguments.length?a($p(c)):a()._curve},n}function ab(){return qs(Mp().curve(ib))}function ob(){var n=nb().curve(ib),a=n.curve,c=n.lineX0,h=n.lineX1,p=n.lineY0,_=n.lineY1;return n.angle=n.x,delete n.x,n.startAngle=n.x0,delete n.x0,n.endAngle=n.x1,delete n.x1,n.radius=n.y,delete n.y,n.innerRadius=n.y0,delete n.y0,n.outerRadius=n.y1,delete n.y1,n.lineStartAngle=function(){return qs(c())},delete n.lineX0,n.lineEndAngle=function(){return qs(h())},delete n.lineX1,n.lineInnerRadius=function(){return qs(p())},delete n.lineY0,n.lineOuterRadius=function(){return qs(_())},delete n.lineY1,n.curve=function(x){return arguments.length?a($p(x)):a()._curve},n}function Qs(n,a){return[(a=+a)*Math.cos(n-=Math.PI/2),a*Math.sin(n)]}var Ep=Array.prototype.slice;function UE(n){return n.source}function WE(n){return n.target}function kp(n){var a=UE,c=WE,h=Cp,p=Lp,_=null;function x(){var b,A=Ep.call(arguments),C=a.apply(this,A),k=c.apply(this,A);if(_||(_=b=xr()),n(_,+h.apply(this,(A[0]=C,A)),+p.apply(this,A),+h.apply(this,(A[0]=k,A)),+p.apply(this,A)),b)return _=null,b+""||null}return x.source=function(b){return arguments.length?(a=b,x):a},x.target=function(b){return arguments.length?(c=b,x):c},x.x=function(b){return arguments.length?(h=typeof b=="function"?b:ye(+b),x):h},x.y=function(b){return arguments.length?(p=typeof b=="function"?b:ye(+b),x):p},x.context=function(b){return arguments.length?(_=b??null,x):_},x}function qE(n,a,c,h,p){n.moveTo(a,c),n.bezierCurveTo(a=(a+h)/2,c,a,p,h,p)}function QE(n,a,c,h,p){n.moveTo(a,c),n.bezierCurveTo(a,c=(c+p)/2,h,c,h,p)}function ZE(n,a,c,h,p){var _=Qs(a,c),x=Qs(a,c=(c+p)/2),b=Qs(h,c),A=Qs(h,p);n.moveTo(_[0],_[1]),n.bezierCurveTo(x[0],x[1],b[0],b[1],A[0],A[1])}function jE(){return kp(qE)}function KE(){return kp(QE)}function JE(){var n=kp(ZE);return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n}var Rp={draw:function(n,a){var c=Math.sqrt(a/Pr);n.moveTo(c,0),n.arc(0,0,c,0,Cr)}},sb={draw:function(n,a){var c=Math.sqrt(a/5)/2;n.moveTo(-3*c,-c),n.lineTo(-c,-c),n.lineTo(-c,-3*c),n.lineTo(c,-3*c),n.lineTo(c,-c),n.lineTo(3*c,-c),n.lineTo(3*c,c),n.lineTo(c,c),n.lineTo(c,3*c),n.lineTo(-c,3*c),n.lineTo(-c,c),n.lineTo(-3*c,c),n.closePath()}},ub=Math.sqrt(1/3),tk=ub*2,cb={draw:function(n,a){var c=Math.sqrt(a/tk),h=c*ub;n.moveTo(0,-c),n.lineTo(h,0),n.lineTo(0,c),n.lineTo(-h,0),n.closePath()}},ek=.8908130915292852,fb=Math.sin(Pr/10)/Math.sin(7*Pr/10),nk=Math.sin(Cr/10)*fb,ik=-Math.cos(Cr/10)*fb,lb={draw:function(n,a){var c=Math.sqrt(a*ek),h=nk*c,p=ik*c;n.moveTo(0,-c),n.lineTo(h,p);for(var _=1;_<5;++_){var x=Cr*_/5,b=Math.cos(x),A=Math.sin(x);n.lineTo(A*c,-b*c),n.lineTo(b*h-A*p,A*h+b*p)}n.closePath()}},hb={draw:function(n,a){var c=Math.sqrt(a),h=-c/2;n.rect(h,h,c,c)}},Vp=Math.sqrt(3),db={draw:function(n,a){var c=-Math.sqrt(a/(Vp*3));n.moveTo(0,c*2),n.lineTo(-Vp*c,-c),n.lineTo(Vp*c,-c),n.closePath()}},si=-.5,ui=Math.sqrt(3)/2,Gp=1/Math.sqrt(12),rk=(Gp/2+1)*3,gb={draw:function(n,a){var c=Math.sqrt(a/rk),h=c/2,p=c*Gp,_=h,x=c*Gp+c,b=-_,A=x;n.moveTo(h,p),n.lineTo(_,x),n.lineTo(b,A),n.lineTo(si*h-ui*p,ui*h+si*p),n.lineTo(si*_-ui*x,ui*_+si*x),n.lineTo(si*b-ui*A,ui*b+si*A),n.lineTo(si*h+ui*p,si*p-ui*h),n.lineTo(si*_+ui*x,si*x-ui*_),n.lineTo(si*b+ui*A,si*A-ui*b),n.closePath()}},ak=[Rp,sb,cb,hb,lb,db,gb];function ok(){var n=ye(Rp),a=ye(64),c=null;function h(){var p;if(c||(c=p=xr()),n.apply(this,arguments).draw(c,+a.apply(this,arguments)),p)return c=null,p+""||null}return h.type=function(p){return arguments.length?(n=typeof p=="function"?p:ye(p),h):n},h.size=function(p){return arguments.length?(a=typeof p=="function"?p:ye(+p),h):a},h.context=function(p){return arguments.length?(c=p??null,h):c},h}function Lr(){}function qf(n,a,c){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+a)/6,(n._y0+4*n._y1+c)/6)}function Qf(n){this._context=n}Qf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,a){switch(n=+n,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qf(this,n,a);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=a}};function sk(n){return new Qf(n)}function pb(n){this._context=n}pb.prototype={areaStart:Lr,areaEnd:Lr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,a){switch(n=+n,a=+a,this._point){case 0:this._point=1,this._x2=n,this._y2=a;break;case 1:this._point=2,this._x3=n,this._y3=a;break;case 2:this._point=3,this._x4=n,this._y4=a,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+a)/6);break;default:qf(this,n,a);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=a}};function uk(n){return new pb(n)}function yb(n){this._context=n}yb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,a){switch(n=+n,a=+a,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+n)/6,h=(this._y0+4*this._y1+a)/6;this._line?this._context.lineTo(c,h):this._context.moveTo(c,h);break;case 3:this._point=4;default:qf(this,n,a);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=a}};function ck(n){return new yb(n)}function _b(n,a){this._basis=new Qf(n),this._beta=a}_b.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,a=this._y,c=n.length-1;if(c>0)for(var h=n[0],p=a[0],_=n[c]-h,x=a[c]-p,b=-1,A;++b<=c;)A=b/c,this._basis.point(this._beta*n[b]+(1-this._beta)*(h+A*_),this._beta*a[b]+(1-this._beta)*(p+A*x));this._x=this._y=null,this._basis.lineEnd()},point:function(n,a){this._x.push(+n),this._y.push(+a)}};var fk=function n(a){function c(h){return a===1?new Qf(h):new _b(h,a)}return c.beta=function(h){return n(+h)},c}(.85);function Zf(n,a,c){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-a),n._y2+n._k*(n._y1-c),n._x2,n._y2)}function Op(n,a){this._context=n,this._k=(1-a)/6}Op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Zf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,a){switch(n=+n,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 1:this._point=2,this._x1=n,this._y1=a;break;case 2:this._point=3;default:Zf(this,n,a);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=a}};var lk=function n(a){function c(h){return new Op(h,a)}return c.tension=function(h){return n(+h)},c}(0);function Np(n,a){this._context=n,this._k=(1-a)/6}Np.prototype={areaStart:Lr,areaEnd:Lr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(n,a){switch(n=+n,a=+a,this._point){case 0:this._point=1,this._x3=n,this._y3=a;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=a);break;case 2:this._point=3,this._x5=n,this._y5=a;break;default:Zf(this,n,a);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=a}};var hk=function n(a){function c(h){return new Np(h,a)}return c.tension=function(h){return n(+h)},c}(0);function Ip(n,a){this._context=n,this._k=(1-a)/6}Ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,a){switch(n=+n,a=+a,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Zf(this,n,a);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=a}};var dk=function n(a){function c(h){return new Ip(h,a)}return c.tension=function(h){return n(+h)},c}(0);function Dp(n,a,c){var h=n._x1,p=n._y1,_=n._x2,x=n._y2;if(n._l01_a>pn){var b=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,A=3*n._l01_a*(n._l01_a+n._l12_a);h=(h*b-n._x0*n._l12_2a+n._x2*n._l01_2a)/A,p=(p*b-n._y0*n._l12_2a+n._y2*n._l01_2a)/A}if(n._l23_a>pn){var C=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,k=3*n._l23_a*(n._l23_a+n._l12_a);_=(_*C+n._x1*n._l23_2a-a*n._l12_2a)/k,x=(x*C+n._y1*n._l23_2a-c*n._l12_2a)/k}n._context.bezierCurveTo(h,p,_,x,n._x2,n._y2)}function mb(n,a){this._context=n,this._alpha=a}mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,a){if(n=+n,a=+a,this._point){var c=this._x2-n,h=this._y2-a;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+h*h,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 1:this._point=2;break;case 2:this._point=3;default:Dp(this,n,a);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=a}};var gk=function n(a){function c(h){return a?new mb(h,a):new Op(h,0)}return c.alpha=function(h){return n(+h)},c}(.5);function vb(n,a){this._context=n,this._alpha=a}vb.prototype={areaStart:Lr,areaEnd:Lr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(n,a){if(n=+n,a=+a,this._point){var c=this._x2-n,h=this._y2-a;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+h*h,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=n,this._y3=a;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=a);break;case 2:this._point=3,this._x5=n,this._y5=a;break;default:Dp(this,n,a);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=a}};var pk=function n(a){function c(h){return a?new vb(h,a):new Np(h,0)}return c.alpha=function(h){return n(+h)},c}(.5);function xb(n,a){this._context=n,this._alpha=a}xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,a){if(n=+n,a=+a,this._point){var c=this._x2-n,h=this._y2-a;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+h*h,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Dp(this,n,a);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=a}};var yk=function n(a){function c(h){return a?new xb(h,a):new Ip(h,0)}return c.alpha=function(h){return n(+h)},c}(.5);function wb(n){this._context=n}wb.prototype={areaStart:Lr,areaEnd:Lr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,a){n=+n,a=+a,this._point?this._context.lineTo(n,a):(this._point=1,this._context.moveTo(n,a))}};function _k(n){return new wb(n)}function bb(n){return n<0?-1:1}function Sb(n,a,c){var h=n._x1-n._x0,p=a-n._x1,_=(n._y1-n._y0)/(h||p<0&&-0),x=(c-n._y1)/(p||h<0&&-0),b=(_*p+x*h)/(h+p);return(bb(_)+bb(x))*Math.min(Math.abs(_),Math.abs(x),.5*Math.abs(b))||0}function Tb(n,a){var c=n._x1-n._x0;return c?(3*(n._y1-n._y0)/c-a)/2:a}function Fp(n,a,c){var h=n._x0,p=n._y0,_=n._x1,x=n._y1,b=(_-h)/3;n._context.bezierCurveTo(h+b,p+b*a,_-b,x-b*c,_,x)}function jf(n){this._context=n}jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fp(this,this._t0,Tb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,a){var c=NaN;if(n=+n,a=+a,!(n===this._x1&&a===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 1:this._point=2;break;case 2:this._point=3,Fp(this,Tb(this,c=Sb(this,n,a)),c);break;default:Fp(this,this._t0,c=Sb(this,n,a));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=a,this._t0=c}}};function Ab(n){this._context=new Pb(n)}(Ab.prototype=Object.create(jf.prototype)).point=function(n,a){jf.prototype.point.call(this,a,n)};function Pb(n){this._context=n}Pb.prototype={moveTo:function(n,a){this._context.moveTo(a,n)},closePath:function(){this._context.closePath()},lineTo:function(n,a){this._context.lineTo(a,n)},bezierCurveTo:function(n,a,c,h,p,_){this._context.bezierCurveTo(a,n,h,c,_,p)}};function mk(n){return new jf(n)}function vk(n){return new Ab(n)}function Cb(n){this._context=n}Cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,a=this._y,c=n.length;if(c)if(this._line?this._context.lineTo(n[0],a[0]):this._context.moveTo(n[0],a[0]),c===2)this._context.lineTo(n[1],a[1]);else for(var h=Lb(n),p=Lb(a),_=0,x=1;x<c;++_,++x)this._context.bezierCurveTo(h[0][_],p[0][_],h[1][_],p[1][_],n[x],a[x]);(this._line||this._line!==0&&c===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,a){this._x.push(+n),this._y.push(+a)}};function Lb(n){var a,c=n.length-1,h,p=new Array(c),_=new Array(c),x=new Array(c);for(p[0]=0,_[0]=2,x[0]=n[0]+2*n[1],a=1;a<c-1;++a)p[a]=1,_[a]=4,x[a]=4*n[a]+2*n[a+1];for(p[c-1]=2,_[c-1]=7,x[c-1]=8*n[c-1]+n[c],a=1;a<c;++a)h=p[a]/_[a-1],_[a]-=h,x[a]-=h*x[a-1];for(p[c-1]=x[c-1]/_[c-1],a=c-2;a>=0;--a)p[a]=(x[a]-p[a+1])/_[a];for(_[c-1]=(n[c]+p[c-1])/2,a=0;a<c-1;++a)_[a]=2*n[a+1]-p[a+1];return[p,_]}function xk(n){return new Cb(n)}function Kf(n,a){this._context=n,this._t=a}Kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,a){switch(n=+n,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,a),this._context.lineTo(n,a);else{var c=this._x*(1-this._t)+n*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,a)}break}}this._x=n,this._y=a}};function wk(n){return new Kf(n,.5)}function bk(n){return new Kf(n,0)}function Sk(n){return new Kf(n,1)}function fo(n,a){if((x=n.length)>1)for(var c=1,h,p,_=n[a[0]],x,b=_.length;c<x;++c)for(p=_,_=n[a[c]],h=0;h<b;++h)_[h][1]+=_[h][0]=isNaN(p[h][1])?p[h][0]:p[h][1]}function lo(n){for(var a=n.length,c=new Array(a);--a>=0;)c[a]=a;return c}function Tk(n,a){return n[a]}function Ak(){var n=ye([]),a=lo,c=fo,h=Tk;function p(_){var x=n.apply(this,arguments),b,A=_.length,C=x.length,k=new Array(C),G;for(b=0;b<C;++b){for(var R=x[b],D=k[b]=new Array(A),q=0,U;q<A;++q)D[q]=U=[0,+h(_[q],R,q,_)],U.data=_[q];D.key=R}for(b=0,G=a(k);b<C;++b)k[G[b]].index=b;return c(k,G),k}return p.keys=function(_){return arguments.length?(n=typeof _=="function"?_:ye(Ep.call(_)),p):n},p.value=function(_){return arguments.length?(h=typeof _=="function"?_:ye(+_),p):h},p.order=function(_){return arguments.length?(a=_==null?lo:typeof _=="function"?_:ye(Ep.call(_)),p):a},p.offset=function(_){return arguments.length?(c=_??fo,p):c},p}function Pk(n,a){if((h=n.length)>0){for(var c,h,p=0,_=n[0].length,x;p<_;++p){for(x=c=0;c<h;++c)x+=n[c][p][1]||0;if(x)for(c=0;c<h;++c)n[c][p][1]/=x}fo(n,a)}}function Ck(n,a){if((A=n.length)>0)for(var c,h=0,p,_,x,b,A,C=n[a[0]].length;h<C;++h)for(x=b=0,c=0;c<A;++c)(_=(p=n[a[c]][h])[1]-p[0])>0?(p[0]=x,p[1]=x+=_):_<0?(p[1]=b,p[0]=b+=_):(p[0]=0,p[1]=_)}function Lk(n,a){if((p=n.length)>0){for(var c=0,h=n[a[0]],p,_=h.length;c<_;++c){for(var x=0,b=0;x<p;++x)b+=n[x][c][1]||0;h[c][1]+=h[c][0]=-b/2}fo(n,a)}}function Mk(n,a){if(!(!((x=n.length)>0)||!((_=(p=n[a[0]]).length)>0))){for(var c=0,h=1,p,_,x;h<_;++h){for(var b=0,A=0,C=0;b<x;++b){for(var k=n[a[b]],G=k[h][1]||0,R=k[h-1][1]||0,D=(G-R)/2,q=0;q<b;++q){var U=n[a[q]],j=U[h][1]||0,K=U[h-1][1]||0;D+=j-K}A+=G,C+=D*G}p[h-1][1]+=p[h-1][0]=c,A&&(c-=C/A)}p[h-1][1]+=p[h-1][0]=c,fo(n,a)}}function Mb(n){var a=n.map($k);return lo(n).sort(function(c,h){return a[c]-a[h]})}function $k(n){for(var a=-1,c=0,h=n.length,p,_=-1/0;++a<h;)(p=+n[a][1])>_&&(_=p,c=a);return c}function $b(n){var a=n.map(Eb);return lo(n).sort(function(c,h){return a[c]-a[h]})}function Eb(n){for(var a=0,c=-1,h=n.length,p;++c<h;)(p=+n[c][1])&&(a+=p);return a}function Ek(n){return $b(n).reverse()}function kk(n){var a=n.length,c,h,p=n.map(Eb),_=Mb(n),x=0,b=0,A=[],C=[];for(c=0;c<a;++c)h=_[c],x<b?(x+=p[h],A.push(h)):(b+=p[h],C.push(h));return C.reverse().concat(A)}function Rk(n){return lo(n).reverse()}function kb(n){return function(){return n}}function Vk(n){return n[0]}function Gk(n){return n[1]}function Jf(){this._=null}function tl(n){n.U=n.C=n.L=n.R=n.P=n.N=null}Jf.prototype={constructor:Jf,insert:function(n,a){var c,h,p;if(n){if(a.P=n,a.N=n.N,n.N&&(n.N.P=a),n.N=a,n.R){for(n=n.R;n.L;)n=n.L;n.L=a}else n.R=a;c=n}else this._?(n=Rb(this._),a.P=null,a.N=n,n.P=n.L=a,c=n):(a.P=a.N=null,this._=a,c=null);for(a.L=a.R=null,a.U=c,a.C=!0,n=a;c&&c.C;)h=c.U,c===h.L?(p=h.R,p&&p.C?(c.C=p.C=!1,h.C=!0,n=h):(n===c.R&&(Zs(this,c),n=c,c=n.U),c.C=!1,h.C=!0,js(this,h))):(p=h.L,p&&p.C?(c.C=p.C=!1,h.C=!0,n=h):(n===c.L&&(js(this,c),n=c,c=n.U),c.C=!1,h.C=!0,Zs(this,h))),c=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var a=n.U,c,h=n.L,p=n.R,_,x;if(h?p?_=Rb(p):_=h:_=p,a?a.L===n?a.L=_:a.R=_:this._=_,h&&p?(x=_.C,_.C=n.C,_.L=h,h.U=_,_!==p?(a=_.U,_.U=n.U,n=_.R,a.L=n,_.R=p,p.U=_):(_.U=a,a=_,n=_.R)):(x=n.C,n=_),n&&(n.U=a),!x){if(n&&n.C){n.C=!1;return}do{if(n===this._)break;if(n===a.L){if(c=a.R,c.C&&(c.C=!1,a.C=!0,Zs(this,a),c=a.R),c.L&&c.L.C||c.R&&c.R.C){(!c.R||!c.R.C)&&(c.L.C=!1,c.C=!0,js(this,c),c=a.R),c.C=a.C,a.C=c.R.C=!1,Zs(this,a),n=this._;break}}else if(c=a.L,c.C&&(c.C=!1,a.C=!0,js(this,a),c=a.L),c.L&&c.L.C||c.R&&c.R.C){(!c.L||!c.L.C)&&(c.R.C=!1,c.C=!0,Zs(this,c),c=a.L),c.C=a.C,a.C=c.L.C=!1,js(this,a),n=this._;break}c.C=!0,n=a,a=a.U}while(!n.C);n&&(n.C=!1)}}};function Zs(n,a){var c=a,h=a.R,p=c.U;p?p.L===c?p.L=h:p.R=h:n._=h,h.U=p,c.U=h,c.R=h.L,c.R&&(c.R.U=c),h.L=c}function js(n,a){var c=a,h=a.L,p=c.U;p?p.L===c?p.L=h:p.R=h:n._=h,h.U=p,c.U=h,c.L=h.R,c.L&&(c.L.U=c),h.R=c}function Rb(n){for(;n.L;)n=n.L;return n}function Ks(n,a,c,h){var p=[null,null],_=yn.push(p)-1;return p.left=n,p.right=a,c&&el(p,n,a,c),h&&el(p,a,n,h),jn[n.index].halfedges.push(_),jn[a.index].halfedges.push(_),p}function Js(n,a,c){var h=[a,c];return h.left=n,h}function el(n,a,c,h){!n[0]&&!n[1]?(n[0]=h,n.left=a,n.right=c):n.left===c?n[1]=h:n[0]=h}function Ok(n,a,c,h,p){var _=n[0],x=n[1],b=_[0],A=_[1],C=x[0],k=x[1],G=0,R=1,D=C-b,q=k-A,U;if(U=a-b,!(!D&&U>0)){if(U/=D,D<0){if(U<G)return;U<R&&(R=U)}else if(D>0){if(U>R)return;U>G&&(G=U)}if(U=h-b,!(!D&&U<0)){if(U/=D,D<0){if(U>R)return;U>G&&(G=U)}else if(D>0){if(U<G)return;U<R&&(R=U)}if(U=c-A,!(!q&&U>0)){if(U/=q,q<0){if(U<G)return;U<R&&(R=U)}else if(q>0){if(U>R)return;U>G&&(G=U)}if(U=p-A,!(!q&&U<0)){if(U/=q,q<0){if(U>R)return;U>G&&(G=U)}else if(q>0){if(U<G)return;U<R&&(R=U)}return!(G>0)&&!(R<1)||(G>0&&(n[0]=[b+G*D,A+G*q]),R<1&&(n[1]=[b+R*D,A+R*q])),!0}}}}}function Nk(n,a,c,h,p){var _=n[1];if(_)return!0;var x=n[0],b=n.left,A=n.right,C=b[0],k=b[1],G=A[0],R=A[1],D=(C+G)/2,q=(k+R)/2,U,j;if(R===k){if(D<a||D>=h)return;if(C>G){if(!x)x=[D,c];else if(x[1]>=p)return;_=[D,p]}else{if(!x)x=[D,p];else if(x[1]<c)return;_=[D,c]}}else if(U=(C-G)/(R-k),j=q-U*D,U<-1||U>1)if(C>G){if(!x)x=[(c-j)/U,c];else if(x[1]>=p)return;_=[(p-j)/U,p]}else{if(!x)x=[(p-j)/U,p];else if(x[1]<c)return;_=[(c-j)/U,c]}else if(k<R){if(!x)x=[a,U*a+j];else if(x[0]>=h)return;_=[h,U*h+j]}else{if(!x)x=[h,U*h+j];else if(x[0]<a)return;_=[a,U*a+j]}return n[0]=x,n[1]=_,!0}function Ik(n,a,c,h){for(var p=yn.length,_;p--;)(!Nk(_=yn[p],n,a,c,h)||!Ok(_,n,a,c,h)||!(Math.abs(_[0][0]-_[1][0])>Le||Math.abs(_[0][1]-_[1][1])>Le))&&delete yn[p]}function Dk(n){return jn[n.index]={site:n,halfedges:[]}}function Fk(n,a){var c=n.site,h=a.left,p=a.right;return c===p&&(p=h,h=c),p?Math.atan2(p[1]-h[1],p[0]-h[0]):(c===h?(h=a[1],p=a[0]):(h=a[0],p=a[1]),Math.atan2(h[0]-p[0],p[1]-h[1]))}function Vb(n,a){return a[+(a.left!==n.site)]}function zk(n,a){return a[+(a.left===n.site)]}function Xk(){for(var n=0,a=jn.length,c,h,p,_;n<a;++n)if((c=jn[n])&&(_=(h=c.halfedges).length)){var x=new Array(_),b=new Array(_);for(p=0;p<_;++p)x[p]=p,b[p]=Fk(c,yn[h[p]]);for(x.sort(function(A,C){return b[C]-b[A]}),p=0;p<_;++p)b[p]=h[x[p]];for(p=0;p<_;++p)h[p]=b[p]}}function Yk(n,a,c,h){var p=jn.length,_,x,b,A,C,k,G,R,D,q,U,j,K=!0;for(_=0;_<p;++_)if(x=jn[_]){for(b=x.site,C=x.halfedges,A=C.length;A--;)yn[C[A]]||C.splice(A,1);for(A=0,k=C.length;A<k;)q=zk(x,yn[C[A]]),U=q[0],j=q[1],G=Vb(x,yn[C[++A%k]]),R=G[0],D=G[1],(Math.abs(U-R)>Le||Math.abs(j-D)>Le)&&(C.splice(A,0,yn.push(Js(b,q,Math.abs(U-n)<Le&&h-j>Le?[n,Math.abs(R-n)<Le?D:h]:Math.abs(j-h)<Le&&c-U>Le?[Math.abs(D-h)<Le?R:c,h]:Math.abs(U-c)<Le&&j-a>Le?[c,Math.abs(R-c)<Le?D:a]:Math.abs(j-a)<Le&&U-n>Le?[Math.abs(D-a)<Le?R:n,a]:null))-1),++k);k&&(K=!1)}if(K){var ot,it,at,ht=1/0;for(_=0,K=null;_<p;++_)(x=jn[_])&&(b=x.site,ot=b[0]-n,it=b[1]-a,at=ot*ot+it*it,at<ht&&(ht=at,K=x));if(K){var xt=[n,a],yt=[n,h],Pt=[c,h],Tt=[c,a];K.halfedges.push(yn.push(Js(b=K.site,xt,yt))-1,yn.push(Js(b,yt,Pt))-1,yn.push(Js(b,Pt,Tt))-1,yn.push(Js(b,Tt,xt))-1)}}for(_=0;_<p;++_)(x=jn[_])&&(x.halfedges.length||delete jn[_])}var Gb=[],zp;function Bk(){tl(this),this.x=this.y=this.arc=this.site=this.cy=null}function ho(n){var a=n.P,c=n.N;if(!(!a||!c)){var h=a.site,p=n.site,_=c.site;if(h!==_){var x=p[0],b=p[1],A=h[0]-x,C=h[1]-b,k=_[0]-x,G=_[1]-b,R=2*(A*G-C*k);if(!(R>=-Qk)){var D=A*A+C*C,q=k*k+G*G,U=(G*D-C*q)/R,j=(A*q-k*D)/R,K=Gb.pop()||new Bk;K.arc=n,K.site=p,K.x=U+x,K.y=(K.cy=j+b)+Math.sqrt(U*U+j*j),n.circle=K;for(var ot=null,it=tu._;it;)if(K.y<it.y||K.y===it.y&&K.x<=it.x)if(it.L)it=it.L;else{ot=it.P;break}else if(it.R)it=it.R;else{ot=it;break}tu.insert(ot,K),ot||(zp=K)}}}}function go(n){var a=n.circle;a&&(a.P||(zp=a.N),tu.remove(a),Gb.push(a),tl(a),n.circle=null)}var Ob=[];function Hk(){tl(this),this.edge=this.site=this.circle=null}function Nb(n){var a=Ob.pop()||new Hk;return a.site=n,a}function Xp(n){go(n),po.remove(n),Ob.push(n),tl(n)}function Uk(n){var a=n.circle,c=a.x,h=a.cy,p=[c,h],_=n.P,x=n.N,b=[n];Xp(n);for(var A=_;A.circle&&Math.abs(c-A.circle.x)<Le&&Math.abs(h-A.circle.cy)<Le;)_=A.P,b.unshift(A),Xp(A),A=_;b.unshift(A),go(A);for(var C=x;C.circle&&Math.abs(c-C.circle.x)<Le&&Math.abs(h-C.circle.cy)<Le;)x=C.N,b.push(C),Xp(C),C=x;b.push(C),go(C);var k=b.length,G;for(G=1;G<k;++G)C=b[G],A=b[G-1],el(C.edge,A.site,C.site,p);A=b[0],C=b[k-1],C.edge=Ks(A.site,C.site,null,p),ho(A),ho(C)}function Wk(n){for(var a=n[0],c=n[1],h,p,_,x,b=po._;b;)if(_=Ib(b,c)-a,_>Le)b=b.L;else if(x=a-qk(b,c),x>Le){if(!b.R){h=b;break}b=b.R}else{_>-Le?(h=b.P,p=b):x>-Le?(h=b,p=b.N):h=p=b;break}Dk(n);var A=Nb(n);if(po.insert(h,A),!(!h&&!p)){if(h===p){go(h),p=Nb(h.site),po.insert(A,p),A.edge=p.edge=Ks(h.site,A.site),ho(h),ho(p);return}if(!p){A.edge=Ks(h.site,A.site);return}go(h),go(p);var C=h.site,k=C[0],G=C[1],R=n[0]-k,D=n[1]-G,q=p.site,U=q[0]-k,j=q[1]-G,K=2*(R*j-D*U),ot=R*R+D*D,it=U*U+j*j,at=[(j*ot-D*it)/K+k,(R*it-U*ot)/K+G];el(p.edge,C,q,at),A.edge=Ks(C,n,null,at),p.edge=Ks(n,q,null,at),ho(h),ho(p)}}function Ib(n,a){var c=n.site,h=c[0],p=c[1],_=p-a;if(!_)return h;var x=n.P;if(!x)return-1/0;c=x.site;var b=c[0],A=c[1],C=A-a;if(!C)return b;var k=b-h,G=1/_-1/C,R=k/C;return G?(-R+Math.sqrt(R*R-2*G*(k*k/(-2*C)-A+C/2+p-_/2)))/G+h:(h+b)/2}function qk(n,a){var c=n.N;if(c)return Ib(c,a);var h=n.site;return h[1]===a?h[0]:1/0}var Le=1e-6,Qk=1e-12,po,jn,tu,yn;function Zk(n,a,c){return(n[0]-c[0])*(a[1]-n[1])-(n[0]-a[0])*(c[1]-n[1])}function jk(n,a){return a[1]-n[1]||a[0]-n[0]}function Yp(n,a){var c=n.sort(jk).pop(),h,p,_;for(yn=[],jn=new Array(n.length),po=new Jf,tu=new Jf;;)if(_=zp,c&&(!_||c[1]<_.y||c[1]===_.y&&c[0]<_.x))(c[0]!==h||c[1]!==p)&&(Wk(c),h=c[0],p=c[1]),c=n.pop();else if(_)Uk(_.arc);else break;if(Xk(),a){var x=+a[0][0],b=+a[0][1],A=+a[1][0],C=+a[1][1];Ik(x,b,A,C),Yk(x,b,A,C)}this.edges=yn,this.cells=jn,po=tu=yn=jn=null}Yp.prototype={constructor:Yp,polygons:function(){var n=this.edges;return this.cells.map(function(a){var c=a.halfedges.map(function(h){return Vb(a,n[h])});return c.data=a.site.data,c})},triangles:function(){var n=[],a=this.edges;return this.cells.forEach(function(c,h){if(b=(_=c.halfedges).length)for(var p=c.site,_,x=-1,b,A,C=a[_[b-1]],k=C.left===p?C.right:C.left;++x<b;)A=k,C=a[_[x]],k=C.left===p?C.right:C.left,A&&k&&h<A.index&&h<k.index&&Zk(p,A,k)<0&&n.push([p.data,A.data,k.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,a,c){for(var h=this,p,_=h._found||0,x=h.cells.length,b;!(b=h.cells[_]);)if(++_>=x)return null;var A=n-b.site[0],C=a-b.site[1],k=A*A+C*C;do b=h.cells[p=_],_=null,b.halfedges.forEach(function(G){var R=h.edges[G],D=R.left;if(!((D===b.site||!D)&&!(D=R.right))){var q=n-D[0],U=a-D[1],j=q*q+U*U;j<k&&(k=j,_=D.index)}});while(_!==null);return h._found=p,c==null||k<=c*c?b.site:null}};function Kk(){var n=Vk,a=Gk,c=null;function h(p){return new Yp(p.map(function(_,x){var b=[Math.round(n(_,x,p)/Le)*Le,Math.round(a(_,x,p)/Le)*Le];return b.index=x,b.data=_,b}),c)}return h.polygons=function(p){return h(p).polygons()},h.links=function(p){return h(p).links()},h.triangles=function(p){return h(p).triangles()},h.x=function(p){return arguments.length?(n=typeof p=="function"?p:kb(+p),h):n},h.y=function(p){return arguments.length?(a=typeof p=="function"?p:kb(+p),h):a},h.extent=function(p){return arguments.length?(c=p==null?null:[[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]],h):c&&[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},h.size=function(p){return arguments.length?(c=p==null?null:[[0,0],[+p[0],+p[1]]],h):c&&[c[1][0]-c[0][0],c[1][1]-c[0][1]]},h}function nl(n){return function(){return n}}function Jk(n,a,c){this.target=n,this.type=a,this.transform=c}function ar(n,a,c){this.k=n,this.x=a,this.y=c}ar.prototype={constructor:ar,scale:function(n){return n===1?this:new ar(this.k*n,this.x,this.y)},translate:function(n,a){return n===0&a===0?this:new ar(this.k,this.x+this.k*n,this.y+this.k*a)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var il=new ar(1,0,0);Db.prototype=ar.prototype;function Db(n){for(;!n.__zoom;)if(!(n=n.parentNode))return il;return n.__zoom}function Bp(){t.event.stopImmediatePropagation()}function eu(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function tR(){return!t.event.ctrlKey&&!t.event.button}function eR(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Fb(){return this.__zoom||il}function nR(){return-t.event.deltaY*(t.event.deltaMode===1?.05:t.event.deltaMode?1:.002)}function iR(){return navigator.maxTouchPoints||"ontouchstart"in this}function rR(n,a,c){var h=n.invertX(a[0][0])-c[0][0],p=n.invertX(a[1][0])-c[1][0],_=n.invertY(a[0][1])-c[0][1],x=n.invertY(a[1][1])-c[1][1];return n.translate(p>h?(h+p)/2:Math.min(0,h)||Math.max(0,p),x>_?(_+x)/2:Math.min(0,_)||Math.max(0,x))}function aR(){var n=tR,a=eR,c=rR,h=nR,p=iR,_=[0,1/0],x=[[-1/0,-1/0],[1/0,1/0]],b=250,A=Y1,C=Xt("start","zoom","end"),k,G,R=500,D=150,q=0;function U(st){st.property("__zoom",Fb).on("wheel.zoom",xt).on("mousedown.zoom",yt).on("dblclick.zoom",Pt).filter(p).on("touchstart.zoom",Tt).on("touchmove.zoom",At).on("touchend.zoom touchcancel.zoom",bt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}U.transform=function(st,wt,Rt){var mt=st.selection?st.selection():st;mt.property("__zoom",Fb),st!==mt?it(st,wt,Rt):mt.interrupt().each(function(){at(this,arguments).start().zoom(null,typeof wt=="function"?wt.apply(this,arguments):wt).end()})},U.scaleBy=function(st,wt,Rt){U.scaleTo(st,function(){var mt=this.__zoom.k,$t=typeof wt=="function"?wt.apply(this,arguments):wt;return mt*$t},Rt)},U.scaleTo=function(st,wt,Rt){U.transform(st,function(){var mt=a.apply(this,arguments),$t=this.__zoom,Kt=Rt==null?ot(mt):typeof Rt=="function"?Rt.apply(this,arguments):Rt,Qt=$t.invert(Kt),Jt=typeof wt=="function"?wt.apply(this,arguments):wt;return c(K(j($t,Jt),Kt,Qt),mt,x)},Rt)},U.translateBy=function(st,wt,Rt){U.transform(st,function(){return c(this.__zoom.translate(typeof wt=="function"?wt.apply(this,arguments):wt,typeof Rt=="function"?Rt.apply(this,arguments):Rt),a.apply(this,arguments),x)})},U.translateTo=function(st,wt,Rt,mt){U.transform(st,function(){var $t=a.apply(this,arguments),Kt=this.__zoom,Qt=mt==null?ot($t):typeof mt=="function"?mt.apply(this,arguments):mt;return c(il.translate(Qt[0],Qt[1]).scale(Kt.k).translate(typeof wt=="function"?-wt.apply(this,arguments):-wt,typeof Rt=="function"?-Rt.apply(this,arguments):-Rt),$t,x)},mt)};function j(st,wt){return wt=Math.max(_[0],Math.min(_[1],wt)),wt===st.k?st:new ar(wt,st.x,st.y)}function K(st,wt,Rt){var mt=wt[0]-Rt[0]*st.k,$t=wt[1]-Rt[1]*st.k;return mt===st.x&&$t===st.y?st:new ar(st.k,mt,$t)}function ot(st){return[(+st[0][0]+ +st[1][0])/2,(+st[0][1]+ +st[1][1])/2]}function it(st,wt,Rt){st.on("start.zoom",function(){at(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){at(this,arguments).end()}).tween("zoom",function(){var mt=this,$t=arguments,Kt=at(mt,$t),Qt=a.apply(mt,$t),Jt=Rt==null?ot(Qt):typeof Rt=="function"?Rt.apply(mt,$t):Rt,ue=Math.max(Qt[1][0]-Qt[0][0],Qt[1][1]-Qt[0][1]),ce=mt.__zoom,Ge=typeof wt=="function"?wt.apply(mt,$t):wt,Me=A(ce.invert(Jt).concat(ue/ce.k),Ge.invert(Jt).concat(ue/Ge.k));return function(be){if(be===1)be=Ge;else{var Ue=Me(be),ci=ue/Ue[2];be=new ar(ci,Jt[0]-Ue[0]*ci,Jt[1]-Ue[1]*ci)}Kt.zoom(null,be)}})}function at(st,wt,Rt){return!Rt&&st.__zooming||new ht(st,wt)}function ht(st,wt){this.that=st,this.args=wt,this.active=0,this.extent=a.apply(st,wt),this.taps=0}ht.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(st,wt){return this.mouse&&st!=="mouse"&&(this.mouse[1]=wt.invert(this.mouse[0])),this.touch0&&st!=="touch"&&(this.touch0[1]=wt.invert(this.touch0[0])),this.touch1&&st!=="touch"&&(this.touch1[1]=wt.invert(this.touch1[0])),this.that.__zoom=wt,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(st){Uo(new Jk(U,st,this.that.__zoom),C.apply,C,[st,this.that,this.args])}};function xt(){if(!n.apply(this,arguments))return;var st=at(this,arguments),wt=this.__zoom,Rt=Math.max(_[0],Math.min(_[1],wt.k*Math.pow(2,h.apply(this,arguments)))),mt=Wr(this);if(st.wheel)(st.mouse[0][0]!==mt[0]||st.mouse[0][1]!==mt[1])&&(st.mouse[1]=wt.invert(st.mouse[0]=mt)),clearTimeout(st.wheel);else{if(wt.k===Rt)return;st.mouse=[mt,wt.invert(mt)],jr(this),st.start()}eu(),st.wheel=setTimeout($t,D),st.zoom("mouse",c(K(j(wt,Rt),st.mouse[0],st.mouse[1]),st.extent,x));function $t(){st.wheel=null,st.end()}}function yt(){if(G||!n.apply(this,arguments))return;var st=at(this,arguments,!0),wt=Xn(t.event.view).on("mousemove.zoom",Kt,!0).on("mouseup.zoom",Qt,!0),Rt=Wr(this),mt=t.event.clientX,$t=t.event.clientY;pc(t.event.view),Bp(),st.mouse=[Rt,this.__zoom.invert(Rt)],jr(this),st.start();function Kt(){if(eu(),!st.moved){var Jt=t.event.clientX-mt,ue=t.event.clientY-$t;st.moved=Jt*Jt+ue*ue>q}st.zoom("mouse",c(K(st.that.__zoom,st.mouse[0]=Wr(st.that),st.mouse[1]),st.extent,x))}function Qt(){wt.on("mousemove.zoom mouseup.zoom",null),yc(t.event.view,st.moved),eu(),st.end()}}function Pt(){if(n.apply(this,arguments)){var st=this.__zoom,wt=Wr(this),Rt=st.invert(wt),mt=st.k*(t.event.shiftKey?.5:2),$t=c(K(j(st,mt),wt,Rt),a.apply(this,arguments),x);eu(),b>0?Xn(this).transition().duration(b).call(it,$t,wt):Xn(this).call(U.transform,$t)}}function Tt(){if(n.apply(this,arguments)){var st=t.event.touches,wt=st.length,Rt=at(this,arguments,t.event.changedTouches.length===wt),mt,$t,Kt,Qt;for(Bp(),$t=0;$t<wt;++$t)Kt=st[$t],Qt=Wo(this,st,Kt.identifier),Qt=[Qt,this.__zoom.invert(Qt),Kt.identifier],Rt.touch0?!Rt.touch1&&Rt.touch0[2]!==Qt[2]&&(Rt.touch1=Qt,Rt.taps=0):(Rt.touch0=Qt,mt=!0,Rt.taps=1+!!k);k&&(k=clearTimeout(k)),mt&&(Rt.taps<2&&(k=setTimeout(function(){k=null},R)),jr(this),Rt.start())}}function At(){if(this.__zooming){var st=at(this,arguments),wt=t.event.changedTouches,Rt=wt.length,mt,$t,Kt,Qt;for(eu(),k&&(k=clearTimeout(k)),st.taps=0,mt=0;mt<Rt;++mt)$t=wt[mt],Kt=Wo(this,wt,$t.identifier),st.touch0&&st.touch0[2]===$t.identifier?st.touch0[0]=Kt:st.touch1&&st.touch1[2]===$t.identifier&&(st.touch1[0]=Kt);if($t=st.that.__zoom,st.touch1){var Jt=st.touch0[0],ue=st.touch0[1],ce=st.touch1[0],Ge=st.touch1[1],Me=(Me=ce[0]-Jt[0])*Me+(Me=ce[1]-Jt[1])*Me,be=(be=Ge[0]-ue[0])*be+(be=Ge[1]-ue[1])*be;$t=j($t,Math.sqrt(Me/be)),Kt=[(Jt[0]+ce[0])/2,(Jt[1]+ce[1])/2],Qt=[(ue[0]+Ge[0])/2,(ue[1]+Ge[1])/2]}else if(st.touch0)Kt=st.touch0[0],Qt=st.touch0[1];else return;st.zoom("touch",c(K($t,Kt,Qt),st.extent,x))}}function bt(){if(this.__zooming){var st=at(this,arguments),wt=t.event.changedTouches,Rt=wt.length,mt,$t;for(Bp(),G&&clearTimeout(G),G=setTimeout(function(){G=null},R),mt=0;mt<Rt;++mt)$t=wt[mt],st.touch0&&st.touch0[2]===$t.identifier?delete st.touch0:st.touch1&&st.touch1[2]===$t.identifier&&delete st.touch1;if(st.touch1&&!st.touch0&&(st.touch0=st.touch1,delete st.touch1),st.touch0)st.touch0[1]=this.__zoom.invert(st.touch0[0]);else if(st.end(),st.taps===2){var Kt=Xn(this).on("dblclick.zoom");Kt&&Kt.apply(this,arguments)}}}return U.wheelDelta=function(st){return arguments.length?(h=typeof st=="function"?st:nl(+st),U):h},U.filter=function(st){return arguments.length?(n=typeof st=="function"?st:nl(!!st),U):n},U.touchable=function(st){return arguments.length?(p=typeof st=="function"?st:nl(!!st),U):p},U.extent=function(st){return arguments.length?(a=typeof st=="function"?st:nl([[+st[0][0],+st[0][1]],[+st[1][0],+st[1][1]]]),U):a},U.scaleExtent=function(st){return arguments.length?(_[0]=+st[0],_[1]=+st[1],U):[_[0],_[1]]},U.translateExtent=function(st){return arguments.length?(x[0][0]=+st[0][0],x[1][0]=+st[1][0],x[0][1]=+st[0][1],x[1][1]=+st[1][1],U):[[x[0][0],x[0][1]],[x[1][0],x[1][1]]]},U.constrain=function(st){return arguments.length?(c=st,U):c},U.duration=function(st){return arguments.length?(b=+st,U):b},U.interpolate=function(st){return arguments.length?(A=st,U):A},U.on=function(){var st=C.on.apply(C,arguments);return st===C?U:st},U.clickDistance=function(st){return arguments.length?(q=(st=+st)*st,U):Math.sqrt(q)},U}t.FormatSpecifier=Hc,t.active=EC,t.arc=XE,t.area=nb,t.areaRadial=ob,t.ascending=s,t.autoType=G4,t.axisBottom=kt,t.axisLeft=Gt,t.axisRight=Yt,t.axisTop=Nt,t.bisect=v,t.bisectLeft=w,t.bisectRight=v,t.bisector=l,t.blob=I4,t.brush=BC,t.brushSelection=zC,t.brushX=XC,t.brushY=YC,t.buffer=F4,t.chord=UC,t.clientPoint=gc,t.cluster=KL,t.color=vr,t.contourDensity=v4,t.contours=Pm,t.create=u8,t.creator=Ze,t.cross=E,t.csv=Y4,t.csvFormat=T4,t.csvFormatBody=A4,t.csvFormatRow=C4,t.csvFormatRows=P4,t.csvFormatValue=L4,t.csvParse=$m,t.csvParseRows=S4,t.cubehelix=_i,t.curveBasis=sk,t.curveBasisClosed=uk,t.curveBasisOpen=ck,t.curveBundle=fk,t.curveCardinal=lk,t.curveCardinalClosed=hk,t.curveCardinalOpen=dk,t.curveCatmullRom=gk,t.curveCatmullRomClosed=pk,t.curveCatmullRomOpen=yk,t.curveLinear=Wf,t.curveLinearClosed=_k,t.curveMonotoneX=mk,t.curveMonotoneY=vk,t.curveNatural=xk,t.curveStep=wk,t.curveStepAfter=Sk,t.curveStepBefore=bk,t.customEvent=Uo,t.descending=V,t.deviation=X,t.dispatch=Xt,t.drag=y8,t.dragDisable=pc,t.dragEnable=yc,t.dsv=X4,t.dsvFormat=zc,t.easeBack=fm,t.easeBackIn=TC,t.easeBackInOut=fm,t.easeBackOut=AC,t.easeBounce=os,t.easeBounceIn=bC,t.easeBounceInOut=SC,t.easeBounceOut=os,t.easeCircle=cm,t.easeCircleIn=hC,t.easeCircleInOut=cm,t.easeCircleOut=dC,t.easeCubic=Od,t.easeCubicIn=rC,t.easeCubicInOut=Od,t.easeCubicOut=aC,t.easeElastic=lm,t.easeElasticIn=PC,t.easeElasticInOut=CC,t.easeElasticOut=lm,t.easeExp=um,t.easeExpIn=fC,t.easeExpInOut=um,t.easeExpOut=lC,t.easeLinear=eC,t.easePoly=rm,t.easePolyIn=oC,t.easePolyInOut=rm,t.easePolyOut=sC,t.easeQuad=im,t.easeQuadIn=nC,t.easeQuadInOut=im,t.easeQuadOut=iC,t.easeSin=sm,t.easeSinIn=uC,t.easeSinInOut=sm,t.easeSinOut=cC,t.entries=o4,t.extent=B,t.forceCenter=j4,t.forceCollide=y7,t.forceLink=m7,t.forceManyBody=T7,t.forceRadial=A7,t.forceSimulation=S7,t.forceX=P7,t.forceY=C7,t.formatDefaultLocale=Ym,t.formatLocale=Xm,t.formatSpecifier=cs,t.geoAlbers=ex,t.geoAlbersUsa=$L,t.geoArea=O7,t.geoAzimuthalEqualArea=EL,t.geoAzimuthalEqualAreaRaw=Bg,t.geoAzimuthalEquidistant=kL,t.geoAzimuthalEquidistantRaw=Hg,t.geoBounds=F7,t.geoCentroid=U7,t.geoCircle=W7,t.geoClipAntimeridian=Sg,t.geoClipCircle=Pv,t.geoClipExtent=tL,t.geoClipRectangle=_f,t.geoConicConformal=VL,t.geoConicConformalRaw=rx,t.geoConicEqualArea=Lf,t.geoConicEqualAreaRaw=tx,t.geoConicEquidistant=OL,t.geoConicEquidistantRaw=ax,t.geoContains=sL,t.geoDistance=xf,t.geoEqualEarth=IL,t.geoEqualEarthRaw=Ug,t.geoEquirectangular=GL,t.geoEquirectangularRaw=Ts,t.geoGnomonic=DL,t.geoGnomonicRaw=Wg,t.geoGraticule=Ov,t.geoGraticule10=uL,t.geoIdentity=FL,t.geoInterpolate=cL,t.geoLength=Cv,t.geoMercator=RL,t.geoMercatorRaw=Ss,t.geoNaturalEarth1=zL,t.geoNaturalEarth1Raw=qg,t.geoOrthographic=XL,t.geoOrthographicRaw=Qg,t.geoPath=xL,t.geoProjection=Ii,t.geoProjectionMutator=Xg,t.geoRotation=mv,t.geoStereographic=YL,t.geoStereographicRaw=Zg,t.geoStream=vi,t.geoTransform=wL,t.geoTransverseMercator=BL,t.geoTransverseMercatorRaw=jg,t.gray=P8,t.hcl=bc,t.hierarchy=Kg,t.histogram=_t,t.hsl=vc,t.html=Q4,t.image=H4,t.interpolate=Ko,t.interpolateArray=k8,t.interpolateBasis=A1,t.interpolateBasisClosed=P1,t.interpolateBlues=pE,t.interpolateBrBG=q$,t.interpolateBuGn=iE,t.interpolateBuPu=rE,t.interpolateCividis=wE,t.interpolateCool=TE,t.interpolateCubehelix=W8,t.interpolateCubehelixDefault=bE,t.interpolateCubehelixLong=Cc,t.interpolateDate=k1,t.interpolateDiscrete=G8,t.interpolateGnBu=aE,t.interpolateGreens=yE,t.interpolateGreys=_E,t.interpolateHcl=H8,t.interpolateHclLong=U8,t.interpolateHsl=X8,t.interpolateHslLong=Y8,t.interpolateHue=O8,t.interpolateInferno=kE,t.interpolateLab=B8,t.interpolateMagma=EE,t.interpolateNumber=ii,t.interpolateNumberArray=bd,t.interpolateObject=R1,t.interpolateOrRd=oE,t.interpolateOranges=xE,t.interpolatePRGn=Q$,t.interpolatePiYG=Z$,t.interpolatePlasma=RE,t.interpolatePuBu=uE,t.interpolatePuBuGn=sE,t.interpolatePuOr=j$,t.interpolatePuRd=cE,t.interpolatePurples=mE,t.interpolateRainbow=AE,t.interpolateRdBu=K$,t.interpolateRdGy=J$,t.interpolateRdPu=fE,t.interpolateRdYlBu=tE,t.interpolateRdYlGn=eE,t.interpolateReds=vE,t.interpolateRgb=jo,t.interpolateRgbBasis=M1,t.interpolateRgbBasisClosed=E8,t.interpolateRound=V1,t.interpolateSinebow=LE,t.interpolateSpectral=nE,t.interpolateString=Ad,t.interpolateTransformCss=D1,t.interpolateTransformSvg=F1,t.interpolateTurbo=ME,t.interpolateViridis=$E,t.interpolateWarm=SE,t.interpolateYlGn=hE,t.interpolateYlGnBu=lE,t.interpolateYlOrBr=dE,t.interpolateYlOrRd=gE,t.interpolateZoom=Y1,t.interrupt=jr,t.interval=J8,t.isoFormat=L$,t.isoParse=$$,t.json=W4,t.keys=r4,t.lab=wc,t.lch=C8,t.line=Mp,t.lineRadial=ab,t.linkHorizontal=jE,t.linkRadial=JE,t.linkVertical=KE,t.local=e1,t.map=ji,t.matcher=$i,t.max=o,t.mean=f,t.median=e,t.merge=i,t.min=u,t.mouse=Wr,t.namespace=Bt,t.namespaces=Et,t.nest=e4,t.now=Ua,t.pack=SM,t.packEnclose=sx,t.packSiblings=xM,t.pairs=T,t.partition=TM,t.path=xr,t.permute=d,t.pie=HE,t.piecewise=q8,t.pointRadial=Qs,t.polygonArea=DM,t.polygonCentroid=FM,t.polygonContains=BM,t.polygonHull=YM,t.polygonLength=HM,t.precisionFixed=Bm,t.precisionPrefix=Hm,t.precisionRound=Um,t.quadtree=Yc,t.quantile=Mt,t.quantize=Q8,t.radialArea=ob,t.radialLine=ab,t.randomBates=qM,t.randomExponential=QM,t.randomIrwinHall=Tx,t.randomLogNormal=WM,t.randomNormal=Sx,t.randomUniform=UM,t.range=ft,t.rgb=Ya,t.ribbon=t4,t.scaleBand=ap,t.scaleDiverging=Sw,t.scaleDivergingLog=Tw,t.scaleDivergingPow=Ap,t.scaleDivergingSqrt=N$,t.scaleDivergingSymlog=Aw,t.scaleIdentity=kx,t.scaleImplicit=ip,t.scaleLinear=Ex,t.scaleLog=Nx,t.scaleOrdinal=rp,t.scalePoint=ZM,t.scalePow=lp,t.scaleQuantile=Xx,t.scaleQuantize=Yx,t.scaleSequential=vw,t.scaleSequentialLog=xw,t.scaleSequentialPow=Tp,t.scaleSequentialQuantile=bw,t.scaleSequentialSqrt=O$,t.scaleSequentialSymlog=ww,t.scaleSqrt=s9,t.scaleSymlog=Fx,t.scaleThreshold=Bx,t.scaleTime=V$,t.scaleUtc=G$,t.scan=m,t.schemeAccent=D$,t.schemeBlues=Ww,t.schemeBrBG=Pw,t.schemeBuGn=Gw,t.schemeBuPu=Ow,t.schemeCategory10=I$,t.schemeDark2=F$,t.schemeGnBu=Nw,t.schemeGreens=qw,t.schemeGreys=Qw,t.schemeOrRd=Iw,t.schemeOranges=Kw,t.schemePRGn=Cw,t.schemePaired=z$,t.schemePastel1=X$,t.schemePastel2=Y$,t.schemePiYG=Lw,t.schemePuBu=Fw,t.schemePuBuGn=Dw,t.schemePuOr=Mw,t.schemePuRd=zw,t.schemePurples=Zw,t.schemeRdBu=$w,t.schemeRdGy=Ew,t.schemeRdPu=Xw,t.schemeRdYlBu=kw,t.schemeRdYlGn=Rw,t.schemeReds=jw,t.schemeSet1=B$,t.schemeSet2=H$,t.schemeSet3=U$,t.schemeSpectral=Vw,t.schemeTableau10=W$,t.schemeYlGn=Bw,t.schemeYlGnBu=Yw,t.schemeYlOrBr=Hw,t.schemeYlOrRd=Uw,t.select=Xn,t.selectAll=f8,t.selection=Ur,t.selector=je,t.selectorAll=We,t.set=Tm,t.shuffle=S,t.stack=Ak,t.stackOffsetDiverging=Ck,t.stackOffsetExpand=Pk,t.stackOffsetNone=fo,t.stackOffsetSilhouette=Lk,t.stackOffsetWiggle=Mk,t.stackOrderAppearance=Mb,t.stackOrderAscending=$b,t.stackOrderDescending=Ek,t.stackOrderInsideOut=kk,t.stackOrderNone=lo,t.stackOrderReverse=Rk,t.stratify=LM,t.style=Hr,t.sum=L,t.svg=Z4,t.symbol=ok,t.symbolCircle=Rp,t.symbolCross=sb,t.symbolDiamond=cb,t.symbolSquare=hb,t.symbolStar=lb,t.symbolTriangle=db,t.symbolWye=gb,t.symbols=ak,t.text=Xc,t.thresholdFreedmanDiaconis=pt,t.thresholdScott=Lt,t.thresholdSturges=et,t.tickFormat=$x,t.tickIncrement=F,t.tickStep=vt,t.ticks=dt,t.timeDay=Rs,t.timeDays=f9,t.timeFormatDefaultLocale=yw,t.timeFormatLocale=aw,t.timeFriday=jx,t.timeFridays=p9,t.timeHour=pp,t.timeHours=c9,t.timeInterval=Je,t.timeMillisecond=ua,t.timeMilliseconds=Hx,t.timeMinute=gp,t.timeMinutes=u9,t.timeMonday=Gs,t.timeMondays=l9,t.timeMonth=yp,t.timeMonths=_9,t.timeSaturday=Kx,t.timeSaturdays=y9,t.timeSecond=ks,t.timeSeconds=qx,t.timeSunday=Vs,t.timeSundays=Jx,t.timeThursday=Os,t.timeThursdays=g9,t.timeTuesday=Qx,t.timeTuesdays=h9,t.timeWednesday=Zx,t.timeWednesdays=d9,t.timeWeek=Vs,t.timeWeeks=Jx,t.timeYear=ir,t.timeYears=m9,t.timeout=$d,t.timer=Ec,t.timerFlush=Q1,t.touch=Wo,t.touches=l8,t.transition=em,t.transpose=M,t.tree=VM,t.treemap=GM,t.treemapBinary=OM,t.treemapDice=$s,t.treemapResquarify=IM,t.treemapSlice=Gf,t.treemapSliceDice=NM,t.treemapSquarify=wx,t.tsv=B4,t.tsvFormat=$4,t.tsvFormatBody=E4,t.tsvFormatRow=R4,t.tsvFormatRows=k4,t.tsvFormatValue=V4,t.tsvParse=Em,t.tsvParseRows=M4,t.utcDay=Ns,t.utcDays=w9,t.utcFriday=nw,t.utcFridays=P9,t.utcHour=mp,t.utcHours=x9,t.utcMillisecond=ua,t.utcMilliseconds=Hx,t.utcMinute=_p,t.utcMinutes=v9,t.utcMonday=Ds,t.utcMondays=b9,t.utcMonth=vp,t.utcMonths=L9,t.utcSaturday=iw,t.utcSaturdays=C9,t.utcSecond=ks,t.utcSeconds=qx,t.utcSunday=Is,t.utcSundays=rw,t.utcThursday=Fs,t.utcThursdays=A9,t.utcTuesday=tw,t.utcTuesdays=S9,t.utcWednesday=ew,t.utcWednesdays=T9,t.utcWeek=Is,t.utcWeeks=rw,t.utcYear=rr,t.utcYears=M9,t.values=a4,t.variance=I,t.version=r,t.voronoi=Kk,t.window=od,t.xml=q4,t.zip=O,t.zoom=aR,t.zoomIdentity=il,t.zoomTransform=Db,Object.defineProperty(t,"__esModule",{value:!0})});var sR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uR(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var s=function l(){return this instanceof l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(l){var g=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(s,l,g.get?g:{enumerable:!0,get:function(){return t[l]}})}),s}function cR(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ZS={exports:{}},fR="5.16.0";function Dr(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function My(t){return t.length===1&&(t=lR(t)),{left:function(r,s,l,g){for(l==null&&(l=0),g==null&&(g=r.length);l<g;){var y=l+g>>>1;t(r[y],s)<0?l=y+1:g=y}return l},right:function(r,s,l,g){for(l==null&&(l=0),g==null&&(g=r.length);l<g;){var y=l+g>>>1;t(r[y],s)>0?g=y:l=y+1}return l}}}function lR(t){return function(r,s){return Dr(t(r),s)}}var jS=My(Dr),Rr=jS.right,hR=jS.left;function dR(t,r){r==null&&(r=KS);for(var s=0,l=t.length-1,g=t[0],y=new Array(l<0?0:l);s<l;)y[s]=r(g,g=t[++s]);return y}function KS(t,r){return[t,r]}function gR(t,r,s){var l=t.length,g=r.length,y=new Array(l*g),v,w,T,P;for(s==null&&(s=KS),v=T=0;v<l;++v)for(P=t[v],w=0;w<g;++w,++T)y[T]=s(P,r[w]);return y}function pR(t,r){return r<t?-1:r>t?1:r>=t?0:NaN}function Vr(t){return t===null?NaN:+t}function JS(t,r){var s=t.length,l=0,g=-1,y=0,v,w,T=0;if(r==null)for(;++g<s;)isNaN(v=Vr(t[g]))||(w=v-y,y+=w/++l,T+=w*(v-y));else for(;++g<s;)isNaN(v=Vr(r(t[g],g,t)))||(w=v-y,y+=w/++l,T+=w*(v-y));if(l>1)return T/(l-1)}function tT(t,r){var s=JS(t,r);return s&&Math.sqrt(s)}function $y(t,r){var s=t.length,l=-1,g,y,v;if(r==null){for(;++l<s;)if((g=t[l])!=null&&g>=g)for(y=v=g;++l<s;)(g=t[l])!=null&&(y>g&&(y=g),v<g&&(v=g))}else for(;++l<s;)if((g=r(t[l],l,t))!=null&&g>=g)for(y=v=g;++l<s;)(g=r(t[l],l,t))!=null&&(y>g&&(y=g),v<g&&(v=g));return[y,v]}var eT=Array.prototype,yR=eT.slice,_R=eT.map;function rl(t){return function(){return t}}function mR(t){return t}function ei(t,r,s){t=+t,r=+r,s=(g=arguments.length)<2?(r=t,t=0,1):g<3?1:+s;for(var l=-1,g=Math.max(0,Math.ceil((r-t)/s))|0,y=new Array(g);++l<g;)y[l]=t+l*s;return y}var k0=Math.sqrt(50),R0=Math.sqrt(10),V0=Math.sqrt(2);function Ey(t,r,s){var l,g=-1,y,v,w;if(r=+r,t=+t,s=+s,t===r&&s>0)return[t];if((l=r<t)&&(y=t,t=r,r=y),(w=Mu(t,r,s))===0||!isFinite(w))return[];if(w>0)for(t=Math.ceil(t/w),r=Math.floor(r/w),v=new Array(y=Math.ceil(r-t+1));++g<y;)v[g]=(t+g)*w;else for(t=Math.floor(t*w),r=Math.ceil(r*w),v=new Array(y=Math.ceil(t-r+1));++g<y;)v[g]=(t-g)/w;return l&&v.reverse(),v}function Mu(t,r,s){var l=(r-t)/Math.max(0,s),g=Math.floor(Math.log(l)/Math.LN10),y=l/Math.pow(10,g);return g>=0?(y>=k0?10:y>=R0?5:y>=V0?2:1)*Math.pow(10,g):-Math.pow(10,-g)/(y>=k0?10:y>=R0?5:y>=V0?2:1)}function wa(t,r,s){var l=Math.abs(r-t)/Math.max(0,s),g=Math.pow(10,Math.floor(Math.log(l)/Math.LN10)),y=l/g;return y>=k0?g*=10:y>=R0?g*=5:y>=V0&&(g*=2),r<t?-g:g}function ky(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function vR(){var t=mR,r=$y,s=ky;function l(g){var y,v=g.length,w,T=new Array(v);for(y=0;y<v;++y)T[y]=t(g[y],y,g);var P=r(T),E=P[0],V=P[1],$=s(T,E,V);Array.isArray($)||($=wa(E,V,$),$=ei(Math.ceil(E/$)*$,V,$));for(var I=$.length;$[0]<=E;)$.shift(),--I;for(;$[I-1]>V;)$.pop(),--I;var X=new Array(I+1),B;for(y=0;y<=I;++y)B=X[y]=[],B.x0=y>0?$[y-1]:E,B.x1=y<I?$[y]:V;for(y=0;y<v;++y)w=T[y],E<=w&&w<=V&&X[Rr($,w,0,I)].push(g[y]);return X}return l.value=function(g){return arguments.length?(t=typeof g=="function"?g:rl(g),l):t},l.domain=function(g){return arguments.length?(r=typeof g=="function"?g:rl([g[0],g[1]]),l):r},l.thresholds=function(g){return arguments.length?(s=typeof g=="function"?g:Array.isArray(g)?rl(yR.call(g)):rl(g),l):s},l}function Gu(t,r,s){if(s==null&&(s=Vr),!!(l=t.length)){if((r=+r)<=0||l<2)return+s(t[0],0,t);if(r>=1)return+s(t[l-1],l-1,t);var l,g=(l-1)*r,y=Math.floor(g),v=+s(t[y],y,t),w=+s(t[y+1],y+1,t);return v+(w-v)*(g-y)}}function xR(t,r,s){return t=_R.call(t,Vr).sort(Dr),Math.ceil((s-r)/(2*(Gu(t,.75)-Gu(t,.25))*Math.pow(t.length,-1/3)))}function wR(t,r,s){return Math.ceil((s-r)/(3.5*tT(t)*Math.pow(t.length,-1/3)))}function nT(t,r){var s=t.length,l=-1,g,y;if(r==null){for(;++l<s;)if((g=t[l])!=null&&g>=g)for(y=g;++l<s;)(g=t[l])!=null&&g>y&&(y=g)}else for(;++l<s;)if((g=r(t[l],l,t))!=null&&g>=g)for(y=g;++l<s;)(g=r(t[l],l,t))!=null&&g>y&&(y=g);return y}function bR(t,r){var s=t.length,l=s,g=-1,y,v=0;if(r==null)for(;++g<s;)isNaN(y=Vr(t[g]))?--l:v+=y;else for(;++g<s;)isNaN(y=Vr(r(t[g],g,t)))?--l:v+=y;if(l)return v/l}function SR(t,r){var s=t.length,l=-1,g,y=[];if(r==null)for(;++l<s;)isNaN(g=Vr(t[l]))||y.push(g);else for(;++l<s;)isNaN(g=Vr(r(t[l],l,t)))||y.push(g);return Gu(y.sort(Dr),.5)}function Ry(t){for(var r=t.length,s,l=-1,g=0,y,v;++l<r;)g+=t[l].length;for(y=new Array(g);--r>=0;)for(v=t[r],s=v.length;--s>=0;)y[--g]=v[s];return y}function iT(t,r){var s=t.length,l=-1,g,y;if(r==null){for(;++l<s;)if((g=t[l])!=null&&g>=g)for(y=g;++l<s;)(g=t[l])!=null&&y>g&&(y=g)}else for(;++l<s;)if((g=r(t[l],l,t))!=null&&g>=g)for(y=g;++l<s;)(g=r(t[l],l,t))!=null&&y>g&&(y=g);return y}function TR(t,r){for(var s=r.length,l=new Array(s);s--;)l[s]=t[r[s]];return l}function AR(t,r){if(s=t.length){var s,l=0,g=0,y,v=t[g];for(r==null&&(r=Dr);++l<s;)(r(y=t[l],v)<0||r(v,v)!==0)&&(v=y,g=l);if(r(v,v)===0)return g}}function PR(t,r,s){for(var l=(s??t.length)-(r=r==null?0:+r),g,y;l;)y=Math.random()*l--|0,g=t[l+r],t[l+r]=t[y+r],t[y+r]=g;return t}function CR(t,r){var s=t.length,l=-1,g,y=0;if(r==null)for(;++l<s;)(g=+t[l])&&(y+=g);else for(;++l<s;)(g=+r(t[l],l,t))&&(y+=g);return y}function rT(t){if(!(y=t.length))return[];for(var r=-1,s=iT(t,LR),l=new Array(s);++r<s;)for(var g=-1,y,v=l[r]=new Array(y);++g<y;)v[g]=t[g][r];return l}function LR(t){return t.length}function MR(){return rT(arguments)}var Hp=Array.prototype.slice;function $R(t){return t}var Tl=1,Al=2,G0=3,du=4,zb=1e-6;function ER(t){return"translate("+(t+.5)+",0)"}function kR(t){return"translate(0,"+(t+.5)+")"}function RR(t){return function(r){return+t(r)}}function VR(t){var r=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(r=Math.round(r)),function(s){return+t(s)+r}}function GR(){return!this.__axis}function Lh(t,r){var s=[],l=null,g=null,y=6,v=6,w=3,T=t===Tl||t===du?-1:1,P=t===du||t===Al?"x":"y",E=t===Tl||t===G0?ER:kR;function V($){var I=l??(r.ticks?r.ticks.apply(r,s):r.domain()),X=g??(r.tickFormat?r.tickFormat.apply(r,s):$R),B=Math.max(y,0)+w,Y=r.range(),Z=+Y[0]+.5,tt=+Y[Y.length-1]+.5,J=(r.bandwidth?VR:RR)(r.copy()),rt=$.selection?$.selection():$,ft=rt.selectAll(".domain").data([null]),gt=rt.selectAll(".tick").data(I,r).order(),lt=gt.exit(),W=gt.enter().append("g").attr("class","tick"),dt=gt.select("line"),F=gt.select("text");ft=ft.merge(ft.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),gt=gt.merge(W),dt=dt.merge(W.append("line").attr("stroke","currentColor").attr(P+"2",T*y)),F=F.merge(W.append("text").attr("fill","currentColor").attr(P,T*B).attr("dy",t===Tl?"0em":t===G0?"0.71em":"0.32em")),$!==rt&&(ft=ft.transition($),gt=gt.transition($),dt=dt.transition($),F=F.transition($),lt=lt.transition($).attr("opacity",zb).attr("transform",function(vt){return isFinite(vt=J(vt))?E(vt):this.getAttribute("transform")}),W.attr("opacity",zb).attr("transform",function(vt){var et=this.parentNode.__axis;return E(et&&isFinite(et=et(vt))?et:J(vt))})),lt.remove(),ft.attr("d",t===du||t==Al?v?"M"+T*v+","+Z+"H0.5V"+tt+"H"+T*v:"M0.5,"+Z+"V"+tt:v?"M"+Z+","+T*v+"V0.5H"+tt+"V"+T*v:"M"+Z+",0.5H"+tt),gt.attr("opacity",1).attr("transform",function(vt){return E(J(vt))}),dt.attr(P+"2",T*y),F.attr(P,T*B).text(X),rt.filter(GR).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Al?"start":t===du?"end":"middle"),rt.each(function(){this.__axis=J})}return V.scale=function($){return arguments.length?(r=$,V):r},V.ticks=function(){return s=Hp.call(arguments),V},V.tickArguments=function($){return arguments.length?(s=$==null?[]:Hp.call($),V):s.slice()},V.tickValues=function($){return arguments.length?(l=$==null?null:Hp.call($),V):l&&l.slice()},V.tickFormat=function($){return arguments.length?(g=$,V):g},V.tickSize=function($){return arguments.length?(y=v=+$,V):y},V.tickSizeInner=function($){return arguments.length?(y=+$,V):y},V.tickSizeOuter=function($){return arguments.length?(v=+$,V):v},V.tickPadding=function($){return arguments.length?(w=+$,V):w},V}function OR(t){return Lh(Tl,t)}function NR(t){return Lh(Al,t)}function IR(t){return Lh(G0,t)}function DR(t){return Lh(du,t)}var FR={value:function(){}};function ka(){for(var t=0,r=arguments.length,s={},l;t<r;++t){if(!(l=arguments[t]+"")||l in s||/[\s.]/.test(l))throw new Error("illegal type: "+l);s[l]=[]}return new Pl(s)}function Pl(t){this._=t}function zR(t,r){return t.trim().split(/^|\s+/).map(function(s){var l="",g=s.indexOf(".");if(g>=0&&(l=s.slice(g+1),s=s.slice(0,g)),s&&!r.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:l}})}Pl.prototype=ka.prototype={constructor:Pl,on:function(t,r){var s=this._,l=zR(t+"",s),g,y=-1,v=l.length;if(arguments.length<2){for(;++y<v;)if((g=(t=l[y]).type)&&(g=XR(s[g],t.name)))return g;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++y<v;)if(g=(t=l[y]).type)s[g]=Xb(s[g],t.name,r);else if(r==null)for(g in s)s[g]=Xb(s[g],t.name,null);return this},copy:function(){var t={},r=this._;for(var s in r)t[s]=r[s].slice();return new Pl(t)},call:function(t,r){if((g=arguments.length-2)>0)for(var s=new Array(g),l=0,g,y;l<g;++l)s[l]=arguments[l+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(y=this._[t],l=0,g=y.length;l<g;++l)y[l].value.apply(r,s)},apply:function(t,r,s){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var l=this._[t],g=0,y=l.length;g<y;++g)l[g].value.apply(r,s)}};function XR(t,r){for(var s=0,l=t.length,g;s<l;++s)if((g=t[s]).name===r)return g.value}function Xb(t,r,s){for(var l=0,g=t.length;l<g;++l)if(t[l].name===r){t[l]=FR,t=t.slice(0,l).concat(t.slice(l+1));break}return s!=null&&t.push({name:r,value:s}),t}var O0="http://www.w3.org/1999/xhtml";const N0={svg:"http://www.w3.org/2000/svg",xhtml:O0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ic(t){var r=t+="",s=r.indexOf(":");return s>=0&&(r=t.slice(0,s))!=="xmlns"&&(t=t.slice(s+1)),N0.hasOwnProperty(r)?{space:N0[r],local:t}:t}function YR(t){return function(){var r=this.ownerDocument,s=this.namespaceURI;return s===O0&&r.documentElement.namespaceURI===O0?r.createElement(t):r.createElementNS(s,t)}}function BR(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Mh(t){var r=ic(t);return(r.local?BR:YR)(r)}function HR(){}function $h(t){return t==null?HR:function(){return this.querySelector(t)}}function UR(t){typeof t!="function"&&(t=$h(t));for(var r=this._groups,s=r.length,l=new Array(s),g=0;g<s;++g)for(var y=r[g],v=y.length,w=l[g]=new Array(v),T,P,E=0;E<v;++E)(T=y[E])&&(P=t.call(T,T.__data__,E,y))&&("__data__"in T&&(P.__data__=T.__data__),w[E]=P);return new On(l,this._parents)}function WR(){return[]}function Vy(t){return t==null?WR:function(){return this.querySelectorAll(t)}}function qR(t){typeof t!="function"&&(t=Vy(t));for(var r=this._groups,s=r.length,l=[],g=[],y=0;y<s;++y)for(var v=r[y],w=v.length,T,P=0;P<w;++P)(T=v[P])&&(l.push(t.call(T,T.__data__,P,v)),g.push(T));return new On(l,g)}function Gy(t){return function(){return this.matches(t)}}function QR(t){typeof t!="function"&&(t=Gy(t));for(var r=this._groups,s=r.length,l=new Array(s),g=0;g<s;++g)for(var y=r[g],v=y.length,w=l[g]=[],T,P=0;P<v;++P)(T=y[P])&&t.call(T,T.__data__,P,y)&&w.push(T);return new On(l,this._parents)}function aT(t){return new Array(t.length)}function ZR(){return new On(this._enter||this._groups.map(aT),this._parents)}function Gl(t,r){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=r}Gl.prototype={constructor:Gl,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function jR(t){return function(){return t}}var Yb="$";function KR(t,r,s,l,g,y){for(var v=0,w,T=r.length,P=y.length;v<P;++v)(w=r[v])?(w.__data__=y[v],l[v]=w):s[v]=new Gl(t,y[v]);for(;v<T;++v)(w=r[v])&&(g[v]=w)}function JR(t,r,s,l,g,y,v){var w,T,P={},E=r.length,V=y.length,$=new Array(E),I;for(w=0;w<E;++w)(T=r[w])&&($[w]=I=Yb+v.call(T,T.__data__,w,r),I in P?g[w]=T:P[I]=T);for(w=0;w<V;++w)I=Yb+v.call(t,y[w],w,y),(T=P[I])?(l[w]=T,T.__data__=y[w],P[I]=null):s[w]=new Gl(t,y[w]);for(w=0;w<E;++w)(T=r[w])&&P[$[w]]===T&&(g[w]=T)}function tV(t,r){if(!t)return I=new Array(this.size()),P=-1,this.each(function(gt){I[++P]=gt}),I;var s=r?JR:KR,l=this._parents,g=this._groups;typeof t!="function"&&(t=jR(t));for(var y=g.length,v=new Array(y),w=new Array(y),T=new Array(y),P=0;P<y;++P){var E=l[P],V=g[P],$=V.length,I=t.call(E,E&&E.__data__,P,l),X=I.length,B=w[P]=new Array(X),Y=v[P]=new Array(X),Z=T[P]=new Array($);s(E,V,B,Y,Z,I,r);for(var tt=0,J=0,rt,ft;tt<X;++tt)if(rt=B[tt]){for(tt>=J&&(J=tt+1);!(ft=Y[J])&&++J<X;);rt._next=ft||null}}return v=new On(v,l),v._enter=w,v._exit=T,v}function eV(){return new On(this._exit||this._groups.map(aT),this._parents)}function nV(t,r,s){var l=this.enter(),g=this,y=this.exit();return l=typeof t=="function"?t(l):l.append(t+""),r!=null&&(g=r(g)),s==null?y.remove():s(y),l&&g?l.merge(g).order():g}function iV(t){for(var r=this._groups,s=t._groups,l=r.length,g=s.length,y=Math.min(l,g),v=new Array(l),w=0;w<y;++w)for(var T=r[w],P=s[w],E=T.length,V=v[w]=new Array(E),$,I=0;I<E;++I)($=T[I]||P[I])&&(V[I]=$);for(;w<l;++w)v[w]=r[w];return new On(v,this._parents)}function rV(){for(var t=this._groups,r=-1,s=t.length;++r<s;)for(var l=t[r],g=l.length-1,y=l[g],v;--g>=0;)(v=l[g])&&(y&&v.compareDocumentPosition(y)^4&&y.parentNode.insertBefore(v,y),y=v);return this}function aV(t){t||(t=oV);function r(V,$){return V&&$?t(V.__data__,$.__data__):!V-!$}for(var s=this._groups,l=s.length,g=new Array(l),y=0;y<l;++y){for(var v=s[y],w=v.length,T=g[y]=new Array(w),P,E=0;E<w;++E)(P=v[E])&&(T[E]=P);T.sort(r)}return new On(g,this._parents).order()}function oV(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function sV(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function uV(){var t=new Array(this.size()),r=-1;return this.each(function(){t[++r]=this}),t}function cV(){for(var t=this._groups,r=0,s=t.length;r<s;++r)for(var l=t[r],g=0,y=l.length;g<y;++g){var v=l[g];if(v)return v}return null}function fV(){var t=0;return this.each(function(){++t}),t}function lV(){return!this.node()}function hV(t){for(var r=this._groups,s=0,l=r.length;s<l;++s)for(var g=r[s],y=0,v=g.length,w;y<v;++y)(w=g[y])&&t.call(w,w.__data__,y,g);return this}function dV(t){return function(){this.removeAttribute(t)}}function gV(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pV(t,r){return function(){this.setAttribute(t,r)}}function yV(t,r){return function(){this.setAttributeNS(t.space,t.local,r)}}function _V(t,r){return function(){var s=r.apply(this,arguments);s==null?this.removeAttribute(t):this.setAttribute(t,s)}}function mV(t,r){return function(){var s=r.apply(this,arguments);s==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,s)}}function vV(t,r){var s=ic(t);if(arguments.length<2){var l=this.node();return s.local?l.getAttributeNS(s.space,s.local):l.getAttribute(s)}return this.each((r==null?s.local?gV:dV:typeof r=="function"?s.local?mV:_V:s.local?yV:pV)(s,r))}function Oy(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xV(t){return function(){this.style.removeProperty(t)}}function wV(t,r,s){return function(){this.style.setProperty(t,r,s)}}function bV(t,r,s){return function(){var l=r.apply(this,arguments);l==null?this.style.removeProperty(t):this.style.setProperty(t,l,s)}}function SV(t,r,s){return arguments.length>1?this.each((r==null?xV:typeof r=="function"?bV:wV)(t,r,s??"")):ba(this.node(),t)}function ba(t,r){return t.style.getPropertyValue(r)||Oy(t).getComputedStyle(t,null).getPropertyValue(r)}function TV(t){return function(){delete this[t]}}function AV(t,r){return function(){this[t]=r}}function PV(t,r){return function(){var s=r.apply(this,arguments);s==null?delete this[t]:this[t]=s}}function CV(t,r){return arguments.length>1?this.each((r==null?TV:typeof r=="function"?PV:AV)(t,r)):this.node()[t]}function oT(t){return t.trim().split(/^|\s+/)}function Ny(t){return t.classList||new sT(t)}function sT(t){this._node=t,this._names=oT(t.getAttribute("class")||"")}sT.prototype={add:function(t){var r=this._names.indexOf(t);r<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function uT(t,r){for(var s=Ny(t),l=-1,g=r.length;++l<g;)s.add(r[l])}function cT(t,r){for(var s=Ny(t),l=-1,g=r.length;++l<g;)s.remove(r[l])}function LV(t){return function(){uT(this,t)}}function MV(t){return function(){cT(this,t)}}function $V(t,r){return function(){(r.apply(this,arguments)?uT:cT)(this,t)}}function EV(t,r){var s=oT(t+"");if(arguments.length<2){for(var l=Ny(this.node()),g=-1,y=s.length;++g<y;)if(!l.contains(s[g]))return!1;return!0}return this.each((typeof r=="function"?$V:r?LV:MV)(s,r))}function kV(){this.textContent=""}function RV(t){return function(){this.textContent=t}}function VV(t){return function(){var r=t.apply(this,arguments);this.textContent=r??""}}function GV(t){return arguments.length?this.each(t==null?kV:(typeof t=="function"?VV:RV)(t)):this.node().textContent}function OV(){this.innerHTML=""}function NV(t){return function(){this.innerHTML=t}}function IV(t){return function(){var r=t.apply(this,arguments);this.innerHTML=r??""}}function DV(t){return arguments.length?this.each(t==null?OV:(typeof t=="function"?IV:NV)(t)):this.node().innerHTML}function FV(){this.nextSibling&&this.parentNode.appendChild(this)}function zV(){return this.each(FV)}function XV(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function YV(){return this.each(XV)}function BV(t){var r=typeof t=="function"?t:Mh(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function HV(){return null}function UV(t,r){var s=typeof t=="function"?t:Mh(t),l=r==null?HV:typeof r=="function"?r:$h(r);return this.select(function(){return this.insertBefore(s.apply(this,arguments),l.apply(this,arguments)||null)})}function WV(){var t=this.parentNode;t&&t.removeChild(this)}function qV(){return this.each(WV)}function QV(){var t=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function ZV(){var t=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function jV(t){return this.select(t?ZV:QV)}function KV(t){return arguments.length?this.property("__data__",t):this.node().__data__}var fT={},qt=null;if(typeof document<"u"){var JV=document.documentElement;"onmouseenter"in JV||(fT={mouseenter:"mouseover",mouseleave:"mouseout"})}function tG(t,r,s){return t=lT(t,r,s),function(l){var g=l.relatedTarget;(!g||g!==this&&!(g.compareDocumentPosition(this)&8))&&t.call(this,l)}}function lT(t,r,s){return function(l){var g=qt;qt=l;try{t.call(this,this.__data__,r,s)}finally{qt=g}}}function eG(t){return t.trim().split(/^|\s+/).map(function(r){var s="",l=r.indexOf(".");return l>=0&&(s=r.slice(l+1),r=r.slice(0,l)),{type:r,name:s}})}function nG(t){return function(){var r=this.__on;if(r){for(var s=0,l=-1,g=r.length,y;s<g;++s)y=r[s],(!t.type||y.type===t.type)&&y.name===t.name?this.removeEventListener(y.type,y.listener,y.capture):r[++l]=y;++l?r.length=l:delete this.__on}}}function iG(t,r,s){var l=fT.hasOwnProperty(t.type)?tG:lT;return function(g,y,v){var w=this.__on,T,P=l(r,y,v);if(w){for(var E=0,V=w.length;E<V;++E)if((T=w[E]).type===t.type&&T.name===t.name){this.removeEventListener(T.type,T.listener,T.capture),this.addEventListener(T.type,T.listener=P,T.capture=s),T.value=r;return}}this.addEventListener(t.type,P,s),T={type:t.type,name:t.name,value:r,listener:P,capture:s},w?w.push(T):this.__on=[T]}}function rG(t,r,s){var l=eG(t+""),g,y=l.length,v;if(arguments.length<2){var w=this.node().__on;if(w){for(var T=0,P=w.length,E;T<P;++T)for(g=0,E=w[T];g<y;++g)if((v=l[g]).type===E.type&&v.name===E.name)return E.value}return}for(w=r?iG:nG,s==null&&(s=!1),g=0;g<y;++g)this.each(w(l[g],r,s));return this}function Ou(t,r,s,l){var g=qt;t.sourceEvent=qt,qt=t;try{return r.apply(s,l)}finally{qt=g}}function hT(t,r,s){var l=Oy(t),g=l.CustomEvent;typeof g=="function"?g=new g(r,s):(g=l.document.createEvent("Event"),s?(g.initEvent(r,s.bubbles,s.cancelable),g.detail=s.detail):g.initEvent(r,!1,!1)),t.dispatchEvent(g)}function aG(t,r){return function(){return hT(this,t,r)}}function oG(t,r){return function(){return hT(this,t,r.apply(this,arguments))}}function sG(t,r){return this.each((typeof r=="function"?oG:aG)(t,r))}var Iy=[null];function On(t,r){this._groups=t,this._parents=r}function Ra(){return new On([[document.documentElement]],Iy)}On.prototype=Ra.prototype={constructor:On,select:UR,selectAll:qR,filter:QR,data:tV,enter:ZR,exit:eV,join:nV,merge:iV,order:rV,sort:aV,call:sV,nodes:uV,node:cV,size:fV,empty:lV,each:hV,attr:vV,style:SV,property:CV,classed:EV,text:GV,html:DV,raise:zV,lower:YV,append:BV,insert:UV,remove:qV,clone:jV,datum:KV,on:rG,dispatch:sG};function Wn(t){return typeof t=="string"?new On([[document.querySelector(t)]],[document.documentElement]):new On([[t]],Iy)}function uG(t){return Wn(Mh(t).call(document.documentElement))}var cG=0;function dT(){return new I0}function I0(){this._="@"+(++cG).toString(36)}I0.prototype=dT.prototype={constructor:I0,get:function(t){for(var r=this._;!(r in t);)if(!(t=t.parentNode))return;return t[r]},set:function(t,r){return t[this._]=r},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function Dy(){for(var t=qt,r;r=t.sourceEvent;)t=r;return t}function Eh(t,r){var s=t.ownerSVGElement||t;if(s.createSVGPoint){var l=s.createSVGPoint();return l.x=r.clientX,l.y=r.clientY,l=l.matrixTransform(t.getScreenCTM().inverse()),[l.x,l.y]}var g=t.getBoundingClientRect();return[r.clientX-g.left-t.clientLeft,r.clientY-g.top-t.clientTop]}function ma(t){var r=Dy();return r.changedTouches&&(r=r.changedTouches[0]),Eh(t,r)}function fG(t){return typeof t=="string"?new On([document.querySelectorAll(t)],[document.documentElement]):new On([t??[]],Iy)}function Nu(t,r,s){arguments.length<3&&(s=r,r=Dy().changedTouches);for(var l=0,g=r?r.length:0,y;l<g;++l)if((y=r[l]).identifier===s)return Eh(t,y);return null}function lG(t,r){r==null&&(r=Dy().touches);for(var s=0,l=r?r.length:0,g=new Array(l);s<l;++s)g[s]=Eh(t,r[s]);return g}function Up(){qt.stopImmediatePropagation()}function Ao(){qt.preventDefault(),qt.stopImmediatePropagation()}function kh(t){var r=t.document.documentElement,s=Wn(t).on("dragstart.drag",Ao,!0);"onselectstart"in r?s.on("selectstart.drag",Ao,!0):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function Rh(t,r){var s=t.document.documentElement,l=Wn(t).on("dragstart.drag",null);r&&(l.on("click.drag",Ao,!0),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in s?l.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}function al(t){return function(){return t}}function D0(t,r,s,l,g,y,v,w,T,P){this.target=t,this.type=r,this.subject=s,this.identifier=l,this.active=g,this.x=y,this.y=v,this.dx=w,this.dy=T,this._=P}D0.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function hG(){return!qt.ctrlKey&&!qt.button}function dG(){return this.parentNode}function gG(t){return t??{x:qt.x,y:qt.y}}function pG(){return navigator.maxTouchPoints||"ontouchstart"in this}function yG(){var t=hG,r=dG,s=gG,l=pG,g={},y=ka("start","drag","end"),v=0,w,T,P,E,V=0;function $(rt){rt.on("mousedown.drag",I).filter(l).on("touchstart.drag",Y).on("touchmove.drag",Z).on("touchend.drag touchcancel.drag",tt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function I(){if(!(E||!t.apply(this,arguments))){var rt=J("mouse",r.apply(this,arguments),ma,this,arguments);rt&&(Wn(qt.view).on("mousemove.drag",X,!0).on("mouseup.drag",B,!0),kh(qt.view),Up(),P=!1,w=qt.clientX,T=qt.clientY,rt("start"))}}function X(){if(Ao(),!P){var rt=qt.clientX-w,ft=qt.clientY-T;P=rt*rt+ft*ft>V}g.mouse("drag")}function B(){Wn(qt.view).on("mousemove.drag mouseup.drag",null),Rh(qt.view,P),Ao(),g.mouse("end")}function Y(){if(t.apply(this,arguments)){var rt=qt.changedTouches,ft=r.apply(this,arguments),gt=rt.length,lt,W;for(lt=0;lt<gt;++lt)(W=J(rt[lt].identifier,ft,Nu,this,arguments))&&(Up(),W("start"))}}function Z(){var rt=qt.changedTouches,ft=rt.length,gt,lt;for(gt=0;gt<ft;++gt)(lt=g[rt[gt].identifier])&&(Ao(),lt("drag"))}function tt(){var rt=qt.changedTouches,ft=rt.length,gt,lt;for(E&&clearTimeout(E),E=setTimeout(function(){E=null},500),gt=0;gt<ft;++gt)(lt=g[rt[gt].identifier])&&(Up(),lt("end"))}function J(rt,ft,gt,lt,W){var dt=gt(ft,rt),F,vt,et,_t=y.copy();if(Ou(new D0($,"beforestart",F,rt,v,dt[0],dt[1],0,0,_t),function(){return(qt.subject=F=s.apply(lt,W))==null?!1:(vt=F.x-dt[0]||0,et=F.y-dt[1]||0,!0)}))return function Mt(pt){var Lt=dt,o;switch(pt){case"start":g[rt]=Mt,o=v++;break;case"end":delete g[rt],--v;case"drag":dt=gt(ft,rt),o=v;break}Ou(new D0($,pt,F,rt,o,dt[0]+vt,dt[1]+et,dt[0]-Lt[0],dt[1]-Lt[1],_t),_t.apply,_t,[pt,lt,W])}}return $.filter=function(rt){return arguments.length?(t=typeof rt=="function"?rt:al(!!rt),$):t},$.container=function(rt){return arguments.length?(r=typeof rt=="function"?rt:al(rt),$):r},$.subject=function(rt){return arguments.length?(s=typeof rt=="function"?rt:al(rt),$):s},$.touchable=function(rt){return arguments.length?(l=typeof rt=="function"?rt:al(!!rt),$):l},$.on=function(){var rt=y.on.apply(y,arguments);return rt===y?$:rt},$.clickDistance=function(rt){return arguments.length?(V=(rt=+rt)*rt,$):Math.sqrt(V)},$}function Xo(t,r,s){t.prototype=r.prototype=s,s.constructor=t}function rc(t,r){var s=Object.create(t.prototype);for(var l in r)s[l]=r[l];return s}function Fr(){}var Sa=.7,Eo=1/Sa,Po="\\s*([+-]?\\d+)\\s*",Iu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_G=/^#([0-9a-f]{3,8})$/,mG=new RegExp("^rgb\\("+[Po,Po,Po]+"\\)$"),vG=new RegExp("^rgb\\("+[Hi,Hi,Hi]+"\\)$"),xG=new RegExp("^rgba\\("+[Po,Po,Po,Iu]+"\\)$"),wG=new RegExp("^rgba\\("+[Hi,Hi,Hi,Iu]+"\\)$"),bG=new RegExp("^hsl\\("+[Iu,Hi,Hi]+"\\)$"),SG=new RegExp("^hsla\\("+[Iu,Hi,Hi,Iu]+"\\)$"),Bb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xo(Fr,Gr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Hb,formatHex:Hb,formatHsl:TG,formatRgb:Ub,toString:Ub});function Hb(){return this.rgb().formatHex()}function TG(){return gT(this).formatHsl()}function Ub(){return this.rgb().formatRgb()}function Gr(t){var r,s;return t=(t+"").trim().toLowerCase(),(r=_G.exec(t))?(s=r[1].length,r=parseInt(r[1],16),s===6?Wb(r):s===3?new ln(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?ol(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?ol(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=mG.exec(t))?new ln(r[1],r[2],r[3],1):(r=vG.exec(t))?new ln(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=xG.exec(t))?ol(r[1],r[2],r[3],r[4]):(r=wG.exec(t))?ol(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=bG.exec(t))?Zb(r[1],r[2]/100,r[3]/100,1):(r=SG.exec(t))?Zb(r[1],r[2]/100,r[3]/100,r[4]):Bb.hasOwnProperty(t)?Wb(Bb[t]):t==="transparent"?new ln(NaN,NaN,NaN,0):null}function Wb(t){return new ln(t>>16&255,t>>8&255,t&255,1)}function ol(t,r,s,l){return l<=0&&(t=r=s=NaN),new ln(t,r,s,l)}function Fy(t){return t instanceof Fr||(t=Gr(t)),t?(t=t.rgb(),new ln(t.r,t.g,t.b,t.opacity)):new ln}function ko(t,r,s,l){return arguments.length===1?Fy(t):new ln(t,r,s,l??1)}function ln(t,r,s,l){this.r=+t,this.g=+r,this.b=+s,this.opacity=+l}Xo(ln,ko,rc(Fr,{brighter:function(t){return t=t==null?Eo:Math.pow(Eo,t),new ln(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Sa:Math.pow(Sa,t),new ln(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qb,formatHex:qb,formatRgb:Qb,toString:Qb}));function qb(){return"#"+Wp(this.r)+Wp(this.g)+Wp(this.b)}function Qb(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Wp(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Zb(t,r,s,l){return l<=0?t=r=s=NaN:s<=0||s>=1?t=r=NaN:r<=0&&(t=NaN),new zi(t,r,s,l)}function gT(t){if(t instanceof zi)return new zi(t.h,t.s,t.l,t.opacity);if(t instanceof Fr||(t=Gr(t)),!t)return new zi;if(t instanceof zi)return t;t=t.rgb();var r=t.r/255,s=t.g/255,l=t.b/255,g=Math.min(r,s,l),y=Math.max(r,s,l),v=NaN,w=y-g,T=(y+g)/2;return w?(r===y?v=(s-l)/w+(s<l)*6:s===y?v=(l-r)/w+2:v=(r-s)/w+4,w/=T<.5?y+g:2-y-g,v*=60):w=T>0&&T<1?0:v,new zi(v,w,T,t.opacity)}function Ol(t,r,s,l){return arguments.length===1?gT(t):new zi(t,r,s,l??1)}function zi(t,r,s,l){this.h=+t,this.s=+r,this.l=+s,this.opacity=+l}Xo(zi,Ol,rc(Fr,{brighter:function(t){return t=t==null?Eo:Math.pow(Eo,t),new zi(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Sa:Math.pow(Sa,t),new zi(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,s=this.l,l=s+(s<.5?s:1-s)*r,g=2*s-l;return new ln(qp(t>=240?t-240:t+120,g,l),qp(t,g,l),qp(t<120?t+240:t-120,g,l),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function qp(t,r,s){return(t<60?r+(s-r)*t/60:t<180?s:t<240?r+(s-r)*(240-t)/60:r)*255}var pT=Math.PI/180,yT=180/Math.PI,Nl=18,_T=.96422,mT=1,vT=.82521,xT=4/29,Co=6/29,wT=3*Co*Co,AG=Co*Co*Co;function bT(t){if(t instanceof Pi)return new Pi(t.l,t.a,t.b,t.opacity);if(t instanceof Bi)return TT(t);t instanceof ln||(t=Fy(t));var r=Kp(t.r),s=Kp(t.g),l=Kp(t.b),g=Qp((.2225045*r+.7168786*s+.0606169*l)/mT),y,v;return r===s&&s===l?y=v=g:(y=Qp((.4360747*r+.3850649*s+.1430804*l)/_T),v=Qp((.0139322*r+.0971045*s+.7141733*l)/vT)),new Pi(116*g-16,500*(y-g),200*(g-v),t.opacity)}function PG(t,r){return new Pi(t,0,0,r??1)}function Il(t,r,s,l){return arguments.length===1?bT(t):new Pi(t,r,s,l??1)}function Pi(t,r,s,l){this.l=+t,this.a=+r,this.b=+s,this.opacity=+l}Xo(Pi,Il,rc(Fr,{brighter:function(t){return new Pi(this.l+Nl*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new Pi(this.l-Nl*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,r=isNaN(this.a)?t:t+this.a/500,s=isNaN(this.b)?t:t-this.b/200;return r=_T*Zp(r),t=mT*Zp(t),s=vT*Zp(s),new ln(jp(3.1338561*r-1.6168667*t-.4906146*s),jp(-.9787684*r+1.9161415*t+.033454*s),jp(.0719453*r-.2289914*t+1.4052427*s),this.opacity)}}));function Qp(t){return t>AG?Math.pow(t,1/3):t/wT+xT}function Zp(t){return t>Co?t*t*t:wT*(t-xT)}function jp(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Kp(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ST(t){if(t instanceof Bi)return new Bi(t.h,t.c,t.l,t.opacity);if(t instanceof Pi||(t=bT(t)),t.a===0&&t.b===0)return new Bi(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var r=Math.atan2(t.b,t.a)*yT;return new Bi(r<0?r+360:r,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function CG(t,r,s,l){return arguments.length===1?ST(t):new Bi(s,r,t,l??1)}function Dl(t,r,s,l){return arguments.length===1?ST(t):new Bi(t,r,s,l??1)}function Bi(t,r,s,l){this.h=+t,this.c=+r,this.l=+s,this.opacity=+l}function TT(t){if(isNaN(t.h))return new Pi(t.l,0,0,t.opacity);var r=t.h*pT;return new Pi(t.l,Math.cos(r)*t.c,Math.sin(r)*t.c,t.opacity)}Xo(Bi,Dl,rc(Fr,{brighter:function(t){return new Bi(this.h,this.c,this.l+Nl*(t??1),this.opacity)},darker:function(t){return new Bi(this.h,this.c,this.l-Nl*(t??1),this.opacity)},rgb:function(){return TT(this).rgb()}}));var AT=-.14861,zy=1.78277,Xy=-.29227,Vh=-.90649,Du=1.97294,jb=Du*Vh,Kb=Du*zy,Jb=zy*Xy-Vh*AT;function LG(t){if(t instanceof va)return new va(t.h,t.s,t.l,t.opacity);t instanceof ln||(t=Fy(t));var r=t.r/255,s=t.g/255,l=t.b/255,g=(Jb*l+jb*r-Kb*s)/(Jb+jb-Kb),y=l-g,v=(Du*(s-g)-Xy*y)/Vh,w=Math.sqrt(v*v+y*y)/(Du*g*(1-g)),T=w?Math.atan2(v,y)*yT-120:NaN;return new va(T<0?T+360:T,w,g,t.opacity)}function Ci(t,r,s,l){return arguments.length===1?LG(t):new va(t,r,s,l??1)}function va(t,r,s,l){this.h=+t,this.s=+r,this.l=+s,this.opacity=+l}Xo(va,Ci,rc(Fr,{brighter:function(t){return t=t==null?Eo:Math.pow(Eo,t),new va(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Sa:Math.pow(Sa,t),new va(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*pT,r=+this.l,s=isNaN(this.s)?0:this.s*r*(1-r),l=Math.cos(t),g=Math.sin(t);return new ln(255*(r+s*(AT*l+zy*g)),255*(r+s*(Xy*l+Vh*g)),255*(r+s*(Du*l)),this.opacity)}}));function PT(t,r,s,l,g){var y=t*t,v=y*t;return((1-3*t+3*y-v)*r+(4-6*y+3*v)*s+(1+3*t+3*y-3*v)*l+v*g)/6}function CT(t){var r=t.length-1;return function(s){var l=s<=0?s=0:s>=1?(s=1,r-1):Math.floor(s*r),g=t[l],y=t[l+1],v=l>0?t[l-1]:2*g-y,w=l<r-1?t[l+2]:2*y-g;return PT((s-l/r)*r,v,g,y,w)}}function LT(t){var r=t.length;return function(s){var l=Math.floor(((s%=1)<0?++s:s)*r),g=t[(l+r-1)%r],y=t[l%r],v=t[(l+1)%r],w=t[(l+2)%r];return PT((s-l/r)*r,g,y,v,w)}}function Gh(t){return function(){return t}}function MT(t,r){return function(s){return t+s*r}}function MG(t,r,s){return t=Math.pow(t,s),r=Math.pow(r,s)-t,s=1/s,function(l){return Math.pow(t+l*r,s)}}function Oh(t,r){var s=r-t;return s?MT(t,s>180||s<-180?s-360*Math.round(s/360):s):Gh(isNaN(t)?r:t)}function $G(t){return(t=+t)==1?an:function(r,s){return s-r?MG(r,s,t):Gh(isNaN(r)?s:r)}}function an(t,r){var s=r-t;return s?MT(t,s):Gh(isNaN(t)?r:t)}const Fu=function t(r){var s=$G(r);function l(g,y){var v=s((g=ko(g)).r,(y=ko(y)).r),w=s(g.g,y.g),T=s(g.b,y.b),P=an(g.opacity,y.opacity);return function(E){return g.r=v(E),g.g=w(E),g.b=T(E),g.opacity=P(E),g+""}}return l.gamma=t,l}(1);function $T(t){return function(r){var s=r.length,l=new Array(s),g=new Array(s),y=new Array(s),v,w;for(v=0;v<s;++v)w=ko(r[v]),l[v]=w.r||0,g[v]=w.g||0,y[v]=w.b||0;return l=t(l),g=t(g),y=t(y),w.opacity=1,function(T){return w.r=l(T),w.g=g(T),w.b=y(T),w+""}}}var ET=$T(CT),EG=$T(LT);function Yy(t,r){r||(r=[]);var s=t?Math.min(r.length,t.length):0,l=r.slice(),g;return function(y){for(g=0;g<s;++g)l[g]=t[g]*(1-y)+r[g]*y;return l}}function kT(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kG(t,r){return(kT(r)?Yy:RT)(t,r)}function RT(t,r){var s=r?r.length:0,l=t?Math.min(s,t.length):0,g=new Array(l),y=new Array(s),v;for(v=0;v<l;++v)g[v]=ac(t[v],r[v]);for(;v<s;++v)y[v]=r[v];return function(w){for(v=0;v<l;++v)y[v]=g[v](w);return y}}function VT(t,r){var s=new Date;return t=+t,r=+r,function(l){return s.setTime(t*(1-l)+r*l),s}}function di(t,r){return t=+t,r=+r,function(s){return t*(1-s)+r*s}}function GT(t,r){var s={},l={},g;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(g in r)g in t?s[g]=ac(t[g],r[g]):l[g]=r[g];return function(y){for(g in s)l[g]=s[g](y);return l}}var F0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jp=new RegExp(F0.source,"g");function RG(t){return function(){return t}}function VG(t){return function(r){return t(r)+""}}function By(t,r){var s=F0.lastIndex=Jp.lastIndex=0,l,g,y,v=-1,w=[],T=[];for(t=t+"",r=r+"";(l=F0.exec(t))&&(g=Jp.exec(r));)(y=g.index)>s&&(y=r.slice(s,y),w[v]?w[v]+=y:w[++v]=y),(l=l[0])===(g=g[0])?w[v]?w[v]+=g:w[++v]=g:(w[++v]=null,T.push({i:v,x:di(l,g)})),s=Jp.lastIndex;return s<r.length&&(y=r.slice(s),w[v]?w[v]+=y:w[++v]=y),w.length<2?T[0]?VG(T[0].x):RG(r):(r=T.length,function(P){for(var E=0,V;E<r;++E)w[(V=T[E]).i]=V.x(P);return w.join("")})}function ac(t,r){var s=typeof r,l;return r==null||s==="boolean"?Gh(r):(s==="number"?di:s==="string"?(l=Gr(r))?(r=l,Fu):By:r instanceof Gr?Fu:r instanceof Date?VT:kT(r)?Yy:Array.isArray(r)?RT:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?GT:di)(t,r)}function GG(t){var r=t.length;return function(s){return t[Math.max(0,Math.min(r-1,Math.floor(s*r)))]}}function OG(t,r){var s=Oh(+t,+r);return function(l){var g=s(l);return g-360*Math.floor(g/360)}}function OT(t,r){return t=+t,r=+r,function(s){return Math.round(t*(1-s)+r*s)}}var t2=180/Math.PI,z0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function NT(t,r,s,l,g,y){var v,w,T;return(v=Math.sqrt(t*t+r*r))&&(t/=v,r/=v),(T=t*s+r*l)&&(s-=t*T,l-=r*T),(w=Math.sqrt(s*s+l*l))&&(s/=w,l/=w,T/=w),t*l<r*s&&(t=-t,r=-r,T=-T,v=-v),{translateX:g,translateY:y,rotate:Math.atan2(r,t)*t2,skewX:Math.atan(T)*t2,scaleX:v,scaleY:w}}var nu,t0,e2,sl;function NG(t){return t==="none"?z0:(nu||(nu=document.createElement("DIV"),t0=document.documentElement,e2=document.defaultView),nu.style.transform=t,t=e2.getComputedStyle(t0.appendChild(nu),null).getPropertyValue("transform"),t0.removeChild(nu),t=t.slice(7,-1).split(","),NT(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function IG(t){return t==null||(sl||(sl=document.createElementNS("http://www.w3.org/2000/svg","g")),sl.setAttribute("transform",t),!(t=sl.transform.baseVal.consolidate()))?z0:(t=t.matrix,NT(t.a,t.b,t.c,t.d,t.e,t.f))}function IT(t,r,s,l){function g(P){return P.length?P.pop()+" ":""}function y(P,E,V,$,I,X){if(P!==V||E!==$){var B=I.push("translate(",null,r,null,s);X.push({i:B-4,x:di(P,V)},{i:B-2,x:di(E,$)})}else(V||$)&&I.push("translate("+V+r+$+s)}function v(P,E,V,$){P!==E?(P-E>180?E+=360:E-P>180&&(P+=360),$.push({i:V.push(g(V)+"rotate(",null,l)-2,x:di(P,E)})):E&&V.push(g(V)+"rotate("+E+l)}function w(P,E,V,$){P!==E?$.push({i:V.push(g(V)+"skewX(",null,l)-2,x:di(P,E)}):E&&V.push(g(V)+"skewX("+E+l)}function T(P,E,V,$,I,X){if(P!==V||E!==$){var B=I.push(g(I)+"scale(",null,",",null,")");X.push({i:B-4,x:di(P,V)},{i:B-2,x:di(E,$)})}else(V!==1||$!==1)&&I.push(g(I)+"scale("+V+","+$+")")}return function(P,E){var V=[],$=[];return P=t(P),E=t(E),y(P.translateX,P.translateY,E.translateX,E.translateY,V,$),v(P.rotate,E.rotate,V,$),w(P.skewX,E.skewX,V,$),T(P.scaleX,P.scaleY,E.scaleX,E.scaleY,V,$),P=E=null,function(I){for(var X=-1,B=$.length,Y;++X<B;)V[(Y=$[X]).i]=Y.x(I);return V.join("")}}}var DT=IT(NG,"px, ","px)","deg)"),FT=IT(IG,", ",")",")"),iu=Math.SQRT2,e0=2,n2=4,DG=1e-12;function i2(t){return((t=Math.exp(t))+1/t)/2}function FG(t){return((t=Math.exp(t))-1/t)/2}function zG(t){return((t=Math.exp(2*t))-1)/(t+1)}function zT(t,r){var s=t[0],l=t[1],g=t[2],y=r[0],v=r[1],w=r[2],T=y-s,P=v-l,E=T*T+P*P,V,$;if(E<DG)$=Math.log(w/g)/iu,V=function(tt){return[s+tt*T,l+tt*P,g*Math.exp(iu*tt*$)]};else{var I=Math.sqrt(E),X=(w*w-g*g+n2*E)/(2*g*e0*I),B=(w*w-g*g-n2*E)/(2*w*e0*I),Y=Math.log(Math.sqrt(X*X+1)-X),Z=Math.log(Math.sqrt(B*B+1)-B);$=(Z-Y)/iu,V=function(tt){var J=tt*$,rt=i2(Y),ft=g/(e0*I)*(rt*zG(iu*J+Y)-FG(Y));return[s+ft*T,l+ft*P,g*rt/i2(iu*J+Y)]}}return V.duration=$*1e3,V}function XT(t){return function(r,s){var l=t((r=Ol(r)).h,(s=Ol(s)).h),g=an(r.s,s.s),y=an(r.l,s.l),v=an(r.opacity,s.opacity);return function(w){return r.h=l(w),r.s=g(w),r.l=y(w),r.opacity=v(w),r+""}}}const XG=XT(Oh);var YG=XT(an);function BG(t,r){var s=an((t=Il(t)).l,(r=Il(r)).l),l=an(t.a,r.a),g=an(t.b,r.b),y=an(t.opacity,r.opacity);return function(v){return t.l=s(v),t.a=l(v),t.b=g(v),t.opacity=y(v),t+""}}function YT(t){return function(r,s){var l=t((r=Dl(r)).h,(s=Dl(s)).h),g=an(r.c,s.c),y=an(r.l,s.l),v=an(r.opacity,s.opacity);return function(w){return r.h=l(w),r.c=g(w),r.l=y(w),r.opacity=v(w),r+""}}}const HG=YT(Oh);var UG=YT(an);function BT(t){return function r(s){s=+s;function l(g,y){var v=t((g=Ci(g)).h,(y=Ci(y)).h),w=an(g.s,y.s),T=an(g.l,y.l),P=an(g.opacity,y.opacity);return function(E){return g.h=v(E),g.s=w(E),g.l=T(Math.pow(E,s)),g.opacity=P(E),g+""}}return l.gamma=r,l}(1)}const WG=BT(Oh);var Nh=BT(an);function qG(t,r){for(var s=0,l=r.length-1,g=r[0],y=new Array(l<0?0:l);s<l;)y[s]=t(g,g=r[++s]);return function(v){var w=Math.max(0,Math.min(l-1,Math.floor(v*=l)));return y[w](v-w)}}function QG(t,r){for(var s=new Array(r),l=0;l<r;++l)s[l]=t(l/(r-1));return s}var Ro=0,gu=0,ru=0,HT=1e3,Fl,pu,zl=0,Ta=0,Ih=0,zu=typeof performance=="object"&&performance.now?performance:Date,UT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yo(){return Ta||(UT(ZG),Ta=zu.now()+Ih)}function ZG(){Ta=0}function Xu(){this._call=this._time=this._next=null}Xu.prototype=Dh.prototype={constructor:Xu,restart:function(t,r,s){if(typeof t!="function")throw new TypeError("callback is not a function");s=(s==null?Yo():+s)+(r==null?0:+r),!this._next&&pu!==this&&(pu?pu._next=this:Fl=this,pu=this),this._call=t,this._time=s,X0()},stop:function(){this._call&&(this._call=null,this._time=1/0,X0())}};function Dh(t,r,s){var l=new Xu;return l.restart(t,r,s),l}function WT(){Yo(),++Ro;for(var t=Fl,r;t;)(r=Ta-t._time)>=0&&t._call.call(null,r),t=t._next;--Ro}function r2(){Ta=(zl=zu.now())+Ih,Ro=gu=0;try{WT()}finally{Ro=0,KG(),Ta=0}}function jG(){var t=zu.now(),r=t-zl;r>HT&&(Ih-=r,zl=t)}function KG(){for(var t,r=Fl,s,l=1/0;r;)r._call?(l>r._time&&(l=r._time),t=r,r=r._next):(s=r._next,r._next=null,r=t?t._next=s:Fl=s);pu=t,X0(l)}function X0(t){if(!Ro){gu&&(gu=clearTimeout(gu));var r=t-Ta;r>24?(t<1/0&&(gu=setTimeout(r2,t-zu.now()-Ih)),ru&&(ru=clearInterval(ru))):(ru||(zl=zu.now(),ru=setInterval(jG,HT)),Ro=1,UT(r2))}}function Y0(t,r,s){var l=new Xu;return r=r==null?0:+r,l.restart(function(g){l.stop(),t(g+r)},r,s),l}function JG(t,r,s){var l=new Xu,g=r;return r==null?(l.restart(t,r,s),l):(r=+r,s=s==null?Yo():+s,l.restart(function y(v){v+=g,l.restart(y,g+=r,s),t(v)},r,s),l)}var tO=ka("start","end","cancel","interrupt"),eO=[],qT=0,B0=1,H0=2,Cl=3,a2=4,U0=5,Ll=6;function Fh(t,r,s,l,g,y){var v=t.__transition;if(!v)t.__transition={};else if(s in v)return;nO(t,s,{name:r,index:l,group:g,on:tO,tween:eO,time:y.time,delay:y.delay,duration:y.duration,ease:y.ease,timer:null,state:qT})}function Hy(t,r){var s=Li(t,r);if(s.state>qT)throw new Error("too late; already scheduled");return s}function yr(t,r){var s=Li(t,r);if(s.state>Cl)throw new Error("too late; already running");return s}function Li(t,r){var s=t.__transition;if(!s||!(s=s[r]))throw new Error("transition not found");return s}function nO(t,r,s){var l=t.__transition,g;l[r]=s,s.timer=Dh(y,0,s.time);function y(P){s.state=B0,s.timer.restart(v,s.delay,s.time),s.delay<=P&&v(P-s.delay)}function v(P){var E,V,$,I;if(s.state!==B0)return T();for(E in l)if(I=l[E],I.name===s.name){if(I.state===Cl)return Y0(v);I.state===a2?(I.state=Ll,I.timer.stop(),I.on.call("interrupt",t,t.__data__,I.index,I.group),delete l[E]):+E<r&&(I.state=Ll,I.timer.stop(),I.on.call("cancel",t,t.__data__,I.index,I.group),delete l[E])}if(Y0(function(){s.state===Cl&&(s.state=a2,s.timer.restart(w,s.delay,s.time),w(P))}),s.state=H0,s.on.call("start",t,t.__data__,s.index,s.group),s.state===H0){for(s.state=Cl,g=new Array($=s.tween.length),E=0,V=-1;E<$;++E)(I=s.tween[E].value.call(t,t.__data__,s.index,s.group))&&(g[++V]=I);g.length=V+1}}function w(P){for(var E=P<s.duration?s.ease.call(null,P/s.duration):(s.timer.restart(T),s.state=U0,1),V=-1,$=g.length;++V<$;)g[V].call(t,E);s.state===U0&&(s.on.call("end",t,t.__data__,s.index,s.group),T())}function T(){s.state=Ll,s.timer.stop(),delete l[r];for(var P in l)return;delete t.__transition}}function xa(t,r){var s=t.__transition,l,g,y=!0,v;if(s){r=r==null?null:r+"";for(v in s){if((l=s[v]).name!==r){y=!1;continue}g=l.state>H0&&l.state<U0,l.state=Ll,l.timer.stop(),l.on.call(g?"interrupt":"cancel",t,t.__data__,l.index,l.group),delete s[v]}y&&delete t.__transition}}function iO(t){return this.each(function(){xa(this,t)})}function rO(t,r){var s,l;return function(){var g=yr(this,t),y=g.tween;if(y!==s){l=s=y;for(var v=0,w=l.length;v<w;++v)if(l[v].name===r){l=l.slice(),l.splice(v,1);break}}g.tween=l}}function aO(t,r,s){var l,g;if(typeof s!="function")throw new Error;return function(){var y=yr(this,t),v=y.tween;if(v!==l){g=(l=v).slice();for(var w={name:r,value:s},T=0,P=g.length;T<P;++T)if(g[T].name===r){g[T]=w;break}T===P&&g.push(w)}y.tween=g}}function oO(t,r){var s=this._id;if(t+="",arguments.length<2){for(var l=Li(this.node(),s).tween,g=0,y=l.length,v;g<y;++g)if((v=l[g]).name===t)return v.value;return null}return this.each((r==null?rO:aO)(s,t,r))}function Uy(t,r,s){var l=t._id;return t.each(function(){var g=yr(this,l);(g.value||(g.value={}))[r]=s.apply(this,arguments)}),function(g){return Li(g,l).value[r]}}function QT(t,r){var s;return(typeof r=="number"?di:r instanceof Gr?Fu:(s=Gr(r))?(r=s,Fu):By)(t,r)}function sO(t){return function(){this.removeAttribute(t)}}function uO(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cO(t,r,s){var l,g=s+"",y;return function(){var v=this.getAttribute(t);return v===g?null:v===l?y:y=r(l=v,s)}}function fO(t,r,s){var l,g=s+"",y;return function(){var v=this.getAttributeNS(t.space,t.local);return v===g?null:v===l?y:y=r(l=v,s)}}function lO(t,r,s){var l,g,y;return function(){var v,w=s(this),T;return w==null?void this.removeAttribute(t):(v=this.getAttribute(t),T=w+"",v===T?null:v===l&&T===g?y:(g=T,y=r(l=v,w)))}}function hO(t,r,s){var l,g,y;return function(){var v,w=s(this),T;return w==null?void this.removeAttributeNS(t.space,t.local):(v=this.getAttributeNS(t.space,t.local),T=w+"",v===T?null:v===l&&T===g?y:(g=T,y=r(l=v,w)))}}function dO(t,r){var s=ic(t),l=s==="transform"?FT:QT;return this.attrTween(t,typeof r=="function"?(s.local?hO:lO)(s,l,Uy(this,"attr."+t,r)):r==null?(s.local?uO:sO)(s):(s.local?fO:cO)(s,l,r))}function gO(t,r){return function(s){this.setAttribute(t,r.call(this,s))}}function pO(t,r){return function(s){this.setAttributeNS(t.space,t.local,r.call(this,s))}}function yO(t,r){var s,l;function g(){var y=r.apply(this,arguments);return y!==l&&(s=(l=y)&&pO(t,y)),s}return g._value=r,g}function _O(t,r){var s,l;function g(){var y=r.apply(this,arguments);return y!==l&&(s=(l=y)&&gO(t,y)),s}return g._value=r,g}function mO(t,r){var s="attr."+t;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;var l=ic(t);return this.tween(s,(l.local?yO:_O)(l,r))}function vO(t,r){return function(){Hy(this,t).delay=+r.apply(this,arguments)}}function xO(t,r){return r=+r,function(){Hy(this,t).delay=r}}function wO(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?vO:xO)(r,t)):Li(this.node(),r).delay}function bO(t,r){return function(){yr(this,t).duration=+r.apply(this,arguments)}}function SO(t,r){return r=+r,function(){yr(this,t).duration=r}}function TO(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?bO:SO)(r,t)):Li(this.node(),r).duration}function AO(t,r){if(typeof r!="function")throw new Error;return function(){yr(this,t).ease=r}}function PO(t){var r=this._id;return arguments.length?this.each(AO(r,t)):Li(this.node(),r).ease}function CO(t){typeof t!="function"&&(t=Gy(t));for(var r=this._groups,s=r.length,l=new Array(s),g=0;g<s;++g)for(var y=r[g],v=y.length,w=l[g]=[],T,P=0;P<v;++P)(T=y[P])&&t.call(T,T.__data__,P,y)&&w.push(T);return new Ui(l,this._parents,this._name,this._id)}function LO(t){if(t._id!==this._id)throw new Error;for(var r=this._groups,s=t._groups,l=r.length,g=s.length,y=Math.min(l,g),v=new Array(l),w=0;w<y;++w)for(var T=r[w],P=s[w],E=T.length,V=v[w]=new Array(E),$,I=0;I<E;++I)($=T[I]||P[I])&&(V[I]=$);for(;w<l;++w)v[w]=r[w];return new Ui(v,this._parents,this._name,this._id)}function MO(t){return(t+"").trim().split(/^|\s+/).every(function(r){var s=r.indexOf(".");return s>=0&&(r=r.slice(0,s)),!r||r==="start"})}function $O(t,r,s){var l,g,y=MO(r)?Hy:yr;return function(){var v=y(this,t),w=v.on;w!==l&&(g=(l=w).copy()).on(r,s),v.on=g}}function EO(t,r){var s=this._id;return arguments.length<2?Li(this.node(),s).on.on(t):this.each($O(s,t,r))}function kO(t){return function(){var r=this.parentNode;for(var s in this.__transition)if(+s!==t)return;r&&r.removeChild(this)}}function RO(){return this.on("end.remove",kO(this._id))}function VO(t){var r=this._name,s=this._id;typeof t!="function"&&(t=$h(t));for(var l=this._groups,g=l.length,y=new Array(g),v=0;v<g;++v)for(var w=l[v],T=w.length,P=y[v]=new Array(T),E,V,$=0;$<T;++$)(E=w[$])&&(V=t.call(E,E.__data__,$,w))&&("__data__"in E&&(V.__data__=E.__data__),P[$]=V,Fh(P[$],r,s,$,P,Li(E,s)));return new Ui(y,this._parents,r,s)}function GO(t){var r=this._name,s=this._id;typeof t!="function"&&(t=Vy(t));for(var l=this._groups,g=l.length,y=[],v=[],w=0;w<g;++w)for(var T=l[w],P=T.length,E,V=0;V<P;++V)if(E=T[V]){for(var $=t.call(E,E.__data__,V,T),I,X=Li(E,s),B=0,Y=$.length;B<Y;++B)(I=$[B])&&Fh(I,r,s,B,$,X);y.push($),v.push(E)}return new Ui(y,v,r,s)}var OO=Ra.prototype.constructor;function NO(){return new OO(this._groups,this._parents)}function IO(t,r){var s,l,g;return function(){var y=ba(this,t),v=(this.style.removeProperty(t),ba(this,t));return y===v?null:y===s&&v===l?g:g=r(s=y,l=v)}}function ZT(t){return function(){this.style.removeProperty(t)}}function DO(t,r,s){var l,g=s+"",y;return function(){var v=ba(this,t);return v===g?null:v===l?y:y=r(l=v,s)}}function FO(t,r,s){var l,g,y;return function(){var v=ba(this,t),w=s(this),T=w+"";return w==null&&(T=w=(this.style.removeProperty(t),ba(this,t))),v===T?null:v===l&&T===g?y:(g=T,y=r(l=v,w))}}function zO(t,r){var s,l,g,y="style."+r,v="end."+y,w;return function(){var T=yr(this,t),P=T.on,E=T.value[y]==null?w||(w=ZT(r)):void 0;(P!==s||g!==E)&&(l=(s=P).copy()).on(v,g=E),T.on=l}}function XO(t,r,s){var l=(t+="")=="transform"?DT:QT;return r==null?this.styleTween(t,IO(t,l)).on("end.style."+t,ZT(t)):typeof r=="function"?this.styleTween(t,FO(t,l,Uy(this,"style."+t,r))).each(zO(this._id,t)):this.styleTween(t,DO(t,l,r),s).on("end.style."+t,null)}function YO(t,r,s){return function(l){this.style.setProperty(t,r.call(this,l),s)}}function BO(t,r,s){var l,g;function y(){var v=r.apply(this,arguments);return v!==g&&(l=(g=v)&&YO(t,v,s)),l}return y._value=r,y}function HO(t,r,s){var l="style."+(t+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(r==null)return this.tween(l,null);if(typeof r!="function")throw new Error;return this.tween(l,BO(t,r,s??""))}function UO(t){return function(){this.textContent=t}}function WO(t){return function(){var r=t(this);this.textContent=r??""}}function qO(t){return this.tween("text",typeof t=="function"?WO(Uy(this,"text",t)):UO(t==null?"":t+""))}function QO(t){return function(r){this.textContent=t.call(this,r)}}function ZO(t){var r,s;function l(){var g=t.apply(this,arguments);return g!==s&&(r=(s=g)&&QO(g)),r}return l._value=t,l}function jO(t){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ZO(t))}function KO(){for(var t=this._name,r=this._id,s=KT(),l=this._groups,g=l.length,y=0;y<g;++y)for(var v=l[y],w=v.length,T,P=0;P<w;++P)if(T=v[P]){var E=Li(T,r);Fh(T,t,s,P,v,{time:E.time+E.delay+E.duration,delay:0,duration:E.duration,ease:E.ease})}return new Ui(l,this._parents,t,s)}function JO(){var t,r,s=this,l=s._id,g=s.size();return new Promise(function(y,v){var w={value:v},T={value:function(){--g===0&&y()}};s.each(function(){var P=yr(this,l),E=P.on;E!==t&&(r=(t=E).copy(),r._.cancel.push(w),r._.interrupt.push(w),r._.end.push(T)),P.on=r})})}var tN=0;function Ui(t,r,s,l){this._groups=t,this._parents=r,this._name=s,this._id=l}function jT(t){return Ra().transition(t)}function KT(){return++tN}var yo=Ra.prototype;Ui.prototype=jT.prototype={constructor:Ui,select:VO,selectAll:GO,filter:CO,merge:LO,selection:NO,transition:KO,call:yo.call,nodes:yo.nodes,node:yo.node,size:yo.size,empty:yo.empty,each:yo.each,on:EO,attr:dO,attrTween:mO,style:XO,styleTween:HO,text:qO,textTween:jO,remove:RO,tween:oO,delay:wO,duration:TO,ease:PO,end:JO};function eN(t){return+t}function nN(t){return t*t}function iN(t){return t*(2-t)}function o2(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function rN(t){return t*t*t}function aN(t){return--t*t*t+1}function W0(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Wy=3,oN=function t(r){r=+r;function s(l){return Math.pow(l,r)}return s.exponent=t,s}(Wy),sN=function t(r){r=+r;function s(l){return 1-Math.pow(1-l,r)}return s.exponent=t,s}(Wy),s2=function t(r){r=+r;function s(l){return((l*=2)<=1?Math.pow(l,r):2-Math.pow(2-l,r))/2}return s.exponent=t,s}(Wy),JT=Math.PI,tA=JT/2;function uN(t){return+t==1?1:1-Math.cos(t*tA)}function cN(t){return Math.sin(t*tA)}function u2(t){return(1-Math.cos(JT*t))/2}function Or(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function fN(t){return Or(1-+t)}function lN(t){return 1-Or(t)}function c2(t){return((t*=2)<=1?Or(1-t):2-Or(t-1))/2}function hN(t){return 1-Math.sqrt(1-t*t)}function dN(t){return Math.sqrt(1- --t*t)}function f2(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var q0=4/11,gN=6/11,pN=8/11,yN=3/4,_N=9/11,mN=10/11,vN=15/16,xN=21/22,wN=63/64,ul=1/q0/q0;function bN(t){return 1-Yu(1-t)}function Yu(t){return(t=+t)<q0?ul*t*t:t<pN?ul*(t-=gN)*t+yN:t<mN?ul*(t-=_N)*t+vN:ul*(t-=xN)*t+wN}function SN(t){return((t*=2)<=1?1-Yu(1-t):Yu(t-1)+1)/2}var qy=1.70158,TN=function t(r){r=+r;function s(l){return(l=+l)*l*(r*(l-1)+l)}return s.overshoot=t,s}(qy),AN=function t(r){r=+r;function s(l){return--l*l*((l+1)*r+l)+1}return s.overshoot=t,s}(qy),l2=function t(r){r=+r;function s(l){return((l*=2)<1?l*l*((r+1)*l-r):(l-=2)*l*((r+1)*l+r)+2)/2}return s.overshoot=t,s}(qy),Vo=2*Math.PI,Qy=1,Zy=.3,PN=function t(r,s){var l=Math.asin(1/(r=Math.max(1,r)))*(s/=Vo);function g(y){return r*Or(- --y)*Math.sin((l-y)/s)}return g.amplitude=function(y){return t(y,s*Vo)},g.period=function(y){return t(r,y)},g}(Qy,Zy),h2=function t(r,s){var l=Math.asin(1/(r=Math.max(1,r)))*(s/=Vo);function g(y){return 1-r*Or(y=+y)*Math.sin((y+l)/s)}return g.amplitude=function(y){return t(y,s*Vo)},g.period=function(y){return t(r,y)},g}(Qy,Zy),CN=function t(r,s){var l=Math.asin(1/(r=Math.max(1,r)))*(s/=Vo);function g(y){return((y=y*2-1)<0?r*Or(-y)*Math.sin((l-y)/s):2-r*Or(y)*Math.sin((l+y)/s))/2}return g.amplitude=function(y){return t(y,s*Vo)},g.period=function(y){return t(r,y)},g}(Qy,Zy),Q0={time:null,delay:0,duration:250,ease:W0};function LN(t,r){for(var s;!(s=t.__transition)||!(s=s[r]);)if(!(t=t.parentNode))return Q0.time=Yo(),Q0;return s}function MN(t){var r,s;t instanceof Ui?(r=t._id,t=t._name):(r=KT(),(s=Q0).time=Yo(),t=t==null?null:t+"");for(var l=this._groups,g=l.length,y=0;y<g;++y)for(var v=l[y],w=v.length,T,P=0;P<w;++P)(T=v[P])&&Fh(T,t,r,P,v,s||LN(T,r));return new Ui(l,this._parents,t,r)}Ra.prototype.interrupt=iO;Ra.prototype.transition=MN;var $N=[null];function EN(t,r){var s=t.__transition,l,g;if(s){r=r==null?null:r+"";for(g in s)if((l=s[g]).state>B0&&l.name===r)return new Ui([[t]],$N,r,+g)}return null}function n0(t){return function(){return t}}function kN(t,r,s){this.target=t,this.type=r,this.selection=s}function d2(){qt.stopImmediatePropagation()}function i0(){qt.preventDefault(),qt.stopImmediatePropagation()}var g2={name:"drag"},r0={name:"space"},_o={name:"handle"},mo={name:"center"};function p2(t){return[+t[0],+t[1]]}function Z0(t){return[p2(t[0]),p2(t[1])]}function RN(t){return function(r){return Nu(r,qt.touches,t)}}var Ml={name:"x",handles:["w","e"].map(Bu),input:function(t,r){return t==null?null:[[+t[0],r[0][1]],[+t[1],r[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},$l={name:"y",handles:["n","s"].map(Bu),input:function(t,r){return t==null?null:[[r[0][0],+t[0]],[r[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},VN={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Bu),input:function(t){return t==null?null:Z0(t)},output:function(t){return t}},sr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},y2={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},_2={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},GN={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ON={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Bu(t){return{type:t}}function NN(){return!qt.ctrlKey&&!qt.button}function IN(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function DN(){return navigator.maxTouchPoints||"ontouchstart"in this}function a0(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function FN(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function zN(t){var r=t.__brush;return r?r.dim.output(r.selection):null}function XN(){return jy(Ml)}function YN(){return jy($l)}function BN(){return jy(VN)}function jy(t){var r=IN,s=NN,l=DN,g=!0,y=ka("start","brush","end"),v=6,w;function T(Y){var Z=Y.property("__brush",B).selectAll(".overlay").data([Bu("overlay")]);Z.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",sr.overlay).merge(Z).each(function(){var J=a0(this).extent;Wn(this).attr("x",J[0][0]).attr("y",J[0][1]).attr("width",J[1][0]-J[0][0]).attr("height",J[1][1]-J[0][1])}),Y.selectAll(".selection").data([Bu("selection")]).enter().append("rect").attr("class","selection").attr("cursor",sr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var tt=Y.selectAll(".handle").data(t.handles,function(J){return J.type});tt.exit().remove(),tt.enter().append("rect").attr("class",function(J){return"handle handle--"+J.type}).attr("cursor",function(J){return sr[J.type]}),Y.each(P).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",$).filter(l).on("touchstart.brush",$).on("touchmove.brush",I).on("touchend.brush touchcancel.brush",X).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.move=function(Y,Z){Y.selection?Y.on("start.brush",function(){E(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){E(this,arguments).end()}).tween("brush",function(){var tt=this,J=tt.__brush,rt=E(tt,arguments),ft=J.selection,gt=t.input(typeof Z=="function"?Z.apply(this,arguments):Z,J.extent),lt=ac(ft,gt);function W(dt){J.selection=dt===1&&gt===null?null:lt(dt),P.call(tt),rt.brush()}return ft!==null&&gt!==null?W:W(1)}):Y.each(function(){var tt=this,J=arguments,rt=tt.__brush,ft=t.input(typeof Z=="function"?Z.apply(tt,J):Z,rt.extent),gt=E(tt,J).beforestart();xa(tt),rt.selection=ft===null?null:ft,P.call(tt),gt.start().brush().end()})},T.clear=function(Y){T.move(Y,null)};function P(){var Y=Wn(this),Z=a0(this).selection;Z?(Y.selectAll(".selection").style("display",null).attr("x",Z[0][0]).attr("y",Z[0][1]).attr("width",Z[1][0]-Z[0][0]).attr("height",Z[1][1]-Z[0][1]),Y.selectAll(".handle").style("display",null).attr("x",function(tt){return tt.type[tt.type.length-1]==="e"?Z[1][0]-v/2:Z[0][0]-v/2}).attr("y",function(tt){return tt.type[0]==="s"?Z[1][1]-v/2:Z[0][1]-v/2}).attr("width",function(tt){return tt.type==="n"||tt.type==="s"?Z[1][0]-Z[0][0]+v:v}).attr("height",function(tt){return tt.type==="e"||tt.type==="w"?Z[1][1]-Z[0][1]+v:v})):Y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function E(Y,Z,tt){var J=Y.__brush.emitter;return J&&(!tt||!J.clean)?J:new V(Y,Z,tt)}function V(Y,Z,tt){this.that=Y,this.args=Z,this.state=Y.__brush,this.active=0,this.clean=tt}V.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(Y){Ou(new kN(T,Y,t.output(this.state.selection)),y.apply,y,[Y,this.that,this.args])}};function $(){if(w&&!qt.touches||!s.apply(this,arguments))return;var Y=this,Z=qt.target.__data__.type,tt=(g&&qt.metaKey?Z="overlay":Z)==="selection"?g2:g&&qt.altKey?mo:_o,J=t===$l?null:GN[Z],rt=t===Ml?null:ON[Z],ft=a0(Y),gt=ft.extent,lt=ft.selection,W=gt[0][0],dt,F,vt=gt[0][1],et,_t,Mt=gt[1][0],pt,Lt,o=gt[1][1],f,e,i=0,u=0,d,m=J&&rt&&g&&qt.shiftKey,S,L,M=qt.touches?RN(qt.changedTouches[0].identifier):ma,N=M(Y),O=N,H=E(Y,arguments,!0).beforestart();Z==="overlay"?(lt&&(d=!0),ft.selection=lt=[[dt=t===$l?W:N[0],et=t===Ml?vt:N[1]],[pt=t===$l?Mt:dt,f=t===Ml?o:et]]):(dt=lt[0][0],et=lt[0][1],pt=lt[1][0],f=lt[1][1]),F=dt,_t=et,Lt=pt,e=f;var z=Wn(Y).attr("pointer-events","none"),nt=z.selectAll(".overlay").attr("cursor",sr[Z]);if(qt.touches)H.moved=ut,H.ended=St;else{var Q=Wn(qt.view).on("mousemove.brush",ut,!0).on("mouseup.brush",St,!0);g&&Q.on("keydown.brush",Ct,!0).on("keyup.brush",It,!0),kh(qt.view)}d2(),xa(Y),P.call(Y),H.start();function ut(){var Dt=M(Y);m&&!S&&!L&&(Math.abs(Dt[0]-O[0])>Math.abs(Dt[1]-O[1])?L=!0:S=!0),O=Dt,d=!0,i0(),ct()}function ct(){var Dt;switch(i=O[0]-N[0],u=O[1]-N[1],tt){case r0:case g2:{J&&(i=Math.max(W-dt,Math.min(Mt-pt,i)),F=dt+i,Lt=pt+i),rt&&(u=Math.max(vt-et,Math.min(o-f,u)),_t=et+u,e=f+u);break}case _o:{J<0?(i=Math.max(W-dt,Math.min(Mt-dt,i)),F=dt+i,Lt=pt):J>0&&(i=Math.max(W-pt,Math.min(Mt-pt,i)),F=dt,Lt=pt+i),rt<0?(u=Math.max(vt-et,Math.min(o-et,u)),_t=et+u,e=f):rt>0&&(u=Math.max(vt-f,Math.min(o-f,u)),_t=et,e=f+u);break}case mo:{J&&(F=Math.max(W,Math.min(Mt,dt-i*J)),Lt=Math.max(W,Math.min(Mt,pt+i*J))),rt&&(_t=Math.max(vt,Math.min(o,et-u*rt)),e=Math.max(vt,Math.min(o,f+u*rt)));break}}Lt<F&&(J*=-1,Dt=dt,dt=pt,pt=Dt,Dt=F,F=Lt,Lt=Dt,Z in y2&&nt.attr("cursor",sr[Z=y2[Z]])),e<_t&&(rt*=-1,Dt=et,et=f,f=Dt,Dt=_t,_t=e,e=Dt,Z in _2&&nt.attr("cursor",sr[Z=_2[Z]])),ft.selection&&(lt=ft.selection),S&&(F=lt[0][0],Lt=lt[1][0]),L&&(_t=lt[0][1],e=lt[1][1]),(lt[0][0]!==F||lt[0][1]!==_t||lt[1][0]!==Lt||lt[1][1]!==e)&&(ft.selection=[[F,_t],[Lt,e]],P.call(Y),H.brush())}function St(){if(d2(),qt.touches){if(qt.touches.length)return;w&&clearTimeout(w),w=setTimeout(function(){w=null},500)}else Rh(qt.view,d),Q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);z.attr("pointer-events","all"),nt.attr("cursor",sr.overlay),ft.selection&&(lt=ft.selection),FN(lt)&&(ft.selection=null,P.call(Y)),H.end()}function Ct(){switch(qt.keyCode){case 16:{m=J&&rt;break}case 18:{tt===_o&&(J&&(pt=Lt-i*J,dt=F+i*J),rt&&(f=e-u*rt,et=_t+u*rt),tt=mo,ct());break}case 32:{(tt===_o||tt===mo)&&(J<0?pt=Lt-i:J>0&&(dt=F-i),rt<0?f=e-u:rt>0&&(et=_t-u),tt=r0,nt.attr("cursor",sr.selection),ct());break}default:return}i0()}function It(){switch(qt.keyCode){case 16:{m&&(S=L=m=!1,ct());break}case 18:{tt===mo&&(J<0?pt=Lt:J>0&&(dt=F),rt<0?f=e:rt>0&&(et=_t),tt=_o,ct());break}case 32:{tt===r0&&(qt.altKey?(J&&(pt=Lt-i*J,dt=F+i*J),rt&&(f=e-u*rt,et=_t+u*rt),tt=mo):(J<0?pt=Lt:J>0&&(dt=F),rt<0?f=e:rt>0&&(et=_t),tt=_o),nt.attr("cursor",sr[Z]),ct());break}default:return}i0()}}function I(){E(this,arguments).moved()}function X(){E(this,arguments).ended()}function B(){var Y=this.__brush||{selection:null};return Y.extent=Z0(r.apply(this,arguments)),Y.dim=t,Y}return T.extent=function(Y){return arguments.length?(r=typeof Y=="function"?Y:n0(Z0(Y)),T):r},T.filter=function(Y){return arguments.length?(s=typeof Y=="function"?Y:n0(!!Y),T):s},T.touchable=function(Y){return arguments.length?(l=typeof Y=="function"?Y:n0(!!Y),T):l},T.handleSize=function(Y){return arguments.length?(v=+Y,T):v},T.keyModifiers=function(Y){return arguments.length?(g=!!Y,T):g},T.on=function(){var Y=y.on.apply(y,arguments);return Y===y?T:Y},T}var m2=Math.cos,v2=Math.sin,eA=Math.PI,cl=eA/2,x2=eA*2,w2=Math.max;function HN(t){return function(r,s){return t(r.source.value+r.target.value,s.source.value+s.target.value)}}function UN(){var t=0,r=null,s=null,l=null;function g(y){var v=y.length,w=[],T=ei(v),P=[],E=[],V=E.groups=new Array(v),$=new Array(v*v),I,X,B,Y,Z,tt;for(I=0,Z=-1;++Z<v;){for(X=0,tt=-1;++tt<v;)X+=y[Z][tt];w.push(X),P.push(ei(v)),I+=X}for(r&&T.sort(function(F,vt){return r(w[F],w[vt])}),s&&P.forEach(function(F,vt){F.sort(function(et,_t){return s(y[vt][et],y[vt][_t])})}),I=w2(0,x2-t*v)/I,Y=I?t:x2/v,X=0,Z=-1;++Z<v;){for(B=X,tt=-1;++tt<v;){var J=T[Z],rt=P[J][tt],ft=y[J][rt],gt=X,lt=X+=ft*I;$[rt*v+J]={index:J,subindex:rt,startAngle:gt,endAngle:lt,value:ft}}V[J]={index:J,startAngle:B,endAngle:X,value:w[J]},X+=Y}for(Z=-1;++Z<v;)for(tt=Z-1;++tt<v;){var W=$[tt*v+Z],dt=$[Z*v+tt];(W.value||dt.value)&&E.push(W.value<dt.value?{source:dt,target:W}:{source:W,target:dt})}return l?E.sort(l):E}return g.padAngle=function(y){return arguments.length?(t=w2(0,y),g):t},g.sortGroups=function(y){return arguments.length?(r=y,g):r},g.sortSubgroups=function(y){return arguments.length?(s=y,g):s},g.sortChords=function(y){return arguments.length?(y==null?l=null:(l=HN(y))._=y,g):l&&l._},g}var WN=Array.prototype.slice;function o0(t){return function(){return t}}var j0=Math.PI,K0=2*j0,pa=1e-6,qN=K0-pa;function J0(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zr(){return new J0}J0.prototype=zr.prototype={constructor:J0,moveTo:function(t,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,r){this._+="L"+(this._x1=+t)+","+(this._y1=+r)},quadraticCurveTo:function(t,r,s,l){this._+="Q"+ +t+","+ +r+","+(this._x1=+s)+","+(this._y1=+l)},bezierCurveTo:function(t,r,s,l,g,y){this._+="C"+ +t+","+ +r+","+ +s+","+ +l+","+(this._x1=+g)+","+(this._y1=+y)},arcTo:function(t,r,s,l,g){t=+t,r=+r,s=+s,l=+l,g=+g;var y=this._x1,v=this._y1,w=s-t,T=l-r,P=y-t,E=v-r,V=P*P+E*E;if(g<0)throw new Error("negative radius: "+g);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=r);else if(V>pa)if(!(Math.abs(E*w-T*P)>pa)||!g)this._+="L"+(this._x1=t)+","+(this._y1=r);else{var $=s-y,I=l-v,X=w*w+T*T,B=$*$+I*I,Y=Math.sqrt(X),Z=Math.sqrt(V),tt=g*Math.tan((j0-Math.acos((X+V-B)/(2*Y*Z)))/2),J=tt/Z,rt=tt/Y;Math.abs(J-1)>pa&&(this._+="L"+(t+J*P)+","+(r+J*E)),this._+="A"+g+","+g+",0,0,"+ +(E*$>P*I)+","+(this._x1=t+rt*w)+","+(this._y1=r+rt*T)}},arc:function(t,r,s,l,g,y){t=+t,r=+r,s=+s,y=!!y;var v=s*Math.cos(l),w=s*Math.sin(l),T=t+v,P=r+w,E=1^y,V=y?l-g:g-l;if(s<0)throw new Error("negative radius: "+s);this._x1===null?this._+="M"+T+","+P:(Math.abs(this._x1-T)>pa||Math.abs(this._y1-P)>pa)&&(this._+="L"+T+","+P),s&&(V<0&&(V=V%K0+K0),V>qN?this._+="A"+s+","+s+",0,1,"+E+","+(t-v)+","+(r-w)+"A"+s+","+s+",0,1,"+E+","+(this._x1=T)+","+(this._y1=P):V>pa&&(this._+="A"+s+","+s+",0,"+ +(V>=j0)+","+E+","+(this._x1=t+s*Math.cos(g))+","+(this._y1=r+s*Math.sin(g))))},rect:function(t,r,s,l){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+r)+"h"+ +s+"v"+ +l+"h"+-s+"Z"},toString:function(){return this._}};function QN(t){return t.source}function ZN(t){return t.target}function jN(t){return t.radius}function KN(t){return t.startAngle}function JN(t){return t.endAngle}function tI(){var t=QN,r=ZN,s=jN,l=KN,g=JN,y=null;function v(){var w,T=WN.call(arguments),P=t.apply(this,T),E=r.apply(this,T),V=+s.apply(this,(T[0]=P,T)),$=l.apply(this,T)-cl,I=g.apply(this,T)-cl,X=V*m2($),B=V*v2($),Y=+s.apply(this,(T[0]=E,T)),Z=l.apply(this,T)-cl,tt=g.apply(this,T)-cl;if(y||(y=w=zr()),y.moveTo(X,B),y.arc(0,0,V,$,I),($!==Z||I!==tt)&&(y.quadraticCurveTo(0,0,Y*m2(Z),Y*v2(Z)),y.arc(0,0,Y,Z,tt)),y.quadraticCurveTo(0,0,X,B),y.closePath(),w)return y=null,w+""||null}return v.radius=function(w){return arguments.length?(s=typeof w=="function"?w:o0(+w),v):s},v.startAngle=function(w){return arguments.length?(l=typeof w=="function"?w:o0(+w),v):l},v.endAngle=function(w){return arguments.length?(g=typeof w=="function"?w:o0(+w),v):g},v.source=function(w){return arguments.length?(t=w,v):t},v.target=function(w){return arguments.length?(r=w,v):r},v.context=function(w){return arguments.length?(y=w??null,v):y},v}var hi="$";function Xl(){}Xl.prototype=hr.prototype={constructor:Xl,has:function(t){return hi+t in this},get:function(t){return this[hi+t]},set:function(t,r){return this[hi+t]=r,this},remove:function(t){var r=hi+t;return r in this&&delete this[r]},clear:function(){for(var t in this)t[0]===hi&&delete this[t]},keys:function(){var t=[];for(var r in this)r[0]===hi&&t.push(r.slice(1));return t},values:function(){var t=[];for(var r in this)r[0]===hi&&t.push(this[r]);return t},entries:function(){var t=[];for(var r in this)r[0]===hi&&t.push({key:r.slice(1),value:this[r]});return t},size:function(){var t=0;for(var r in this)r[0]===hi&&++t;return t},empty:function(){for(var t in this)if(t[0]===hi)return!1;return!0},each:function(t){for(var r in this)r[0]===hi&&t(this[r],r.slice(1),this)}};function hr(t,r){var s=new Xl;if(t instanceof Xl)t.each(function(w,T){s.set(T,w)});else if(Array.isArray(t)){var l=-1,g=t.length,y;if(r==null)for(;++l<g;)s.set(l,t[l]);else for(;++l<g;)s.set(r(y=t[l],l,t),y)}else if(t)for(var v in t)s.set(v,t[v]);return s}function eI(){var t=[],r=[],s,l,g;function y(w,T,P,E){if(T>=t.length)return s!=null&&w.sort(s),l!=null?l(w):w;for(var V=-1,$=w.length,I=t[T++],X,B,Y=hr(),Z,tt=P();++V<$;)(Z=Y.get(X=I(B=w[V])+""))?Z.push(B):Y.set(X,[B]);return Y.each(function(J,rt){E(tt,rt,y(J,T,P,E))}),tt}function v(w,T){if(++T>t.length)return w;var P,E=r[T-1];return l!=null&&T>=t.length?P=w.entries():(P=[],w.each(function(V,$){P.push({key:$,values:v(V,T)})})),E!=null?P.sort(function(V,$){return E(V.key,$.key)}):P}return g={object:function(w){return y(w,0,nI,iI)},map:function(w){return y(w,0,b2,S2)},entries:function(w){return v(y(w,0,b2,S2),0)},key:function(w){return t.push(w),g},sortKeys:function(w){return r[t.length-1]=w,g},sortValues:function(w){return s=w,g},rollup:function(w){return l=w,g}}}function nI(){return{}}function iI(t,r,s){t[r]=s}function b2(){return hr()}function S2(t,r,s){t.set(r,s)}function Yl(){}var da=hr.prototype;Yl.prototype=nA.prototype={constructor:Yl,has:da.has,add:function(t){return t+="",this[hi+t]=t,this},remove:da.remove,clear:da.clear,values:da.keys,size:da.size,empty:da.empty,each:da.each};function nA(t,r){var s=new Yl;if(t instanceof Yl)t.each(function(y){s.add(y)});else if(t){var l=-1,g=t.length;if(r==null)for(;++l<g;)s.add(t[l]);else for(;++l<g;)s.add(r(t[l],l,t))}return s}function rI(t){var r=[];for(var s in t)r.push(s);return r}function aI(t){var r=[];for(var s in t)r.push(t[s]);return r}function oI(t){var r=[];for(var s in t)r.push({key:s,value:t[s]});return r}var sI=Array.prototype,iA=sI.slice;function uI(t,r){return t-r}function cI(t){for(var r=0,s=t.length,l=t[s-1][1]*t[0][0]-t[s-1][0]*t[0][1];++r<s;)l+=t[r-1][1]*t[r][0]-t[r-1][0]*t[r][1];return l}function Mr(t){return function(){return t}}function fI(t,r){for(var s=-1,l=r.length,g;++s<l;)if(g=lI(t,r[s]))return g;return 0}function lI(t,r){for(var s=r[0],l=r[1],g=-1,y=0,v=t.length,w=v-1;y<v;w=y++){var T=t[y],P=T[0],E=T[1],V=t[w],$=V[0],I=V[1];if(hI(T,V,r))return 0;E>l!=I>l&&s<($-P)*(l-E)/(I-E)+P&&(g=-g)}return g}function hI(t,r,s){var l;return dI(t,r,s)&&gI(t[l=+(t[0]===r[0])],s[l],r[l])}function dI(t,r,s){return(r[0]-t[0])*(s[1]-t[1])===(s[0]-t[0])*(r[1]-t[1])}function gI(t,r,s){return t<=r&&r<=s||s<=r&&r<=t}function pI(){}var ur=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function rA(){var t=1,r=1,s=ky,l=T;function g(P){var E=s(P);if(Array.isArray(E))E=E.slice().sort(uI);else{var V=$y(P),$=V[0],I=V[1];E=wa($,I,E),E=ei(Math.floor($/E)*E,Math.floor(I/E)*E,E)}return E.map(function(X){return y(P,X)})}function y(P,E){var V=[],$=[];return v(P,E,function(I){l(I,P,E),cI(I)>0?V.push([I]):$.push(I)}),$.forEach(function(I){for(var X=0,B=V.length,Y;X<B;++X)if(fI((Y=V[X])[0],I)!==-1){Y.push(I);return}}),{type:"MultiPolygon",value:E,coordinates:V}}function v(P,E,V){var $=new Array,I=new Array,X,B,Y,Z,tt,J;for(X=B=-1,Z=P[0]>=E,ur[Z<<1].forEach(rt);++X<t-1;)Y=Z,Z=P[X+1]>=E,ur[Y|Z<<1].forEach(rt);for(ur[Z<<0].forEach(rt);++B<r-1;){for(X=-1,Z=P[B*t+t]>=E,tt=P[B*t]>=E,ur[Z<<1|tt<<2].forEach(rt);++X<t-1;)Y=Z,Z=P[B*t+t+X+1]>=E,J=tt,tt=P[B*t+X+1]>=E,ur[Y|Z<<1|tt<<2|J<<3].forEach(rt);ur[Z|tt<<3].forEach(rt)}for(X=-1,tt=P[B*t]>=E,ur[tt<<2].forEach(rt);++X<t-1;)J=tt,tt=P[B*t+X+1]>=E,ur[tt<<2|J<<3].forEach(rt);ur[tt<<3].forEach(rt);function rt(ft){var gt=[ft[0][0]+X,ft[0][1]+B],lt=[ft[1][0]+X,ft[1][1]+B],W=w(gt),dt=w(lt),F,vt;(F=I[W])?(vt=$[dt])?(delete I[F.end],delete $[vt.start],F===vt?(F.ring.push(lt),V(F.ring)):$[F.start]=I[vt.end]={start:F.start,end:vt.end,ring:F.ring.concat(vt.ring)}):(delete I[F.end],F.ring.push(lt),I[F.end=dt]=F):(F=$[dt])?(vt=I[W])?(delete $[F.start],delete I[vt.end],F===vt?(F.ring.push(lt),V(F.ring)):$[vt.start]=I[F.end]={start:vt.start,end:F.end,ring:vt.ring.concat(F.ring)}):(delete $[F.start],F.ring.unshift(gt),$[F.start=W]=F):$[W]=I[dt]={start:W,end:dt,ring:[gt,lt]}}}function w(P){return P[0]*2+P[1]*(t+1)*4}function T(P,E,V){P.forEach(function($){var I=$[0],X=$[1],B=I|0,Y=X|0,Z,tt=E[Y*t+B];I>0&&I<t&&B===I&&(Z=E[Y*t+B-1],$[0]=I+(V-Z)/(tt-Z)-.5),X>0&&X<r&&Y===X&&(Z=E[(Y-1)*t+B],$[1]=X+(V-Z)/(tt-Z)-.5)})}return g.contour=y,g.size=function(P){if(!arguments.length)return[t,r];var E=Math.ceil(P[0]),V=Math.ceil(P[1]);if(!(E>0)||!(V>0))throw new Error("invalid size");return t=E,r=V,g},g.thresholds=function(P){return arguments.length?(s=typeof P=="function"?P:Array.isArray(P)?Mr(iA.call(P)):Mr(P),g):s},g.smooth=function(P){return arguments.length?(l=P?T:pI,g):l===T},g}function s0(t,r,s){for(var l=t.width,g=t.height,y=(s<<1)+1,v=0;v<g;++v)for(var w=0,T=0;w<l+s;++w)w<l&&(T+=t.data[w+v*l]),w>=s&&(w>=y&&(T-=t.data[w-y+v*l]),r.data[w-s+v*l]=T/Math.min(w+1,l-1+y-w,y))}function u0(t,r,s){for(var l=t.width,g=t.height,y=(s<<1)+1,v=0;v<l;++v)for(var w=0,T=0;w<g+s;++w)w<g&&(T+=t.data[v+w*l]),w>=s&&(w>=y&&(T-=t.data[v+(w-y)*l]),r.data[v+(w-s)*l]=T/Math.min(w+1,g-1+y-w,y))}function yI(t){return t[0]}function _I(t){return t[1]}function mI(){return 1}function vI(){var t=yI,r=_I,s=mI,l=960,g=500,y=20,v=2,w=y*3,T=l+w*2>>v,P=g+w*2>>v,E=Mr(20);function V(Z){var tt=new Float32Array(T*P),J=new Float32Array(T*P);Z.forEach(function(gt,lt,W){var dt=+t(gt,lt,W)+w>>v,F=+r(gt,lt,W)+w>>v,vt=+s(gt,lt,W);dt>=0&&dt<T&&F>=0&&F<P&&(tt[dt+F*T]+=vt)}),s0({width:T,height:P,data:tt},{width:T,height:P,data:J},y>>v),u0({width:T,height:P,data:J},{width:T,height:P,data:tt},y>>v),s0({width:T,height:P,data:tt},{width:T,height:P,data:J},y>>v),u0({width:T,height:P,data:J},{width:T,height:P,data:tt},y>>v),s0({width:T,height:P,data:tt},{width:T,height:P,data:J},y>>v),u0({width:T,height:P,data:J},{width:T,height:P,data:tt},y>>v);var rt=E(tt);if(!Array.isArray(rt)){var ft=nT(tt);rt=wa(0,ft,rt),rt=ei(0,Math.floor(ft/rt)*rt,rt),rt.shift()}return rA().thresholds(rt).size([T,P])(tt).map($)}function $(Z){return Z.value*=Math.pow(2,-2*v),Z.coordinates.forEach(I),Z}function I(Z){Z.forEach(X)}function X(Z){Z.forEach(B)}function B(Z){Z[0]=Z[0]*Math.pow(2,v)-w,Z[1]=Z[1]*Math.pow(2,v)-w}function Y(){return w=y*3,T=l+w*2>>v,P=g+w*2>>v,V}return V.x=function(Z){return arguments.length?(t=typeof Z=="function"?Z:Mr(+Z),V):t},V.y=function(Z){return arguments.length?(r=typeof Z=="function"?Z:Mr(+Z),V):r},V.weight=function(Z){return arguments.length?(s=typeof Z=="function"?Z:Mr(+Z),V):s},V.size=function(Z){if(!arguments.length)return[l,g];var tt=Math.ceil(Z[0]),J=Math.ceil(Z[1]);if(!(tt>=0)&&!(tt>=0))throw new Error("invalid size");return l=tt,g=J,Y()},V.cellSize=function(Z){if(!arguments.length)return 1<<v;if(!((Z=+Z)>=1))throw new Error("invalid cell size");return v=Math.floor(Math.log(Z)/Math.LN2),Y()},V.thresholds=function(Z){return arguments.length?(E=typeof Z=="function"?Z:Array.isArray(Z)?Mr(iA.call(Z)):Mr(Z),V):E},V.bandwidth=function(Z){if(!arguments.length)return Math.sqrt(y*(y+1));if(!((Z=+Z)>=0))throw new Error("invalid bandwidth");return y=Math.round((Math.sqrt(4*Z*Z+1)-1)/2),Y()},V}var T2={},c0={},f0=34,au=10,l0=13;function aA(t){return new Function("d","return {"+t.map(function(r,s){return JSON.stringify(r)+": d["+s+'] || ""'}).join(",")+"}")}function xI(t,r){var s=aA(t);return function(l,g){return r(s(l),g,t)}}function A2(t){var r=Object.create(null),s=[];return t.forEach(function(l){for(var g in l)g in r||s.push(r[g]=g)}),s}function Hn(t,r){var s=t+"",l=s.length;return l<r?new Array(r-l+1).join(0)+s:s}function wI(t){return t<0?"-"+Hn(-t,6):t>9999?"+"+Hn(t,6):Hn(t,4)}function bI(t){var r=t.getUTCHours(),s=t.getUTCMinutes(),l=t.getUTCSeconds(),g=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":wI(t.getUTCFullYear())+"-"+Hn(t.getUTCMonth()+1,2)+"-"+Hn(t.getUTCDate(),2)+(g?"T"+Hn(r,2)+":"+Hn(s,2)+":"+Hn(l,2)+"."+Hn(g,3)+"Z":l?"T"+Hn(r,2)+":"+Hn(s,2)+":"+Hn(l,2)+"Z":s||r?"T"+Hn(r,2)+":"+Hn(s,2)+"Z":"")}function zh(t){var r=new RegExp('["'+t+`
\r]`),s=t.charCodeAt(0);function l(V,$){var I,X,B=g(V,function(Y,Z){if(I)return I(Y,Z-1);X=Y,I=$?xI(Y,$):aA(Y)});return B.columns=X||[],B}function g(V,$){var I=[],X=V.length,B=0,Y=0,Z,tt=X<=0,J=!1;V.charCodeAt(X-1)===au&&--X,V.charCodeAt(X-1)===l0&&--X;function rt(){if(tt)return c0;if(J)return J=!1,T2;var gt,lt=B,W;if(V.charCodeAt(lt)===f0){for(;B++<X&&V.charCodeAt(B)!==f0||V.charCodeAt(++B)===f0;);return(gt=B)>=X?tt=!0:(W=V.charCodeAt(B++))===au?J=!0:W===l0&&(J=!0,V.charCodeAt(B)===au&&++B),V.slice(lt+1,gt-1).replace(/""/g,'"')}for(;B<X;){if((W=V.charCodeAt(gt=B++))===au)J=!0;else if(W===l0)J=!0,V.charCodeAt(B)===au&&++B;else if(W!==s)continue;return V.slice(lt,gt)}return tt=!0,V.slice(lt,X)}for(;(Z=rt())!==c0;){for(var ft=[];Z!==T2&&Z!==c0;)ft.push(Z),Z=rt();$&&(ft=$(ft,Y++))==null||I.push(ft)}return I}function y(V,$){return V.map(function(I){return $.map(function(X){return E(I[X])}).join(t)})}function v(V,$){return $==null&&($=A2(V)),[$.map(E).join(t)].concat(y(V,$)).join(`
`)}function w(V,$){return $==null&&($=A2(V)),y(V,$).join(`
`)}function T(V){return V.map(P).join(`
`)}function P(V){return V.map(E).join(t)}function E(V){return V==null?"":V instanceof Date?bI(V):r.test(V+="")?'"'+V.replace(/"/g,'""')+'"':V}return{parse:l,parseRows:g,format:v,formatBody:w,formatRows:T,formatRow:P,formatValue:E}}var Va=zh(","),oA=Va.parse,SI=Va.parseRows,TI=Va.format,AI=Va.formatBody,PI=Va.formatRows,CI=Va.formatRow,LI=Va.formatValue,Ga=zh("	"),sA=Ga.parse,MI=Ga.parseRows,$I=Ga.format,EI=Ga.formatBody,kI=Ga.formatRows,RI=Ga.formatRow,VI=Ga.formatValue;function GI(t){for(var r in t){var s=t[r].trim(),l,g;if(!s)s=null;else if(s==="true")s=!0;else if(s==="false")s=!1;else if(s==="NaN")s=NaN;else if(!isNaN(l=+s))s=l;else if(g=s.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))OI&&g[4]&&!g[7]&&(s=s.replace(/-/g,"/").replace(/T/," ")),s=new Date(s);else continue;t[r]=s}return t}var OI=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function NI(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function II(t,r){return fetch(t,r).then(NI)}function DI(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function FI(t,r){return fetch(t,r).then(DI)}function zI(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Xh(t,r){return fetch(t,r).then(zI)}function uA(t){return function(r,s,l){return arguments.length===2&&typeof s=="function"&&(l=s,s=void 0),Xh(r,s).then(function(g){return t(g,l)})}}function XI(t,r,s,l){arguments.length===3&&typeof s=="function"&&(l=s,s=void 0);var g=zh(t);return Xh(r,s).then(function(y){return g.parse(y,l)})}var YI=uA(oA),BI=uA(sA);function HI(t,r){return new Promise(function(s,l){var g=new Image;for(var y in r)g[y]=r[y];g.onerror=l,g.onload=function(){s(g)},g.src=t})}function UI(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function WI(t,r){return fetch(t,r).then(UI)}function Ky(t){return function(r,s){return Xh(r,s).then(function(l){return new DOMParser().parseFromString(l,t)})}}const qI=Ky("application/xml");var QI=Ky("text/html"),ZI=Ky("image/svg+xml");function jI(t,r){var s;t==null&&(t=0),r==null&&(r=0);function l(){var g,y=s.length,v,w=0,T=0;for(g=0;g<y;++g)v=s[g],w+=v.x,T+=v.y;for(w=w/y-t,T=T/y-r,g=0;g<y;++g)v=s[g],v.x-=w,v.y-=T}return l.initialize=function(g){s=g},l.x=function(g){return arguments.length?(t=+g,l):t},l.y=function(g){return arguments.length?(r=+g,l):r},l}function tn(t){return function(){return t}}function Er(){return(Math.random()-.5)*1e-6}function KI(t){var r=+this._x.call(null,t),s=+this._y.call(null,t);return cA(this.cover(r,s),r,s,t)}function cA(t,r,s,l){if(isNaN(r)||isNaN(s))return t;var g,y=t._root,v={data:l},w=t._x0,T=t._y0,P=t._x1,E=t._y1,V,$,I,X,B,Y,Z,tt;if(!y)return t._root=v,t;for(;y.length;)if((B=r>=(V=(w+P)/2))?w=V:P=V,(Y=s>=($=(T+E)/2))?T=$:E=$,g=y,!(y=y[Z=Y<<1|B]))return g[Z]=v,t;if(I=+t._x.call(null,y.data),X=+t._y.call(null,y.data),r===I&&s===X)return v.next=y,g?g[Z]=v:t._root=v,t;do g=g?g[Z]=new Array(4):t._root=new Array(4),(B=r>=(V=(w+P)/2))?w=V:P=V,(Y=s>=($=(T+E)/2))?T=$:E=$;while((Z=Y<<1|B)===(tt=(X>=$)<<1|I>=V));return g[tt]=y,g[Z]=v,t}function JI(t){var r,s,l=t.length,g,y,v=new Array(l),w=new Array(l),T=1/0,P=1/0,E=-1/0,V=-1/0;for(s=0;s<l;++s)isNaN(g=+this._x.call(null,r=t[s]))||isNaN(y=+this._y.call(null,r))||(v[s]=g,w[s]=y,g<T&&(T=g),g>E&&(E=g),y<P&&(P=y),y>V&&(V=y));if(T>E||P>V)return this;for(this.cover(T,P).cover(E,V),s=0;s<l;++s)cA(this,v[s],w[s],t[s]);return this}function tD(t,r){if(isNaN(t=+t)||isNaN(r=+r))return this;var s=this._x0,l=this._y0,g=this._x1,y=this._y1;if(isNaN(s))g=(s=Math.floor(t))+1,y=(l=Math.floor(r))+1;else{for(var v=g-s,w=this._root,T,P;s>t||t>=g||l>r||r>=y;)switch(P=(r<l)<<1|t<s,T=new Array(4),T[P]=w,w=T,v*=2,P){case 0:g=s+v,y=l+v;break;case 1:s=g-v,y=l+v;break;case 2:g=s+v,l=y-v;break;case 3:s=g-v,l=y-v;break}this._root&&this._root.length&&(this._root=w)}return this._x0=s,this._y0=l,this._x1=g,this._y1=y,this}function eD(){var t=[];return this.visit(function(r){if(!r.length)do t.push(r.data);while(r=r.next)}),t}function nD(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Gn(t,r,s,l,g){this.node=t,this.x0=r,this.y0=s,this.x1=l,this.y1=g}function iD(t,r,s){var l,g=this._x0,y=this._y0,v,w,T,P,E=this._x1,V=this._y1,$=[],I=this._root,X,B;for(I&&$.push(new Gn(I,g,y,E,V)),s==null?s=1/0:(g=t-s,y=r-s,E=t+s,V=r+s,s*=s);X=$.pop();)if(!(!(I=X.node)||(v=X.x0)>E||(w=X.y0)>V||(T=X.x1)<g||(P=X.y1)<y))if(I.length){var Y=(v+T)/2,Z=(w+P)/2;$.push(new Gn(I[3],Y,Z,T,P),new Gn(I[2],v,Z,Y,P),new Gn(I[1],Y,w,T,Z),new Gn(I[0],v,w,Y,Z)),(B=(r>=Z)<<1|t>=Y)&&(X=$[$.length-1],$[$.length-1]=$[$.length-1-B],$[$.length-1-B]=X)}else{var tt=t-+this._x.call(null,I.data),J=r-+this._y.call(null,I.data),rt=tt*tt+J*J;if(rt<s){var ft=Math.sqrt(s=rt);g=t-ft,y=r-ft,E=t+ft,V=r+ft,l=I.data}}return l}function rD(t){if(isNaN(E=+this._x.call(null,t))||isNaN(V=+this._y.call(null,t)))return this;var r,s=this._root,l,g,y,v=this._x0,w=this._y0,T=this._x1,P=this._y1,E,V,$,I,X,B,Y,Z;if(!s)return this;if(s.length)for(;;){if((X=E>=($=(v+T)/2))?v=$:T=$,(B=V>=(I=(w+P)/2))?w=I:P=I,r=s,!(s=s[Y=B<<1|X]))return this;if(!s.length)break;(r[Y+1&3]||r[Y+2&3]||r[Y+3&3])&&(l=r,Z=Y)}for(;s.data!==t;)if(g=s,!(s=s.next))return this;return(y=s.next)&&delete s.next,g?(y?g.next=y:delete g.next,this):r?(y?r[Y]=y:delete r[Y],(s=r[0]||r[1]||r[2]||r[3])&&s===(r[3]||r[2]||r[1]||r[0])&&!s.length&&(l?l[Z]=s:this._root=s),this):(this._root=y,this)}function aD(t){for(var r=0,s=t.length;r<s;++r)this.remove(t[r]);return this}function oD(){return this._root}function sD(){var t=0;return this.visit(function(r){if(!r.length)do++t;while(r=r.next)}),t}function uD(t){var r=[],s,l=this._root,g,y,v,w,T;for(l&&r.push(new Gn(l,this._x0,this._y0,this._x1,this._y1));s=r.pop();)if(!t(l=s.node,y=s.x0,v=s.y0,w=s.x1,T=s.y1)&&l.length){var P=(y+w)/2,E=(v+T)/2;(g=l[3])&&r.push(new Gn(g,P,E,w,T)),(g=l[2])&&r.push(new Gn(g,y,E,P,T)),(g=l[1])&&r.push(new Gn(g,P,v,w,E)),(g=l[0])&&r.push(new Gn(g,y,v,P,E))}return this}function cD(t){var r=[],s=[],l;for(this._root&&r.push(new Gn(this._root,this._x0,this._y0,this._x1,this._y1));l=r.pop();){var g=l.node;if(g.length){var y,v=l.x0,w=l.y0,T=l.x1,P=l.y1,E=(v+T)/2,V=(w+P)/2;(y=g[0])&&r.push(new Gn(y,v,w,E,V)),(y=g[1])&&r.push(new Gn(y,E,w,T,V)),(y=g[2])&&r.push(new Gn(y,v,V,E,P)),(y=g[3])&&r.push(new Gn(y,E,V,T,P))}s.push(l)}for(;l=s.pop();)t(l.node,l.x0,l.y0,l.x1,l.y1);return this}function fD(t){return t[0]}function lD(t){return arguments.length?(this._x=t,this):this._x}function hD(t){return t[1]}function dD(t){return arguments.length?(this._y=t,this):this._y}function Yh(t,r,s){var l=new Jy(r??fD,s??hD,NaN,NaN,NaN,NaN);return t==null?l:l.addAll(t)}function Jy(t,r,s,l,g,y){this._x=t,this._y=r,this._x0=s,this._y0=l,this._x1=g,this._y1=y,this._root=void 0}function P2(t){for(var r={data:t.data},s=r;t=t.next;)s=s.next={data:t.data};return r}var Fn=Yh.prototype=Jy.prototype;Fn.copy=function(){var t=new Jy(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,s,l;if(!r)return t;if(!r.length)return t._root=P2(r),t;for(s=[{source:r,target:t._root=new Array(4)}];r=s.pop();)for(var g=0;g<4;++g)(l=r.source[g])&&(l.length?s.push({source:l,target:r.target[g]=new Array(4)}):r.target[g]=P2(l));return t};Fn.add=KI;Fn.addAll=JI;Fn.cover=tD;Fn.data=eD;Fn.extent=nD;Fn.find=iD;Fn.remove=rD;Fn.removeAll=aD;Fn.root=oD;Fn.size=sD;Fn.visit=uD;Fn.visitAfter=cD;Fn.x=lD;Fn.y=dD;function gD(t){return t.x+t.vx}function pD(t){return t.y+t.vy}function yD(t){var r,s,l=1,g=1;typeof t!="function"&&(t=tn(t==null?1:+t));function y(){for(var T,P=r.length,E,V,$,I,X,B,Y=0;Y<g;++Y)for(E=Yh(r,gD,pD).visitAfter(v),T=0;T<P;++T)V=r[T],X=s[V.index],B=X*X,$=V.x+V.vx,I=V.y+V.vy,E.visit(Z);function Z(tt,J,rt,ft,gt){var lt=tt.data,W=tt.r,dt=X+W;if(lt){if(lt.index>V.index){var F=$-lt.x-lt.vx,vt=I-lt.y-lt.vy,et=F*F+vt*vt;et<dt*dt&&(F===0&&(F=Er(),et+=F*F),vt===0&&(vt=Er(),et+=vt*vt),et=(dt-(et=Math.sqrt(et)))/et*l,V.vx+=(F*=et)*(dt=(W*=W)/(B+W)),V.vy+=(vt*=et)*dt,lt.vx-=F*(dt=1-dt),lt.vy-=vt*dt)}return}return J>$+dt||ft<$-dt||rt>I+dt||gt<I-dt}}function v(T){if(T.data)return T.r=s[T.data.index];for(var P=T.r=0;P<4;++P)T[P]&&T[P].r>T.r&&(T.r=T[P].r)}function w(){if(r){var T,P=r.length,E;for(s=new Array(P),T=0;T<P;++T)E=r[T],s[E.index]=+t(E,T,r)}}return y.initialize=function(T){r=T,w()},y.iterations=function(T){return arguments.length?(g=+T,y):g},y.strength=function(T){return arguments.length?(l=+T,y):l},y.radius=function(T){return arguments.length?(t=typeof T=="function"?T:tn(+T),w(),y):t},y}function _D(t){return t.index}function C2(t,r){var s=t.get(r);if(!s)throw new Error("missing: "+r);return s}function mD(t){var r=_D,s=E,l,g=tn(30),y,v,w,T,P=1;t==null&&(t=[]);function E(B){return 1/Math.min(w[B.source.index],w[B.target.index])}function V(B){for(var Y=0,Z=t.length;Y<P;++Y)for(var tt=0,J,rt,ft,gt,lt,W,dt;tt<Z;++tt)J=t[tt],rt=J.source,ft=J.target,gt=ft.x+ft.vx-rt.x-rt.vx||Er(),lt=ft.y+ft.vy-rt.y-rt.vy||Er(),W=Math.sqrt(gt*gt+lt*lt),W=(W-y[tt])/W*B*l[tt],gt*=W,lt*=W,ft.vx-=gt*(dt=T[tt]),ft.vy-=lt*dt,rt.vx+=gt*(dt=1-dt),rt.vy+=lt*dt}function $(){if(v){var B,Y=v.length,Z=t.length,tt=hr(v,r),J;for(B=0,w=new Array(Y);B<Z;++B)J=t[B],J.index=B,typeof J.source!="object"&&(J.source=C2(tt,J.source)),typeof J.target!="object"&&(J.target=C2(tt,J.target)),w[J.source.index]=(w[J.source.index]||0)+1,w[J.target.index]=(w[J.target.index]||0)+1;for(B=0,T=new Array(Z);B<Z;++B)J=t[B],T[B]=w[J.source.index]/(w[J.source.index]+w[J.target.index]);l=new Array(Z),I(),y=new Array(Z),X()}}function I(){if(v)for(var B=0,Y=t.length;B<Y;++B)l[B]=+s(t[B],B,t)}function X(){if(v)for(var B=0,Y=t.length;B<Y;++B)y[B]=+g(t[B],B,t)}return V.initialize=function(B){v=B,$()},V.links=function(B){return arguments.length?(t=B,$(),V):t},V.id=function(B){return arguments.length?(r=B,V):r},V.iterations=function(B){return arguments.length?(P=+B,V):P},V.strength=function(B){return arguments.length?(s=typeof B=="function"?B:tn(+B),I(),V):s},V.distance=function(B){return arguments.length?(g=typeof B=="function"?B:tn(+B),X(),V):g},V}function vD(t){return t.x}function xD(t){return t.y}var wD=10,bD=Math.PI*(3-Math.sqrt(5));function SD(t){var r,s=1,l=.001,g=1-Math.pow(l,1/300),y=0,v=.6,w=hr(),T=Dh(E),P=ka("tick","end");t==null&&(t=[]);function E(){V(),P.call("tick",r),s<l&&(T.stop(),P.call("end",r))}function V(X){var B,Y=t.length,Z;X===void 0&&(X=1);for(var tt=0;tt<X;++tt)for(s+=(y-s)*g,w.each(function(J){J(s)}),B=0;B<Y;++B)Z=t[B],Z.fx==null?Z.x+=Z.vx*=v:(Z.x=Z.fx,Z.vx=0),Z.fy==null?Z.y+=Z.vy*=v:(Z.y=Z.fy,Z.vy=0);return r}function $(){for(var X=0,B=t.length,Y;X<B;++X){if(Y=t[X],Y.index=X,Y.fx!=null&&(Y.x=Y.fx),Y.fy!=null&&(Y.y=Y.fy),isNaN(Y.x)||isNaN(Y.y)){var Z=wD*Math.sqrt(X),tt=X*bD;Y.x=Z*Math.cos(tt),Y.y=Z*Math.sin(tt)}(isNaN(Y.vx)||isNaN(Y.vy))&&(Y.vx=Y.vy=0)}}function I(X){return X.initialize&&X.initialize(t),X}return $(),r={tick:V,restart:function(){return T.restart(E),r},stop:function(){return T.stop(),r},nodes:function(X){return arguments.length?(t=X,$(),w.each(I),r):t},alpha:function(X){return arguments.length?(s=+X,r):s},alphaMin:function(X){return arguments.length?(l=+X,r):l},alphaDecay:function(X){return arguments.length?(g=+X,r):+g},alphaTarget:function(X){return arguments.length?(y=+X,r):y},velocityDecay:function(X){return arguments.length?(v=1-X,r):1-v},force:function(X,B){return arguments.length>1?(B==null?w.remove(X):w.set(X,I(B)),r):w.get(X)},find:function(X,B,Y){var Z=0,tt=t.length,J,rt,ft,gt,lt;for(Y==null?Y=1/0:Y*=Y,Z=0;Z<tt;++Z)gt=t[Z],J=X-gt.x,rt=B-gt.y,ft=J*J+rt*rt,ft<Y&&(lt=gt,Y=ft);return lt},on:function(X,B){return arguments.length>1?(P.on(X,B),r):P.on(X)}}}function TD(){var t,r,s,l=tn(-30),g,y=1,v=1/0,w=.81;function T($){var I,X=t.length,B=Yh(t,vD,xD).visitAfter(E);for(s=$,I=0;I<X;++I)r=t[I],B.visit(V)}function P(){if(t){var $,I=t.length,X;for(g=new Array(I),$=0;$<I;++$)X=t[$],g[X.index]=+l(X,$,t)}}function E($){var I=0,X,B,Y=0,Z,tt,J;if($.length){for(Z=tt=J=0;J<4;++J)(X=$[J])&&(B=Math.abs(X.value))&&(I+=X.value,Y+=B,Z+=B*X.x,tt+=B*X.y);$.x=Z/Y,$.y=tt/Y}else{X=$,X.x=X.data.x,X.y=X.data.y;do I+=g[X.data.index];while(X=X.next)}$.value=I}function V($,I,X,B){if(!$.value)return!0;var Y=$.x-r.x,Z=$.y-r.y,tt=B-I,J=Y*Y+Z*Z;if(tt*tt/w<J)return J<v&&(Y===0&&(Y=Er(),J+=Y*Y),Z===0&&(Z=Er(),J+=Z*Z),J<y&&(J=Math.sqrt(y*J)),r.vx+=Y*$.value*s/J,r.vy+=Z*$.value*s/J),!0;if($.length||J>=v)return;($.data!==r||$.next)&&(Y===0&&(Y=Er(),J+=Y*Y),Z===0&&(Z=Er(),J+=Z*Z),J<y&&(J=Math.sqrt(y*J)));do $.data!==r&&(tt=g[$.data.index]*s/J,r.vx+=Y*tt,r.vy+=Z*tt);while($=$.next)}return T.initialize=function($){t=$,P()},T.strength=function($){return arguments.length?(l=typeof $=="function"?$:tn(+$),P(),T):l},T.distanceMin=function($){return arguments.length?(y=$*$,T):Math.sqrt(y)},T.distanceMax=function($){return arguments.length?(v=$*$,T):Math.sqrt(v)},T.theta=function($){return arguments.length?(w=$*$,T):Math.sqrt(w)},T}function AD(t,r,s){var l,g=tn(.1),y,v;typeof t!="function"&&(t=tn(+t)),r==null&&(r=0),s==null&&(s=0);function w(P){for(var E=0,V=l.length;E<V;++E){var $=l[E],I=$.x-r||1e-6,X=$.y-s||1e-6,B=Math.sqrt(I*I+X*X),Y=(v[E]-B)*y[E]*P/B;$.vx+=I*Y,$.vy+=X*Y}}function T(){if(l){var P,E=l.length;for(y=new Array(E),v=new Array(E),P=0;P<E;++P)v[P]=+t(l[P],P,l),y[P]=isNaN(v[P])?0:+g(l[P],P,l)}}return w.initialize=function(P){l=P,T()},w.strength=function(P){return arguments.length?(g=typeof P=="function"?P:tn(+P),T(),w):g},w.radius=function(P){return arguments.length?(t=typeof P=="function"?P:tn(+P),T(),w):t},w.x=function(P){return arguments.length?(r=+P,w):r},w.y=function(P){return arguments.length?(s=+P,w):s},w}function PD(t){var r=tn(.1),s,l,g;typeof t!="function"&&(t=tn(t==null?0:+t));function y(w){for(var T=0,P=s.length,E;T<P;++T)E=s[T],E.vx+=(g[T]-E.x)*l[T]*w}function v(){if(s){var w,T=s.length;for(l=new Array(T),g=new Array(T),w=0;w<T;++w)l[w]=isNaN(g[w]=+t(s[w],w,s))?0:+r(s[w],w,s)}}return y.initialize=function(w){s=w,v()},y.strength=function(w){return arguments.length?(r=typeof w=="function"?w:tn(+w),v(),y):r},y.x=function(w){return arguments.length?(t=typeof w=="function"?w:tn(+w),v(),y):t},y}function CD(t){var r=tn(.1),s,l,g;typeof t!="function"&&(t=tn(t==null?0:+t));function y(w){for(var T=0,P=s.length,E;T<P;++T)E=s[T],E.vy+=(g[T]-E.y)*l[T]*w}function v(){if(s){var w,T=s.length;for(l=new Array(T),g=new Array(T),w=0;w<T;++w)l[w]=isNaN(g[w]=+t(s[w],w,s))?0:+r(s[w],w,s)}}return y.initialize=function(w){s=w,v()},y.strength=function(w){return arguments.length?(r=typeof w=="function"?w:tn(+w),v(),y):r},y.y=function(w){return arguments.length?(t=typeof w=="function"?w:tn(+w),v(),y):t},y}function LD(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bl(t,r){if((s=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var s,l=t.slice(0,s);return[l.length>1?l[0]+l.slice(2):l,+t.slice(s+1)]}function Go(t){return t=Bl(Math.abs(t)),t?t[1]:NaN}function MD(t,r){return function(s,l){for(var g=s.length,y=[],v=0,w=t[0],T=0;g>0&&w>0&&(T+w+1>l&&(w=Math.max(1,l-T)),y.push(s.substring(g-=w,g+w)),!((T+=w+1)>l));)w=t[v=(v+1)%t.length];return y.reverse().join(r)}}function $D(t){return function(r){return r.replace(/[0-9]/g,function(s){return t[+s]})}}var ED=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hu(t){if(!(r=ED.exec(t)))throw new Error("invalid format: "+t);var r;return new Bh({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Hu.prototype=Bh.prototype;function Bh(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Bh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kD(t){t:for(var r=t.length,s=1,l=-1,g;s<r;++s)switch(t[s]){case".":l=g=s;break;case"0":l===0&&(l=s),g=s;break;default:if(!+t[s])break t;l>0&&(l=0);break}return l>0?t.slice(0,l)+t.slice(g+1):t}var fA;function RD(t,r){var s=Bl(t,r);if(!s)return t+"";var l=s[0],g=s[1],y=g-(fA=Math.max(-8,Math.min(8,Math.floor(g/3)))*3)+1,v=l.length;return y===v?l:y>v?l+new Array(y-v+1).join("0"):y>0?l.slice(0,y)+"."+l.slice(y):"0."+new Array(1-y).join("0")+Bl(t,Math.max(0,r+y-1))[0]}function L2(t,r){var s=Bl(t,r);if(!s)return t+"";var l=s[0],g=s[1];return g<0?"0."+new Array(-g).join("0")+l:l.length>g+1?l.slice(0,g+1)+"."+l.slice(g+1):l+new Array(g-l.length+2).join("0")}const M2={"%":function(t,r){return(t*100).toFixed(r)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:LD,e:function(t,r){return t.toExponential(r)},f:function(t,r){return t.toFixed(r)},g:function(t,r){return t.toPrecision(r)},o:function(t){return Math.round(t).toString(8)},p:function(t,r){return L2(t*100,r)},r:L2,s:RD,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function $2(t){return t}var E2=Array.prototype.map,k2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lA(t){var r=t.grouping===void 0||t.thousands===void 0?$2:MD(E2.call(t.grouping,Number),t.thousands+""),s=t.currency===void 0?"":t.currency[0]+"",l=t.currency===void 0?"":t.currency[1]+"",g=t.decimal===void 0?".":t.decimal+"",y=t.numerals===void 0?$2:$D(E2.call(t.numerals,String)),v=t.percent===void 0?"%":t.percent+"",w=t.minus===void 0?"-":t.minus+"",T=t.nan===void 0?"NaN":t.nan+"";function P(V){V=Hu(V);var $=V.fill,I=V.align,X=V.sign,B=V.symbol,Y=V.zero,Z=V.width,tt=V.comma,J=V.precision,rt=V.trim,ft=V.type;ft==="n"?(tt=!0,ft="g"):M2[ft]||(J===void 0&&(J=12),rt=!0,ft="g"),(Y||$==="0"&&I==="=")&&(Y=!0,$="0",I="=");var gt=B==="$"?s:B==="#"&&/[boxX]/.test(ft)?"0"+ft.toLowerCase():"",lt=B==="$"?l:/[%p]/.test(ft)?v:"",W=M2[ft],dt=/[defgprs%]/.test(ft);J=J===void 0?6:/[gprs]/.test(ft)?Math.max(1,Math.min(21,J)):Math.max(0,Math.min(20,J));function F(vt){var et=gt,_t=lt,Mt,pt,Lt;if(ft==="c")_t=W(vt)+_t,vt="";else{vt=+vt;var o=vt<0||1/vt<0;if(vt=isNaN(vt)?T:W(Math.abs(vt),J),rt&&(vt=kD(vt)),o&&+vt==0&&X!=="+"&&(o=!1),et=(o?X==="("?X:w:X==="-"||X==="("?"":X)+et,_t=(ft==="s"?k2[8+fA/3]:"")+_t+(o&&X==="("?")":""),dt){for(Mt=-1,pt=vt.length;++Mt<pt;)if(Lt=vt.charCodeAt(Mt),48>Lt||Lt>57){_t=(Lt===46?g+vt.slice(Mt+1):vt.slice(Mt))+_t,vt=vt.slice(0,Mt);break}}}tt&&!Y&&(vt=r(vt,1/0));var f=et.length+vt.length+_t.length,e=f<Z?new Array(Z-f+1).join($):"";switch(tt&&Y&&(vt=r(e+vt,e.length?Z-_t.length:1/0),e=""),I){case"<":vt=et+vt+_t+e;break;case"=":vt=et+e+vt+_t;break;case"^":vt=e.slice(0,f=e.length>>1)+et+vt+_t+e.slice(f);break;default:vt=e+et+vt+_t;break}return y(vt)}return F.toString=function(){return V+""},F}function E(V,$){var I=P((V=Hu(V),V.type="f",V)),X=Math.max(-8,Math.min(8,Math.floor(Go($)/3)))*3,B=Math.pow(10,-X),Y=k2[8+X/3];return function(Z){return I(B*Z)+Y}}return{format:P,formatPrefix:E}}var fl,Hh,t_;hA({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function hA(t){return fl=lA(t),Hh=fl.format,t_=fl.formatPrefix,fl}function dA(t){return Math.max(0,-Go(Math.abs(t)))}function gA(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Go(r)/3)))*3-Go(Math.abs(t)))}function pA(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,Go(r)-Go(t))+1}function Xr(){return new Hl}function Hl(){this.reset()}Hl.prototype={constructor:Hl,reset:function(){this.s=this.t=0},add:function(t){R2(ll,t,this.t),R2(this,ll.s,this.s),this.s?this.t+=ll.t:this.s=ll.t},valueOf:function(){return this.s}};var ll=new Hl;function R2(t,r,s){var l=t.s=r+s,g=l-r,y=l-g;t.t=r-y+(s-g)}var ie=1e-6,Ul=1e-12,pe=Math.PI,Be=pe/2,Wl=pe/4,Nn=pe*2,Re=180/pe,ae=pe/180,xe=Math.abs,Bo=Math.atan,In=Math.atan2,ee=Math.cos,hl=Math.ceil,yA=Math.exp,ql=Math.log,h0=Math.pow,jt=Math.sin,pi=Math.sign||function(t){return t>0?1:t<0?-1:0},Qe=Math.sqrt,e_=Math.tan;function _A(t){return t>1?0:t<-1?pe:Math.acos(t)}function Dn(t){return t>1?Be:t<-1?-Be:Math.asin(t)}function V2(t){return(t=jt(t/2))*t}function Fe(){}function Ql(t,r){t&&O2.hasOwnProperty(t.type)&&O2[t.type](t,r)}var G2={Feature:function(t,r){Ql(t.geometry,r)},FeatureCollection:function(t,r){for(var s=t.features,l=-1,g=s.length;++l<g;)Ql(s[l].geometry,r)}},O2={Sphere:function(t,r){r.sphere()},Point:function(t,r){t=t.coordinates,r.point(t[0],t[1],t[2])},MultiPoint:function(t,r){for(var s=t.coordinates,l=-1,g=s.length;++l<g;)t=s[l],r.point(t[0],t[1],t[2])},LineString:function(t,r){ty(t.coordinates,r,0)},MultiLineString:function(t,r){for(var s=t.coordinates,l=-1,g=s.length;++l<g;)ty(s[l],r,0)},Polygon:function(t,r){N2(t.coordinates,r)},MultiPolygon:function(t,r){for(var s=t.coordinates,l=-1,g=s.length;++l<g;)N2(s[l],r)},GeometryCollection:function(t,r){for(var s=t.geometries,l=-1,g=s.length;++l<g;)Ql(s[l],r)}};function ty(t,r,s){var l=-1,g=t.length-s,y;for(r.lineStart();++l<g;)y=t[l],r.point(y[0],y[1],y[2]);r.lineEnd()}function N2(t,r){var s=-1,l=t.length;for(r.polygonStart();++s<l;)ty(t[s],r,1);r.polygonEnd()}function Ti(t,r){t&&G2.hasOwnProperty(t.type)?G2[t.type](t,r):Ql(t,r)}var Zl=Xr(),jl=Xr(),mA,vA,ey,ny,iy,Wi={point:Fe,lineStart:Fe,lineEnd:Fe,polygonStart:function(){Zl.reset(),Wi.lineStart=VD,Wi.lineEnd=GD},polygonEnd:function(){var t=+Zl;jl.add(t<0?Nn+t:t),this.lineStart=this.lineEnd=this.point=Fe},sphere:function(){jl.add(Nn)}};function VD(){Wi.point=OD}function GD(){xA(mA,vA)}function OD(t,r){Wi.point=xA,mA=t,vA=r,t*=ae,r*=ae,ey=t,ny=ee(r=r/2+Wl),iy=jt(r)}function xA(t,r){t*=ae,r*=ae,r=r/2+Wl;var s=t-ey,l=s>=0?1:-1,g=l*s,y=ee(r),v=jt(r),w=iy*v,T=ny*y+w*ee(g),P=w*l*jt(g);Zl.add(In(P,T)),ey=t,ny=y,iy=v}function ND(t){return jl.reset(),Ti(t,Wi),jl*2}function Kl(t){return[In(t[1],t[0]),Dn(t[2])]}function Aa(t){var r=t[0],s=t[1],l=ee(s);return[l*ee(r),l*jt(r),jt(s)]}function dl(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function Oo(t,r){return[t[1]*r[2]-t[2]*r[1],t[2]*r[0]-t[0]*r[2],t[0]*r[1]-t[1]*r[0]]}function d0(t,r){t[0]+=r[0],t[1]+=r[1],t[2]+=r[2]}function gl(t,r){return[t[0]*r,t[1]*r,t[2]*r]}function Jl(t){var r=Qe(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=r,t[1]/=r,t[2]/=r}var De,Un,Ye,Jn,ya,wA,bA,Lo,$u=Xr(),$r,dr,cr={point:ry,lineStart:I2,lineEnd:D2,polygonStart:function(){cr.point=TA,cr.lineStart=ID,cr.lineEnd=DD,$u.reset(),Wi.polygonStart()},polygonEnd:function(){Wi.polygonEnd(),cr.point=ry,cr.lineStart=I2,cr.lineEnd=D2,Zl<0?(De=-(Ye=180),Un=-(Jn=90)):$u>ie?Jn=90:$u<-ie&&(Un=-90),dr[0]=De,dr[1]=Ye},sphere:function(){De=-(Ye=180),Un=-(Jn=90)}};function ry(t,r){$r.push(dr=[De=t,Ye=t]),r<Un&&(Un=r),r>Jn&&(Jn=r)}function SA(t,r){var s=Aa([t*ae,r*ae]);if(Lo){var l=Oo(Lo,s),g=[l[1],-l[0],0],y=Oo(g,l);Jl(y),y=Kl(y);var v=t-ya,w=v>0?1:-1,T=y[0]*Re*w,P,E=xe(v)>180;E^(w*ya<T&&T<w*t)?(P=y[1]*Re,P>Jn&&(Jn=P)):(T=(T+360)%360-180,E^(w*ya<T&&T<w*t)?(P=-y[1]*Re,P<Un&&(Un=P)):(r<Un&&(Un=r),r>Jn&&(Jn=r))),E?t<ya?Kn(De,t)>Kn(De,Ye)&&(Ye=t):Kn(t,Ye)>Kn(De,Ye)&&(De=t):Ye>=De?(t<De&&(De=t),t>Ye&&(Ye=t)):t>ya?Kn(De,t)>Kn(De,Ye)&&(Ye=t):Kn(t,Ye)>Kn(De,Ye)&&(De=t)}else $r.push(dr=[De=t,Ye=t]);r<Un&&(Un=r),r>Jn&&(Jn=r),Lo=s,ya=t}function I2(){cr.point=SA}function D2(){dr[0]=De,dr[1]=Ye,cr.point=ry,Lo=null}function TA(t,r){if(Lo){var s=t-ya;$u.add(xe(s)>180?s+(s>0?360:-360):s)}else wA=t,bA=r;Wi.point(t,r),SA(t,r)}function ID(){Wi.lineStart()}function DD(){TA(wA,bA),Wi.lineEnd(),xe($u)>ie&&(De=-(Ye=180)),dr[0]=De,dr[1]=Ye,Lo=null}function Kn(t,r){return(r-=t)<0?r+360:r}function FD(t,r){return t[0]-r[0]}function F2(t,r){return t[0]<=t[1]?t[0]<=r&&r<=t[1]:r<t[0]||t[1]<r}function zD(t){var r,s,l,g,y,v,w;if(Jn=Ye=-(De=Un=1/0),$r=[],Ti(t,cr),s=$r.length){for($r.sort(FD),r=1,l=$r[0],y=[l];r<s;++r)g=$r[r],F2(l,g[0])||F2(l,g[1])?(Kn(l[0],g[1])>Kn(l[0],l[1])&&(l[1]=g[1]),Kn(g[0],l[1])>Kn(l[0],l[1])&&(l[0]=g[0])):y.push(l=g);for(v=-1/0,s=y.length-1,r=0,l=y[s];r<=s;l=g,++r)g=y[r],(w=Kn(l[1],g[0]))>v&&(v=w,De=g[0],Ye=l[1])}return $r=dr=null,De===1/0||Un===1/0?[[NaN,NaN],[NaN,NaN]]:[[De,Un],[Ye,Jn]]}var yu,th,eh,nh,ih,rh,ah,oh,ay,oy,sy,AA,PA,kn,Rn,Vn,Ai={sphere:Fe,point:n_,lineStart:z2,lineEnd:X2,polygonStart:function(){Ai.lineStart=BD,Ai.lineEnd=HD},polygonEnd:function(){Ai.lineStart=z2,Ai.lineEnd=X2}};function n_(t,r){t*=ae,r*=ae;var s=ee(r);oc(s*ee(t),s*jt(t),jt(r))}function oc(t,r,s){++yu,eh+=(t-eh)/yu,nh+=(r-nh)/yu,ih+=(s-ih)/yu}function z2(){Ai.point=XD}function XD(t,r){t*=ae,r*=ae;var s=ee(r);kn=s*ee(t),Rn=s*jt(t),Vn=jt(r),Ai.point=YD,oc(kn,Rn,Vn)}function YD(t,r){t*=ae,r*=ae;var s=ee(r),l=s*ee(t),g=s*jt(t),y=jt(r),v=In(Qe((v=Rn*y-Vn*g)*v+(v=Vn*l-kn*y)*v+(v=kn*g-Rn*l)*v),kn*l+Rn*g+Vn*y);th+=v,rh+=v*(kn+(kn=l)),ah+=v*(Rn+(Rn=g)),oh+=v*(Vn+(Vn=y)),oc(kn,Rn,Vn)}function X2(){Ai.point=n_}function BD(){Ai.point=UD}function HD(){CA(AA,PA),Ai.point=n_}function UD(t,r){AA=t,PA=r,t*=ae,r*=ae,Ai.point=CA;var s=ee(r);kn=s*ee(t),Rn=s*jt(t),Vn=jt(r),oc(kn,Rn,Vn)}function CA(t,r){t*=ae,r*=ae;var s=ee(r),l=s*ee(t),g=s*jt(t),y=jt(r),v=Rn*y-Vn*g,w=Vn*l-kn*y,T=kn*g-Rn*l,P=Qe(v*v+w*w+T*T),E=Dn(P),V=P&&-E/P;ay+=V*v,oy+=V*w,sy+=V*T,th+=E,rh+=E*(kn+(kn=l)),ah+=E*(Rn+(Rn=g)),oh+=E*(Vn+(Vn=y)),oc(kn,Rn,Vn)}function WD(t){yu=th=eh=nh=ih=rh=ah=oh=ay=oy=sy=0,Ti(t,Ai);var r=ay,s=oy,l=sy,g=r*r+s*s+l*l;return g<Ul&&(r=rh,s=ah,l=oh,th<ie&&(r=eh,s=nh,l=ih),g=r*r+s*s+l*l,g<Ul)?[NaN,NaN]:[In(s,r)*Re,Dn(l/Qe(g))*Re]}function vo(t){return function(){return t}}function uy(t,r){function s(l,g){return l=t(l,g),r(l[0],l[1])}return t.invert&&r.invert&&(s.invert=function(l,g){return l=r.invert(l,g),l&&t.invert(l[0],l[1])}),s}function cy(t,r){return[xe(t)>pe?t+Math.round(-t/Nn)*Nn:t,r]}cy.invert=cy;function i_(t,r,s){return(t%=Nn)?r||s?uy(B2(t),H2(r,s)):B2(t):r||s?H2(r,s):cy}function Y2(t){return function(r,s){return r+=t,[r>pe?r-Nn:r<-pe?r+Nn:r,s]}}function B2(t){var r=Y2(t);return r.invert=Y2(-t),r}function H2(t,r){var s=ee(t),l=jt(t),g=ee(r),y=jt(r);function v(w,T){var P=ee(T),E=ee(w)*P,V=jt(w)*P,$=jt(T),I=$*s+E*l;return[In(V*g-I*y,E*s-$*l),Dn(I*g+V*y)]}return v.invert=function(w,T){var P=ee(T),E=ee(w)*P,V=jt(w)*P,$=jt(T),I=$*g-V*y;return[In(V*g+$*y,E*s+I*l),Dn(I*s-E*l)]},v}function LA(t){t=i_(t[0]*ae,t[1]*ae,t.length>2?t[2]*ae:0);function r(s){return s=t(s[0]*ae,s[1]*ae),s[0]*=Re,s[1]*=Re,s}return r.invert=function(s){return s=t.invert(s[0]*ae,s[1]*ae),s[0]*=Re,s[1]*=Re,s},r}function MA(t,r,s,l,g,y){if(s){var v=ee(r),w=jt(r),T=l*s;g==null?(g=r+l*Nn,y=r-T/2):(g=U2(v,g),y=U2(v,y),(l>0?g<y:g>y)&&(g+=l*Nn));for(var P,E=g;l>0?E>y:E<y;E-=T)P=Kl([v,-w*ee(E),-w*jt(E)]),t.point(P[0],P[1])}}function U2(t,r){r=Aa(r),r[0]-=t,Jl(r);var s=_A(-r[1]);return((-r[2]<0?-s:s)+Nn-ie)%Nn}function qD(){var t=vo([0,0]),r=vo(90),s=vo(6),l,g,y={point:v};function v(T,P){l.push(T=g(T,P)),T[0]*=Re,T[1]*=Re}function w(){var T=t.apply(this,arguments),P=r.apply(this,arguments)*ae,E=s.apply(this,arguments)*ae;return l=[],g=i_(-T[0]*ae,-T[1]*ae,0).invert,MA(y,P,E,1),T={type:"Polygon",coordinates:[l]},l=g=null,T}return w.center=function(T){return arguments.length?(t=typeof T=="function"?T:vo([+T[0],+T[1]]),w):t},w.radius=function(T){return arguments.length?(r=typeof T=="function"?T:vo(+T),w):r},w.precision=function(T){return arguments.length?(s=typeof T=="function"?T:vo(+T),w):s},w}function $A(){var t=[],r;return{point:function(s,l,g){r.push([s,l,g])},lineStart:function(){t.push(r=[])},lineEnd:Fe,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var s=t;return t=[],r=null,s}}}function El(t,r){return xe(t[0]-r[0])<ie&&xe(t[1]-r[1])<ie}function pl(t,r,s,l){this.x=t,this.z=r,this.o=s,this.e=l,this.v=!1,this.n=this.p=null}function EA(t,r,s,l,g){var y=[],v=[],w,T;if(t.forEach(function(X){if(!((B=X.length-1)<=0)){var B,Y=X[0],Z=X[B],tt;if(El(Y,Z)){if(!Y[2]&&!Z[2]){for(g.lineStart(),w=0;w<B;++w)g.point((Y=X[w])[0],Y[1]);g.lineEnd();return}Z[0]+=2*ie}y.push(tt=new pl(Y,X,null,!0)),v.push(tt.o=new pl(Y,null,tt,!1)),y.push(tt=new pl(Z,X,null,!1)),v.push(tt.o=new pl(Z,null,tt,!0))}}),!!y.length){for(v.sort(r),W2(y),W2(v),w=0,T=v.length;w<T;++w)v[w].e=s=!s;for(var P=y[0],E,V;;){for(var $=P,I=!0;$.v;)if(($=$.n)===P)return;E=$.z,g.lineStart();do{if($.v=$.o.v=!0,$.e){if(I)for(w=0,T=E.length;w<T;++w)g.point((V=E[w])[0],V[1]);else l($.x,$.n.x,1,g);$=$.n}else{if(I)for(E=$.p.z,w=E.length-1;w>=0;--w)g.point((V=E[w])[0],V[1]);else l($.x,$.p.x,-1,g);$=$.p}$=$.o,E=$.z,I=!I}while(!$.v);g.lineEnd()}}}function W2(t){if(r=t.length){for(var r,s=0,l=t[0],g;++s<r;)l.n=g=t[s],g.p=l,l=g;l.n=g=t[0],g.p=l}}var g0=Xr();function p0(t){return xe(t[0])<=pe?t[0]:pi(t[0])*((xe(t[0])+pe)%Nn-pe)}function kA(t,r){var s=p0(r),l=r[1],g=jt(l),y=[jt(s),-ee(s),0],v=0,w=0;g0.reset(),g===1?l=Be+ie:g===-1&&(l=-Be-ie);for(var T=0,P=t.length;T<P;++T)if(V=(E=t[T]).length)for(var E,V,$=E[V-1],I=p0($),X=$[1]/2+Wl,B=jt(X),Y=ee(X),Z=0;Z<V;++Z,I=J,B=ft,Y=gt,$=tt){var tt=E[Z],J=p0(tt),rt=tt[1]/2+Wl,ft=jt(rt),gt=ee(rt),lt=J-I,W=lt>=0?1:-1,dt=W*lt,F=dt>pe,vt=B*ft;if(g0.add(In(vt*W*jt(dt),Y*gt+vt*ee(dt))),v+=F?lt+W*Nn:lt,F^I>=s^J>=s){var et=Oo(Aa($),Aa(tt));Jl(et);var _t=Oo(y,et);Jl(_t);var Mt=(F^lt>=0?-1:1)*Dn(_t[2]);(l>Mt||l===Mt&&(et[0]||et[1]))&&(w+=F^lt>=0?1:-1)}}return(v<-ie||v<ie&&g0<-ie)^w&1}function RA(t,r,s,l){return function(g){var y=r(g),v=$A(),w=r(v),T=!1,P,E,V,$={point:I,lineStart:B,lineEnd:Y,polygonStart:function(){$.point=Z,$.lineStart=tt,$.lineEnd=J,E=[],P=[]},polygonEnd:function(){$.point=I,$.lineStart=B,$.lineEnd=Y,E=Ry(E);var rt=kA(P,l);E.length?(T||(g.polygonStart(),T=!0),EA(E,ZD,rt,s,g)):rt&&(T||(g.polygonStart(),T=!0),g.lineStart(),s(null,null,1,g),g.lineEnd()),T&&(g.polygonEnd(),T=!1),E=P=null},sphere:function(){g.polygonStart(),g.lineStart(),s(null,null,1,g),g.lineEnd(),g.polygonEnd()}};function I(rt,ft){t(rt,ft)&&g.point(rt,ft)}function X(rt,ft){y.point(rt,ft)}function B(){$.point=X,y.lineStart()}function Y(){$.point=I,y.lineEnd()}function Z(rt,ft){V.push([rt,ft]),w.point(rt,ft)}function tt(){w.lineStart(),V=[]}function J(){Z(V[0][0],V[0][1]),w.lineEnd();var rt=w.clean(),ft=v.result(),gt,lt=ft.length,W,dt,F;if(V.pop(),P.push(V),V=null,!!lt){if(rt&1){if(dt=ft[0],(W=dt.length-1)>0){for(T||(g.polygonStart(),T=!0),g.lineStart(),gt=0;gt<W;++gt)g.point((F=dt[gt])[0],F[1]);g.lineEnd()}return}lt>1&&rt&2&&ft.push(ft.pop().concat(ft.shift())),E.push(ft.filter(QD))}}return $}}function QD(t){return t.length>1}function ZD(t,r){return((t=t.x)[0]<0?t[1]-Be-ie:Be-t[1])-((r=r.x)[0]<0?r[1]-Be-ie:Be-r[1])}const fy=RA(function(){return!0},jD,JD,[-pe,-Be]);function jD(t){var r=NaN,s=NaN,l=NaN,g;return{lineStart:function(){t.lineStart(),g=1},point:function(y,v){var w=y>0?pe:-pe,T=xe(y-r);xe(T-pe)<ie?(t.point(r,s=(s+v)/2>0?Be:-Be),t.point(l,s),t.lineEnd(),t.lineStart(),t.point(w,s),t.point(y,s),g=0):l!==w&&T>=pe&&(xe(r-l)<ie&&(r-=l*ie),xe(y-w)<ie&&(y-=w*ie),s=KD(r,s,y,v),t.point(l,s),t.lineEnd(),t.lineStart(),t.point(w,s),g=0),t.point(r=y,s=v),l=w},lineEnd:function(){t.lineEnd(),r=s=NaN},clean:function(){return 2-g}}}function KD(t,r,s,l){var g,y,v=jt(t-s);return xe(v)>ie?Bo((jt(r)*(y=ee(l))*jt(s)-jt(l)*(g=ee(r))*jt(t))/(g*y*v)):(r+l)/2}function JD(t,r,s,l){var g;if(t==null)g=s*Be,l.point(-pe,g),l.point(0,g),l.point(pe,g),l.point(pe,0),l.point(pe,-g),l.point(0,-g),l.point(-pe,-g),l.point(-pe,0),l.point(-pe,g);else if(xe(t[0]-r[0])>ie){var y=t[0]<r[0]?pe:-pe;g=s*y/2,l.point(-y,g),l.point(0,g),l.point(y,g)}else l.point(r[0],r[1])}function VA(t){var r=ee(t),s=6*ae,l=r>0,g=xe(r)>ie;function y(E,V,$,I){MA(I,t,s,$,E,V)}function v(E,V){return ee(E)*ee(V)>r}function w(E){var V,$,I,X,B;return{lineStart:function(){X=I=!1,B=1},point:function(Y,Z){var tt=[Y,Z],J,rt=v(Y,Z),ft=l?rt?0:P(Y,Z):rt?P(Y+(Y<0?pe:-pe),Z):0;if(!V&&(X=I=rt)&&E.lineStart(),rt!==I&&(J=T(V,tt),(!J||El(V,J)||El(tt,J))&&(tt[2]=1)),rt!==I)B=0,rt?(E.lineStart(),J=T(tt,V),E.point(J[0],J[1])):(J=T(V,tt),E.point(J[0],J[1],2),E.lineEnd()),V=J;else if(g&&V&&l^rt){var gt;!(ft&$)&&(gt=T(tt,V,!0))&&(B=0,l?(E.lineStart(),E.point(gt[0][0],gt[0][1]),E.point(gt[1][0],gt[1][1]),E.lineEnd()):(E.point(gt[1][0],gt[1][1]),E.lineEnd(),E.lineStart(),E.point(gt[0][0],gt[0][1],3)))}rt&&(!V||!El(V,tt))&&E.point(tt[0],tt[1]),V=tt,I=rt,$=ft},lineEnd:function(){I&&E.lineEnd(),V=null},clean:function(){return B|(X&&I)<<1}}}function T(E,V,$){var I=Aa(E),X=Aa(V),B=[1,0,0],Y=Oo(I,X),Z=dl(Y,Y),tt=Y[0],J=Z-tt*tt;if(!J)return!$&&E;var rt=r*Z/J,ft=-r*tt/J,gt=Oo(B,Y),lt=gl(B,rt),W=gl(Y,ft);d0(lt,W);var dt=gt,F=dl(lt,dt),vt=dl(dt,dt),et=F*F-vt*(dl(lt,lt)-1);if(!(et<0)){var _t=Qe(et),Mt=gl(dt,(-F-_t)/vt);if(d0(Mt,lt),Mt=Kl(Mt),!$)return Mt;var pt=E[0],Lt=V[0],o=E[1],f=V[1],e;Lt<pt&&(e=pt,pt=Lt,Lt=e);var i=Lt-pt,u=xe(i-pe)<ie,d=u||i<ie;if(!u&&f<o&&(e=o,o=f,f=e),d?u?o+f>0^Mt[1]<(xe(Mt[0]-pt)<ie?o:f):o<=Mt[1]&&Mt[1]<=f:i>pe^(pt<=Mt[0]&&Mt[0]<=Lt)){var m=gl(dt,(-F+_t)/vt);return d0(m,lt),[Mt,Kl(m)]}}}function P(E,V){var $=l?t:pe-t,I=0;return E<-$?I|=1:E>$&&(I|=2),V<-$?I|=4:V>$&&(I|=8),I}return RA(v,w,y,l?[0,-t]:[-pe,t-pe])}function tF(t,r,s,l,g,y){var v=t[0],w=t[1],T=r[0],P=r[1],E=0,V=1,$=T-v,I=P-w,X;if(X=s-v,!(!$&&X>0)){if(X/=$,$<0){if(X<E)return;X<V&&(V=X)}else if($>0){if(X>V)return;X>E&&(E=X)}if(X=g-v,!(!$&&X<0)){if(X/=$,$<0){if(X>V)return;X>E&&(E=X)}else if($>0){if(X<E)return;X<V&&(V=X)}if(X=l-w,!(!I&&X>0)){if(X/=I,I<0){if(X<E)return;X<V&&(V=X)}else if(I>0){if(X>V)return;X>E&&(E=X)}if(X=y-w,!(!I&&X<0)){if(X/=I,I<0){if(X>V)return;X>E&&(E=X)}else if(I>0){if(X<E)return;X<V&&(V=X)}return E>0&&(t[0]=v+E*$,t[1]=w+E*I),V<1&&(r[0]=v+V*$,r[1]=w+V*I),!0}}}}}var _u=1e9,yl=-_u;function Uh(t,r,s,l){function g(P,E){return t<=P&&P<=s&&r<=E&&E<=l}function y(P,E,V,$){var I=0,X=0;if(P==null||(I=v(P,V))!==(X=v(E,V))||T(P,E)<0^V>0)do $.point(I===0||I===3?t:s,I>1?l:r);while((I=(I+V+4)%4)!==X);else $.point(E[0],E[1])}function v(P,E){return xe(P[0]-t)<ie?E>0?0:3:xe(P[0]-s)<ie?E>0?2:1:xe(P[1]-r)<ie?E>0?1:0:E>0?3:2}function w(P,E){return T(P.x,E.x)}function T(P,E){var V=v(P,1),$=v(E,1);return V!==$?V-$:V===0?E[1]-P[1]:V===1?P[0]-E[0]:V===2?P[1]-E[1]:E[0]-P[0]}return function(P){var E=P,V=$A(),$,I,X,B,Y,Z,tt,J,rt,ft,gt,lt={point:W,lineStart:et,lineEnd:_t,polygonStart:F,polygonEnd:vt};function W(pt,Lt){g(pt,Lt)&&E.point(pt,Lt)}function dt(){for(var pt=0,Lt=0,o=I.length;Lt<o;++Lt)for(var f=I[Lt],e=1,i=f.length,u=f[0],d,m,S=u[0],L=u[1];e<i;++e)d=S,m=L,u=f[e],S=u[0],L=u[1],m<=l?L>l&&(S-d)*(l-m)>(L-m)*(t-d)&&++pt:L<=l&&(S-d)*(l-m)<(L-m)*(t-d)&&--pt;return pt}function F(){E=V,$=[],I=[],gt=!0}function vt(){var pt=dt(),Lt=gt&&pt,o=($=Ry($)).length;(Lt||o)&&(P.polygonStart(),Lt&&(P.lineStart(),y(null,null,1,P),P.lineEnd()),o&&EA($,w,pt,y,P),P.polygonEnd()),E=P,$=I=X=null}function et(){lt.point=Mt,I&&I.push(X=[]),ft=!0,rt=!1,tt=J=NaN}function _t(){$&&(Mt(B,Y),Z&&rt&&V.rejoin(),$.push(V.result())),lt.point=W,rt&&E.lineEnd()}function Mt(pt,Lt){var o=g(pt,Lt);if(I&&X.push([pt,Lt]),ft)B=pt,Y=Lt,Z=o,ft=!1,o&&(E.lineStart(),E.point(pt,Lt));else if(o&&rt)E.point(pt,Lt);else{var f=[tt=Math.max(yl,Math.min(_u,tt)),J=Math.max(yl,Math.min(_u,J))],e=[pt=Math.max(yl,Math.min(_u,pt)),Lt=Math.max(yl,Math.min(_u,Lt))];tF(f,e,t,r,s,l)?(rt||(E.lineStart(),E.point(f[0],f[1])),E.point(e[0],e[1]),o||E.lineEnd(),gt=!1):o&&(E.lineStart(),E.point(pt,Lt),gt=!1)}tt=pt,J=Lt,rt=o}return lt}}function eF(){var t=0,r=0,s=960,l=500,g,y,v;return v={stream:function(w){return g&&y===w?g:g=Uh(t,r,s,l)(y=w)},extent:function(w){return arguments.length?(t=+w[0][0],r=+w[0][1],s=+w[1][0],l=+w[1][1],g=y=null,v):[[t,r],[s,l]]}}}var ly=Xr(),hy,kl,Rl,No={sphere:Fe,point:Fe,lineStart:nF,lineEnd:Fe,polygonStart:Fe,polygonEnd:Fe};function nF(){No.point=rF,No.lineEnd=iF}function iF(){No.point=No.lineEnd=Fe}function rF(t,r){t*=ae,r*=ae,hy=t,kl=jt(r),Rl=ee(r),No.point=aF}function aF(t,r){t*=ae,r*=ae;var s=jt(r),l=ee(r),g=xe(t-hy),y=ee(g),v=jt(g),w=l*v,T=Rl*s-kl*l*y,P=kl*s+Rl*l*y;ly.add(In(Qe(w*w+T*T),P)),hy=t,kl=s,Rl=l}function GA(t){return ly.reset(),Ti(t,No),+ly}var dy=[null,null],oF={type:"LineString",coordinates:dy};function sh(t,r){return dy[0]=t,dy[1]=r,GA(oF)}var q2={Feature:function(t,r){return uh(t.geometry,r)},FeatureCollection:function(t,r){for(var s=t.features,l=-1,g=s.length;++l<g;)if(uh(s[l].geometry,r))return!0;return!1}},Q2={Sphere:function(){return!0},Point:function(t,r){return Z2(t.coordinates,r)},MultiPoint:function(t,r){for(var s=t.coordinates,l=-1,g=s.length;++l<g;)if(Z2(s[l],r))return!0;return!1},LineString:function(t,r){return j2(t.coordinates,r)},MultiLineString:function(t,r){for(var s=t.coordinates,l=-1,g=s.length;++l<g;)if(j2(s[l],r))return!0;return!1},Polygon:function(t,r){return K2(t.coordinates,r)},MultiPolygon:function(t,r){for(var s=t.coordinates,l=-1,g=s.length;++l<g;)if(K2(s[l],r))return!0;return!1},GeometryCollection:function(t,r){for(var s=t.geometries,l=-1,g=s.length;++l<g;)if(uh(s[l],r))return!0;return!1}};function uh(t,r){return t&&Q2.hasOwnProperty(t.type)?Q2[t.type](t,r):!1}function Z2(t,r){return sh(t,r)===0}function j2(t,r){for(var s,l,g,y=0,v=t.length;y<v;y++){if(l=sh(t[y],r),l===0||y>0&&(g=sh(t[y],t[y-1]),g>0&&s<=g&&l<=g&&(s+l-g)*(1-Math.pow((s-l)/g,2))<Ul*g))return!0;s=l}return!1}function K2(t,r){return!!kA(t.map(sF),OA(r))}function sF(t){return t=t.map(OA),t.pop(),t}function OA(t){return[t[0]*ae,t[1]*ae]}function uF(t,r){return(t&&q2.hasOwnProperty(t.type)?q2[t.type]:uh)(t,r)}function J2(t,r,s){var l=ei(t,r-ie,s).concat(r);return function(g){return l.map(function(y){return[g,y]})}}function tS(t,r,s){var l=ei(t,r-ie,s).concat(r);return function(g){return l.map(function(y){return[y,g]})}}function NA(){var t,r,s,l,g,y,v,w,T=10,P=T,E=90,V=360,$,I,X,B,Y=2.5;function Z(){return{type:"MultiLineString",coordinates:tt()}}function tt(){return ei(hl(l/E)*E,s,E).map(X).concat(ei(hl(w/V)*V,v,V).map(B)).concat(ei(hl(r/T)*T,t,T).filter(function(J){return xe(J%E)>ie}).map($)).concat(ei(hl(y/P)*P,g,P).filter(function(J){return xe(J%V)>ie}).map(I))}return Z.lines=function(){return tt().map(function(J){return{type:"LineString",coordinates:J}})},Z.outline=function(){return{type:"Polygon",coordinates:[X(l).concat(B(v).slice(1),X(s).reverse().slice(1),B(w).reverse().slice(1))]}},Z.extent=function(J){return arguments.length?Z.extentMajor(J).extentMinor(J):Z.extentMinor()},Z.extentMajor=function(J){return arguments.length?(l=+J[0][0],s=+J[1][0],w=+J[0][1],v=+J[1][1],l>s&&(J=l,l=s,s=J),w>v&&(J=w,w=v,v=J),Z.precision(Y)):[[l,w],[s,v]]},Z.extentMinor=function(J){return arguments.length?(r=+J[0][0],t=+J[1][0],y=+J[0][1],g=+J[1][1],r>t&&(J=r,r=t,t=J),y>g&&(J=y,y=g,g=J),Z.precision(Y)):[[r,y],[t,g]]},Z.step=function(J){return arguments.length?Z.stepMajor(J).stepMinor(J):Z.stepMinor()},Z.stepMajor=function(J){return arguments.length?(E=+J[0],V=+J[1],Z):[E,V]},Z.stepMinor=function(J){return arguments.length?(T=+J[0],P=+J[1],Z):[T,P]},Z.precision=function(J){return arguments.length?(Y=+J,$=J2(y,g,90),I=tS(r,t,Y),X=J2(w,v,90),B=tS(l,s,Y),Z):Y},Z.extentMajor([[-180,-90+ie],[180,90-ie]]).extentMinor([[-180,-80-ie],[180,80+ie]])}function cF(){return NA()()}function fF(t,r){var s=t[0]*ae,l=t[1]*ae,g=r[0]*ae,y=r[1]*ae,v=ee(l),w=jt(l),T=ee(y),P=jt(y),E=v*ee(s),V=v*jt(s),$=T*ee(g),I=T*jt(g),X=2*Dn(Qe(V2(y-l)+v*T*V2(g-s))),B=jt(X),Y=X?function(Z){var tt=jt(Z*=X)/B,J=jt(X-Z)/B,rt=J*E+tt*$,ft=J*V+tt*I,gt=J*w+tt*P;return[In(ft,rt)*Re,In(gt,Qe(rt*rt+ft*ft))*Re]}:function(){return[s*Re,l*Re]};return Y.distance=X,Y}function Uu(t){return t}var y0=Xr(),gy=Xr(),IA,DA,py,yy,fr={point:Fe,lineStart:Fe,lineEnd:Fe,polygonStart:function(){fr.lineStart=lF,fr.lineEnd=dF},polygonEnd:function(){fr.lineStart=fr.lineEnd=fr.point=Fe,y0.add(xe(gy)),gy.reset()},result:function(){var t=y0/2;return y0.reset(),t}};function lF(){fr.point=hF}function hF(t,r){fr.point=FA,IA=py=t,DA=yy=r}function FA(t,r){gy.add(yy*t-py*r),py=t,yy=r}function dF(){FA(IA,DA)}var Io=1/0,ch=Io,Wu=-Io,fh=Wu,lh={point:gF,lineStart:Fe,lineEnd:Fe,polygonStart:Fe,polygonEnd:Fe,result:function(){var t=[[Io,ch],[Wu,fh]];return Wu=fh=-(ch=Io=1/0),t}};function gF(t,r){t<Io&&(Io=t),t>Wu&&(Wu=t),r<ch&&(ch=r),r>fh&&(fh=r)}var _y=0,my=0,mu=0,hh=0,dh=0,bo=0,vy=0,xy=0,vu=0,zA,XA,Xi,Yi,gi={point:Pa,lineStart:eS,lineEnd:nS,polygonStart:function(){gi.lineStart=_F,gi.lineEnd=mF},polygonEnd:function(){gi.point=Pa,gi.lineStart=eS,gi.lineEnd=nS},result:function(){var t=vu?[vy/vu,xy/vu]:bo?[hh/bo,dh/bo]:mu?[_y/mu,my/mu]:[NaN,NaN];return _y=my=mu=hh=dh=bo=vy=xy=vu=0,t}};function Pa(t,r){_y+=t,my+=r,++mu}function eS(){gi.point=pF}function pF(t,r){gi.point=yF,Pa(Xi=t,Yi=r)}function yF(t,r){var s=t-Xi,l=r-Yi,g=Qe(s*s+l*l);hh+=g*(Xi+t)/2,dh+=g*(Yi+r)/2,bo+=g,Pa(Xi=t,Yi=r)}function nS(){gi.point=Pa}function _F(){gi.point=vF}function mF(){YA(zA,XA)}function vF(t,r){gi.point=YA,Pa(zA=Xi=t,XA=Yi=r)}function YA(t,r){var s=t-Xi,l=r-Yi,g=Qe(s*s+l*l);hh+=g*(Xi+t)/2,dh+=g*(Yi+r)/2,bo+=g,g=Yi*t-Xi*r,vy+=g*(Xi+t),xy+=g*(Yi+r),vu+=g*3,Pa(Xi=t,Yi=r)}function BA(t){this._context=t}BA.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,r){switch(this._point){case 0:{this._context.moveTo(t,r),this._point=1;break}case 1:{this._context.lineTo(t,r);break}default:{this._context.moveTo(t+this._radius,r),this._context.arc(t,r,this._radius,0,Nn);break}}},result:Fe};var wy=Xr(),_0,HA,UA,xu,wu,qu={point:Fe,lineStart:function(){qu.point=xF},lineEnd:function(){_0&&WA(HA,UA),qu.point=Fe},polygonStart:function(){_0=!0},polygonEnd:function(){_0=null},result:function(){var t=+wy;return wy.reset(),t}};function xF(t,r){qu.point=WA,HA=xu=t,UA=wu=r}function WA(t,r){xu-=t,wu-=r,wy.add(Qe(xu*xu+wu*wu)),xu=t,wu=r}function qA(){this._string=[]}qA.prototype={_radius:4.5,_circle:iS(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,r){switch(this._point){case 0:{this._string.push("M",t,",",r),this._point=1;break}case 1:{this._string.push("L",t,",",r);break}default:{this._circle==null&&(this._circle=iS(this._radius)),this._string.push("M",t,",",r,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function iS(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function wF(t,r){var s=4.5,l,g;function y(v){return v&&(typeof s=="function"&&g.pointRadius(+s.apply(this,arguments)),Ti(v,l(g))),g.result()}return y.area=function(v){return Ti(v,l(fr)),fr.result()},y.measure=function(v){return Ti(v,l(qu)),qu.result()},y.bounds=function(v){return Ti(v,l(lh)),lh.result()},y.centroid=function(v){return Ti(v,l(gi)),gi.result()},y.projection=function(v){return arguments.length?(l=v==null?(t=null,Uu):(t=v).stream,y):t},y.context=function(v){return arguments.length?(g=v==null?(r=null,new qA):new BA(r=v),typeof s!="function"&&g.pointRadius(s),y):r},y.pointRadius=function(v){return arguments.length?(s=typeof v=="function"?v:(g.pointRadius(+v),+v),y):s},y.projection(t).context(r)}function bF(t){return{stream:sc(t)}}function sc(t){return function(r){var s=new by;for(var l in t)s[l]=t[l];return s.stream=r,s}}function by(){}by.prototype={constructor:by,point:function(t,r){this.stream.point(t,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function r_(t,r,s){var l=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),l!=null&&t.clipExtent(null),Ti(s,t.stream(lh)),r(lh.result()),l!=null&&t.clipExtent(l),t}function Wh(t,r,s){return r_(t,function(l){var g=r[1][0]-r[0][0],y=r[1][1]-r[0][1],v=Math.min(g/(l[1][0]-l[0][0]),y/(l[1][1]-l[0][1])),w=+r[0][0]+(g-v*(l[1][0]+l[0][0]))/2,T=+r[0][1]+(y-v*(l[1][1]+l[0][1]))/2;t.scale(150*v).translate([w,T])},s)}function a_(t,r,s){return Wh(t,[[0,0],r],s)}function o_(t,r,s){return r_(t,function(l){var g=+r,y=g/(l[1][0]-l[0][0]),v=(g-y*(l[1][0]+l[0][0]))/2,w=-y*l[0][1];t.scale(150*y).translate([v,w])},s)}function s_(t,r,s){return r_(t,function(l){var g=+r,y=g/(l[1][1]-l[0][1]),v=-y*l[0][0],w=(g-y*(l[1][1]+l[0][1]))/2;t.scale(150*y).translate([v,w])},s)}var rS=16,SF=ee(30*ae);function aS(t,r){return+r?AF(t,r):TF(t)}function TF(t){return sc({point:function(r,s){r=t(r,s),this.stream.point(r[0],r[1])}})}function AF(t,r){function s(l,g,y,v,w,T,P,E,V,$,I,X,B,Y){var Z=P-l,tt=E-g,J=Z*Z+tt*tt;if(J>4*r&&B--){var rt=v+$,ft=w+I,gt=T+X,lt=Qe(rt*rt+ft*ft+gt*gt),W=Dn(gt/=lt),dt=xe(xe(gt)-1)<ie||xe(y-V)<ie?(y+V)/2:In(ft,rt),F=t(dt,W),vt=F[0],et=F[1],_t=vt-l,Mt=et-g,pt=tt*_t-Z*Mt;(pt*pt/J>r||xe((Z*_t+tt*Mt)/J-.5)>.3||v*$+w*I+T*X<SF)&&(s(l,g,y,v,w,T,vt,et,dt,rt/=lt,ft/=lt,gt,B,Y),Y.point(vt,et),s(vt,et,dt,rt,ft,gt,P,E,V,$,I,X,B,Y))}}return function(l){var g,y,v,w,T,P,E,V,$,I,X,B,Y={point:Z,lineStart:tt,lineEnd:rt,polygonStart:function(){l.polygonStart(),Y.lineStart=ft},polygonEnd:function(){l.polygonEnd(),Y.lineStart=tt}};function Z(W,dt){W=t(W,dt),l.point(W[0],W[1])}function tt(){V=NaN,Y.point=J,l.lineStart()}function J(W,dt){var F=Aa([W,dt]),vt=t(W,dt);s(V,$,E,I,X,B,V=vt[0],$=vt[1],E=W,I=F[0],X=F[1],B=F[2],rS,l),l.point(V,$)}function rt(){Y.point=Z,l.lineEnd()}function ft(){tt(),Y.point=gt,Y.lineEnd=lt}function gt(W,dt){J(g=W,dt),y=V,v=$,w=I,T=X,P=B,Y.point=J}function lt(){s(V,$,E,I,X,B,y,v,g,w,T,P,rS,l),Y.lineEnd=rt,rt()}return Y}}var PF=sc({point:function(t,r){this.stream.point(t*ae,r*ae)}});function CF(t){return sc({point:function(r,s){var l=t(r,s);return this.stream.point(l[0],l[1])}})}function LF(t,r,s,l,g){function y(v,w){return v*=l,w*=g,[r+t*v,s-t*w]}return y.invert=function(v,w){return[(v-r)/t*l,(s-w)/t*g]},y}function oS(t,r,s,l,g,y){var v=ee(y),w=jt(y),T=v*t,P=w*t,E=v/t,V=w/t,$=(w*s-v*r)/t,I=(w*r+v*s)/t;function X(B,Y){return B*=l,Y*=g,[T*B-P*Y+r,s-P*B-T*Y]}return X.invert=function(B,Y){return[l*(E*B-V*Y+$),g*(I-V*B-E*Y)]},X}function qi(t){return u_(function(){return t})()}function u_(t){var r,s=150,l=480,g=250,y=0,v=0,w=0,T=0,P=0,E,V=0,$=1,I=1,X=null,B=fy,Y=null,Z,tt,J,rt=Uu,ft=.5,gt,lt,W,dt,F;function vt(pt){return W(pt[0]*ae,pt[1]*ae)}function et(pt){return pt=W.invert(pt[0],pt[1]),pt&&[pt[0]*Re,pt[1]*Re]}vt.stream=function(pt){return dt&&F===pt?dt:dt=PF(CF(E)(B(gt(rt(F=pt)))))},vt.preclip=function(pt){return arguments.length?(B=pt,X=void 0,Mt()):B},vt.postclip=function(pt){return arguments.length?(rt=pt,Y=Z=tt=J=null,Mt()):rt},vt.clipAngle=function(pt){return arguments.length?(B=+pt?VA(X=pt*ae):(X=null,fy),Mt()):X*Re},vt.clipExtent=function(pt){return arguments.length?(rt=pt==null?(Y=Z=tt=J=null,Uu):Uh(Y=+pt[0][0],Z=+pt[0][1],tt=+pt[1][0],J=+pt[1][1]),Mt()):Y==null?null:[[Y,Z],[tt,J]]},vt.scale=function(pt){return arguments.length?(s=+pt,_t()):s},vt.translate=function(pt){return arguments.length?(l=+pt[0],g=+pt[1],_t()):[l,g]},vt.center=function(pt){return arguments.length?(y=pt[0]%360*ae,v=pt[1]%360*ae,_t()):[y*Re,v*Re]},vt.rotate=function(pt){return arguments.length?(w=pt[0]%360*ae,T=pt[1]%360*ae,P=pt.length>2?pt[2]%360*ae:0,_t()):[w*Re,T*Re,P*Re]},vt.angle=function(pt){return arguments.length?(V=pt%360*ae,_t()):V*Re},vt.reflectX=function(pt){return arguments.length?($=pt?-1:1,_t()):$<0},vt.reflectY=function(pt){return arguments.length?(I=pt?-1:1,_t()):I<0},vt.precision=function(pt){return arguments.length?(gt=aS(lt,ft=pt*pt),Mt()):Qe(ft)},vt.fitExtent=function(pt,Lt){return Wh(vt,pt,Lt)},vt.fitSize=function(pt,Lt){return a_(vt,pt,Lt)},vt.fitWidth=function(pt,Lt){return o_(vt,pt,Lt)},vt.fitHeight=function(pt,Lt){return s_(vt,pt,Lt)};function _t(){var pt=oS(s,0,0,$,I,V).apply(null,r(y,v)),Lt=(V?oS:LF)(s,l-pt[0],g-pt[1],$,I,V);return E=i_(w,T,P),lt=uy(r,Lt),W=uy(E,lt),gt=aS(lt,ft),Mt()}function Mt(){return dt=F=null,vt}return function(){return r=t.apply(this,arguments),vt.invert=r.invert&&et,_t()}}function c_(t){var r=0,s=pe/3,l=u_(t),g=l(r,s);return g.parallels=function(y){return arguments.length?l(r=y[0]*ae,s=y[1]*ae):[r*Re,s*Re]},g}function MF(t){var r=ee(t);function s(l,g){return[l*r,jt(g)/r]}return s.invert=function(l,g){return[l/r,Dn(g*r)]},s}function QA(t,r){var s=jt(t),l=(s+jt(r))/2;if(xe(l)<ie)return MF(t);var g=1+s*(2*l-s),y=Qe(g)/l;function v(w,T){var P=Qe(g-2*l*jt(T))/l;return[P*jt(w*=l),y-P*ee(w)]}return v.invert=function(w,T){var P=y-T,E=In(w,xe(P))*pi(P);return P*l<0&&(E-=pe*pi(w)*pi(P)),[E/l,Dn((g-(w*w+P*P)*l*l)/(2*l))]},v}function gh(){return c_(QA).scale(155.424).center([0,33.6442])}function ZA(){return gh().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function $F(t){var r=t.length;return{point:function(s,l){for(var g=-1;++g<r;)t[g].point(s,l)},sphere:function(){for(var s=-1;++s<r;)t[s].sphere()},lineStart:function(){for(var s=-1;++s<r;)t[s].lineStart()},lineEnd:function(){for(var s=-1;++s<r;)t[s].lineEnd()},polygonStart:function(){for(var s=-1;++s<r;)t[s].polygonStart()},polygonEnd:function(){for(var s=-1;++s<r;)t[s].polygonEnd()}}}function EF(){var t,r,s=ZA(),l,g=gh().rotate([154,0]).center([-2,58.5]).parallels([55,65]),y,v=gh().rotate([157,0]).center([-3,19.9]).parallels([8,18]),w,T,P={point:function($,I){T=[$,I]}};function E($){var I=$[0],X=$[1];return T=null,l.point(I,X),T||(y.point(I,X),T)||(w.point(I,X),T)}E.invert=function($){var I=s.scale(),X=s.translate(),B=($[0]-X[0])/I,Y=($[1]-X[1])/I;return(Y>=.12&&Y<.234&&B>=-.425&&B<-.214?g:Y>=.166&&Y<.234&&B>=-.214&&B<-.115?v:s).invert($)},E.stream=function($){return t&&r===$?t:t=$F([s.stream(r=$),g.stream($),v.stream($)])},E.precision=function($){return arguments.length?(s.precision($),g.precision($),v.precision($),V()):s.precision()},E.scale=function($){return arguments.length?(s.scale($),g.scale($*.35),v.scale($),E.translate(s.translate())):s.scale()},E.translate=function($){if(!arguments.length)return s.translate();var I=s.scale(),X=+$[0],B=+$[1];return l=s.translate($).clipExtent([[X-.455*I,B-.238*I],[X+.455*I,B+.238*I]]).stream(P),y=g.translate([X-.307*I,B+.201*I]).clipExtent([[X-.425*I+ie,B+.12*I+ie],[X-.214*I-ie,B+.234*I-ie]]).stream(P),w=v.translate([X-.205*I,B+.212*I]).clipExtent([[X-.214*I+ie,B+.166*I+ie],[X-.115*I-ie,B+.234*I-ie]]).stream(P),V()},E.fitExtent=function($,I){return Wh(E,$,I)},E.fitSize=function($,I){return a_(E,$,I)},E.fitWidth=function($,I){return o_(E,$,I)},E.fitHeight=function($,I){return s_(E,$,I)};function V(){return t=r=null,E}return E.scale(1070)}function jA(t){return function(r,s){var l=ee(r),g=ee(s),y=t(l*g);return[y*g*jt(r),y*jt(s)]}}function uc(t){return function(r,s){var l=Qe(r*r+s*s),g=t(l),y=jt(g),v=ee(g);return[In(r*y,l*v),Dn(l&&s*y/l)]}}var f_=jA(function(t){return Qe(2/(1+t))});f_.invert=uc(function(t){return 2*Dn(t/2)});function kF(){return qi(f_).scale(124.75).clipAngle(180-.001)}var l_=jA(function(t){return(t=_A(t))&&t/jt(t)});l_.invert=uc(function(t){return t});function RF(){return qi(l_).scale(79.4188).clipAngle(180-.001)}function cc(t,r){return[t,ql(e_((Be+r)/2))]}cc.invert=function(t,r){return[t,2*Bo(yA(r))-Be]};function VF(){return KA(cc).scale(961/Nn)}function KA(t){var r=qi(t),s=r.center,l=r.scale,g=r.translate,y=r.clipExtent,v=null,w,T,P;r.scale=function(V){return arguments.length?(l(V),E()):l()},r.translate=function(V){return arguments.length?(g(V),E()):g()},r.center=function(V){return arguments.length?(s(V),E()):s()},r.clipExtent=function(V){return arguments.length?(V==null?v=w=T=P=null:(v=+V[0][0],w=+V[0][1],T=+V[1][0],P=+V[1][1]),E()):v==null?null:[[v,w],[T,P]]};function E(){var V=pe*l(),$=r(LA(r.rotate()).invert([0,0]));return y(v==null?[[$[0]-V,$[1]-V],[$[0]+V,$[1]+V]]:t===cc?[[Math.max($[0]-V,v),w],[Math.min($[0]+V,T),P]]:[[v,Math.max($[1]-V,w)],[T,Math.min($[1]+V,P)]])}return E()}function _l(t){return e_((Be+t)/2)}function JA(t,r){var s=ee(t),l=t===r?jt(t):ql(s/ee(r))/ql(_l(r)/_l(t)),g=s*h0(_l(t),l)/l;if(!l)return cc;function y(v,w){g>0?w<-Be+ie&&(w=-Be+ie):w>Be-ie&&(w=Be-ie);var T=g/h0(_l(w),l);return[T*jt(l*v),g-T*ee(l*v)]}return y.invert=function(v,w){var T=g-w,P=pi(l)*Qe(v*v+T*T),E=In(v,xe(T))*pi(T);return T*l<0&&(E-=pe*pi(v)*pi(T)),[E/l,2*Bo(h0(g/P,1/l))-Be]},y}function GF(){return c_(JA).scale(109.5).parallels([30,30])}function Qu(t,r){return[t,r]}Qu.invert=Qu;function OF(){return qi(Qu).scale(152.63)}function t3(t,r){var s=ee(t),l=t===r?jt(t):(s-ee(r))/(r-t),g=s/l+t;if(xe(l)<ie)return Qu;function y(v,w){var T=g-w,P=l*v;return[T*jt(P),g-T*ee(P)]}return y.invert=function(v,w){var T=g-w,P=In(v,xe(T))*pi(T);return T*l<0&&(P-=pe*pi(v)*pi(T)),[P/l,g-pi(l)*Qe(v*v+T*T)]},y}function NF(){return c_(t3).scale(131.154).center([0,13.9389])}var Eu=1.340264,ku=-.081106,Ru=893e-6,Vu=.003796,ph=Qe(3)/2,IF=12;function h_(t,r){var s=Dn(ph*jt(r)),l=s*s,g=l*l*l;return[t*ee(s)/(ph*(Eu+3*ku*l+g*(7*Ru+9*Vu*l))),s*(Eu+ku*l+g*(Ru+Vu*l))]}h_.invert=function(t,r){for(var s=r,l=s*s,g=l*l*l,y=0,v,w,T;y<IF&&(w=s*(Eu+ku*l+g*(Ru+Vu*l))-r,T=Eu+3*ku*l+g*(7*Ru+9*Vu*l),s-=v=w/T,l=s*s,g=l*l*l,!(xe(v)<Ul));++y);return[ph*t*(Eu+3*ku*l+g*(7*Ru+9*Vu*l))/ee(s),Dn(jt(s)/ph)]};function DF(){return qi(h_).scale(177.158)}function d_(t,r){var s=ee(r),l=ee(t)*s;return[s*jt(t)/l,jt(r)/l]}d_.invert=uc(Bo);function FF(){return qi(d_).scale(144.049).clipAngle(60)}function zF(){var t=1,r=0,s=0,l=1,g=1,y=0,v,w,T=null,P,E,V,$=1,I=1,X=sc({point:function(rt,ft){var gt=J([rt,ft]);this.stream.point(gt[0],gt[1])}}),B=Uu,Y,Z;function tt(){return $=t*l,I=t*g,Y=Z=null,J}function J(rt){var ft=rt[0]*$,gt=rt[1]*I;if(y){var lt=gt*v-ft*w;ft=ft*v+gt*w,gt=lt}return[ft+r,gt+s]}return J.invert=function(rt){var ft=rt[0]-r,gt=rt[1]-s;if(y){var lt=gt*v+ft*w;ft=ft*v-gt*w,gt=lt}return[ft/$,gt/I]},J.stream=function(rt){return Y&&Z===rt?Y:Y=X(B(Z=rt))},J.postclip=function(rt){return arguments.length?(B=rt,T=P=E=V=null,tt()):B},J.clipExtent=function(rt){return arguments.length?(B=rt==null?(T=P=E=V=null,Uu):Uh(T=+rt[0][0],P=+rt[0][1],E=+rt[1][0],V=+rt[1][1]),tt()):T==null?null:[[T,P],[E,V]]},J.scale=function(rt){return arguments.length?(t=+rt,tt()):t},J.translate=function(rt){return arguments.length?(r=+rt[0],s=+rt[1],tt()):[r,s]},J.angle=function(rt){return arguments.length?(y=rt%360*ae,w=jt(y),v=ee(y),tt()):y*Re},J.reflectX=function(rt){return arguments.length?(l=rt?-1:1,tt()):l<0},J.reflectY=function(rt){return arguments.length?(g=rt?-1:1,tt()):g<0},J.fitExtent=function(rt,ft){return Wh(J,rt,ft)},J.fitSize=function(rt,ft){return a_(J,rt,ft)},J.fitWidth=function(rt,ft){return o_(J,rt,ft)},J.fitHeight=function(rt,ft){return s_(J,rt,ft)},J}function g_(t,r){var s=r*r,l=s*s;return[t*(.8707-.131979*s+l*(-.013791+l*(.003971*s-.001529*l))),r*(1.007226+s*(.015085+l*(-.044475+.028874*s-.005916*l)))]}g_.invert=function(t,r){var s=r,l=25,g;do{var y=s*s,v=y*y;s-=g=(s*(1.007226+y*(.015085+v*(-.044475+.028874*y-.005916*v)))-r)/(1.007226+y*(.015085*3+v*(-.044475*7+.028874*9*y-.005916*11*v)))}while(xe(g)>ie&&--l>0);return[t/(.8707+(y=s*s)*(-.131979+y*(-.013791+y*y*y*(.003971-.001529*y)))),s]};function XF(){return qi(g_).scale(175.295)}function p_(t,r){return[ee(r)*jt(t),jt(r)]}p_.invert=uc(Dn);function YF(){return qi(p_).scale(249.5).clipAngle(90+ie)}function y_(t,r){var s=ee(r),l=1+ee(t)*s;return[s*jt(t)/l,jt(r)/l]}y_.invert=uc(function(t){return 2*Bo(t)});function BF(){return qi(y_).scale(250).clipAngle(142)}function __(t,r){return[ql(e_((Be+r)/2)),-t]}__.invert=function(t,r){return[-r,2*Bo(yA(t))-Be]};function HF(){var t=KA(__),r=t.center,s=t.rotate;return t.center=function(l){return arguments.length?r([-l[1],l[0]]):(l=r(),[l[1],-l[0]])},t.rotate=function(l){return arguments.length?s([l[0],l[1],l.length>2?l[2]+90:90]):(l=s(),[l[0],l[1],l[2]-90])},s([0,0,90]).scale(159.155)}function UF(t,r){return t.parent===r.parent?1:2}function WF(t){return t.reduce(qF,0)/t.length}function qF(t,r){return t+r.x}function QF(t){return 1+t.reduce(ZF,0)}function ZF(t,r){return Math.max(t,r.y)}function jF(t){for(var r;r=t.children;)t=r[0];return t}function KF(t){for(var r;r=t.children;)t=r[r.length-1];return t}function JF(){var t=UF,r=1,s=1,l=!1;function g(y){var v,w=0;y.eachAfter(function($){var I=$.children;I?($.x=WF(I),$.y=QF(I)):($.x=v?w+=t($,v):0,$.y=0,v=$)});var T=jF(y),P=KF(y),E=T.x-t(T,P)/2,V=P.x+t(P,T)/2;return y.eachAfter(l?function($){$.x=($.x-y.x)*r,$.y=(y.y-$.y)*s}:function($){$.x=($.x-E)/(V-E)*r,$.y=(1-(y.y?$.y/y.y:1))*s})}return g.separation=function(y){return arguments.length?(t=y,g):t},g.size=function(y){return arguments.length?(l=!1,r=+y[0],s=+y[1],g):l?null:[r,s]},g.nodeSize=function(y){return arguments.length?(l=!0,r=+y[0],s=+y[1],g):l?[r,s]:null},g}function tz(t){var r=0,s=t.children,l=s&&s.length;if(!l)r=1;else for(;--l>=0;)r+=s[l].value;t.value=r}function ez(){return this.eachAfter(tz)}function nz(t){var r=this,s,l=[r],g,y,v;do for(s=l.reverse(),l=[];r=s.pop();)if(t(r),g=r.children,g)for(y=0,v=g.length;y<v;++y)l.push(g[y]);while(l.length);return this}function iz(t){for(var r=this,s=[r],l,g;r=s.pop();)if(t(r),l=r.children,l)for(g=l.length-1;g>=0;--g)s.push(l[g]);return this}function rz(t){for(var r=this,s=[r],l=[],g,y,v;r=s.pop();)if(l.push(r),g=r.children,g)for(y=0,v=g.length;y<v;++y)s.push(g[y]);for(;r=l.pop();)t(r);return this}function az(t){return this.eachAfter(function(r){for(var s=+t(r.data)||0,l=r.children,g=l&&l.length;--g>=0;)s+=l[g].value;r.value=s})}function oz(t){return this.eachBefore(function(r){r.children&&r.children.sort(t)})}function sz(t){for(var r=this,s=uz(r,t),l=[r];r!==s;)r=r.parent,l.push(r);for(var g=l.length;t!==s;)l.splice(g,0,t),t=t.parent;return l}function uz(t,r){if(t===r)return t;var s=t.ancestors(),l=r.ancestors(),g=null;for(t=s.pop(),r=l.pop();t===r;)g=t,t=s.pop(),r=l.pop();return g}function cz(){for(var t=this,r=[t];t=t.parent;)r.push(t);return r}function fz(){var t=[];return this.each(function(r){t.push(r)}),t}function lz(){var t=[];return this.eachBefore(function(r){r.children||t.push(r)}),t}function hz(){var t=this,r=[];return t.each(function(s){s!==t&&r.push({source:s.parent,target:s})}),r}function m_(t,r){var s=new Do(t),l=+t.value&&(s.value=t.value),g,y=[s],v,w,T,P;for(r==null&&(r=gz);g=y.pop();)if(l&&(g.value=+g.data.value),(w=r(g.data))&&(P=w.length))for(g.children=new Array(P),T=P-1;T>=0;--T)y.push(v=g.children[T]=new Do(w[T])),v.parent=g,v.depth=g.depth+1;return s.eachBefore(e3)}function dz(){return m_(this).eachBefore(pz)}function gz(t){return t.children}function pz(t){t.data=t.data.data}function e3(t){var r=0;do t.height=r;while((t=t.parent)&&t.height<++r)}function Do(t){this.data=t,this.depth=this.height=0,this.parent=null}Do.prototype=m_.prototype={constructor:Do,count:ez,each:nz,eachAfter:rz,eachBefore:iz,sum:az,sort:oz,path:sz,ancestors:cz,descendants:fz,leaves:lz,links:hz,copy:dz};var yz=Array.prototype.slice;function _z(t){for(var r=t.length,s,l;r;)l=Math.random()*r--|0,s=t[r],t[r]=t[l],t[l]=s;return t}function n3(t){for(var r=0,s=(t=_z(yz.call(t))).length,l=[],g,y;r<s;)g=t[r],y&&i3(y,g)?++r:(y=vz(l=mz(l,g)),r=0);return y}function mz(t,r){var s,l;if(m0(r,t))return[r];for(s=0;s<t.length;++s)if(ml(r,t[s])&&m0(bu(t[s],r),t))return[t[s],r];for(s=0;s<t.length-1;++s)for(l=s+1;l<t.length;++l)if(ml(bu(t[s],t[l]),r)&&ml(bu(t[s],r),t[l])&&ml(bu(t[l],r),t[s])&&m0(r3(t[s],t[l],r),t))return[t[s],t[l],r];throw new Error}function ml(t,r){var s=t.r-r.r,l=r.x-t.x,g=r.y-t.y;return s<0||s*s<l*l+g*g}function i3(t,r){var s=t.r-r.r+1e-6,l=r.x-t.x,g=r.y-t.y;return s>0&&s*s>l*l+g*g}function m0(t,r){for(var s=0;s<r.length;++s)if(!i3(t,r[s]))return!1;return!0}function vz(t){switch(t.length){case 1:return xz(t[0]);case 2:return bu(t[0],t[1]);case 3:return r3(t[0],t[1],t[2])}}function xz(t){return{x:t.x,y:t.y,r:t.r}}function bu(t,r){var s=t.x,l=t.y,g=t.r,y=r.x,v=r.y,w=r.r,T=y-s,P=v-l,E=w-g,V=Math.sqrt(T*T+P*P);return{x:(s+y+T/V*E)/2,y:(l+v+P/V*E)/2,r:(V+g+w)/2}}function r3(t,r,s){var l=t.x,g=t.y,y=t.r,v=r.x,w=r.y,T=r.r,P=s.x,E=s.y,V=s.r,$=l-v,I=l-P,X=g-w,B=g-E,Y=T-y,Z=V-y,tt=l*l+g*g-y*y,J=tt-v*v-w*w+T*T,rt=tt-P*P-E*E+V*V,ft=I*X-$*B,gt=(X*rt-B*J)/(ft*2)-l,lt=(B*Y-X*Z)/ft,W=(I*J-$*rt)/(ft*2)-g,dt=($*Z-I*Y)/ft,F=lt*lt+dt*dt-1,vt=2*(y+gt*lt+W*dt),et=gt*gt+W*W-y*y,_t=-(F?(vt+Math.sqrt(vt*vt-4*F*et))/(2*F):et/vt);return{x:l+gt+lt*_t,y:g+W+dt*_t,r:_t}}function sS(t,r,s){var l=t.x-r.x,g,y,v=t.y-r.y,w,T,P=l*l+v*v;P?(y=r.r+s.r,y*=y,T=t.r+s.r,T*=T,y>T?(g=(P+T-y)/(2*P),w=Math.sqrt(Math.max(0,T/P-g*g)),s.x=t.x-g*l-w*v,s.y=t.y-g*v+w*l):(g=(P+y-T)/(2*P),w=Math.sqrt(Math.max(0,y/P-g*g)),s.x=r.x+g*l-w*v,s.y=r.y+g*v+w*l)):(s.x=r.x+s.r,s.y=r.y)}function uS(t,r){var s=t.r+r.r-1e-6,l=r.x-t.x,g=r.y-t.y;return s>0&&s*s>l*l+g*g}function cS(t){var r=t._,s=t.next._,l=r.r+s.r,g=(r.x*s.r+s.x*r.r)/l,y=(r.y*s.r+s.y*r.r)/l;return g*g+y*y}function vl(t){this._=t,this.next=null,this.previous=null}function a3(t){if(!(g=t.length))return 0;var r,s,l,g,y,v,w,T,P,E,V;if(r=t[0],r.x=0,r.y=0,!(g>1))return r.r;if(s=t[1],r.x=-s.r,s.x=r.r,s.y=0,!(g>2))return r.r+s.r;sS(s,r,l=t[2]),r=new vl(r),s=new vl(s),l=new vl(l),r.next=l.previous=s,s.next=r.previous=l,l.next=s.previous=r;t:for(w=3;w<g;++w){sS(r._,s._,l=t[w]),l=new vl(l),T=s.next,P=r.previous,E=s._.r,V=r._.r;do if(E<=V){if(uS(T._,l._)){s=T,r.next=s,s.previous=r,--w;continue t}E+=T._.r,T=T.next}else{if(uS(P._,l._)){r=P,r.next=s,s.previous=r,--w;continue t}V+=P._.r,P=P.previous}while(T!==P.next);for(l.previous=r,l.next=s,r.next=s.previous=s=l,y=cS(r);(l=l.next)!==s;)(v=cS(l))<y&&(r=l,y=v);s=r.next}for(r=[s._],l=s;(l=l.next)!==s;)r.push(l._);for(l=n3(r),w=0;w<g;++w)r=t[w],r.x-=l.x,r.y-=l.y;return l.r}function wz(t){return a3(t),t}function bz(t){return t==null?null:yh(t)}function yh(t){if(typeof t!="function")throw new Error;return t}function _a(){return 0}function wo(t){return function(){return t}}function Sz(t){return Math.sqrt(t.value)}function Tz(){var t=null,r=1,s=1,l=_a;function g(y){return y.x=r/2,y.y=s/2,t?y.eachBefore(fS(t)).eachAfter(v0(l,.5)).eachBefore(lS(1)):y.eachBefore(fS(Sz)).eachAfter(v0(_a,1)).eachAfter(v0(l,y.r/Math.min(r,s))).eachBefore(lS(Math.min(r,s)/(2*y.r))),y}return g.radius=function(y){return arguments.length?(t=bz(y),g):t},g.size=function(y){return arguments.length?(r=+y[0],s=+y[1],g):[r,s]},g.padding=function(y){return arguments.length?(l=typeof y=="function"?y:wo(+y),g):l},g}function fS(t){return function(r){r.children||(r.r=Math.max(0,+t(r)||0))}}function v0(t,r){return function(s){if(l=s.children){var l,g,y=l.length,v=t(s)*r||0,w;if(v)for(g=0;g<y;++g)l[g].r+=v;if(w=a3(l),v)for(g=0;g<y;++g)l[g].r-=v;s.r=w+v}}}function lS(t){return function(r){var s=r.parent;r.r*=t,s&&(r.x=s.x+t*r.x,r.y=s.y+t*r.y)}}function o3(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function fc(t,r,s,l,g){for(var y=t.children,v,w=-1,T=y.length,P=t.value&&(l-r)/t.value;++w<T;)v=y[w],v.y0=s,v.y1=g,v.x0=r,v.x1=r+=v.value*P}function Az(){var t=1,r=1,s=0,l=!1;function g(v){var w=v.height+1;return v.x0=v.y0=s,v.x1=t,v.y1=r/w,v.eachBefore(y(r,w)),l&&v.eachBefore(o3),v}function y(v,w){return function(T){T.children&&fc(T,T.x0,v*(T.depth+1)/w,T.x1,v*(T.depth+2)/w);var P=T.x0,E=T.y0,V=T.x1-s,$=T.y1-s;V<P&&(P=V=(P+V)/2),$<E&&(E=$=(E+$)/2),T.x0=P,T.y0=E,T.x1=V,T.y1=$}}return g.round=function(v){return arguments.length?(l=!!v,g):l},g.size=function(v){return arguments.length?(t=+v[0],r=+v[1],g):[t,r]},g.padding=function(v){return arguments.length?(s=+v,g):s},g}var hS="$",Pz={depth:-1},dS={};function Cz(t){return t.id}function Lz(t){return t.parentId}function Mz(){var t=Cz,r=Lz;function s(l){var g,y,v=l.length,w,T,P,E=new Array(v),V,$,I={};for(y=0;y<v;++y)g=l[y],P=E[y]=new Do(g),(V=t(g,y,l))!=null&&(V+="")&&($=hS+(P.id=V),I[$]=$ in I?dS:P);for(y=0;y<v;++y)if(P=E[y],V=r(l[y],y,l),V==null||!(V+="")){if(w)throw new Error("multiple roots");w=P}else{if(T=I[hS+V],!T)throw new Error("missing: "+V);if(T===dS)throw new Error("ambiguous: "+V);T.children?T.children.push(P):T.children=[P],P.parent=T}if(!w)throw new Error("no root");if(w.parent=Pz,w.eachBefore(function(X){X.depth=X.parent.depth+1,--v}).eachBefore(e3),w.parent=null,v>0)throw new Error("cycle");return w}return s.id=function(l){return arguments.length?(t=yh(l),s):t},s.parentId=function(l){return arguments.length?(r=yh(l),s):r},s}function $z(t,r){return t.parent===r.parent?1:2}function x0(t){var r=t.children;return r?r[0]:t.t}function w0(t){var r=t.children;return r?r[r.length-1]:t.t}function Ez(t,r,s){var l=s/(r.i-t.i);r.c-=l,r.s+=s,t.c+=l,r.z+=s,r.m+=s}function kz(t){for(var r=0,s=0,l=t.children,g=l.length,y;--g>=0;)y=l[g],y.z+=r,y.m+=r,r+=y.s+(s+=y.c)}function Rz(t,r,s){return t.a.parent===r.parent?t.a:s}function Vl(t,r){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}Vl.prototype=Object.create(Do.prototype);function Vz(t){for(var r=new Vl(t,0),s,l=[r],g,y,v,w;s=l.pop();)if(y=s._.children)for(s.children=new Array(w=y.length),v=w-1;v>=0;--v)l.push(g=s.children[v]=new Vl(y[v],v)),g.parent=s;return(r.parent=new Vl(null,0)).children=[r],r}function Gz(){var t=$z,r=1,s=1,l=null;function g(P){var E=Vz(P);if(E.eachAfter(y),E.parent.m=-E.z,E.eachBefore(v),l)P.eachBefore(T);else{var V=P,$=P,I=P;P.eachBefore(function(tt){tt.x<V.x&&(V=tt),tt.x>$.x&&($=tt),tt.depth>I.depth&&(I=tt)});var X=V===$?1:t(V,$)/2,B=X-V.x,Y=r/($.x+X+B),Z=s/(I.depth||1);P.eachBefore(function(tt){tt.x=(tt.x+B)*Y,tt.y=tt.depth*Z})}return P}function y(P){var E=P.children,V=P.parent.children,$=P.i?V[P.i-1]:null;if(E){kz(P);var I=(E[0].z+E[E.length-1].z)/2;$?(P.z=$.z+t(P._,$._),P.m=P.z-I):P.z=I}else $&&(P.z=$.z+t(P._,$._));P.parent.A=w(P,$,P.parent.A||V[0])}function v(P){P._.x=P.z+P.parent.m,P.m+=P.parent.m}function w(P,E,V){if(E){for(var $=P,I=P,X=E,B=$.parent.children[0],Y=$.m,Z=I.m,tt=X.m,J=B.m,rt;X=w0(X),$=x0($),X&&$;)B=x0(B),I=w0(I),I.a=P,rt=X.z+tt-$.z-Y+t(X._,$._),rt>0&&(Ez(Rz(X,P,V),P,rt),Y+=rt,Z+=rt),tt+=X.m,Y+=$.m,J+=B.m,Z+=I.m;X&&!w0(I)&&(I.t=X,I.m+=tt-Z),$&&!x0(B)&&(B.t=$,B.m+=Y-J,V=P)}return V}function T(P){P.x*=r,P.y=P.depth*s}return g.separation=function(P){return arguments.length?(t=P,g):t},g.size=function(P){return arguments.length?(l=!1,r=+P[0],s=+P[1],g):l?null:[r,s]},g.nodeSize=function(P){return arguments.length?(l=!0,r=+P[0],s=+P[1],g):l?[r,s]:null},g}function qh(t,r,s,l,g){for(var y=t.children,v,w=-1,T=y.length,P=t.value&&(g-s)/t.value;++w<T;)v=y[w],v.x0=r,v.x1=l,v.y0=s,v.y1=s+=v.value*P}var s3=(1+Math.sqrt(5))/2;function u3(t,r,s,l,g,y){for(var v=[],w=r.children,T,P,E=0,V=0,$=w.length,I,X,B=r.value,Y,Z,tt,J,rt,ft,gt;E<$;){I=g-s,X=y-l;do Y=w[V++].value;while(!Y&&V<$);for(Z=tt=Y,ft=Math.max(X/I,I/X)/(B*t),gt=Y*Y*ft,rt=Math.max(tt/gt,gt/Z);V<$;++V){if(Y+=P=w[V].value,P<Z&&(Z=P),P>tt&&(tt=P),gt=Y*Y*ft,J=Math.max(tt/gt,gt/Z),J>rt){Y-=P;break}rt=J}v.push(T={value:Y,dice:I<X,children:w.slice(E,V)}),T.dice?fc(T,s,l,g,B?l+=X*Y/B:y):qh(T,s,l,B?s+=I*Y/B:g,y),B-=Y,E=V}return v}const c3=function t(r){function s(l,g,y,v,w){u3(r,l,g,y,v,w)}return s.ratio=function(l){return t((l=+l)>1?l:1)},s}(s3);function Oz(){var t=c3,r=!1,s=1,l=1,g=[0],y=_a,v=_a,w=_a,T=_a,P=_a;function E($){return $.x0=$.y0=0,$.x1=s,$.y1=l,$.eachBefore(V),g=[0],r&&$.eachBefore(o3),$}function V($){var I=g[$.depth],X=$.x0+I,B=$.y0+I,Y=$.x1-I,Z=$.y1-I;Y<X&&(X=Y=(X+Y)/2),Z<B&&(B=Z=(B+Z)/2),$.x0=X,$.y0=B,$.x1=Y,$.y1=Z,$.children&&(I=g[$.depth+1]=y($)/2,X+=P($)-I,B+=v($)-I,Y-=w($)-I,Z-=T($)-I,Y<X&&(X=Y=(X+Y)/2),Z<B&&(B=Z=(B+Z)/2),t($,X,B,Y,Z))}return E.round=function($){return arguments.length?(r=!!$,E):r},E.size=function($){return arguments.length?(s=+$[0],l=+$[1],E):[s,l]},E.tile=function($){return arguments.length?(t=yh($),E):t},E.padding=function($){return arguments.length?E.paddingInner($).paddingOuter($):E.paddingInner()},E.paddingInner=function($){return arguments.length?(y=typeof $=="function"?$:wo(+$),E):y},E.paddingOuter=function($){return arguments.length?E.paddingTop($).paddingRight($).paddingBottom($).paddingLeft($):E.paddingTop()},E.paddingTop=function($){return arguments.length?(v=typeof $=="function"?$:wo(+$),E):v},E.paddingRight=function($){return arguments.length?(w=typeof $=="function"?$:wo(+$),E):w},E.paddingBottom=function($){return arguments.length?(T=typeof $=="function"?$:wo(+$),E):T},E.paddingLeft=function($){return arguments.length?(P=typeof $=="function"?$:wo(+$),E):P},E}function Nz(t,r,s,l,g){var y=t.children,v,w=y.length,T,P=new Array(w+1);for(P[0]=T=v=0;v<w;++v)P[v+1]=T+=y[v].value;E(0,w,t.value,r,s,l,g);function E(V,$,I,X,B,Y,Z){if(V>=$-1){var tt=y[V];tt.x0=X,tt.y0=B,tt.x1=Y,tt.y1=Z;return}for(var J=P[V],rt=I/2+J,ft=V+1,gt=$-1;ft<gt;){var lt=ft+gt>>>1;P[lt]<rt?ft=lt+1:gt=lt}rt-P[ft-1]<P[ft]-rt&&V+1<ft&&--ft;var W=P[ft]-J,dt=I-W;if(Y-X>Z-B){var F=(X*dt+Y*W)/I;E(V,ft,W,X,B,F,Z),E(ft,$,dt,F,B,Y,Z)}else{var vt=(B*dt+Z*W)/I;E(V,ft,W,X,B,Y,vt),E(ft,$,dt,X,vt,Y,Z)}}}function Iz(t,r,s,l,g){(t.depth&1?qh:fc)(t,r,s,l,g)}const Dz=function t(r){function s(l,g,y,v,w){if((T=l._squarify)&&T.ratio===r)for(var T,P,E,V,$=-1,I,X=T.length,B=l.value;++$<X;){for(P=T[$],E=P.children,V=P.value=0,I=E.length;V<I;++V)P.value+=E[V].value;P.dice?fc(P,g,y,v,y+=(w-y)*P.value/B):qh(P,g,y,g+=(v-g)*P.value/B,w),B-=P.value}else l._squarify=T=u3(r,l,g,y,v,w),T.ratio=r}return s.ratio=function(l){return t((l=+l)>1?l:1)},s}(s3);function Fz(t){for(var r=-1,s=t.length,l,g=t[s-1],y=0;++r<s;)l=g,g=t[r],y+=l[1]*g[0]-l[0]*g[1];return y/2}function zz(t){for(var r=-1,s=t.length,l=0,g=0,y,v=t[s-1],w,T=0;++r<s;)y=v,v=t[r],T+=w=y[0]*v[1]-v[0]*y[1],l+=(y[0]+v[0])*w,g+=(y[1]+v[1])*w;return T*=3,[l/T,g/T]}function Xz(t,r,s){return(r[0]-t[0])*(s[1]-t[1])-(r[1]-t[1])*(s[0]-t[0])}function Yz(t,r){return t[0]-r[0]||t[1]-r[1]}function gS(t){for(var r=t.length,s=[0,1],l=2,g=2;g<r;++g){for(;l>1&&Xz(t[s[l-2]],t[s[l-1]],t[g])<=0;)--l;s[l++]=g}return s.slice(0,l)}function Bz(t){if((s=t.length)<3)return null;var r,s,l=new Array(s),g=new Array(s);for(r=0;r<s;++r)l[r]=[+t[r][0],+t[r][1],r];for(l.sort(Yz),r=0;r<s;++r)g[r]=[l[r][0],-l[r][1]];var y=gS(l),v=gS(g),w=v[0]===y[0],T=v[v.length-1]===y[y.length-1],P=[];for(r=y.length-1;r>=0;--r)P.push(t[l[y[r]][2]]);for(r=+w;r<v.length-T;++r)P.push(t[l[v[r]][2]]);return P}function Hz(t,r){for(var s=t.length,l=t[s-1],g=r[0],y=r[1],v=l[0],w=l[1],T,P,E=!1,V=0;V<s;++V)l=t[V],T=l[0],P=l[1],P>y!=w>y&&g<(v-T)*(y-P)/(w-P)+T&&(E=!E),v=T,w=P;return E}function Uz(t){for(var r=-1,s=t.length,l=t[s-1],g,y,v=l[0],w=l[1],T=0;++r<s;)g=v,y=w,l=t[r],v=l[0],w=l[1],g-=v,y-=w,T+=Math.sqrt(g*g+y*y);return T}function Ho(){return Math.random()}const Wz=function t(r){function s(l,g){return l=l==null?0:+l,g=g==null?1:+g,arguments.length===1?(g=l,l=0):g-=l,function(){return r()*g+l}}return s.source=t,s}(Ho),f3=function t(r){function s(l,g){var y,v;return l=l==null?0:+l,g=g==null?1:+g,function(){var w;if(y!=null)w=y,y=null;else do y=r()*2-1,w=r()*2-1,v=y*y+w*w;while(!v||v>1);return l+g*w*Math.sqrt(-2*Math.log(v)/v)}}return s.source=t,s}(Ho),qz=function t(r){function s(){var l=f3.source(r).apply(this,arguments);return function(){return Math.exp(l())}}return s.source=t,s}(Ho),l3=function t(r){function s(l){return function(){for(var g=0,y=0;y<l;++y)g+=r();return g}}return s.source=t,s}(Ho),Qz=function t(r){function s(l){var g=l3.source(r)(l);return function(){return g()/l}}return s.source=t,s}(Ho),Zz=function t(r){function s(l){return function(){return-Math.log(1-r())/l}}return s.source=t,s}(Ho);function Mi(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function _r(t,r){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(r).domain(t);break}return this}var h3=Array.prototype,_h=h3.map,Ca=h3.slice,Sy={name:"implicit"};function v_(){var t=hr(),r=[],s=[],l=Sy;function g(y){var v=y+"",w=t.get(v);if(!w){if(l!==Sy)return l;t.set(v,w=r.push(y))}return s[(w-1)%s.length]}return g.domain=function(y){if(!arguments.length)return r.slice();r=[],t=hr();for(var v=-1,w=y.length,T,P;++v<w;)t.has(P=(T=y[v])+"")||t.set(P,r.push(T));return g},g.range=function(y){return arguments.length?(s=Ca.call(y),g):s.slice()},g.unknown=function(y){return arguments.length?(l=y,g):l},g.copy=function(){return v_(r,s).unknown(l)},Mi.apply(g,arguments),g}function x_(){var t=v_().unknown(void 0),r=t.domain,s=t.range,l=[0,1],g,y,v=!1,w=0,T=0,P=.5;delete t.unknown;function E(){var V=r().length,$=l[1]<l[0],I=l[$-0],X=l[1-$];g=(X-I)/Math.max(1,V-w+T*2),v&&(g=Math.floor(g)),I+=(X-I-g*(V-w))*P,y=g*(1-w),v&&(I=Math.round(I),y=Math.round(y));var B=ei(V).map(function(Y){return I+g*Y});return s($?B.reverse():B)}return t.domain=function(V){return arguments.length?(r(V),E()):r()},t.range=function(V){return arguments.length?(l=[+V[0],+V[1]],E()):l.slice()},t.rangeRound=function(V){return l=[+V[0],+V[1]],v=!0,E()},t.bandwidth=function(){return y},t.step=function(){return g},t.round=function(V){return arguments.length?(v=!!V,E()):v},t.padding=function(V){return arguments.length?(w=Math.min(1,T=+V),E()):w},t.paddingInner=function(V){return arguments.length?(w=Math.min(1,V),E()):w},t.paddingOuter=function(V){return arguments.length?(T=+V,E()):T},t.align=function(V){return arguments.length?(P=Math.max(0,Math.min(1,V)),E()):P},t.copy=function(){return x_(r(),l).round(v).paddingInner(w).paddingOuter(T).align(P)},Mi.apply(E(),arguments)}function d3(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return d3(r())},t}function jz(){return d3(x_.apply(null,arguments).paddingInner(1))}function Kz(t){return function(){return t}}function Ty(t){return+t}var pS=[0,1];function hn(t){return t}function Ay(t,r){return(r-=t=+t)?function(s){return(s-t)/r}:Kz(isNaN(r)?NaN:.5)}function yS(t){var r=t[0],s=t[t.length-1],l;return r>s&&(l=r,r=s,s=l),function(g){return Math.max(r,Math.min(s,g))}}function Jz(t,r,s){var l=t[0],g=t[1],y=r[0],v=r[1];return g<l?(l=Ay(g,l),y=s(v,y)):(l=Ay(l,g),y=s(y,v)),function(w){return y(l(w))}}function tX(t,r,s){var l=Math.min(t.length,r.length)-1,g=new Array(l),y=new Array(l),v=-1;for(t[l]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++v<l;)g[v]=Ay(t[v],t[v+1]),y[v]=s(r[v],r[v+1]);return function(w){var T=Rr(t,w,1,l)-1;return y[T](g[T](w))}}function lc(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qh(){var t=pS,r=pS,s=ac,l,g,y,v=hn,w,T,P;function E(){return w=Math.min(t.length,r.length)>2?tX:Jz,T=P=null,V}function V($){return isNaN($=+$)?y:(T||(T=w(t.map(l),r,s)))(l(v($)))}return V.invert=function($){return v(g((P||(P=w(r,t.map(l),di)))($)))},V.domain=function($){return arguments.length?(t=_h.call($,Ty),v===hn||(v=yS(t)),E()):t.slice()},V.range=function($){return arguments.length?(r=Ca.call($),E()):r.slice()},V.rangeRound=function($){return r=Ca.call($),s=OT,E()},V.clamp=function($){return arguments.length?(v=$?yS(t):hn,V):v!==hn},V.interpolate=function($){return arguments.length?(s=$,E()):s},V.unknown=function($){return arguments.length?(y=$,V):y},function($,I){return l=$,g=I,E()}}function g3(t,r){return Qh()(t,r)}function p3(t,r,s,l){var g=wa(t,r,s),y;switch(l=Hu(l??",f"),l.type){case"s":{var v=Math.max(Math.abs(t),Math.abs(r));return l.precision==null&&!isNaN(y=gA(g,v))&&(l.precision=y),t_(l,v)}case"":case"e":case"g":case"p":case"r":{l.precision==null&&!isNaN(y=pA(g,Math.max(Math.abs(t),Math.abs(r))))&&(l.precision=y-(l.type==="e"));break}case"f":case"%":{l.precision==null&&!isNaN(y=dA(g))&&(l.precision=y-(l.type==="%")*2);break}}return Hh(l)}function Oa(t){var r=t.domain;return t.ticks=function(s){var l=r();return Ey(l[0],l[l.length-1],s??10)},t.tickFormat=function(s,l){var g=r();return p3(g[0],g[g.length-1],s??10,l)},t.nice=function(s){s==null&&(s=10);var l=r(),g=0,y=l.length-1,v=l[g],w=l[y],T;return w<v&&(T=v,v=w,w=T,T=g,g=y,y=T),T=Mu(v,w,s),T>0?(v=Math.floor(v/T)*T,w=Math.ceil(w/T)*T,T=Mu(v,w,s)):T<0&&(v=Math.ceil(v*T)/T,w=Math.floor(w*T)/T,T=Mu(v,w,s)),T>0?(l[g]=Math.floor(v/T)*T,l[y]=Math.ceil(w/T)*T,r(l)):T<0&&(l[g]=Math.ceil(v*T)/T,l[y]=Math.floor(w*T)/T,r(l)),t},t}function y3(){var t=g3(hn,hn);return t.copy=function(){return lc(t,y3())},Mi.apply(t,arguments),Oa(t)}function _3(t){var r;function s(l){return isNaN(l=+l)?r:l}return s.invert=s,s.domain=s.range=function(l){return arguments.length?(t=_h.call(l,Ty),s):t.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return _3(t).unknown(r)},t=arguments.length?_h.call(t,Ty):[0,1],Oa(s)}function m3(t,r){t=t.slice();var s=0,l=t.length-1,g=t[s],y=t[l],v;return y<g&&(v=s,s=l,l=v,v=g,g=y,y=v),t[s]=r.floor(g),t[l]=r.ceil(y),t}function _S(t){return Math.log(t)}function mS(t){return Math.exp(t)}function eX(t){return-Math.log(-t)}function nX(t){return-Math.exp(-t)}function iX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rX(t){return t===10?iX:t===Math.E?Math.exp:function(r){return Math.pow(t,r)}}function aX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(r){return Math.log(r)/t})}function vS(t){return function(r){return-t(-r)}}function w_(t){var r=t(_S,mS),s=r.domain,l=10,g,y;function v(){return g=aX(l),y=rX(l),s()[0]<0?(g=vS(g),y=vS(y),t(eX,nX)):t(_S,mS),r}return r.base=function(w){return arguments.length?(l=+w,v()):l},r.domain=function(w){return arguments.length?(s(w),v()):s()},r.ticks=function(w){var T=s(),P=T[0],E=T[T.length-1],V;(V=E<P)&&($=P,P=E,E=$);var $=g(P),I=g(E),X,B,Y,Z=w==null?10:+w,tt=[];if(!(l%1)&&I-$<Z){if($=Math.round($)-1,I=Math.round(I)+1,P>0){for(;$<I;++$)for(B=1,X=y($);B<l;++B)if(Y=X*B,!(Y<P)){if(Y>E)break;tt.push(Y)}}else for(;$<I;++$)for(B=l-1,X=y($);B>=1;--B)if(Y=X*B,!(Y<P)){if(Y>E)break;tt.push(Y)}}else tt=Ey($,I,Math.min(I-$,Z)).map(y);return V?tt.reverse():tt},r.tickFormat=function(w,T){if(T==null&&(T=l===10?".0e":","),typeof T!="function"&&(T=Hh(T)),w===1/0)return T;w==null&&(w=10);var P=Math.max(1,l*w/r.ticks().length);return function(E){var V=E/y(Math.round(g(E)));return V*l<l-.5&&(V*=l),V<=P?T(E):""}},r.nice=function(){return s(m3(s(),{floor:function(w){return y(Math.floor(g(w)))},ceil:function(w){return y(Math.ceil(g(w)))}}))},r}function v3(){var t=w_(Qh()).domain([1,10]);return t.copy=function(){return lc(t,v3()).base(t.base())},Mi.apply(t,arguments),t}function xS(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function wS(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function b_(t){var r=1,s=t(xS(r),wS(r));return s.constant=function(l){return arguments.length?t(xS(r=+l),wS(r)):r},Oa(s)}function x3(){var t=b_(Qh());return t.copy=function(){return lc(t,x3()).constant(t.constant())},Mi.apply(t,arguments)}function bS(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function oX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sX(t){return t<0?-t*t:t*t}function S_(t){var r=t(hn,hn),s=1;function l(){return s===1?t(hn,hn):s===.5?t(oX,sX):t(bS(s),bS(1/s))}return r.exponent=function(g){return arguments.length?(s=+g,l()):s},Oa(r)}function T_(){var t=S_(Qh());return t.copy=function(){return lc(t,T_()).exponent(t.exponent())},Mi.apply(t,arguments),t}function uX(){return T_.apply(null,arguments).exponent(.5)}function w3(){var t=[],r=[],s=[],l;function g(){var v=0,w=Math.max(1,r.length);for(s=new Array(w-1);++v<w;)s[v-1]=Gu(t,v/w);return y}function y(v){return isNaN(v=+v)?l:r[Rr(s,v)]}return y.invertExtent=function(v){var w=r.indexOf(v);return w<0?[NaN,NaN]:[w>0?s[w-1]:t[0],w<s.length?s[w]:t[t.length-1]]},y.domain=function(v){if(!arguments.length)return t.slice();t=[];for(var w=0,T=v.length,P;w<T;++w)P=v[w],P!=null&&!isNaN(P=+P)&&t.push(P);return t.sort(Dr),g()},y.range=function(v){return arguments.length?(r=Ca.call(v),g()):r.slice()},y.unknown=function(v){return arguments.length?(l=v,y):l},y.quantiles=function(){return s.slice()},y.copy=function(){return w3().domain(t).range(r).unknown(l)},Mi.apply(y,arguments)}function b3(){var t=0,r=1,s=1,l=[.5],g=[0,1],y;function v(T){return T<=T?g[Rr(l,T,0,s)]:y}function w(){var T=-1;for(l=new Array(s);++T<s;)l[T]=((T+1)*r-(T-s)*t)/(s+1);return v}return v.domain=function(T){return arguments.length?(t=+T[0],r=+T[1],w()):[t,r]},v.range=function(T){return arguments.length?(s=(g=Ca.call(T)).length-1,w()):g.slice()},v.invertExtent=function(T){var P=g.indexOf(T);return P<0?[NaN,NaN]:P<1?[t,l[0]]:P>=s?[l[s-1],r]:[l[P-1],l[P]]},v.unknown=function(T){return arguments.length&&(y=T),v},v.thresholds=function(){return l.slice()},v.copy=function(){return b3().domain([t,r]).range(g).unknown(y)},Mi.apply(Oa(v),arguments)}function S3(){var t=[.5],r=[0,1],s,l=1;function g(y){return y<=y?r[Rr(t,y,0,l)]:s}return g.domain=function(y){return arguments.length?(t=Ca.call(y),l=Math.min(t.length,r.length-1),g):t.slice()},g.range=function(y){return arguments.length?(r=Ca.call(y),l=Math.min(t.length,r.length-1),g):r.slice()},g.invertExtent=function(y){var v=r.indexOf(y);return[t[v-1],t[v]]},g.unknown=function(y){return arguments.length?(s=y,g):s},g.copy=function(){return S3().domain(t).range(r).unknown(s)},Mi.apply(g,arguments)}var b0=new Date,S0=new Date;function en(t,r,s,l){function g(y){return t(y=arguments.length===0?new Date:new Date(+y)),y}return g.floor=function(y){return t(y=new Date(+y)),y},g.ceil=function(y){return t(y=new Date(y-1)),r(y,1),t(y),y},g.round=function(y){var v=g(y),w=g.ceil(y);return y-v<w-y?v:w},g.offset=function(y,v){return r(y=new Date(+y),v==null?1:Math.floor(v)),y},g.range=function(y,v,w){var T=[],P;if(y=g.ceil(y),w=w==null?1:Math.floor(w),!(y<v)||!(w>0))return T;do T.push(P=new Date(+y)),r(y,w),t(y);while(P<y&&y<v);return T},g.filter=function(y){return en(function(v){if(v>=v)for(;t(v),!y(v);)v.setTime(v-1)},function(v,w){if(v>=v)if(w<0)for(;++w<=0;)for(;r(v,-1),!y(v););else for(;--w>=0;)for(;r(v,1),!y(v););})},s&&(g.count=function(y,v){return b0.setTime(+y),S0.setTime(+v),t(b0),t(S0),Math.floor(s(b0,S0))},g.every=function(y){return y=Math.floor(y),!isFinite(y)||!(y>0)?null:y>1?g.filter(l?function(v){return l(v)%y===0}:function(v){return g.count(0,v)%y===0}):g}),g}var La=en(function(){},function(t,r){t.setTime(+t+r)},function(t,r){return r-t});La.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?en(function(r){r.setTime(Math.floor(r/t)*t)},function(r,s){r.setTime(+r+s*t)},function(r,s){return(s-r)/t}):La};var SS=La.range,mh=1e3,Ma=6e4,vh=36e5,T3=864e5,A3=6048e5,Zu=en(function(t){t.setTime(t-t.getMilliseconds())},function(t,r){t.setTime(+t+r*mh)},function(t,r){return(r-t)/mh},function(t){return t.getUTCSeconds()}),TS=Zu.range,A_=en(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*mh)},function(t,r){t.setTime(+t+r*Ma)},function(t,r){return(r-t)/Ma},function(t){return t.getMinutes()}),cX=A_.range,P_=en(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*mh-t.getMinutes()*Ma)},function(t,r){t.setTime(+t+r*vh)},function(t,r){return(r-t)/vh},function(t){return t.getHours()}),fX=P_.range,hc=en(function(t){t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ma)/T3},function(t){return t.getDate()-1}),lX=hc.range;function Na(t){return en(function(r){r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},function(r,s){r.setDate(r.getDate()+s*7)},function(r,s){return(s-r-(s.getTimezoneOffset()-r.getTimezoneOffset())*Ma)/A3})}var ju=Na(0),Ku=Na(1),P3=Na(2),C3=Na(3),$a=Na(4),L3=Na(5),M3=Na(6),AS=ju.range,hX=Ku.range,dX=P3.range,gX=C3.range,pX=$a.range,yX=L3.range,_X=M3.range,C_=en(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,r){t.setMonth(t.getMonth()+r)},function(t,r){return r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),mX=C_.range,gr=en(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r)},function(t,r){return r.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});gr.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:en(function(r){r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,s){r.setFullYear(r.getFullYear()+s*t)})};var vX=gr.range,L_=en(function(t){t.setUTCSeconds(0,0)},function(t,r){t.setTime(+t+r*Ma)},function(t,r){return(r-t)/Ma},function(t){return t.getUTCMinutes()}),xX=L_.range,M_=en(function(t){t.setUTCMinutes(0,0,0)},function(t,r){t.setTime(+t+r*vh)},function(t,r){return(r-t)/vh},function(t){return t.getUTCHours()}),wX=M_.range,dc=en(function(t){t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r)},function(t,r){return(r-t)/T3},function(t){return t.getUTCDate()-1}),bX=dc.range;function Ia(t){return en(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},function(r,s){r.setUTCDate(r.getUTCDate()+s*7)},function(r,s){return(s-r)/A3})}var Ju=Ia(0),tc=Ia(1),$3=Ia(2),E3=Ia(3),Ea=Ia(4),k3=Ia(5),R3=Ia(6),PS=Ju.range,SX=tc.range,TX=$3.range,AX=E3.range,PX=Ea.range,CX=k3.range,LX=R3.range,$_=en(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCMonth(t.getUTCMonth()+r)},function(t,r){return r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),MX=$_.range,pr=en(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r)},function(t,r){return r.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});pr.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:en(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,s){r.setUTCFullYear(r.getUTCFullYear()+s*t)})};var $X=pr.range;function T0(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function A0(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ou(t,r,s){return{y:t,m:r,d:s,H:0,M:0,S:0,L:0}}function V3(t){var r=t.dateTime,s=t.date,l=t.time,g=t.periods,y=t.days,v=t.shortDays,w=t.months,T=t.shortMonths,P=su(g),E=uu(g),V=su(y),$=uu(y),I=su(v),X=uu(v),B=su(w),Y=uu(w),Z=su(T),tt=uu(T),J={a:o,A:f,b:e,B:i,c:null,d:kS,e:kS,f:JX,g:cY,G:lY,H:ZX,I:jX,j:KX,L:G3,m:tY,M:eY,p:u,q:d,Q:GS,s:OS,S:nY,u:iY,U:rY,V:aY,w:oY,W:sY,x:null,X:null,y:uY,Y:fY,Z:hY,"%":VS},rt={a:m,A:S,b:L,B:M,c:null,d:RS,e:RS,f:yY,g:PY,G:LY,H:dY,I:gY,j:pY,L:N3,m:_Y,M:mY,p:N,q:O,Q:GS,s:OS,S:vY,u:xY,U:wY,V:bY,w:SY,W:TY,x:null,X:null,y:AY,Y:CY,Z:MY,"%":VS},ft={a:F,A:vt,b:et,B:_t,c:Mt,d:$S,e:$S,f:UX,g:MS,G:LS,H:ES,I:ES,j:XX,L:HX,m:zX,M:YX,p:dt,q:FX,Q:qX,s:QX,S:BX,u:GX,U:OX,V:NX,w:VX,W:IX,x:pt,X:Lt,y:MS,Y:LS,Z:DX,"%":WX};J.x=gt(s,J),J.X=gt(l,J),J.c=gt(r,J),rt.x=gt(s,rt),rt.X=gt(l,rt),rt.c=gt(r,rt);function gt(H,z){return function(nt){var Q=[],ut=-1,ct=0,St=H.length,Ct,It,Dt;for(nt instanceof Date||(nt=new Date(+nt));++ut<St;)H.charCodeAt(ut)===37&&(Q.push(H.slice(ct,ut)),(It=CS[Ct=H.charAt(++ut)])!=null?Ct=H.charAt(++ut):It=Ct==="e"?" ":"0",(Dt=z[Ct])&&(Ct=Dt(nt,It)),Q.push(Ct),ct=ut+1);return Q.push(H.slice(ct,ut)),Q.join("")}}function lt(H,z){return function(nt){var Q=ou(1900,void 0,1),ut=W(Q,H,nt+="",0),ct,St;if(ut!=nt.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(z&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(ct=A0(ou(Q.y,0,1)),St=ct.getUTCDay(),ct=St>4||St===0?tc.ceil(ct):tc(ct),ct=dc.offset(ct,(Q.V-1)*7),Q.y=ct.getUTCFullYear(),Q.m=ct.getUTCMonth(),Q.d=ct.getUTCDate()+(Q.w+6)%7):(ct=T0(ou(Q.y,0,1)),St=ct.getDay(),ct=St>4||St===0?Ku.ceil(ct):Ku(ct),ct=hc.offset(ct,(Q.V-1)*7),Q.y=ct.getFullYear(),Q.m=ct.getMonth(),Q.d=ct.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),St="Z"in Q?A0(ou(Q.y,0,1)).getUTCDay():T0(ou(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(St+5)%7:Q.w+Q.U*7-(St+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,A0(Q)):T0(Q)}}function W(H,z,nt,Q){for(var ut=0,ct=z.length,St=nt.length,Ct,It;ut<ct;){if(Q>=St)return-1;if(Ct=z.charCodeAt(ut++),Ct===37){if(Ct=z.charAt(ut++),It=ft[Ct in CS?z.charAt(ut++):Ct],!It||(Q=It(H,nt,Q))<0)return-1}else if(Ct!=nt.charCodeAt(Q++))return-1}return Q}function dt(H,z,nt){var Q=P.exec(z.slice(nt));return Q?(H.p=E[Q[0].toLowerCase()],nt+Q[0].length):-1}function F(H,z,nt){var Q=I.exec(z.slice(nt));return Q?(H.w=X[Q[0].toLowerCase()],nt+Q[0].length):-1}function vt(H,z,nt){var Q=V.exec(z.slice(nt));return Q?(H.w=$[Q[0].toLowerCase()],nt+Q[0].length):-1}function et(H,z,nt){var Q=Z.exec(z.slice(nt));return Q?(H.m=tt[Q[0].toLowerCase()],nt+Q[0].length):-1}function _t(H,z,nt){var Q=B.exec(z.slice(nt));return Q?(H.m=Y[Q[0].toLowerCase()],nt+Q[0].length):-1}function Mt(H,z,nt){return W(H,r,z,nt)}function pt(H,z,nt){return W(H,s,z,nt)}function Lt(H,z,nt){return W(H,l,z,nt)}function o(H){return v[H.getDay()]}function f(H){return y[H.getDay()]}function e(H){return T[H.getMonth()]}function i(H){return w[H.getMonth()]}function u(H){return g[+(H.getHours()>=12)]}function d(H){return 1+~~(H.getMonth()/3)}function m(H){return v[H.getUTCDay()]}function S(H){return y[H.getUTCDay()]}function L(H){return T[H.getUTCMonth()]}function M(H){return w[H.getUTCMonth()]}function N(H){return g[+(H.getUTCHours()>=12)]}function O(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var z=gt(H+="",J);return z.toString=function(){return H},z},parse:function(H){var z=lt(H+="",!1);return z.toString=function(){return H},z},utcFormat:function(H){var z=gt(H+="",rt);return z.toString=function(){return H},z},utcParse:function(H){var z=lt(H+="",!0);return z.toString=function(){return H},z}}}var CS={"-":"",_:" ",0:"0"},on=/^\s*\d+/,EX=/^%/,kX=/[\\^$*+?|[\]().{}]/g;function Te(t,r,s){var l=t<0?"-":"",g=(l?-t:t)+"",y=g.length;return l+(y<s?new Array(s-y+1).join(r)+g:g)}function RX(t){return t.replace(kX,"\\$&")}function su(t){return new RegExp("^(?:"+t.map(RX).join("|")+")","i")}function uu(t){for(var r={},s=-1,l=t.length;++s<l;)r[t[s].toLowerCase()]=s;return r}function VX(t,r,s){var l=on.exec(r.slice(s,s+1));return l?(t.w=+l[0],s+l[0].length):-1}function GX(t,r,s){var l=on.exec(r.slice(s,s+1));return l?(t.u=+l[0],s+l[0].length):-1}function OX(t,r,s){var l=on.exec(r.slice(s,s+2));return l?(t.U=+l[0],s+l[0].length):-1}function NX(t,r,s){var l=on.exec(r.slice(s,s+2));return l?(t.V=+l[0],s+l[0].length):-1}function IX(t,r,s){var l=on.exec(r.slice(s,s+2));return l?(t.W=+l[0],s+l[0].length):-1}function LS(t,r,s){var l=on.exec(r.slice(s,s+4));return l?(t.y=+l[0],s+l[0].length):-1}function MS(t,r,s){var l=on.exec(r.slice(s,s+2));return l?(t.y=+l[0]+(+l[0]>68?1900:2e3),s+l[0].length):-1}function DX(t,r,s){var l=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(s,s+6));return l?(t.Z=l[1]?0:-(l[2]+(l[3]||"00")),s+l[0].length):-1}function FX(t,r,s){var l=on.exec(r.slice(s,s+1));return l?(t.q=l[0]*3-3,s+l[0].length):-1}function zX(t,r,s){var l=on.exec(r.slice(s,s+2));return l?(t.m=l[0]-1,s+l[0].length):-1}function $S(t,r,s){var l=on.exec(r.slice(s,s+2));return l?(t.d=+l[0],s+l[0].length):-1}function XX(t,r,s){var l=on.exec(r.slice(s,s+3));return l?(t.m=0,t.d=+l[0],s+l[0].length):-1}function ES(t,r,s){var l=on.exec(r.slice(s,s+2));return l?(t.H=+l[0],s+l[0].length):-1}function YX(t,r,s){var l=on.exec(r.slice(s,s+2));return l?(t.M=+l[0],s+l[0].length):-1}function BX(t,r,s){var l=on.exec(r.slice(s,s+2));return l?(t.S=+l[0],s+l[0].length):-1}function HX(t,r,s){var l=on.exec(r.slice(s,s+3));return l?(t.L=+l[0],s+l[0].length):-1}function UX(t,r,s){var l=on.exec(r.slice(s,s+6));return l?(t.L=Math.floor(l[0]/1e3),s+l[0].length):-1}function WX(t,r,s){var l=EX.exec(r.slice(s,s+1));return l?s+l[0].length:-1}function qX(t,r,s){var l=on.exec(r.slice(s));return l?(t.Q=+l[0],s+l[0].length):-1}function QX(t,r,s){var l=on.exec(r.slice(s));return l?(t.s=+l[0],s+l[0].length):-1}function kS(t,r){return Te(t.getDate(),r,2)}function ZX(t,r){return Te(t.getHours(),r,2)}function jX(t,r){return Te(t.getHours()%12||12,r,2)}function KX(t,r){return Te(1+hc.count(gr(t),t),r,3)}function G3(t,r){return Te(t.getMilliseconds(),r,3)}function JX(t,r){return G3(t,r)+"000"}function tY(t,r){return Te(t.getMonth()+1,r,2)}function eY(t,r){return Te(t.getMinutes(),r,2)}function nY(t,r){return Te(t.getSeconds(),r,2)}function iY(t){var r=t.getDay();return r===0?7:r}function rY(t,r){return Te(ju.count(gr(t)-1,t),r,2)}function O3(t){var r=t.getDay();return r>=4||r===0?$a(t):$a.ceil(t)}function aY(t,r){return t=O3(t),Te($a.count(gr(t),t)+(gr(t).getDay()===4),r,2)}function oY(t){return t.getDay()}function sY(t,r){return Te(Ku.count(gr(t)-1,t),r,2)}function uY(t,r){return Te(t.getFullYear()%100,r,2)}function cY(t,r){return t=O3(t),Te(t.getFullYear()%100,r,2)}function fY(t,r){return Te(t.getFullYear()%1e4,r,4)}function lY(t,r){var s=t.getDay();return t=s>=4||s===0?$a(t):$a.ceil(t),Te(t.getFullYear()%1e4,r,4)}function hY(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Te(r/60|0,"0",2)+Te(r%60,"0",2)}function RS(t,r){return Te(t.getUTCDate(),r,2)}function dY(t,r){return Te(t.getUTCHours(),r,2)}function gY(t,r){return Te(t.getUTCHours()%12||12,r,2)}function pY(t,r){return Te(1+dc.count(pr(t),t),r,3)}function N3(t,r){return Te(t.getUTCMilliseconds(),r,3)}function yY(t,r){return N3(t,r)+"000"}function _Y(t,r){return Te(t.getUTCMonth()+1,r,2)}function mY(t,r){return Te(t.getUTCMinutes(),r,2)}function vY(t,r){return Te(t.getUTCSeconds(),r,2)}function xY(t){var r=t.getUTCDay();return r===0?7:r}function wY(t,r){return Te(Ju.count(pr(t)-1,t),r,2)}function I3(t){var r=t.getUTCDay();return r>=4||r===0?Ea(t):Ea.ceil(t)}function bY(t,r){return t=I3(t),Te(Ea.count(pr(t),t)+(pr(t).getUTCDay()===4),r,2)}function SY(t){return t.getUTCDay()}function TY(t,r){return Te(tc.count(pr(t)-1,t),r,2)}function AY(t,r){return Te(t.getUTCFullYear()%100,r,2)}function PY(t,r){return t=I3(t),Te(t.getUTCFullYear()%100,r,2)}function CY(t,r){return Te(t.getUTCFullYear()%1e4,r,4)}function LY(t,r){var s=t.getUTCDay();return t=s>=4||s===0?Ea(t):Ea.ceil(t),Te(t.getUTCFullYear()%1e4,r,4)}function MY(){return"+0000"}function VS(){return"%"}function GS(t){return+t}function OS(t){return Math.floor(+t/1e3)}var xo,E_,D3,Zh,k_;F3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function F3(t){return xo=V3(t),E_=xo.format,D3=xo.parse,Zh=xo.utcFormat,k_=xo.utcParse,xo}var z3="%Y-%m-%dT%H:%M:%S.%LZ";function $Y(t){return t.toISOString()}var EY=Date.prototype.toISOString?$Y:Zh(z3);function kY(t){var r=new Date(t);return isNaN(r)?null:r}var RY=+new Date("2000-01-01T00:00:00.000Z")?kY:k_(z3),Su=1e3,Tu=Su*60,Au=Tu*60,ec=Au*24,VY=ec*7,NS=ec*30,P0=ec*365;function GY(t){return new Date(t)}function OY(t){return t instanceof Date?+t:+new Date(+t)}function R_(t,r,s,l,g,y,v,w,T){var P=g3(hn,hn),E=P.invert,V=P.domain,$=T(".%L"),I=T(":%S"),X=T("%I:%M"),B=T("%I %p"),Y=T("%a %d"),Z=T("%b %d"),tt=T("%B"),J=T("%Y"),rt=[[v,1,Su],[v,5,5*Su],[v,15,15*Su],[v,30,30*Su],[y,1,Tu],[y,5,5*Tu],[y,15,15*Tu],[y,30,30*Tu],[g,1,Au],[g,3,3*Au],[g,6,6*Au],[g,12,12*Au],[l,1,ec],[l,2,2*ec],[s,1,VY],[r,1,NS],[r,3,3*NS],[t,1,P0]];function ft(lt){return(v(lt)<lt?$:y(lt)<lt?I:g(lt)<lt?X:l(lt)<lt?B:r(lt)<lt?s(lt)<lt?Y:Z:t(lt)<lt?tt:J)(lt)}function gt(lt,W,dt,F){if(lt==null&&(lt=10),typeof lt=="number"){var vt=Math.abs(dt-W)/lt,et=My(function(_t){return _t[2]}).right(rt,vt);et===rt.length?(F=wa(W/P0,dt/P0,lt),lt=t):et?(et=rt[vt/rt[et-1][2]<rt[et][2]/vt?et-1:et],F=et[1],lt=et[0]):(F=Math.max(wa(W,dt,lt),1),lt=w)}return F==null?lt:lt.every(F)}return P.invert=function(lt){return new Date(E(lt))},P.domain=function(lt){return arguments.length?V(_h.call(lt,OY)):V().map(GY)},P.ticks=function(lt,W){var dt=V(),F=dt[0],vt=dt[dt.length-1],et=vt<F,_t;return et&&(_t=F,F=vt,vt=_t),_t=gt(lt,F,vt,W),_t=_t?_t.range(F,vt+1):[],et?_t.reverse():_t},P.tickFormat=function(lt,W){return W==null?ft:T(W)},P.nice=function(lt,W){var dt=V();return(lt=gt(lt,dt[0],dt[dt.length-1],W))?V(m3(dt,lt)):P},P.copy=function(){return lc(P,R_(t,r,s,l,g,y,v,w,T))},P}function NY(){return Mi.apply(R_(gr,C_,ju,hc,P_,A_,Zu,La,E_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IY(){return Mi.apply(R_(pr,$_,Ju,dc,M_,L_,Zu,La,Zh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jh(){var t=0,r=1,s,l,g,y,v=hn,w=!1,T;function P(E){return isNaN(E=+E)?T:v(g===0?.5:(E=(y(E)-s)*g,w?Math.max(0,Math.min(1,E)):E))}return P.domain=function(E){return arguments.length?(s=y(t=+E[0]),l=y(r=+E[1]),g=s===l?0:1/(l-s),P):[t,r]},P.clamp=function(E){return arguments.length?(w=!!E,P):w},P.interpolator=function(E){return arguments.length?(v=E,P):v},P.unknown=function(E){return arguments.length?(T=E,P):T},function(E){return y=E,s=E(t),l=E(r),g=s===l?0:1/(l-s),P}}function Yr(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function X3(){var t=Oa(jh()(hn));return t.copy=function(){return Yr(t,X3())},_r.apply(t,arguments)}function Y3(){var t=w_(jh()).domain([1,10]);return t.copy=function(){return Yr(t,Y3()).base(t.base())},_r.apply(t,arguments)}function B3(){var t=b_(jh());return t.copy=function(){return Yr(t,B3()).constant(t.constant())},_r.apply(t,arguments)}function V_(){var t=S_(jh());return t.copy=function(){return Yr(t,V_()).exponent(t.exponent())},_r.apply(t,arguments)}function DY(){return V_.apply(null,arguments).exponent(.5)}function H3(){var t=[],r=hn;function s(l){if(!isNaN(l=+l))return r((Rr(t,l)-1)/(t.length-1))}return s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(var g=0,y=l.length,v;g<y;++g)v=l[g],v!=null&&!isNaN(v=+v)&&t.push(v);return t.sort(Dr),s},s.interpolator=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return H3(r).domain(t)},_r.apply(s,arguments)}function Kh(){var t=0,r=.5,s=1,l,g,y,v,w,T=hn,P,E=!1,V;function $(I){return isNaN(I=+I)?V:(I=.5+((I=+P(I))-g)*(I<g?v:w),T(E?Math.max(0,Math.min(1,I)):I))}return $.domain=function(I){return arguments.length?(l=P(t=+I[0]),g=P(r=+I[1]),y=P(s=+I[2]),v=l===g?0:.5/(g-l),w=g===y?0:.5/(y-g),$):[t,r,s]},$.clamp=function(I){return arguments.length?(E=!!I,$):E},$.interpolator=function(I){return arguments.length?(T=I,$):T},$.unknown=function(I){return arguments.length?(V=I,$):V},function(I){return P=I,l=I(t),g=I(r),y=I(s),v=l===g?0:.5/(g-l),w=g===y?0:.5/(y-g),$}}function U3(){var t=Oa(Kh()(hn));return t.copy=function(){return Yr(t,U3())},_r.apply(t,arguments)}function W3(){var t=w_(Kh()).domain([.1,1,10]);return t.copy=function(){return Yr(t,W3()).base(t.base())},_r.apply(t,arguments)}function q3(){var t=b_(Kh());return t.copy=function(){return Yr(t,q3()).constant(t.constant())},_r.apply(t,arguments)}function G_(){var t=S_(Kh());return t.copy=function(){return Yr(t,G_()).exponent(t.exponent())},_r.apply(t,arguments)}function FY(){return G_.apply(null,arguments).exponent(.5)}function he(t){for(var r=t.length/6|0,s=new Array(r),l=0;l<r;)s[l]="#"+t.slice(l*6,++l*6);return s}const zY=he("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),XY=he("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),YY=he("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),BY=he("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),HY=he("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),UY=he("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),WY=he("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),qY=he("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),QY=he("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),ZY=he("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Ve(t){return ET(t[t.length-1])}var Q3=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(he);const jY=Ve(Q3);var Z3=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(he);const KY=Ve(Z3);var j3=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(he);const JY=Ve(j3);var K3=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(he);const tB=Ve(K3);var J3=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(he);const eB=Ve(J3);var t5=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(he);const nB=Ve(t5);var e5=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(he);const iB=Ve(e5);var n5=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(he);const rB=Ve(n5);var i5=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(he);const aB=Ve(i5);var r5=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(he);const oB=Ve(r5);var a5=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(he);const sB=Ve(a5);var o5=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(he);const uB=Ve(o5);var s5=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(he);const cB=Ve(s5);var u5=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(he);const fB=Ve(u5);var c5=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(he);const lB=Ve(c5);var f5=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(he);const hB=Ve(f5);var l5=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(he);const dB=Ve(l5);var h5=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(he);const gB=Ve(h5);var d5=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(he);const pB=Ve(d5);var g5=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(he);const yB=Ve(g5);var p5=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(he);const _B=Ve(p5);var y5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(he);const mB=Ve(y5);var _5=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(he);const vB=Ve(_5);var m5=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(he);const xB=Ve(m5);var v5=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(he);const wB=Ve(v5);var x5=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(he);const bB=Ve(x5);var w5=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(he);const SB=Ve(w5);function TB(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const AB=Nh(Ci(300,.5,0),Ci(-240,.5,1));var PB=Nh(Ci(-100,.75,.35),Ci(80,1.5,.8)),CB=Nh(Ci(260,.75,.35),Ci(80,1.5,.8)),xl=Ci();function LB(t){(t<0||t>1)&&(t-=Math.floor(t));var r=Math.abs(t-.5);return xl.h=360*t-100,xl.s=1.5-1.5*r,xl.l=.8-.9*r,xl+""}var wl=ko(),MB=Math.PI/3,$B=Math.PI*2/3;function EB(t){var r;return t=(.5-t)*Math.PI,wl.r=255*(r=Math.sin(t))*r,wl.g=255*(r=Math.sin(t+MB))*r,wl.b=255*(r=Math.sin(t+$B))*r,wl+""}function kB(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Jh(t){var r=t.length;return function(s){return t[Math.max(0,Math.min(r-1,Math.floor(s*r)))]}}const RB=Jh(he("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var VB=Jh(he("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),GB=Jh(he("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),OB=Jh(he("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function me(t){return function(){return t}}var IS=Math.abs,mn=Math.atan2,ga=Math.cos,NB=Math.max,C0=Math.min,Fi=Math.sin,So=Math.sqrt,vn=1e-12,Nr=Math.PI,xh=Nr/2,kr=2*Nr;function IB(t){return t>1?0:t<-1?Nr:Math.acos(t)}function DS(t){return t>=1?xh:t<=-1?-xh:Math.asin(t)}function DB(t){return t.innerRadius}function FB(t){return t.outerRadius}function zB(t){return t.startAngle}function XB(t){return t.endAngle}function YB(t){return t&&t.padAngle}function BB(t,r,s,l,g,y,v,w){var T=s-t,P=l-r,E=v-g,V=w-y,$=V*T-E*P;if(!($*$<vn))return $=(E*(r-y)-V*(t-g))/$,[t+$*T,r+$*P]}function bl(t,r,s,l,g,y,v){var w=t-s,T=r-l,P=(v?y:-y)/So(w*w+T*T),E=P*T,V=-P*w,$=t+E,I=r+V,X=s+E,B=l+V,Y=($+X)/2,Z=(I+B)/2,tt=X-$,J=B-I,rt=tt*tt+J*J,ft=g-y,gt=$*B-X*I,lt=(J<0?-1:1)*So(NB(0,ft*ft*rt-gt*gt)),W=(gt*J-tt*lt)/rt,dt=(-gt*tt-J*lt)/rt,F=(gt*J+tt*lt)/rt,vt=(-gt*tt+J*lt)/rt,et=W-Y,_t=dt-Z,Mt=F-Y,pt=vt-Z;return et*et+_t*_t>Mt*Mt+pt*pt&&(W=F,dt=vt),{cx:W,cy:dt,x01:-E,y01:-V,x11:W*(g/ft-1),y11:dt*(g/ft-1)}}function HB(){var t=DB,r=FB,s=me(0),l=null,g=zB,y=XB,v=YB,w=null;function T(){var P,E,V=+t.apply(this,arguments),$=+r.apply(this,arguments),I=g.apply(this,arguments)-xh,X=y.apply(this,arguments)-xh,B=IS(X-I),Y=X>I;if(w||(w=P=zr()),$<V&&(E=$,$=V,V=E),!($>vn))w.moveTo(0,0);else if(B>kr-vn)w.moveTo($*ga(I),$*Fi(I)),w.arc(0,0,$,I,X,!Y),V>vn&&(w.moveTo(V*ga(X),V*Fi(X)),w.arc(0,0,V,X,I,Y));else{var Z=I,tt=X,J=I,rt=X,ft=B,gt=B,lt=v.apply(this,arguments)/2,W=lt>vn&&(l?+l.apply(this,arguments):So(V*V+$*$)),dt=C0(IS($-V)/2,+s.apply(this,arguments)),F=dt,vt=dt,et,_t;if(W>vn){var Mt=DS(W/V*Fi(lt)),pt=DS(W/$*Fi(lt));(ft-=Mt*2)>vn?(Mt*=Y?1:-1,J+=Mt,rt-=Mt):(ft=0,J=rt=(I+X)/2),(gt-=pt*2)>vn?(pt*=Y?1:-1,Z+=pt,tt-=pt):(gt=0,Z=tt=(I+X)/2)}var Lt=$*ga(Z),o=$*Fi(Z),f=V*ga(rt),e=V*Fi(rt);if(dt>vn){var i=$*ga(tt),u=$*Fi(tt),d=V*ga(J),m=V*Fi(J),S;if(B<Nr&&(S=BB(Lt,o,d,m,i,u,f,e))){var L=Lt-S[0],M=o-S[1],N=i-S[0],O=u-S[1],H=1/Fi(IB((L*N+M*O)/(So(L*L+M*M)*So(N*N+O*O)))/2),z=So(S[0]*S[0]+S[1]*S[1]);F=C0(dt,(V-z)/(H-1)),vt=C0(dt,($-z)/(H+1))}}gt>vn?vt>vn?(et=bl(d,m,Lt,o,$,vt,Y),_t=bl(i,u,f,e,$,vt,Y),w.moveTo(et.cx+et.x01,et.cy+et.y01),vt<dt?w.arc(et.cx,et.cy,vt,mn(et.y01,et.x01),mn(_t.y01,_t.x01),!Y):(w.arc(et.cx,et.cy,vt,mn(et.y01,et.x01),mn(et.y11,et.x11),!Y),w.arc(0,0,$,mn(et.cy+et.y11,et.cx+et.x11),mn(_t.cy+_t.y11,_t.cx+_t.x11),!Y),w.arc(_t.cx,_t.cy,vt,mn(_t.y11,_t.x11),mn(_t.y01,_t.x01),!Y))):(w.moveTo(Lt,o),w.arc(0,0,$,Z,tt,!Y)):w.moveTo(Lt,o),!(V>vn)||!(ft>vn)?w.lineTo(f,e):F>vn?(et=bl(f,e,i,u,V,-F,Y),_t=bl(Lt,o,d,m,V,-F,Y),w.lineTo(et.cx+et.x01,et.cy+et.y01),F<dt?w.arc(et.cx,et.cy,F,mn(et.y01,et.x01),mn(_t.y01,_t.x01),!Y):(w.arc(et.cx,et.cy,F,mn(et.y01,et.x01),mn(et.y11,et.x11),!Y),w.arc(0,0,V,mn(et.cy+et.y11,et.cx+et.x11),mn(_t.cy+_t.y11,_t.cx+_t.x11),Y),w.arc(_t.cx,_t.cy,F,mn(_t.y11,_t.x11),mn(_t.y01,_t.x01),!Y))):w.arc(0,0,V,rt,J,Y)}if(w.closePath(),P)return w=null,P+""||null}return T.centroid=function(){var P=(+t.apply(this,arguments)+ +r.apply(this,arguments))/2,E=(+g.apply(this,arguments)+ +y.apply(this,arguments))/2-Nr/2;return[ga(E)*P,Fi(E)*P]},T.innerRadius=function(P){return arguments.length?(t=typeof P=="function"?P:me(+P),T):t},T.outerRadius=function(P){return arguments.length?(r=typeof P=="function"?P:me(+P),T):r},T.cornerRadius=function(P){return arguments.length?(s=typeof P=="function"?P:me(+P),T):s},T.padRadius=function(P){return arguments.length?(l=P==null?null:typeof P=="function"?P:me(+P),T):l},T.startAngle=function(P){return arguments.length?(g=typeof P=="function"?P:me(+P),T):g},T.endAngle=function(P){return arguments.length?(y=typeof P=="function"?P:me(+P),T):y},T.padAngle=function(P){return arguments.length?(v=typeof P=="function"?P:me(+P),T):v},T.context=function(P){return arguments.length?(w=P??null,T):w},T}function b5(t){this._context=t}b5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function td(t){return new b5(t)}function O_(t){return t[0]}function N_(t){return t[1]}function I_(){var t=O_,r=N_,s=me(!0),l=null,g=td,y=null;function v(w){var T,P=w.length,E,V=!1,$;for(l==null&&(y=g($=zr())),T=0;T<=P;++T)!(T<P&&s(E=w[T],T,w))===V&&((V=!V)?y.lineStart():y.lineEnd()),V&&y.point(+t(E,T,w),+r(E,T,w));if($)return y=null,$+""||null}return v.x=function(w){return arguments.length?(t=typeof w=="function"?w:me(+w),v):t},v.y=function(w){return arguments.length?(r=typeof w=="function"?w:me(+w),v):r},v.defined=function(w){return arguments.length?(s=typeof w=="function"?w:me(!!w),v):s},v.curve=function(w){return arguments.length?(g=w,l!=null&&(y=g(l)),v):g},v.context=function(w){return arguments.length?(w==null?l=y=null:y=g(l=w),v):l},v}function S5(){var t=O_,r=null,s=me(0),l=N_,g=me(!0),y=null,v=td,w=null;function T(E){var V,$,I,X=E.length,B,Y=!1,Z,tt=new Array(X),J=new Array(X);for(y==null&&(w=v(Z=zr())),V=0;V<=X;++V){if(!(V<X&&g(B=E[V],V,E))===Y)if(Y=!Y)$=V,w.areaStart(),w.lineStart();else{for(w.lineEnd(),w.lineStart(),I=V-1;I>=$;--I)w.point(tt[I],J[I]);w.lineEnd(),w.areaEnd()}Y&&(tt[V]=+t(B,V,E),J[V]=+s(B,V,E),w.point(r?+r(B,V,E):tt[V],l?+l(B,V,E):J[V]))}if(Z)return w=null,Z+""||null}function P(){return I_().defined(g).curve(v).context(y)}return T.x=function(E){return arguments.length?(t=typeof E=="function"?E:me(+E),r=null,T):t},T.x0=function(E){return arguments.length?(t=typeof E=="function"?E:me(+E),T):t},T.x1=function(E){return arguments.length?(r=E==null?null:typeof E=="function"?E:me(+E),T):r},T.y=function(E){return arguments.length?(s=typeof E=="function"?E:me(+E),l=null,T):s},T.y0=function(E){return arguments.length?(s=typeof E=="function"?E:me(+E),T):s},T.y1=function(E){return arguments.length?(l=E==null?null:typeof E=="function"?E:me(+E),T):l},T.lineX0=T.lineY0=function(){return P().x(t).y(s)},T.lineY1=function(){return P().x(t).y(l)},T.lineX1=function(){return P().x(r).y(s)},T.defined=function(E){return arguments.length?(g=typeof E=="function"?E:me(!!E),T):g},T.curve=function(E){return arguments.length?(v=E,y!=null&&(w=v(y)),T):v},T.context=function(E){return arguments.length?(E==null?y=w=null:w=v(y=E),T):y},T}function UB(t,r){return r<t?-1:r>t?1:r>=t?0:NaN}function WB(t){return t}function qB(){var t=WB,r=UB,s=null,l=me(0),g=me(kr),y=me(0);function v(w){var T,P=w.length,E,V,$=0,I=new Array(P),X=new Array(P),B=+l.apply(this,arguments),Y=Math.min(kr,Math.max(-kr,g.apply(this,arguments)-B)),Z,tt=Math.min(Math.abs(Y)/P,y.apply(this,arguments)),J=tt*(Y<0?-1:1),rt;for(T=0;T<P;++T)(rt=X[I[T]=T]=+t(w[T],T,w))>0&&($+=rt);for(r!=null?I.sort(function(ft,gt){return r(X[ft],X[gt])}):s!=null&&I.sort(function(ft,gt){return s(w[ft],w[gt])}),T=0,V=$?(Y-P*J)/$:0;T<P;++T,B=Z)E=I[T],rt=X[E],Z=B+(rt>0?rt*V:0)+J,X[E]={data:w[E],index:T,value:rt,startAngle:B,endAngle:Z,padAngle:tt};return X}return v.value=function(w){return arguments.length?(t=typeof w=="function"?w:me(+w),v):t},v.sortValues=function(w){return arguments.length?(r=w,s=null,v):r},v.sort=function(w){return arguments.length?(s=w,r=null,v):s},v.startAngle=function(w){return arguments.length?(l=typeof w=="function"?w:me(+w),v):l},v.endAngle=function(w){return arguments.length?(g=typeof w=="function"?w:me(+w),v):g},v.padAngle=function(w){return arguments.length?(y=typeof w=="function"?w:me(+w),v):y},v}var T5=D_(td);function A5(t){this._curve=t}A5.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,r){this._curve.point(r*Math.sin(t),r*-Math.cos(t))}};function D_(t){function r(s){return new A5(t(s))}return r._curve=t,r}function Pu(t){var r=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(s){return arguments.length?r(D_(s)):r()._curve},t}function FS(){return Pu(I_().curve(T5))}function zS(){var t=S5().curve(T5),r=t.curve,s=t.lineX0,l=t.lineX1,g=t.lineY0,y=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Pu(s())},delete t.lineX0,t.lineEndAngle=function(){return Pu(l())},delete t.lineX1,t.lineInnerRadius=function(){return Pu(g())},delete t.lineY0,t.lineOuterRadius=function(){return Pu(y())},delete t.lineY1,t.curve=function(v){return arguments.length?r(D_(v)):r()._curve},t}function Cu(t,r){return[(r=+r)*Math.cos(t-=Math.PI/2),r*Math.sin(t)]}var Py=Array.prototype.slice;function QB(t){return t.source}function ZB(t){return t.target}function F_(t){var r=QB,s=ZB,l=O_,g=N_,y=null;function v(){var w,T=Py.call(arguments),P=r.apply(this,T),E=s.apply(this,T);if(y||(y=w=zr()),t(y,+l.apply(this,(T[0]=P,T)),+g.apply(this,T),+l.apply(this,(T[0]=E,T)),+g.apply(this,T)),w)return y=null,w+""||null}return v.source=function(w){return arguments.length?(r=w,v):r},v.target=function(w){return arguments.length?(s=w,v):s},v.x=function(w){return arguments.length?(l=typeof w=="function"?w:me(+w),v):l},v.y=function(w){return arguments.length?(g=typeof w=="function"?w:me(+w),v):g},v.context=function(w){return arguments.length?(y=w??null,v):y},v}function jB(t,r,s,l,g){t.moveTo(r,s),t.bezierCurveTo(r=(r+l)/2,s,r,g,l,g)}function KB(t,r,s,l,g){t.moveTo(r,s),t.bezierCurveTo(r,s=(s+g)/2,l,s,l,g)}function JB(t,r,s,l,g){var y=Cu(r,s),v=Cu(r,s=(s+g)/2),w=Cu(l,s),T=Cu(l,g);t.moveTo(y[0],y[1]),t.bezierCurveTo(v[0],v[1],w[0],w[1],T[0],T[1])}function tH(){return F_(jB)}function eH(){return F_(KB)}function nH(){var t=F_(JB);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const z_={draw:function(t,r){var s=Math.sqrt(r/Nr);t.moveTo(s,0),t.arc(0,0,s,0,kr)}},P5={draw:function(t,r){var s=Math.sqrt(r/5)/2;t.moveTo(-3*s,-s),t.lineTo(-s,-s),t.lineTo(-s,-3*s),t.lineTo(s,-3*s),t.lineTo(s,-s),t.lineTo(3*s,-s),t.lineTo(3*s,s),t.lineTo(s,s),t.lineTo(s,3*s),t.lineTo(-s,3*s),t.lineTo(-s,s),t.lineTo(-3*s,s),t.closePath()}};var C5=Math.sqrt(1/3),iH=C5*2;const L5={draw:function(t,r){var s=Math.sqrt(r/iH),l=s*C5;t.moveTo(0,-s),t.lineTo(l,0),t.lineTo(0,s),t.lineTo(-l,0),t.closePath()}};var rH=.8908130915292852,M5=Math.sin(Nr/10)/Math.sin(7*Nr/10),aH=Math.sin(kr/10)*M5,oH=-Math.cos(kr/10)*M5;const $5={draw:function(t,r){var s=Math.sqrt(r*rH),l=aH*s,g=oH*s;t.moveTo(0,-s),t.lineTo(l,g);for(var y=1;y<5;++y){var v=kr*y/5,w=Math.cos(v),T=Math.sin(v);t.lineTo(T*s,-w*s),t.lineTo(w*l-T*g,T*l+w*g)}t.closePath()}},E5={draw:function(t,r){var s=Math.sqrt(r),l=-s/2;t.rect(l,l,s,s)}};var L0=Math.sqrt(3);const k5={draw:function(t,r){var s=-Math.sqrt(r/(L0*3));t.moveTo(0,s*2),t.lineTo(-L0*s,-s),t.lineTo(L0*s,-s),t.closePath()}};var fi=-.5,li=Math.sqrt(3)/2,Cy=1/Math.sqrt(12),sH=(Cy/2+1)*3;const R5={draw:function(t,r){var s=Math.sqrt(r/sH),l=s/2,g=s*Cy,y=l,v=s*Cy+s,w=-y,T=v;t.moveTo(l,g),t.lineTo(y,v),t.lineTo(w,T),t.lineTo(fi*l-li*g,li*l+fi*g),t.lineTo(fi*y-li*v,li*y+fi*v),t.lineTo(fi*w-li*T,li*w+fi*T),t.lineTo(fi*l+li*g,fi*g-li*l),t.lineTo(fi*y+li*v,fi*v-li*y),t.lineTo(fi*w+li*T,fi*T-li*w),t.closePath()}};var uH=[z_,P5,L5,E5,$5,k5,R5];function cH(){var t=me(z_),r=me(64),s=null;function l(){var g;if(s||(s=g=zr()),t.apply(this,arguments).draw(s,+r.apply(this,arguments)),g)return s=null,g+""||null}return l.type=function(g){return arguments.length?(t=typeof g=="function"?g:me(g),l):t},l.size=function(g){return arguments.length?(r=typeof g=="function"?g:me(+g),l):r},l.context=function(g){return arguments.length?(s=g??null,l):s},l}function Ir(){}function wh(t,r,s){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+s)/6)}function ed(t){this._context=t}ed.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wh(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function fH(t){return new ed(t)}function V5(t){this._context=t}V5.prototype={areaStart:Ir,areaEnd:Ir,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:wh(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function lH(t){return new V5(t)}function G5(t){this._context=t}G5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+t)/6,l=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(s,l):this._context.moveTo(s,l);break;case 3:this._point=4;default:wh(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function hH(t){return new G5(t)}function O5(t,r){this._basis=new ed(t),this._beta=r}O5.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,r=this._y,s=t.length-1;if(s>0)for(var l=t[0],g=r[0],y=t[s]-l,v=r[s]-g,w=-1,T;++w<=s;)T=w/s,this._basis.point(this._beta*t[w]+(1-this._beta)*(l+T*y),this._beta*r[w]+(1-this._beta)*(g+T*v));this._x=this._y=null,this._basis.lineEnd()},point:function(t,r){this._x.push(+t),this._y.push(+r)}};const dH=function t(r){function s(l){return r===1?new ed(l):new O5(l,r)}return s.beta=function(l){return t(+l)},s}(.85);function bh(t,r,s){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-r),t._y2+t._k*(t._y1-s),t._x2,t._y2)}function X_(t,r){this._context=t,this._k=(1-r)/6}X_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:bh(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2,this._x1=t,this._y1=r;break;case 2:this._point=3;default:bh(this,t,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const gH=function t(r){function s(l){return new X_(l,r)}return s.tension=function(l){return t(+l)},s}(0);function Y_(t,r){this._context=t,this._k=(1-r)/6}Y_.prototype={areaStart:Ir,areaEnd:Ir,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x3=t,this._y3=r;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=r);break;case 2:this._point=3,this._x5=t,this._y5=r;break;default:bh(this,t,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const pH=function t(r){function s(l){return new Y_(l,r)}return s.tension=function(l){return t(+l)},s}(0);function B_(t,r){this._context=t,this._k=(1-r)/6}B_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bh(this,t,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const yH=function t(r){function s(l){return new B_(l,r)}return s.tension=function(l){return t(+l)},s}(0);function H_(t,r,s){var l=t._x1,g=t._y1,y=t._x2,v=t._y2;if(t._l01_a>vn){var w=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,T=3*t._l01_a*(t._l01_a+t._l12_a);l=(l*w-t._x0*t._l12_2a+t._x2*t._l01_2a)/T,g=(g*w-t._y0*t._l12_2a+t._y2*t._l01_2a)/T}if(t._l23_a>vn){var P=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,E=3*t._l23_a*(t._l23_a+t._l12_a);y=(y*P+t._x1*t._l23_2a-r*t._l12_2a)/E,v=(v*P+t._y1*t._l23_2a-s*t._l12_2a)/E}t._context.bezierCurveTo(l,g,y,v,t._x2,t._y2)}function N5(t,r){this._context=t,this._alpha=r}N5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){if(t=+t,r=+r,this._point){var s=this._x2-t,l=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+l*l,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3;default:H_(this,t,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const _H=function t(r){function s(l){return r?new N5(l,r):new X_(l,0)}return s.alpha=function(l){return t(+l)},s}(.5);function I5(t,r){this._context=t,this._alpha=r}I5.prototype={areaStart:Ir,areaEnd:Ir,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,r){if(t=+t,r=+r,this._point){var s=this._x2-t,l=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+l*l,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=r;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=r);break;case 2:this._point=3,this._x5=t,this._y5=r;break;default:H_(this,t,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const mH=function t(r){function s(l){return r?new I5(l,r):new Y_(l,0)}return s.alpha=function(l){return t(+l)},s}(.5);function D5(t,r){this._context=t,this._alpha=r}D5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){if(t=+t,r=+r,this._point){var s=this._x2-t,l=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+l*l,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:H_(this,t,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const vH=function t(r){function s(l){return r?new D5(l,r):new B_(l,0)}return s.alpha=function(l){return t(+l)},s}(.5);function F5(t){this._context=t}F5.prototype={areaStart:Ir,areaEnd:Ir,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function xH(t){return new F5(t)}function XS(t){return t<0?-1:1}function YS(t,r,s){var l=t._x1-t._x0,g=r-t._x1,y=(t._y1-t._y0)/(l||g<0&&-0),v=(s-t._y1)/(g||l<0&&-0),w=(y*g+v*l)/(l+g);return(XS(y)+XS(v))*Math.min(Math.abs(y),Math.abs(v),.5*Math.abs(w))||0}function BS(t,r){var s=t._x1-t._x0;return s?(3*(t._y1-t._y0)/s-r)/2:r}function M0(t,r,s){var l=t._x0,g=t._y0,y=t._x1,v=t._y1,w=(y-l)/3;t._context.bezierCurveTo(l+w,g+w*r,y-w,v-w*s,y,v)}function Sh(t){this._context=t}Sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M0(this,this._t0,BS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var s=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,M0(this,BS(this,s=YS(this,t,r)),s);break;default:M0(this,this._t0,s=YS(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=s}}};function z5(t){this._context=new X5(t)}(z5.prototype=Object.create(Sh.prototype)).point=function(t,r){Sh.prototype.point.call(this,r,t)};function X5(t){this._context=t}X5.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,s,l,g,y){this._context.bezierCurveTo(r,t,l,s,y,g)}};function wH(t){return new Sh(t)}function bH(t){return new z5(t)}function Y5(t){this._context=t}Y5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,s=t.length;if(s)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),s===2)this._context.lineTo(t[1],r[1]);else for(var l=HS(t),g=HS(r),y=0,v=1;v<s;++y,++v)this._context.bezierCurveTo(l[0][y],g[0][y],l[1][y],g[1][y],t[v],r[v]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function HS(t){var r,s=t.length-1,l,g=new Array(s),y=new Array(s),v=new Array(s);for(g[0]=0,y[0]=2,v[0]=t[0]+2*t[1],r=1;r<s-1;++r)g[r]=1,y[r]=4,v[r]=4*t[r]+2*t[r+1];for(g[s-1]=2,y[s-1]=7,v[s-1]=8*t[s-1]+t[s],r=1;r<s;++r)l=g[r]/y[r-1],y[r]-=l,v[r]-=l*v[r-1];for(g[s-1]=v[s-1]/y[s-1],r=s-2;r>=0;--r)g[r]=(v[r]-g[r+1])/y[r];for(y[s-1]=(t[s]+g[s-1])/2,r=0;r<s-1;++r)y[r]=2*t[r+1]-g[r+1];return[g,y]}function SH(t){return new Y5(t)}function nd(t,r){this._context=t,this._t=r}nd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var s=this._x*(1-this._t)+t*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,r)}break}}this._x=t,this._y=r}};function TH(t){return new nd(t,.5)}function AH(t){return new nd(t,0)}function PH(t){return new nd(t,1)}function Fo(t,r){if((v=t.length)>1)for(var s=1,l,g,y=t[r[0]],v,w=y.length;s<v;++s)for(g=y,y=t[r[s]],l=0;l<w;++l)y[l][1]+=y[l][0]=isNaN(g[l][1])?g[l][0]:g[l][1]}function zo(t){for(var r=t.length,s=new Array(r);--r>=0;)s[r]=r;return s}function CH(t,r){return t[r]}function LH(){var t=me([]),r=zo,s=Fo,l=CH;function g(y){var v=t.apply(this,arguments),w,T=y.length,P=v.length,E=new Array(P),V;for(w=0;w<P;++w){for(var $=v[w],I=E[w]=new Array(T),X=0,B;X<T;++X)I[X]=B=[0,+l(y[X],$,X,y)],B.data=y[X];I.key=$}for(w=0,V=r(E);w<P;++w)E[V[w]].index=w;return s(E,V),E}return g.keys=function(y){return arguments.length?(t=typeof y=="function"?y:me(Py.call(y)),g):t},g.value=function(y){return arguments.length?(l=typeof y=="function"?y:me(+y),g):l},g.order=function(y){return arguments.length?(r=y==null?zo:typeof y=="function"?y:me(Py.call(y)),g):r},g.offset=function(y){return arguments.length?(s=y??Fo,g):s},g}function MH(t,r){if((l=t.length)>0){for(var s,l,g=0,y=t[0].length,v;g<y;++g){for(v=s=0;s<l;++s)v+=t[s][g][1]||0;if(v)for(s=0;s<l;++s)t[s][g][1]/=v}Fo(t,r)}}function $H(t,r){if((T=t.length)>0)for(var s,l=0,g,y,v,w,T,P=t[r[0]].length;l<P;++l)for(v=w=0,s=0;s<T;++s)(y=(g=t[r[s]][l])[1]-g[0])>0?(g[0]=v,g[1]=v+=y):y<0?(g[1]=w,g[0]=w+=y):(g[0]=0,g[1]=y)}function EH(t,r){if((g=t.length)>0){for(var s=0,l=t[r[0]],g,y=l.length;s<y;++s){for(var v=0,w=0;v<g;++v)w+=t[v][s][1]||0;l[s][1]+=l[s][0]=-w/2}Fo(t,r)}}function kH(t,r){if(!(!((v=t.length)>0)||!((y=(g=t[r[0]]).length)>0))){for(var s=0,l=1,g,y,v;l<y;++l){for(var w=0,T=0,P=0;w<v;++w){for(var E=t[r[w]],V=E[l][1]||0,$=E[l-1][1]||0,I=(V-$)/2,X=0;X<w;++X){var B=t[r[X]],Y=B[l][1]||0,Z=B[l-1][1]||0;I+=Y-Z}T+=V,P+=I*V}g[l-1][1]+=g[l-1][0]=s,T&&(s-=P/T)}g[l-1][1]+=g[l-1][0]=s,Fo(t,r)}}function B5(t){var r=t.map(RH);return zo(t).sort(function(s,l){return r[s]-r[l]})}function RH(t){for(var r=-1,s=0,l=t.length,g,y=-1/0;++r<l;)(g=+t[r][1])>y&&(y=g,s=r);return s}function H5(t){var r=t.map(U5);return zo(t).sort(function(s,l){return r[s]-r[l]})}function U5(t){for(var r=0,s=-1,l=t.length,g;++s<l;)(g=+t[s][1])&&(r+=g);return r}function VH(t){return H5(t).reverse()}function GH(t){var r=t.length,s,l,g=t.map(U5),y=B5(t),v=0,w=0,T=[],P=[];for(s=0;s<r;++s)l=y[s],v<w?(v+=g[l],T.push(l)):(w+=g[l],P.push(l));return P.reverse().concat(T)}function OH(t){return zo(t).reverse()}function US(t){return function(){return t}}function NH(t){return t[0]}function IH(t){return t[1]}function Th(){this._=null}function id(t){t.U=t.C=t.L=t.R=t.P=t.N=null}Th.prototype={constructor:Th,insert:function(t,r){var s,l,g;if(t){if(r.P=t,r.N=t.N,t.N&&(t.N.P=r),t.N=r,t.R){for(t=t.R;t.L;)t=t.L;t.L=r}else t.R=r;s=t}else this._?(t=WS(this._),r.P=null,r.N=t,t.P=t.L=r,s=t):(r.P=r.N=null,this._=r,s=null);for(r.L=r.R=null,r.U=s,r.C=!0,t=r;s&&s.C;)l=s.U,s===l.L?(g=l.R,g&&g.C?(s.C=g.C=!1,l.C=!0,t=l):(t===s.R&&(cu(this,s),t=s,s=t.U),s.C=!1,l.C=!0,fu(this,l))):(g=l.L,g&&g.C?(s.C=g.C=!1,l.C=!0,t=l):(t===s.L&&(fu(this,s),t=s,s=t.U),s.C=!1,l.C=!0,cu(this,l))),s=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var r=t.U,s,l=t.L,g=t.R,y,v;if(l?g?y=WS(g):y=l:y=g,r?r.L===t?r.L=y:r.R=y:this._=y,l&&g?(v=y.C,y.C=t.C,y.L=l,l.U=y,y!==g?(r=y.U,y.U=t.U,t=y.R,r.L=t,y.R=g,g.U=y):(y.U=r,r=y,t=y.R)):(v=t.C,t=y),t&&(t.U=r),!v){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===r.L){if(s=r.R,s.C&&(s.C=!1,r.C=!0,cu(this,r),s=r.R),s.L&&s.L.C||s.R&&s.R.C){(!s.R||!s.R.C)&&(s.L.C=!1,s.C=!0,fu(this,s),s=r.R),s.C=r.C,r.C=s.R.C=!1,cu(this,r),t=this._;break}}else if(s=r.L,s.C&&(s.C=!1,r.C=!0,fu(this,r),s=r.L),s.L&&s.L.C||s.R&&s.R.C){(!s.L||!s.L.C)&&(s.R.C=!1,s.C=!0,cu(this,s),s=r.L),s.C=r.C,r.C=s.L.C=!1,fu(this,r),t=this._;break}s.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};function cu(t,r){var s=r,l=r.R,g=s.U;g?g.L===s?g.L=l:g.R=l:t._=l,l.U=g,s.U=l,s.R=l.L,s.R&&(s.R.U=s),l.L=s}function fu(t,r){var s=r,l=r.L,g=s.U;g?g.L===s?g.L=l:g.R=l:t._=l,l.U=g,s.U=l,s.L=l.R,s.L&&(s.L.U=s),l.R=s}function WS(t){for(;t.L;)t=t.L;return t}function Lu(t,r,s,l){var g=[null,null],y=xn.push(g)-1;return g.left=t,g.right=r,s&&Ah(g,t,r,s),l&&Ah(g,r,t,l),ti[t.index].halfedges.push(y),ti[r.index].halfedges.push(y),g}function lu(t,r,s){var l=[r,s];return l.left=t,l}function Ah(t,r,s,l){!t[0]&&!t[1]?(t[0]=l,t.left=r,t.right=s):t.left===s?t[1]=l:t[0]=l}function DH(t,r,s,l,g){var y=t[0],v=t[1],w=y[0],T=y[1],P=v[0],E=v[1],V=0,$=1,I=P-w,X=E-T,B;if(B=r-w,!(!I&&B>0)){if(B/=I,I<0){if(B<V)return;B<$&&($=B)}else if(I>0){if(B>$)return;B>V&&(V=B)}if(B=l-w,!(!I&&B<0)){if(B/=I,I<0){if(B>$)return;B>V&&(V=B)}else if(I>0){if(B<V)return;B<$&&($=B)}if(B=s-T,!(!X&&B>0)){if(B/=X,X<0){if(B<V)return;B<$&&($=B)}else if(X>0){if(B>$)return;B>V&&(V=B)}if(B=g-T,!(!X&&B<0)){if(B/=X,X<0){if(B>$)return;B>V&&(V=B)}else if(X>0){if(B<V)return;B<$&&($=B)}return!(V>0)&&!($<1)||(V>0&&(t[0]=[w+V*I,T+V*X]),$<1&&(t[1]=[w+$*I,T+$*X])),!0}}}}}function FH(t,r,s,l,g){var y=t[1];if(y)return!0;var v=t[0],w=t.left,T=t.right,P=w[0],E=w[1],V=T[0],$=T[1],I=(P+V)/2,X=(E+$)/2,B,Y;if($===E){if(I<r||I>=l)return;if(P>V){if(!v)v=[I,s];else if(v[1]>=g)return;y=[I,g]}else{if(!v)v=[I,g];else if(v[1]<s)return;y=[I,s]}}else if(B=(P-V)/($-E),Y=X-B*I,B<-1||B>1)if(P>V){if(!v)v=[(s-Y)/B,s];else if(v[1]>=g)return;y=[(g-Y)/B,g]}else{if(!v)v=[(g-Y)/B,g];else if(v[1]<s)return;y=[(s-Y)/B,s]}else if(E<$){if(!v)v=[r,B*r+Y];else if(v[0]>=l)return;y=[l,B*l+Y]}else{if(!v)v=[l,B*l+Y];else if(v[0]<r)return;y=[r,B*r+Y]}return t[0]=v,t[1]=y,!0}function zH(t,r,s,l){for(var g=xn.length,y;g--;)(!FH(y=xn[g],t,r,s,l)||!DH(y,t,r,s,l)||!(Math.abs(y[0][0]-y[1][0])>$e||Math.abs(y[0][1]-y[1][1])>$e))&&delete xn[g]}function XH(t){return ti[t.index]={site:t,halfedges:[]}}function YH(t,r){var s=t.site,l=r.left,g=r.right;return s===g&&(g=l,l=s),g?Math.atan2(g[1]-l[1],g[0]-l[0]):(s===l?(l=r[1],g=r[0]):(l=r[0],g=r[1]),Math.atan2(l[0]-g[0],g[1]-l[1]))}function W5(t,r){return r[+(r.left!==t.site)]}function BH(t,r){return r[+(r.left===t.site)]}function HH(){for(var t=0,r=ti.length,s,l,g,y;t<r;++t)if((s=ti[t])&&(y=(l=s.halfedges).length)){var v=new Array(y),w=new Array(y);for(g=0;g<y;++g)v[g]=g,w[g]=YH(s,xn[l[g]]);for(v.sort(function(T,P){return w[P]-w[T]}),g=0;g<y;++g)w[g]=l[v[g]];for(g=0;g<y;++g)l[g]=w[g]}}function UH(t,r,s,l){var g=ti.length,y,v,w,T,P,E,V,$,I,X,B,Y,Z=!0;for(y=0;y<g;++y)if(v=ti[y]){for(w=v.site,P=v.halfedges,T=P.length;T--;)xn[P[T]]||P.splice(T,1);for(T=0,E=P.length;T<E;)X=BH(v,xn[P[T]]),B=X[0],Y=X[1],V=W5(v,xn[P[++T%E]]),$=V[0],I=V[1],(Math.abs(B-$)>$e||Math.abs(Y-I)>$e)&&(P.splice(T,0,xn.push(lu(w,X,Math.abs(B-t)<$e&&l-Y>$e?[t,Math.abs($-t)<$e?I:l]:Math.abs(Y-l)<$e&&s-B>$e?[Math.abs(I-l)<$e?$:s,l]:Math.abs(B-s)<$e&&Y-r>$e?[s,Math.abs($-s)<$e?I:r]:Math.abs(Y-r)<$e&&B-t>$e?[Math.abs(I-r)<$e?$:t,r]:null))-1),++E);E&&(Z=!1)}if(Z){var tt,J,rt,ft=1/0;for(y=0,Z=null;y<g;++y)(v=ti[y])&&(w=v.site,tt=w[0]-t,J=w[1]-r,rt=tt*tt+J*J,rt<ft&&(ft=rt,Z=v));if(Z){var gt=[t,r],lt=[t,l],W=[s,l],dt=[s,r];Z.halfedges.push(xn.push(lu(w=Z.site,gt,lt))-1,xn.push(lu(w,lt,W))-1,xn.push(lu(w,W,dt))-1,xn.push(lu(w,dt,gt))-1)}}for(y=0;y<g;++y)(v=ti[y])&&(v.halfedges.length||delete ti[y])}var q5=[],U_;function WH(){id(this),this.x=this.y=this.arc=this.site=this.cy=null}function To(t){var r=t.P,s=t.N;if(!(!r||!s)){var l=r.site,g=t.site,y=s.site;if(l!==y){var v=g[0],w=g[1],T=l[0]-v,P=l[1]-w,E=y[0]-v,V=y[1]-w,$=2*(T*V-P*E);if(!($>=-KH)){var I=T*T+P*P,X=E*E+V*V,B=(V*I-P*X)/$,Y=(T*X-E*I)/$,Z=q5.pop()||new WH;Z.arc=t,Z.site=g,Z.x=B+v,Z.y=(Z.cy=Y+w)+Math.sqrt(B*B+Y*Y),t.circle=Z;for(var tt=null,J=nc._;J;)if(Z.y<J.y||Z.y===J.y&&Z.x<=J.x)if(J.L)J=J.L;else{tt=J.P;break}else if(J.R)J=J.R;else{tt=J;break}nc.insert(tt,Z),tt||(U_=Z)}}}}function Mo(t){var r=t.circle;r&&(r.P||(U_=r.N),nc.remove(r),q5.push(r),id(r),t.circle=null)}var Q5=[];function qH(){id(this),this.edge=this.site=this.circle=null}function qS(t){var r=Q5.pop()||new qH;return r.site=t,r}function $0(t){Mo(t),$o.remove(t),Q5.push(t),id(t)}function QH(t){var r=t.circle,s=r.x,l=r.cy,g=[s,l],y=t.P,v=t.N,w=[t];$0(t);for(var T=y;T.circle&&Math.abs(s-T.circle.x)<$e&&Math.abs(l-T.circle.cy)<$e;)y=T.P,w.unshift(T),$0(T),T=y;w.unshift(T),Mo(T);for(var P=v;P.circle&&Math.abs(s-P.circle.x)<$e&&Math.abs(l-P.circle.cy)<$e;)v=P.N,w.push(P),$0(P),P=v;w.push(P),Mo(P);var E=w.length,V;for(V=1;V<E;++V)P=w[V],T=w[V-1],Ah(P.edge,T.site,P.site,g);T=w[0],P=w[E-1],P.edge=Lu(T.site,P.site,null,g),To(T),To(P)}function ZH(t){for(var r=t[0],s=t[1],l,g,y,v,w=$o._;w;)if(y=Z5(w,s)-r,y>$e)w=w.L;else if(v=r-jH(w,s),v>$e){if(!w.R){l=w;break}w=w.R}else{y>-$e?(l=w.P,g=w):v>-$e?(l=w,g=w.N):l=g=w;break}XH(t);var T=qS(t);if($o.insert(l,T),!(!l&&!g)){if(l===g){Mo(l),g=qS(l.site),$o.insert(T,g),T.edge=g.edge=Lu(l.site,T.site),To(l),To(g);return}if(!g){T.edge=Lu(l.site,T.site);return}Mo(l),Mo(g);var P=l.site,E=P[0],V=P[1],$=t[0]-E,I=t[1]-V,X=g.site,B=X[0]-E,Y=X[1]-V,Z=2*($*Y-I*B),tt=$*$+I*I,J=B*B+Y*Y,rt=[(Y*tt-I*J)/Z+E,($*J-B*tt)/Z+V];Ah(g.edge,P,X,rt),T.edge=Lu(P,t,null,rt),g.edge=Lu(t,X,null,rt),To(l),To(g)}}function Z5(t,r){var s=t.site,l=s[0],g=s[1],y=g-r;if(!y)return l;var v=t.P;if(!v)return-1/0;s=v.site;var w=s[0],T=s[1],P=T-r;if(!P)return w;var E=w-l,V=1/y-1/P,$=E/P;return V?(-$+Math.sqrt($*$-2*V*(E*E/(-2*P)-T+P/2+g-y/2)))/V+l:(l+w)/2}function jH(t,r){var s=t.N;if(s)return Z5(s,r);var l=t.site;return l[1]===r?l[0]:1/0}var $e=1e-6,KH=1e-12,$o,ti,nc,xn;function JH(t,r,s){return(t[0]-s[0])*(r[1]-t[1])-(t[0]-r[0])*(s[1]-t[1])}function tU(t,r){return r[1]-t[1]||r[0]-t[0]}function Ly(t,r){var s=t.sort(tU).pop(),l,g,y;for(xn=[],ti=new Array(t.length),$o=new Th,nc=new Th;;)if(y=U_,s&&(!y||s[1]<y.y||s[1]===y.y&&s[0]<y.x))(s[0]!==l||s[1]!==g)&&(ZH(s),l=s[0],g=s[1]),s=t.pop();else if(y)QH(y.arc);else break;if(HH(),r){var v=+r[0][0],w=+r[0][1],T=+r[1][0],P=+r[1][1];zH(v,w,T,P),UH(v,w,T,P)}this.edges=xn,this.cells=ti,$o=nc=xn=ti=null}Ly.prototype={constructor:Ly,polygons:function(){var t=this.edges;return this.cells.map(function(r){var s=r.halfedges.map(function(l){return W5(r,t[l])});return s.data=r.site.data,s})},triangles:function(){var t=[],r=this.edges;return this.cells.forEach(function(s,l){if(w=(y=s.halfedges).length)for(var g=s.site,y,v=-1,w,T,P=r[y[w-1]],E=P.left===g?P.right:P.left;++v<w;)T=E,P=r[y[v]],E=P.left===g?P.right:P.left,T&&E&&l<T.index&&l<E.index&&JH(g,T,E)<0&&t.push([g.data,T.data,E.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,r,s){for(var l=this,g,y=l._found||0,v=l.cells.length,w;!(w=l.cells[y]);)if(++y>=v)return null;var T=t-w.site[0],P=r-w.site[1],E=T*T+P*P;do w=l.cells[g=y],y=null,w.halfedges.forEach(function(V){var $=l.edges[V],I=$.left;if(!((I===w.site||!I)&&!(I=$.right))){var X=t-I[0],B=r-I[1],Y=X*X+B*B;Y<E&&(E=Y,y=I.index)}});while(y!==null);return l._found=g,s==null||E<=s*s?w.site:null}};function eU(){var t=NH,r=IH,s=null;function l(g){return new Ly(g.map(function(y,v){var w=[Math.round(t(y,v,g)/$e)*$e,Math.round(r(y,v,g)/$e)*$e];return w.index=v,w.data=y,w}),s)}return l.polygons=function(g){return l(g).polygons()},l.links=function(g){return l(g).links()},l.triangles=function(g){return l(g).triangles()},l.x=function(g){return arguments.length?(t=typeof g=="function"?g:US(+g),l):t},l.y=function(g){return arguments.length?(r=typeof g=="function"?g:US(+g),l):r},l.extent=function(g){return arguments.length?(s=g==null?null:[[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]],l):s&&[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},l.size=function(g){return arguments.length?(s=g==null?null:[[0,0],[+g[0],+g[1]]],l):s&&[s[1][0]-s[0][0],s[1][1]-s[0][1]]},l}function Sl(t){return function(){return t}}function nU(t,r,s){this.target=t,this.type=r,this.transform=s}function lr(t,r,s){this.k=t,this.x=r,this.y=s}lr.prototype={constructor:lr,scale:function(t){return t===1?this:new lr(this.k*t,this.x,this.y)},translate:function(t,r){return t===0&r===0?this:new lr(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rd=new lr(1,0,0);j5.prototype=lr.prototype;function j5(t){for(;!t.__zoom;)if(!(t=t.parentNode))return rd;return t.__zoom}function E0(){qt.stopImmediatePropagation()}function hu(){qt.preventDefault(),qt.stopImmediatePropagation()}function iU(){return!qt.ctrlKey&&!qt.button}function rU(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function QS(){return this.__zoom||rd}function aU(){return-qt.deltaY*(qt.deltaMode===1?.05:qt.deltaMode?1:.002)}function oU(){return navigator.maxTouchPoints||"ontouchstart"in this}function sU(t,r,s){var l=t.invertX(r[0][0])-s[0][0],g=t.invertX(r[1][0])-s[1][0],y=t.invertY(r[0][1])-s[0][1],v=t.invertY(r[1][1])-s[1][1];return t.translate(g>l?(l+g)/2:Math.min(0,l)||Math.max(0,g),v>y?(y+v)/2:Math.min(0,y)||Math.max(0,v))}function uU(){var t=iU,r=rU,s=sU,l=aU,g=oU,y=[0,1/0],v=[[-1/0,-1/0],[1/0,1/0]],w=250,T=zT,P=ka("start","zoom","end"),E,V,$=500,I=150,X=0;function B(et){et.property("__zoom",QS).on("wheel.zoom",gt).on("mousedown.zoom",lt).on("dblclick.zoom",W).filter(g).on("touchstart.zoom",dt).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",vt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}B.transform=function(et,_t,Mt){var pt=et.selection?et.selection():et;pt.property("__zoom",QS),et!==pt?J(et,_t,Mt):pt.interrupt().each(function(){rt(this,arguments).start().zoom(null,typeof _t=="function"?_t.apply(this,arguments):_t).end()})},B.scaleBy=function(et,_t,Mt){B.scaleTo(et,function(){var pt=this.__zoom.k,Lt=typeof _t=="function"?_t.apply(this,arguments):_t;return pt*Lt},Mt)},B.scaleTo=function(et,_t,Mt){B.transform(et,function(){var pt=r.apply(this,arguments),Lt=this.__zoom,o=Mt==null?tt(pt):typeof Mt=="function"?Mt.apply(this,arguments):Mt,f=Lt.invert(o),e=typeof _t=="function"?_t.apply(this,arguments):_t;return s(Z(Y(Lt,e),o,f),pt,v)},Mt)},B.translateBy=function(et,_t,Mt){B.transform(et,function(){return s(this.__zoom.translate(typeof _t=="function"?_t.apply(this,arguments):_t,typeof Mt=="function"?Mt.apply(this,arguments):Mt),r.apply(this,arguments),v)})},B.translateTo=function(et,_t,Mt,pt){B.transform(et,function(){var Lt=r.apply(this,arguments),o=this.__zoom,f=pt==null?tt(Lt):typeof pt=="function"?pt.apply(this,arguments):pt;return s(rd.translate(f[0],f[1]).scale(o.k).translate(typeof _t=="function"?-_t.apply(this,arguments):-_t,typeof Mt=="function"?-Mt.apply(this,arguments):-Mt),Lt,v)},pt)};function Y(et,_t){return _t=Math.max(y[0],Math.min(y[1],_t)),_t===et.k?et:new lr(_t,et.x,et.y)}function Z(et,_t,Mt){var pt=_t[0]-Mt[0]*et.k,Lt=_t[1]-Mt[1]*et.k;return pt===et.x&&Lt===et.y?et:new lr(et.k,pt,Lt)}function tt(et){return[(+et[0][0]+ +et[1][0])/2,(+et[0][1]+ +et[1][1])/2]}function J(et,_t,Mt){et.on("start.zoom",function(){rt(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){rt(this,arguments).end()}).tween("zoom",function(){var pt=this,Lt=arguments,o=rt(pt,Lt),f=r.apply(pt,Lt),e=Mt==null?tt(f):typeof Mt=="function"?Mt.apply(pt,Lt):Mt,i=Math.max(f[1][0]-f[0][0],f[1][1]-f[0][1]),u=pt.__zoom,d=typeof _t=="function"?_t.apply(pt,Lt):_t,m=T(u.invert(e).concat(i/u.k),d.invert(e).concat(i/d.k));return function(S){if(S===1)S=d;else{var L=m(S),M=i/L[2];S=new lr(M,e[0]-L[0]*M,e[1]-L[1]*M)}o.zoom(null,S)}})}function rt(et,_t,Mt){return!Mt&&et.__zooming||new ft(et,_t)}function ft(et,_t){this.that=et,this.args=_t,this.active=0,this.extent=r.apply(et,_t),this.taps=0}ft.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(et,_t){return this.mouse&&et!=="mouse"&&(this.mouse[1]=_t.invert(this.mouse[0])),this.touch0&&et!=="touch"&&(this.touch0[1]=_t.invert(this.touch0[0])),this.touch1&&et!=="touch"&&(this.touch1[1]=_t.invert(this.touch1[0])),this.that.__zoom=_t,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(et){Ou(new nU(B,et,this.that.__zoom),P.apply,P,[et,this.that,this.args])}};function gt(){if(!t.apply(this,arguments))return;var et=rt(this,arguments),_t=this.__zoom,Mt=Math.max(y[0],Math.min(y[1],_t.k*Math.pow(2,l.apply(this,arguments)))),pt=ma(this);if(et.wheel)(et.mouse[0][0]!==pt[0]||et.mouse[0][1]!==pt[1])&&(et.mouse[1]=_t.invert(et.mouse[0]=pt)),clearTimeout(et.wheel);else{if(_t.k===Mt)return;et.mouse=[pt,_t.invert(pt)],xa(this),et.start()}hu(),et.wheel=setTimeout(Lt,I),et.zoom("mouse",s(Z(Y(_t,Mt),et.mouse[0],et.mouse[1]),et.extent,v));function Lt(){et.wheel=null,et.end()}}function lt(){if(V||!t.apply(this,arguments))return;var et=rt(this,arguments,!0),_t=Wn(qt.view).on("mousemove.zoom",o,!0).on("mouseup.zoom",f,!0),Mt=ma(this),pt=qt.clientX,Lt=qt.clientY;kh(qt.view),E0(),et.mouse=[Mt,this.__zoom.invert(Mt)],xa(this),et.start();function o(){if(hu(),!et.moved){var e=qt.clientX-pt,i=qt.clientY-Lt;et.moved=e*e+i*i>X}et.zoom("mouse",s(Z(et.that.__zoom,et.mouse[0]=ma(et.that),et.mouse[1]),et.extent,v))}function f(){_t.on("mousemove.zoom mouseup.zoom",null),Rh(qt.view,et.moved),hu(),et.end()}}function W(){if(t.apply(this,arguments)){var et=this.__zoom,_t=ma(this),Mt=et.invert(_t),pt=et.k*(qt.shiftKey?.5:2),Lt=s(Z(Y(et,pt),_t,Mt),r.apply(this,arguments),v);hu(),w>0?Wn(this).transition().duration(w).call(J,Lt,_t):Wn(this).call(B.transform,Lt)}}function dt(){if(t.apply(this,arguments)){var et=qt.touches,_t=et.length,Mt=rt(this,arguments,qt.changedTouches.length===_t),pt,Lt,o,f;for(E0(),Lt=0;Lt<_t;++Lt)o=et[Lt],f=Nu(this,et,o.identifier),f=[f,this.__zoom.invert(f),o.identifier],Mt.touch0?!Mt.touch1&&Mt.touch0[2]!==f[2]&&(Mt.touch1=f,Mt.taps=0):(Mt.touch0=f,pt=!0,Mt.taps=1+!!E);E&&(E=clearTimeout(E)),pt&&(Mt.taps<2&&(E=setTimeout(function(){E=null},$)),xa(this),Mt.start())}}function F(){if(this.__zooming){var et=rt(this,arguments),_t=qt.changedTouches,Mt=_t.length,pt,Lt,o,f;for(hu(),E&&(E=clearTimeout(E)),et.taps=0,pt=0;pt<Mt;++pt)Lt=_t[pt],o=Nu(this,_t,Lt.identifier),et.touch0&&et.touch0[2]===Lt.identifier?et.touch0[0]=o:et.touch1&&et.touch1[2]===Lt.identifier&&(et.touch1[0]=o);if(Lt=et.that.__zoom,et.touch1){var e=et.touch0[0],i=et.touch0[1],u=et.touch1[0],d=et.touch1[1],m=(m=u[0]-e[0])*m+(m=u[1]-e[1])*m,S=(S=d[0]-i[0])*S+(S=d[1]-i[1])*S;Lt=Y(Lt,Math.sqrt(m/S)),o=[(e[0]+u[0])/2,(e[1]+u[1])/2],f=[(i[0]+d[0])/2,(i[1]+d[1])/2]}else if(et.touch0)o=et.touch0[0],f=et.touch0[1];else return;et.zoom("touch",s(Z(Lt,o,f),et.extent,v))}}function vt(){if(this.__zooming){var et=rt(this,arguments),_t=qt.changedTouches,Mt=_t.length,pt,Lt;for(E0(),V&&clearTimeout(V),V=setTimeout(function(){V=null},$),pt=0;pt<Mt;++pt)Lt=_t[pt],et.touch0&&et.touch0[2]===Lt.identifier?delete et.touch0:et.touch1&&et.touch1[2]===Lt.identifier&&delete et.touch1;if(et.touch1&&!et.touch0&&(et.touch0=et.touch1,delete et.touch1),et.touch0)et.touch0[1]=this.__zoom.invert(et.touch0[0]);else if(et.end(),et.taps===2){var o=Wn(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return B.wheelDelta=function(et){return arguments.length?(l=typeof et=="function"?et:Sl(+et),B):l},B.filter=function(et){return arguments.length?(t=typeof et=="function"?et:Sl(!!et),B):t},B.touchable=function(et){return arguments.length?(g=typeof et=="function"?et:Sl(!!et),B):g},B.extent=function(et){return arguments.length?(r=typeof et=="function"?et:Sl([[+et[0][0],+et[0][1]],[+et[1][0],+et[1][1]]]),B):r},B.scaleExtent=function(et){return arguments.length?(y[0]=+et[0],y[1]=+et[1],B):[y[0],y[1]]},B.translateExtent=function(et){return arguments.length?(v[0][0]=+et[0][0],v[1][0]=+et[1][0],v[0][1]=+et[0][1],v[1][1]=+et[1][1],B):[[v[0][0],v[0][1]],[v[1][0],v[1][1]]]},B.constrain=function(et){return arguments.length?(s=et,B):s},B.duration=function(et){return arguments.length?(w=+et,B):w},B.interpolate=function(et){return arguments.length?(T=et,B):T},B.on=function(){var et=P.on.apply(P,arguments);return et===P?B:et},B.clickDistance=function(et){return arguments.length?(X=(et=+et)*et,B):Math.sqrt(X)},B}const cU=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:Bh,active:EN,arc:HB,area:S5,areaRadial:zS,ascending:Dr,autoType:GI,axisBottom:IR,axisLeft:DR,axisRight:NR,axisTop:OR,bisect:Rr,bisectLeft:hR,bisectRight:Rr,bisector:My,blob:II,brush:BN,brushSelection:zN,brushX:XN,brushY:YN,buffer:FI,chord:UN,clientPoint:Eh,cluster:JF,color:Gr,contourDensity:vI,contours:rA,create:uG,creator:Mh,cross:gR,csv:YI,csvFormat:TI,csvFormatBody:AI,csvFormatRow:CI,csvFormatRows:PI,csvFormatValue:LI,csvParse:oA,csvParseRows:SI,cubehelix:Ci,curveBasis:fH,curveBasisClosed:lH,curveBasisOpen:hH,curveBundle:dH,curveCardinal:gH,curveCardinalClosed:pH,curveCardinalOpen:yH,curveCatmullRom:_H,curveCatmullRomClosed:mH,curveCatmullRomOpen:vH,curveLinear:td,curveLinearClosed:xH,curveMonotoneX:wH,curveMonotoneY:bH,curveNatural:SH,curveStep:TH,curveStepAfter:PH,curveStepBefore:AH,customEvent:Ou,descending:pR,deviation:tT,dispatch:ka,drag:yG,dragDisable:kh,dragEnable:Rh,dsv:XI,dsvFormat:zh,easeBack:l2,easeBackIn:TN,easeBackInOut:l2,easeBackOut:AN,easeBounce:Yu,easeBounceIn:bN,easeBounceInOut:SN,easeBounceOut:Yu,easeCircle:f2,easeCircleIn:hN,easeCircleInOut:f2,easeCircleOut:dN,easeCubic:W0,easeCubicIn:rN,easeCubicInOut:W0,easeCubicOut:aN,easeElastic:h2,easeElasticIn:PN,easeElasticInOut:CN,easeElasticOut:h2,easeExp:c2,easeExpIn:fN,easeExpInOut:c2,easeExpOut:lN,easeLinear:eN,easePoly:s2,easePolyIn:oN,easePolyInOut:s2,easePolyOut:sN,easeQuad:o2,easeQuadIn:nN,easeQuadInOut:o2,easeQuadOut:iN,easeSin:u2,easeSinIn:uN,easeSinInOut:u2,easeSinOut:cN,entries:oI,get event(){return qt},extent:$y,forceCenter:jI,forceCollide:yD,forceLink:mD,forceManyBody:TD,forceRadial:AD,forceSimulation:SD,forceX:PD,forceY:CD,get format(){return Hh},formatDefaultLocale:hA,formatLocale:lA,get formatPrefix(){return t_},formatSpecifier:Hu,geoAlbers:ZA,geoAlbersUsa:EF,geoArea:ND,geoAzimuthalEqualArea:kF,geoAzimuthalEqualAreaRaw:f_,geoAzimuthalEquidistant:RF,geoAzimuthalEquidistantRaw:l_,geoBounds:zD,geoCentroid:WD,geoCircle:qD,geoClipAntimeridian:fy,geoClipCircle:VA,geoClipExtent:eF,geoClipRectangle:Uh,geoConicConformal:GF,geoConicConformalRaw:JA,geoConicEqualArea:gh,geoConicEqualAreaRaw:QA,geoConicEquidistant:NF,geoConicEquidistantRaw:t3,geoContains:uF,geoDistance:sh,geoEqualEarth:DF,geoEqualEarthRaw:h_,geoEquirectangular:OF,geoEquirectangularRaw:Qu,geoGnomonic:FF,geoGnomonicRaw:d_,geoGraticule:NA,geoGraticule10:cF,geoIdentity:zF,geoInterpolate:fF,geoLength:GA,geoMercator:VF,geoMercatorRaw:cc,geoNaturalEarth1:XF,geoNaturalEarth1Raw:g_,geoOrthographic:YF,geoOrthographicRaw:p_,geoPath:wF,geoProjection:qi,geoProjectionMutator:u_,geoRotation:LA,geoStereographic:BF,geoStereographicRaw:y_,geoStream:Ti,geoTransform:bF,geoTransverseMercator:HF,geoTransverseMercatorRaw:__,gray:PG,hcl:Dl,hierarchy:m_,histogram:vR,hsl:Ol,html:QI,image:HI,interpolate:ac,interpolateArray:kG,interpolateBasis:CT,interpolateBasisClosed:LT,interpolateBlues:mB,interpolateBrBG:jY,interpolateBuGn:oB,interpolateBuPu:sB,interpolateCividis:TB,interpolateCool:CB,interpolateCubehelix:WG,interpolateCubehelixDefault:AB,interpolateCubehelixLong:Nh,interpolateDate:VT,interpolateDiscrete:GG,interpolateGnBu:uB,interpolateGreens:vB,interpolateGreys:xB,interpolateHcl:HG,interpolateHclLong:UG,interpolateHsl:XG,interpolateHslLong:YG,interpolateHue:OG,interpolateInferno:GB,interpolateLab:BG,interpolateMagma:VB,interpolateNumber:di,interpolateNumberArray:Yy,interpolateObject:GT,interpolateOrRd:cB,interpolateOranges:SB,interpolatePRGn:KY,interpolatePiYG:JY,interpolatePlasma:OB,interpolatePuBu:lB,interpolatePuBuGn:fB,interpolatePuOr:tB,interpolatePuRd:hB,interpolatePurples:wB,interpolateRainbow:LB,interpolateRdBu:eB,interpolateRdGy:nB,interpolateRdPu:dB,interpolateRdYlBu:iB,interpolateRdYlGn:rB,interpolateReds:bB,interpolateRgb:Fu,interpolateRgbBasis:ET,interpolateRgbBasisClosed:EG,interpolateRound:OT,interpolateSinebow:EB,interpolateSpectral:aB,interpolateString:By,interpolateTransformCss:DT,interpolateTransformSvg:FT,interpolateTurbo:kB,interpolateViridis:RB,interpolateWarm:PB,interpolateYlGn:pB,interpolateYlGnBu:gB,interpolateYlOrBr:yB,interpolateYlOrRd:_B,interpolateZoom:zT,interrupt:xa,interval:JG,isoFormat:EY,isoParse:RY,json:WI,keys:rI,lab:Il,lch:CG,line:I_,lineRadial:FS,linkHorizontal:tH,linkRadial:nH,linkVertical:eH,local:dT,map:hr,matcher:Gy,max:nT,mean:bR,median:SR,merge:Ry,min:iT,mouse:ma,namespace:ic,namespaces:N0,nest:eI,now:Yo,pack:Tz,packEnclose:n3,packSiblings:wz,pairs:dR,partition:Az,path:zr,permute:TR,pie:qB,piecewise:qG,pointRadial:Cu,polygonArea:Fz,polygonCentroid:zz,polygonContains:Hz,polygonHull:Bz,polygonLength:Uz,precisionFixed:dA,precisionPrefix:gA,precisionRound:pA,quadtree:Yh,quantile:Gu,quantize:QG,radialArea:zS,radialLine:FS,randomBates:Qz,randomExponential:Zz,randomIrwinHall:l3,randomLogNormal:qz,randomNormal:f3,randomUniform:Wz,range:ei,rgb:ko,ribbon:tI,scaleBand:x_,scaleDiverging:U3,scaleDivergingLog:W3,scaleDivergingPow:G_,scaleDivergingSqrt:FY,scaleDivergingSymlog:q3,scaleIdentity:_3,scaleImplicit:Sy,scaleLinear:y3,scaleLog:v3,scaleOrdinal:v_,scalePoint:jz,scalePow:T_,scaleQuantile:w3,scaleQuantize:b3,scaleSequential:X3,scaleSequentialLog:Y3,scaleSequentialPow:V_,scaleSequentialQuantile:H3,scaleSequentialSqrt:DY,scaleSequentialSymlog:B3,scaleSqrt:uX,scaleSymlog:x3,scaleThreshold:S3,scaleTime:NY,scaleUtc:IY,scan:AR,schemeAccent:XY,schemeBlues:y5,schemeBrBG:Q3,schemeBuGn:r5,schemeBuPu:a5,schemeCategory10:zY,schemeDark2:YY,schemeGnBu:o5,schemeGreens:_5,schemeGreys:m5,schemeOrRd:s5,schemeOranges:w5,schemePRGn:Z3,schemePaired:BY,schemePastel1:HY,schemePastel2:UY,schemePiYG:j3,schemePuBu:c5,schemePuBuGn:u5,schemePuOr:K3,schemePuRd:f5,schemePurples:v5,schemeRdBu:J3,schemeRdGy:t5,schemeRdPu:l5,schemeRdYlBu:e5,schemeRdYlGn:n5,schemeReds:x5,schemeSet1:WY,schemeSet2:qY,schemeSet3:QY,schemeSpectral:i5,schemeTableau10:ZY,schemeYlGn:d5,schemeYlGnBu:h5,schemeYlOrBr:g5,schemeYlOrRd:p5,select:Wn,selectAll:fG,selection:Ra,selector:$h,selectorAll:Vy,set:nA,shuffle:PR,stack:LH,stackOffsetDiverging:$H,stackOffsetExpand:MH,stackOffsetNone:Fo,stackOffsetSilhouette:EH,stackOffsetWiggle:kH,stackOrderAppearance:B5,stackOrderAscending:H5,stackOrderDescending:VH,stackOrderInsideOut:GH,stackOrderNone:zo,stackOrderReverse:OH,stratify:Mz,style:ba,sum:CR,svg:ZI,symbol:cH,symbolCircle:z_,symbolCross:P5,symbolDiamond:L5,symbolSquare:E5,symbolStar:$5,symbolTriangle:k5,symbolWye:R5,symbols:uH,text:Xh,thresholdFreedmanDiaconis:xR,thresholdScott:wR,thresholdSturges:ky,tickFormat:p3,tickIncrement:Mu,tickStep:wa,ticks:Ey,timeDay:hc,timeDays:lX,get timeFormat(){return E_},timeFormatDefaultLocale:F3,timeFormatLocale:V3,timeFriday:L3,timeFridays:yX,timeHour:P_,timeHours:fX,timeInterval:en,timeMillisecond:La,timeMilliseconds:SS,timeMinute:A_,timeMinutes:cX,timeMonday:Ku,timeMondays:hX,timeMonth:C_,timeMonths:mX,get timeParse(){return D3},timeSaturday:M3,timeSaturdays:_X,timeSecond:Zu,timeSeconds:TS,timeSunday:ju,timeSundays:AS,timeThursday:$a,timeThursdays:pX,timeTuesday:P3,timeTuesdays:dX,timeWednesday:C3,timeWednesdays:gX,timeWeek:ju,timeWeeks:AS,timeYear:gr,timeYears:vX,timeout:Y0,timer:Dh,timerFlush:WT,touch:Nu,touches:lG,transition:jT,transpose:rT,tree:Gz,treemap:Oz,treemapBinary:Nz,treemapDice:fc,treemapResquarify:Dz,treemapSlice:qh,treemapSliceDice:Iz,treemapSquarify:c3,tsv:BI,tsvFormat:$I,tsvFormatBody:EI,tsvFormatRow:RI,tsvFormatRows:kI,tsvFormatValue:VI,tsvParse:sA,tsvParseRows:MI,utcDay:dc,utcDays:bX,get utcFormat(){return Zh},utcFriday:k3,utcFridays:CX,utcHour:M_,utcHours:wX,utcMillisecond:La,utcMilliseconds:SS,utcMinute:L_,utcMinutes:xX,utcMonday:tc,utcMondays:SX,utcMonth:$_,utcMonths:MX,get utcParse(){return k_},utcSaturday:R3,utcSaturdays:LX,utcSecond:Zu,utcSeconds:TS,utcSunday:Ju,utcSundays:PS,utcThursday:Ea,utcThursdays:PX,utcTuesday:$3,utcTuesdays:TX,utcWednesday:E3,utcWednesdays:AX,utcWeek:Ju,utcWeeks:PS,utcYear:pr,utcYears:$X,values:aI,variance:JS,version:fR,voronoi:eU,window:Oy,xml:qI,zip:MR,zoom:uU,zoomIdentity:rd,zoomTransform:j5},Symbol.toStringTag,{value:"Module"})),fU=uR(cU);/* @license C3.js v0.7.20 | (c) C3 Team and other contributors | http://c3js.org/ */(function(t,r){(function(s,l){t.exports=l()})(sR,function(){function s(e){var i=this;i.d3=window.d3?window.d3:typeof cR<"u"?fU:void 0,i.api=e,i.config=i.getDefaultConfig(),i.data={},i.cache={},i.axes={}}function l(e){this.internal=new s(this),this.internal.loadConfig(e),this.internal.beforeInit(e),this.internal.init(),this.internal.afterInit(e),function i(u,d,m){Object.keys(u).forEach(function(S){d[S]=u[S].bind(m),Object.keys(u[S]).length>0&&i(u[S],d[S],m)})}(l.prototype,this,this)}var g=function(e){return Math.ceil(e)+.5},y=function(e){return Math.ceil(e/10)*10},v=function(e){return e[1]-e[0]},w=function(e,i,u){return $(e[i])?e[i]:u},T=function(e){var i=P(e),u=[e.pathSegList.getItem(0),e.pathSegList.getItem(1)],d=u[0].x,m=Math.min(u[0].y,u[1].y);return{x:d,y:m,width:i.width,height:i.height}},P=function(e){try{return e.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},E=function(e,i){var u=!1;return Object.keys(e).forEach(function(d){e[d]===i&&(u=!0)}),u},V=function(e){return Array.isArray(e)},$=function(e){return typeof e<"u"},I=function(e){return typeof e>"u"||e===null||Y(e)&&e.length===0||typeof e=="object"&&Object.keys(e).length===0},X=function(e){return typeof e=="function"},B=function(e){return typeof e=="number"},Y=function(e){return typeof e=="string"},Z=function(e){return typeof e>"u"},tt=function(e){return e||e===0},J=function(e){return!I(e)},rt=function(e){return typeof e=="string"?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},ft=function(e){return Array.isArray(e)?[].concat.apply([],e):[]},gt=function(e,i,u){var d=i.x-u,m=i.x+i.width+u,S=i.y+i.height+u,L=i.y-u;return d<e[0]&&e[0]<m&&L<e[1]&&e[1]<S},lt=function(e){typeof e>"u"&&(e=window.navigator.userAgent);var i=e.indexOf("MSIE ");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):(i=e.indexOf("Trident/"),i>0?(i=e.indexOf("rv:"),parseInt(e.substring(i+3,e.indexOf(".",i)),10)):!1)},W=function(e){var i=lt();return typeof e>"u"?!!i:e===i};function dt(e,i){var u=this;u.component=e,u.params=i||{},u.d3=e.d3,u.scale=u.d3.scaleLinear(),u.range,u.orient="bottom",u.innerTickSize=6,u.outerTickSize=this.params.withOuterTick?6:0,u.tickPadding=3,u.tickValues=null,u.tickFormat,u.tickArguments,u.tickOffset=0,u.tickCulling=!0,u.tickCentered,u.tickTextCharSize,u.tickTextRotate=u.params.tickTextRotate,u.tickLength,u.axis=u.generateAxis()}dt.prototype.axisX=function(e,i,u){e.attr("transform",function(d){return"translate("+Math.ceil(i(d)+u)+", 0)"})},dt.prototype.axisY=function(e,i){e.attr("transform",function(u){return"translate(0,"+Math.ceil(i(u))+")"})},dt.prototype.scaleExtent=function(e){var i=e[0],u=e[e.length-1];return i<u?[i,u]:[u,i]},dt.prototype.generateTicks=function(e){var i=this,u,d,m=[];if(e.ticks)return e.ticks.apply(e,i.tickArguments);for(d=e.domain(),u=Math.ceil(d[0]);u<d[1];u++)m.push(u);return m.length>0&&m[0]>0&&m.unshift(m[0]-(m[1]-m[0])),m},dt.prototype.copyScale=function(){var e=this,i=e.scale.copy(),u;return e.params.isCategory&&(u=e.scale.domain(),i.domain([u[0],u[1]-1])),i},dt.prototype.textFormatted=function(e){var i=this,u=i.tickFormat?i.tickFormat(e):e;return typeof u<"u"?u:""},dt.prototype.updateRange=function(){var e=this;return e.range=e.scale.rangeExtent?e.scale.rangeExtent():e.scaleExtent(e.scale.range()),e.range},dt.prototype.updateTickTextCharSize=function(e){var i=this;if(i.tickTextCharSize)return i.tickTextCharSize;var u={h:11.5,w:5.5};return e.select("text").text(function(d){return i.textFormatted(d)}).each(function(d){var m=P(this),S=i.textFormatted(d),L=m.height,M=S?m.width/S.length:void 0;L&&M&&(u.h=L,u.w=M)}).text(""),i.tickTextCharSize=u,u},dt.prototype.isVertical=function(){return this.orient==="left"||this.orient==="right"},dt.prototype.tspanData=function(e,i,u){var d=this,m=d.params.tickMultiline?d.splitTickText(e,u):[].concat(d.textFormatted(e));return d.params.tickMultiline&&d.params.tickMultilineMax>0&&(m=d.ellipsify(m,d.params.tickMultilineMax)),m.map(function(S){return{index:i,splitted:S,length:m.length}})},dt.prototype.splitTickText=function(e,i){var u=this,d=u.textFormatted(e),m=u.params.tickWidth,S,L,M,N=[];if(Object.prototype.toString.call(d)==="[object Array]")return d;(!m||m<=0)&&(m=u.isVertical()?95:u.params.isCategory?Math.ceil(i(1)-i(0))-12:110);function O(H,z){L=void 0;for(var nt=1;nt<z.length;nt++)if(z.charAt(nt)===" "&&(L=nt),S=z.substr(0,nt+1),M=u.tickTextCharSize.w*S.length,m<M)return O(H.concat(z.substr(0,L||nt)),z.slice(L?L+1:nt));return H.concat(z)}return O(N,d+"")},dt.prototype.ellipsify=function(e,i){if(e.length<=i)return e;for(var u=e.slice(0,i),d=3,m=i-1;m>=0;m--){var S=u[m].length;if(u[m]=u[m].substr(0,S-d).padEnd(S,"."),d-=S,d<=0)break}return u},dt.prototype.updateTickLength=function(){var e=this;e.tickLength=Math.max(e.innerTickSize,0)+e.tickPadding},dt.prototype.lineY2=function(e){var i=this,u=i.scale(e)+(i.tickCentered?0:i.tickOffset);return i.range[0]<u&&u<i.range[1]?i.innerTickSize:0},dt.prototype.textY=function(){var e=this,i=e.tickTextRotate;return i?11.5-2.5*(i/15)*(i>0?1:-1):e.tickLength},dt.prototype.textTransform=function(){var e=this,i=e.tickTextRotate;return i?"rotate("+i+")":""},dt.prototype.textTextAnchor=function(){var e=this,i=e.tickTextRotate;return i?i>0?"start":"end":"middle"},dt.prototype.tspanDx=function(){var e=this,i=e.tickTextRotate;return i?8*Math.sin(Math.PI*(i/180)):0},dt.prototype.tspanDy=function(e,i){var u=this,d=u.tickTextCharSize.h;return i===0&&(u.isVertical()?d=-((e.length-1)*(u.tickTextCharSize.h/2)-3):d=".71em"),d},dt.prototype.generateAxis=function(){var e=this,i=e.d3,u=e.params;function d(m,S){var L;return m.each(function(){var M=d.g=i.select(this),N=this.__chart__||e.scale,O=this.__chart__=e.copyScale(),H=e.tickValues?e.tickValues:e.generateTicks(O),z=M.selectAll(".tick").data(H,O),nt=z.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),Q=z.exit().remove(),ut=z.merge(nt),ct,St,Ct;u.isCategory?(e.tickOffset=Math.ceil((O(1)-O(0))/2),St=e.tickCentered?0:e.tickOffset,Ct=e.tickCentered?e.tickOffset:0):e.tickOffset=St=0,e.updateRange(),e.updateTickLength(),e.updateTickTextCharSize(M.select(".tick"));var It=ut.select("line").merge(nt.append("line")),Dt=ut.select("text").merge(nt.append("text")),Wt=ut.selectAll("text").selectAll("tspan").data(function(zt,Xt){return e.tspanData(zt,Xt,O)}),Ft=Wt.enter().append("tspan"),Ht=Ft.merge(Wt).text(function(zt){return zt.splitted});Wt.exit().remove();var Nt=M.selectAll(".domain").data([0]),Yt=Nt.enter().append("path").merge(Nt).attr("class","domain");switch(e.orient){case"bottom":{ct=e.axisX,It.attr("x1",St).attr("x2",St).attr("y2",function(zt,Xt){return e.lineY2(zt,Xt)}),Dt.attr("x",0).attr("y",function(zt,Xt){return e.textY(zt,Xt)}).attr("transform",function(zt,Xt){return e.textTransform(zt,Xt)}).style("text-anchor",function(zt,Xt){return e.textTextAnchor(zt,Xt)}),Ht.attr("x",0).attr("dy",function(zt,Xt){return e.tspanDy(zt,Xt)}).attr("dx",function(zt,Xt){return e.tspanDx(zt,Xt)}),Yt.attr("d","M"+e.range[0]+","+e.outerTickSize+"V0H"+e.range[1]+"V"+e.outerTickSize);break}case"top":{ct=e.axisX,It.attr("x1",St).attr("x2",St).attr("y2",function(zt,Xt){return-1*e.lineY2(zt,Xt)}),Dt.attr("x",0).attr("y",function(zt,Xt){return-1*e.textY(zt,Xt)-(u.isCategory?2:e.tickLength-2)}).attr("transform",function(zt,Xt){return e.textTransform(zt,Xt)}).style("text-anchor",function(zt,Xt){return e.textTextAnchor(zt,Xt)}),Ht.attr("x",0).attr("dy",function(zt,Xt){return e.tspanDy(zt,Xt)}).attr("dx",function(zt,Xt){return e.tspanDx(zt,Xt)}),Yt.attr("d","M"+e.range[0]+","+-e.outerTickSize+"V0H"+e.range[1]+"V"+-e.outerTickSize);break}case"left":{ct=e.axisY,It.attr("x2",-e.innerTickSize).attr("y1",Ct).attr("y2",Ct),Dt.attr("x",-e.tickLength).attr("y",e.tickOffset).style("text-anchor","end"),Ht.attr("x",-e.tickLength).attr("dy",function(zt,Xt){return e.tspanDy(zt,Xt)}),Yt.attr("d","M"+-e.outerTickSize+","+e.range[0]+"H0V"+e.range[1]+"H"+-e.outerTickSize);break}case"right":{ct=e.axisY,It.attr("x2",e.innerTickSize).attr("y1",Ct).attr("y2",Ct),Dt.attr("x",e.tickLength).attr("y",e.tickOffset).style("text-anchor","start"),Ht.attr("x",e.tickLength).attr("dy",function(zt,Xt){return e.tspanDy(zt,Xt)}),Yt.attr("d","M"+e.outerTickSize+","+e.range[0]+"H0V"+e.range[1]+"H"+e.outerTickSize);break}}if(O.rangeBand){var kt=O,Gt=kt.rangeBand()/2;N=O=function(zt){return kt(zt)+Gt}}else N.rangeBand?N=O:Q.call(ct,O,e.tickOffset);nt.call(ct,N,e.tickOffset),L=(S?ut.transition(S):ut).style("opacity",1).call(ct,O,e.tickOffset)}),L}return d.scale=function(m){return arguments.length?(e.scale=m,d):e.scale},d.orient=function(m){return arguments.length?(e.orient=m in{top:1,right:1,bottom:1,left:1}?m+"":"bottom",d):e.orient},d.tickFormat=function(m){return arguments.length?(e.tickFormat=m,d):e.tickFormat},d.tickCentered=function(m){return arguments.length?(e.tickCentered=m,d):e.tickCentered},d.tickOffset=function(){return e.tickOffset},d.tickInterval=function(){var m,S;return u.isCategory?m=e.tickOffset*2:(S=d.g.select("path.domain").node().getTotalLength()-e.outerTickSize*2,m=S/d.g.selectAll("line").size()),m===1/0?0:m},d.ticks=function(){return arguments.length?(e.tickArguments=arguments,d):e.tickArguments},d.tickCulling=function(m){return arguments.length?(e.tickCulling=m,d):e.tickCulling},d.tickValues=function(m){if(typeof m=="function")e.tickValues=function(){return m(e.scale.domain())};else{if(!arguments.length)return e.tickValues;e.tickValues=m}return d},d};var F={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},vt=function(){function e(i){this.owner=i,this.d3=i.d3,this.internal=dt}return e}(),et=vt;et.prototype.init=function(){var i=this.owner,u=i.config,d=i.main;i.axes.x=d.append("g").attr("class",F.axis+" "+F.axisX).attr("clip-path",u.axis_x_inner?"":i.clipPathForXAxis).attr("transform",i.getTranslate("x")).style("visibility",u.axis_x_show?"visible":"hidden"),i.axes.x.append("text").attr("class",F.axisXLabel).attr("transform",u.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),i.axes.y=d.append("g").attr("class",F.axis+" "+F.axisY).attr("clip-path",u.axis_y_inner?"":i.clipPathForYAxis).attr("transform",i.getTranslate("y")).style("visibility",u.axis_y_show?"visible":"hidden"),i.axes.y.append("text").attr("class",F.axisYLabel).attr("transform",u.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),i.axes.y2=d.append("g").attr("class",F.axis+" "+F.axisY2).attr("transform",i.getTranslate("y2")).style("visibility",u.axis_y2_show?"visible":"hidden"),i.axes.y2.append("text").attr("class",F.axisY2Label).attr("transform",u.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},et.prototype.getXAxis=function(i,u,d,m,S,L,M){var N=this.owner,O=N.config,H={isCategory:N.isCategorized(),withOuterTick:S,tickMultiline:O.axis_x_tick_multiline,tickMultilineMax:O.axis_x_tick_multiline?Number(O.axis_x_tick_multilineMax):0,tickWidth:O.axis_x_tick_width,tickTextRotate:M?0:O.axis_x_tick_rotate,withoutTransition:L},z=new this.internal(this,H).axis.scale(i).orient(u);return N.isTimeSeries()&&m&&typeof m!="function"&&(m=m.map(function(nt){return N.parseDate(nt)})),z.tickFormat(d).tickValues(m),N.isCategorized()&&(z.tickCentered(O.axis_x_tick_centered),I(O.axis_x_tick_culling)&&(O.axis_x_tick_culling=!1)),z},et.prototype.updateXAxisTickValues=function(i,u){var d=this.owner,m=d.config,S;return(m.axis_x_tick_fit||m.axis_x_tick_count)&&(S=this.generateTickValues(d.mapTargetsToUniqueXs(i),m.axis_x_tick_count,d.isTimeSeries())),u?u.tickValues(S):(d.xAxis.tickValues(S),d.subXAxis.tickValues(S)),S},et.prototype.getYAxis=function(i,u,d,m,S,L,M){var N=this.owner,O=N.config,H=O["axis_"+i+"_tick_format"];!H&&N.isAxisNormalized(i)&&(H=function(nt){return nt+"%"});var z=new this.internal(this,{withOuterTick:S,withoutTransition:L,tickTextRotate:M?0:O.axis_y_tick_rotate}).axis.scale(u).orient(d);return H&&z.tickFormat(H),N.isTimeSeriesY()?z.ticks(O.axis_y_tick_time_type,O.axis_y_tick_time_interval):z.tickValues(m),z},et.prototype.getId=function(i){var u=this.owner.config;return i in u.data_axes?u.data_axes[i]:"y"},et.prototype.getXAxisTickFormat=function(){var i=this.owner,u=i.config,d=i.isTimeSeries()?i.defaultAxisTimeFormat:i.isCategorized()?i.categoryName:function(m){return m};return u.axis_x_tick_format&&(X(u.axis_x_tick_format)?d=u.axis_x_tick_format:i.isTimeSeries()&&(d=function(m){return m?i.axisTimeFormat(u.axis_x_tick_format)(m):""})),X(d)?function(m){return d.call(i,m)}:d},et.prototype.getTickValues=function(i,u){return i||(u?u.tickValues():void 0)},et.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},et.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},et.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},et.prototype.getLabelOptionByAxisId=function(i){var u=this.owner,d=u.config,m;return i==="y"?m=d.axis_y_label:i==="y2"?m=d.axis_y2_label:i==="x"&&(m=d.axis_x_label),m},et.prototype.getLabelText=function(i){var u=this.getLabelOptionByAxisId(i);return Y(u)?u:u?u.text:null},et.prototype.setLabelText=function(i,u){var d=this.owner,m=d.config,S=this.getLabelOptionByAxisId(i);Y(S)?i==="y"?m.axis_y_label=u:i==="y2"?m.axis_y2_label=u:i==="x"&&(m.axis_x_label=u):S&&(S.text=u)},et.prototype.getLabelPosition=function(i,u){var d=this.getLabelOptionByAxisId(i),m=d&&typeof d=="object"&&d.position?d.position:u;return{isInner:m.indexOf("inner")>=0,isOuter:m.indexOf("outer")>=0,isLeft:m.indexOf("left")>=0,isCenter:m.indexOf("center")>=0,isRight:m.indexOf("right")>=0,isTop:m.indexOf("top")>=0,isMiddle:m.indexOf("middle")>=0,isBottom:m.indexOf("bottom")>=0}},et.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},et.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},et.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},et.prototype.getLabelPositionById=function(i){return i==="y2"?this.getY2AxisLabelPosition():i==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},et.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},et.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},et.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},et.prototype.xForAxisLabel=function(i,u){var d=this.owner;return i?u.isLeft?0:u.isCenter?d.width/2:d.width:u.isBottom?-d.height:u.isMiddle?-d.height/2:0},et.prototype.dxForAxisLabel=function(i,u){return i?u.isLeft?"0.5em":u.isRight?"-0.5em":"0":u.isTop?"-0.5em":u.isBottom?"0.5em":"0"},et.prototype.textAnchorForAxisLabel=function(i,u){return i?u.isLeft?"start":u.isCenter?"middle":"end":u.isBottom?"start":u.isMiddle?"middle":"end"},et.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},et.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},et.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},et.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},et.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},et.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},et.prototype.dyForXAxisLabel=function(){var i=this.owner,u=i.config,d=this.getXAxisLabelPosition();return u.axis_rotated?d.isInner?"1.2em":-25-(i.config.axis_x_inner?0:this.getMaxTickWidth("x")):d.isInner?"-0.5em":i.getHorizontalAxisHeight("x")-10},et.prototype.dyForYAxisLabel=function(){var i=this.owner,u=this.getYAxisLabelPosition();return i.config.axis_rotated?u.isInner?"-0.5em":"3em":u.isInner?"1.2em":-10-(i.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},et.prototype.dyForY2AxisLabel=function(){var i=this.owner,u=this.getY2AxisLabelPosition();return i.config.axis_rotated?u.isInner?"1.2em":"-2.2em":u.isInner?"-0.5em":15+(i.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},et.prototype.textAnchorForXAxisLabel=function(){var i=this.owner;return this.textAnchorForAxisLabel(!i.config.axis_rotated,this.getXAxisLabelPosition())},et.prototype.textAnchorForYAxisLabel=function(){var i=this.owner;return this.textAnchorForAxisLabel(i.config.axis_rotated,this.getYAxisLabelPosition())},et.prototype.textAnchorForY2AxisLabel=function(){var i=this.owner;return this.textAnchorForAxisLabel(i.config.axis_rotated,this.getY2AxisLabelPosition())},et.prototype.getMaxTickWidth=function(i,u){var d=this.owner,m=0,S,L,M,N,O;return u&&d.currentMaxTickWidths[i]||(d.svg&&(S=d.filterTargetsToShow(d.data.targets),i==="y"?(L=d.y.copy().domain(d.getYDomain(S,"y")),M=this.getYAxis(i,L,d.yOrient,d.yAxisTickValues,!1,!0,!0)):i==="y2"?(L=d.y2.copy().domain(d.getYDomain(S,"y2")),M=this.getYAxis(i,L,d.y2Orient,d.y2AxisTickValues,!1,!0,!0)):(L=d.x.copy().domain(d.getXDomain(S)),M=this.getXAxis(L,d.xOrient,d.xAxisTickFormat,d.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(S,M)),N=d.d3.select("body").append("div").classed("c3",!0),O=N.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),O.append("g").call(M).each(function(){d.d3.select(this).selectAll("text").each(function(){var H=P(this);m<H.width&&(m=H.width)}),N.remove()})),d.currentMaxTickWidths[i]=m<=0?d.currentMaxTickWidths[i]:m),d.currentMaxTickWidths[i]},et.prototype.updateLabels=function(i){var u=this.owner,d=u.main.select("."+F.axisX+" ."+F.axisXLabel),m=u.main.select("."+F.axisY+" ."+F.axisYLabel),S=u.main.select("."+F.axisY2+" ."+F.axisY2Label);(i?d.transition():d).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(i?m.transition():m).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(i?S.transition():S).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},et.prototype.getPadding=function(i,u,d,m){var S=typeof i=="number"?i:i[u];return tt(S)?i.unit==="ratio"?i[u]*m:this.convertPixelsToAxisPadding(S,m):d},et.prototype.convertPixelsToAxisPadding=function(i,u){var d=this.owner,m=d.config.axis_rotated?d.width:d.height;return u*(i/m)},et.prototype.generateTickValues=function(i,u,d){var m=i,S,L,M,N,O,H,z;if(u){if(S=X(u)?u():u,S===1)m=[i[0]];else if(S===2)m=[i[0],i[i.length-1]];else if(S>2){for(N=S-2,L=i[0],M=i[i.length-1],O=(M-L)/(N+1),m=[L],H=0;H<N;H++)z=+L+O*(H+1),m.push(d?new Date(z):z);m.push(M)}}return d||(m=m.sort(function(nt,Q){return nt-Q})),m},et.prototype.generateTransitions=function(i){var u=this.owner,d=u.axes;return{axisX:i?d.x.transition().duration(i):d.x,axisY:i?d.y.transition().duration(i):d.y,axisY2:i?d.y2.transition().duration(i):d.y2,axisSubX:i?d.subx.transition().duration(i):d.subx}},et.prototype.redraw=function(i,u){var d=this.owner,m=i?d.d3.transition().duration(i):null;d.axes.x.style("opacity",u?0:1).call(d.xAxis,m),d.axes.y.style("opacity",u?0:1).call(d.yAxis,m),d.axes.y2.style("opacity",u?0:1).call(d.y2Axis,m),d.axes.subx.style("opacity",u?0:1).call(d.subXAxis,m)};var _t={version:"0.7.20",chart:{fn:l.prototype,internal:{fn:s.prototype,axis:{fn:vt.prototype,internal:{fn:dt.prototype}}}},generate:function(e){return new l(e)}};s.prototype.beforeInit=function(){},s.prototype.afterInit=function(){},s.prototype.init=function(){var e=this,i=e.config;if(e.initParams(),i.data_url)e.convertUrlToData(i.data_url,i.data_mimeType,i.data_headers,i.data_keys,e.initWithData);else if(i.data_json)e.initWithData(e.convertJsonToData(i.data_json,i.data_keys));else if(i.data_rows)e.initWithData(e.convertRowsToData(i.data_rows));else if(i.data_columns)e.initWithData(e.convertColumnsToData(i.data_columns));else throw Error("url or json or rows or columns is required.")},s.prototype.initParams=function(){var e=this,i=e.d3,u=e.config;e.clipId="c3-"+new Date().valueOf()+"-clip",e.clipIdForXAxis=e.clipId+"-xaxis",e.clipIdForYAxis=e.clipId+"-yaxis",e.clipIdForGrid=e.clipId+"-grid",e.clipIdForSubchart=e.clipId+"-subchart",e.clipPath=e.getClipPath(e.clipId),e.clipPathForXAxis=e.getClipPath(e.clipIdForXAxis),e.clipPathForYAxis=e.getClipPath(e.clipIdForYAxis),e.clipPathForGrid=e.getClipPath(e.clipIdForGrid),e.clipPathForSubchart=e.getClipPath(e.clipIdForSubchart),e.dragStart=null,e.dragging=!1,e.flowing=!1,e.cancelClick=!1,e.mouseover=void 0,e.transiting=!1,e.color=e.generateColor(),e.levelColor=e.generateLevelColor(),e.dataTimeParse=(u.data_xLocaltime?i.timeParse:i.utcParse)(e.config.data_xFormat),e.axisTimeFormat=u.axis_x_localtime?i.timeFormat:i.utcFormat,e.defaultAxisTimeFormat=function(d){return d.getMilliseconds()?i.timeFormat(".%L")(d):d.getSeconds()?i.timeFormat(":%S")(d):d.getMinutes()?i.timeFormat("%I:%M")(d):d.getHours()?i.timeFormat("%I %p")(d):d.getDay()&&d.getDate()!==1||d.getDate()!==1||d.getMonth()?i.timeFormat("%-m/%-d")(d):i.timeFormat("%Y/%-m/%-d")(d)},e.hiddenTargetIds=[],e.hiddenLegendIds=[],e.focusedTargetIds=[],e.defocusedTargetIds=[],e.xOrient=u.axis_rotated?u.axis_x_inner?"right":"left":u.axis_x_inner?"top":"bottom",e.yOrient=u.axis_rotated?u.axis_y_inner?"top":"bottom":u.axis_y_inner?"right":"left",e.y2Orient=u.axis_rotated?u.axis_y2_inner?"bottom":"top":u.axis_y2_inner?"left":"right",e.subXOrient=u.axis_rotated?"left":"bottom",e.isLegendRight=u.legend_position==="right",e.isLegendInset=u.legend_position==="inset",e.isLegendTop=u.legend_inset_anchor==="top-left"||u.legend_inset_anchor==="top-right",e.isLegendLeft=u.legend_inset_anchor==="top-left"||u.legend_inset_anchor==="bottom-left",e.legendStep=0,e.legendItemWidth=0,e.legendItemHeight=0,e.currentMaxTickWidths={x:0,y:0,y2:0},e.rotated_padding_left=30,e.rotated_padding_right=u.axis_rotated&&!u.axis_x_show?0:30,e.rotated_padding_top=5,e.withoutFadeIn={},e.intervalForObserveInserted=void 0,e.axes.subx=i.selectAll([])},s.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},s.prototype.initWithData=function(e){var i=this,u=i.d3,d=i.config,m,S,L=!0;i.axis=new vt(i),d.bindto?typeof d.bindto.node=="function"?i.selectChart=d.bindto:i.selectChart=u.select(d.bindto):i.selectChart=u.selectAll([]),i.selectChart.empty()&&(i.selectChart=u.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),L=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(e),d.data_filter&&(i.data.targets=i.data.targets.filter(d.data_filter)),d.data_hide&&i.addHiddenTargetIds(d.data_hide===!0?i.mapToIds(i.data.targets):d.data_hide),d.legend_hide&&i.addHiddenLegendIds(d.legend_hide===!0?i.mapToIds(i.data.targets):d.legend_hide),i.isStanfordGraphType()&&i.initStanfordData(),i.updateSizes(),i.updateScales(),i.x.domain(u.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return d.onmouseover.call(i)}).on("mouseleave",function(){return d.onmouseout.call(i)}),i.config.svg_classname&&i.svg.attr("class",i.config.svg_classname),m=i.svg.append("defs"),i.clipChart=i.appendClip(m,i.clipId),i.clipXAxis=i.appendClip(m,i.clipIdForXAxis),i.clipYAxis=i.appendClip(m,i.clipIdForYAxis),i.clipGrid=i.appendClip(m,i.clipIdForGrid),i.clipSubchart=i.appendClip(m,i.clipIdForSubchart),i.updateSvgSize(),S=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initPie&&i.initPie(),i.initDragZoom&&i.initDragZoom(),d.subchart_show&&i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),i.initTitle&&i.initTitle(),i.initZoom&&i.initZoom(),i.isStanfordGraphType()&&i.drawColorScale(),d.subchart_show&&i.initSubchartBrush&&i.initSubchartBrush(),S.append("text").attr("class",F.text+" "+F.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),S.append("g").attr("clip-path",i.clipPath).attr("class",F.chart),d.grid_lines_front&&i.initGridLines(),i.initStanfordElements(),i.initEventRect(),i.initChartElements(),i.axis.init(),i.updateTargets(i.data.targets),d.axis_x_selection&&i.brush.selectionAsValue(i.getDefaultSelection()),L&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.bindResize(),i.bindWindowFocus(),i.api.element=i.selectChart.node()},s.prototype.smoothLines=function(e,i){var u=this;i==="grid"&&e.each(function(){var d=u.d3.select(this),m=d.attr("x1"),S=d.attr("x2"),L=d.attr("y1"),M=d.attr("y2");d.attr({x1:Math.ceil(m),x2:Math.ceil(S),y1:Math.ceil(L),y2:Math.ceil(M)})})},s.prototype.updateSizes=function(){var e=this,i=e.config,u=e.legend?e.getLegendHeight():0,d=e.legend?e.getLegendWidth():0,m=e.isLegendRight||e.isLegendInset?0:u,S=e.hasArcType(),L=i.axis_rotated||S?0:e.getHorizontalAxisHeight("x"),M=i.axis_rotated||S?0:e.getHorizontalAxisHeight("x",!0),N=i.subchart_show&&!S?i.subchart_size_height+M:0;e.currentWidth=e.getCurrentWidth(),e.currentHeight=e.getCurrentHeight(),e.margin=i.axis_rotated?{top:e.getHorizontalAxisHeight("y2")+e.getCurrentPaddingTop(),right:S?0:e.getCurrentPaddingRight(),bottom:e.getHorizontalAxisHeight("y")+m+e.getCurrentPaddingBottom(),left:N+(S?0:e.getCurrentPaddingLeft())}:{top:4+e.getCurrentPaddingTop(),right:S?0:e.getCurrentPaddingRight(),bottom:L+N+m+e.getCurrentPaddingBottom(),left:S?0:e.getCurrentPaddingLeft()},e.margin2=i.axis_rotated?{top:e.margin.top,right:NaN,bottom:20+m,left:e.rotated_padding_left}:{top:e.currentHeight-N-m,right:NaN,bottom:M+m,left:e.margin.left},e.margin3={top:0,right:NaN,bottom:0,left:0},e.updateSizeForLegend&&e.updateSizeForLegend(u,d),e.width=e.currentWidth-e.margin.left-e.margin.right,e.height=e.currentHeight-e.margin.top-e.margin.bottom,e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.width2=i.axis_rotated?e.margin.left-e.rotated_padding_left-e.rotated_padding_right:e.width,e.height2=i.axis_rotated?e.height:e.currentHeight-e.margin2.top-e.margin2.bottom,e.width2<0&&(e.width2=0),e.height2<0&&(e.height2=0),e.arcWidth=e.width-(e.isLegendRight?d+10:0),e.arcHeight=e.height-(e.isLegendRight?0:10),e.hasType("gauge")&&!i.gauge_fullCircle&&(e.arcHeight+=e.height-e.getGaugeLabelHeight()),e.updateRadius&&e.updateRadius(),e.isLegendRight&&S&&(e.margin3.left=e.arcWidth/2+e.radiusExpanded*1.1)},s.prototype.updateTargets=function(e){var i=this,u=i.config;i.updateTargetsForText(e),i.updateTargetsForBar(e),i.updateTargetsForLine(e),i.hasArcType()&&i.updateTargetsForArc&&i.updateTargetsForArc(e),u.subchart_show&&i.updateTargetsForSubchart&&i.updateTargetsForSubchart(e),i.showTargets()},s.prototype.showTargets=function(){var e=this;e.svg.selectAll("."+F.target).filter(function(i){return e.isTargetToShow(i.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},s.prototype.redraw=function(e,i){var u=this,d=u.main,m=u.d3,S=u.config,L=u.getShapeIndices(u.isAreaType),M=u.getShapeIndices(u.isBarType),N=u.getShapeIndices(u.isLineType),O,H,z,nt,Q,ut,ct,St,Ct,It,Dt,Wt,Ft,Ht=u.hasArcType(),Nt,Yt,kt,Gt,zt,Xt,de,Pe,we,Ae,se,Et,Bt=u.filterTargetsToShow(u.data.targets),Vt,oe,Ze,dn,je=u.xv.bind(u),Oe,He;if(e=e||{},O=w(e,"withY",!0),H=w(e,"withSubchart",!0),z=w(e,"withTransition",!0),ut=w(e,"withTransform",!1),ct=w(e,"withUpdateXDomain",!1),St=w(e,"withUpdateOrgXDomain",!1),Ct=w(e,"withTrimXDomain",!0),Ft=w(e,"withUpdateXAxis",ct),It=w(e,"withLegend",!1),Dt=w(e,"withEventRect",!0),Wt=w(e,"withDimension",!0),nt=w(e,"withTransitionForExit",z),Q=w(e,"withTransitionForAxis",z),Xt=z?S.transition_duration:0,de=nt?Xt:0,Pe=Q?Xt:0,i=i||u.axis.generateTransitions(Pe),It&&S.legend_show?u.updateLegend(u.mapToIds(u.data.targets),e,i):Wt&&u.updateDimension(!0),u.isCategorized()&&Bt.length===0&&u.x.domain([0,u.axes.x.selectAll(".tick").size()]),Bt.length?(u.updateXDomain(Bt,ct,St,Ct),S.axis_x_tick_values||(Vt=u.axis.updateXAxisTickValues(Bt))):(u.xAxis.tickValues([]),u.subXAxis.tickValues([])),S.zoom_rescale&&!e.flow&&(dn=u.x.orgDomain()),u.y.domain(u.getYDomain(Bt,"y",dn)),u.y2.domain(u.getYDomain(Bt,"y2",dn)),!S.axis_y_tick_values&&S.axis_y_tick_count&&u.yAxis.tickValues(u.axis.generateTickValues(u.y.domain(),S.axis_y_tick_count)),!S.axis_y2_tick_values&&S.axis_y2_tick_count&&u.y2Axis.tickValues(u.axis.generateTickValues(u.y2.domain(),S.axis_y2_tick_count)),u.axis.redraw(Pe,Ht),u.axis.updateLabels(z),(ct||Ft)&&Bt.length)if(S.axis_x_tick_culling&&Vt){for(oe=1;oe<Vt.length;oe++)if(Vt.length/oe<S.axis_x_tick_culling_max){Ze=oe;break}u.svg.selectAll("."+F.axisX+" .tick text").each(function(We){var sn=Vt.indexOf(We);sn>=0&&m.select(this).style("display",sn%Ze?"none":"block")})}else u.svg.selectAll("."+F.axisX+" .tick text").style("display","block");Nt=u.generateDrawArea?u.generateDrawArea(L,!1):void 0,Yt=u.generateDrawBar?u.generateDrawBar(M):void 0,kt=u.generateDrawLine?u.generateDrawLine(N,!1):void 0,Gt=u.generateXYForText(L,M,N,!0),zt=u.generateXYForText(L,M,N,!1),u.updateCircleY(),Oe=(u.config.axis_rotated?u.circleY:u.circleX).bind(u),He=(u.config.axis_rotated?u.circleX:u.circleY).bind(u),O&&(u.subY.domain(u.getYDomain(Bt,"y")),u.subY2.domain(u.getYDomain(Bt,"y2"))),u.updateXgridFocus(),d.select("text."+F.text+"."+F.empty).attr("x",u.width/2).attr("y",u.height/2).text(S.data_empty_label_text).transition().style("opacity",Bt.length?0:1),Dt&&u.redrawEventRect(),u.updateGrid(Xt),u.updateStanfordElements(Xt),u.updateRegion(Xt),u.updateBar(de),u.updateLine(de),u.updateArea(de),u.updateCircle(Oe,He),u.hasDataLabel()&&u.updateText(Gt,zt,de),u.redrawTitle&&u.redrawTitle(),u.redrawArc&&u.redrawArc(Xt,de,ut),S.subchart_show&&u.redrawSubchart&&u.redrawSubchart(H,i,Xt,de,L,M,N),u.isStanfordGraphType()&&u.drawColorScale(),d.selectAll("."+F.selectedCircles).filter(u.isBarType.bind(u)).selectAll("circle").remove(),e.flow&&(se=u.generateFlow({targets:Bt,flow:e.flow,duration:e.flow.duration,drawBar:Yt,drawLine:kt,drawArea:Nt,cx:Oe,cy:He,xv:je,xForText:Gt,yForText:zt})),Xt&&u.isTabVisible()?(Et=m.transition().duration(Xt),we=[],[u.redrawBar(Yt,!0,Et),u.redrawLine(kt,!0,Et),u.redrawArea(Nt,!0,Et),u.redrawCircle(Oe,He,!0,Et),u.redrawText(Gt,zt,e.flow,!0,Et),u.redrawRegion(!0,Et),u.redrawGrid(!0,Et)].forEach(function(We){We.forEach(function(sn){we.push(sn)})}),Ae=u.generateWait(),we.forEach(function(We){Ae.add(We)}),Ae(function(){se&&se(),S.onrendered&&S.onrendered.call(u)})):(u.redrawBar(Yt),u.redrawLine(kt),u.redrawArea(Nt),u.redrawCircle(Oe,He),u.redrawText(Gt,zt,e.flow),u.redrawRegion(),u.redrawGrid(),se&&se(),S.onrendered&&S.onrendered.call(u)),u.mapToIds(u.data.targets).forEach(function(We){u.withoutFadeIn[We]=!0})},s.prototype.updateAndRedraw=function(e){var i=this,u=i.config,d;e=e||{},e.withTransition=w(e,"withTransition",!0),e.withTransform=w(e,"withTransform",!1),e.withLegend=w(e,"withLegend",!1),e.withUpdateXDomain=w(e,"withUpdateXDomain",!0),e.withUpdateOrgXDomain=w(e,"withUpdateOrgXDomain",!0),e.withTransitionForExit=!1,e.withTransitionForTransform=w(e,"withTransitionForTransform",e.withTransition),i.updateSizes(),e.withLegend&&u.legend_show||(d=i.axis.generateTransitions(e.withTransitionForAxis?u.transition_duration:0),i.updateScales(),i.updateSvgSize(),i.transformAll(e.withTransitionForTransform,d)),i.redraw(e,d)},s.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},s.prototype.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"},s.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},s.prototype.isCustomX=function(){var e=this,i=e.config;return!e.isTimeSeries()&&(i.data_x||J(i.data_xs))},s.prototype.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"},s.prototype.getTranslate=function(e){var i=this,u=i.config,d,m;return e==="main"?(d=g(i.margin.left),m=g(i.margin.top)):e==="context"?(d=g(i.margin2.left),m=g(i.margin2.top)):e==="legend"?(d=i.margin3.left,m=i.margin3.top):e==="x"?(d=0,m=u.axis_rotated?0:i.height):e==="y"?(d=0,m=u.axis_rotated?i.height:0):e==="y2"?(d=u.axis_rotated?0:i.width,m=u.axis_rotated?1:0):e==="subx"?(d=0,m=u.axis_rotated?0:i.height2):e==="arc"&&(d=i.arcWidth/2,m=i.arcHeight/2-(i.hasType("gauge")?6:0)),"translate("+d+","+m+")"},s.prototype.initialOpacity=function(e){return e.value!==null&&this.withoutFadeIn[e.id]?1:0},s.prototype.initialOpacityForCircle=function(e){return e.value!==null&&this.withoutFadeIn[e.id]?this.opacityForCircle(e):0},s.prototype.opacityForCircle=function(e){var i=X(this.config.point_show)?this.config.point_show(e):this.config.point_show,u=i||this.isStanfordType(e)?1:0;return tt(e.value)?this.isScatterType(e)?.5:u:0},s.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},s.prototype.xx=function(e){return e?this.x(e.x):null},s.prototype.xvCustom=function(e,i){var u=this,d=i?e[i]:e.value;return u.isTimeSeries()?d=u.parseDate(e.value):u.isCategorized()&&typeof e.value=="string"&&(d=u.config.axis_x_categories.indexOf(e.value)),Math.ceil(u.x(d))},s.prototype.yvCustom=function(e,i){var u=this,d=e.axis&&e.axis==="y2"?u.y2:u.y,m=i?e[i]:e.value;return Math.ceil(d(m))},s.prototype.xv=function(e){var i=this,u=e.value;return i.isTimeSeries()?u=i.parseDate(e.value):i.isCategorized()&&typeof e.value=="string"&&(u=i.config.axis_x_categories.indexOf(e.value)),Math.ceil(i.x(u))},s.prototype.yv=function(e){var i=this,u=e.axis&&e.axis==="y2"?i.y2:i.y;return Math.ceil(u(e.value))},s.prototype.subxx=function(e){return e?this.subX(e.x):null},s.prototype.transformMain=function(e,i){var u=this,d,m,S;i&&i.axisX?d=i.axisX:(d=u.main.select("."+F.axisX),e&&(d=d.transition())),i&&i.axisY?m=i.axisY:(m=u.main.select("."+F.axisY),e&&(m=m.transition())),i&&i.axisY2?S=i.axisY2:(S=u.main.select("."+F.axisY2),e&&(S=S.transition())),(e?u.main.transition():u.main).attr("transform",u.getTranslate("main")),d.attr("transform",u.getTranslate("x")),m.attr("transform",u.getTranslate("y")),S.attr("transform",u.getTranslate("y2")),u.main.select("."+F.chartArcs).attr("transform",u.getTranslate("arc"))},s.prototype.transformAll=function(e,i){var u=this;u.transformMain(e,i),u.config.subchart_show&&u.transformContext(e,i),u.legend&&u.transformLegend(e)},s.prototype.updateSvgSize=function(){var e=this,i=e.svg.select("."+F.brush+" .overlay");e.svg.attr("width",e.currentWidth).attr("height",e.currentHeight),e.svg.selectAll(["#"+e.clipId,"#"+e.clipIdForGrid]).select("rect").attr("width",e.width).attr("height",e.height),e.svg.select("#"+e.clipIdForXAxis).select("rect").attr("x",e.getXAxisClipX.bind(e)).attr("y",e.getXAxisClipY.bind(e)).attr("width",e.getXAxisClipWidth.bind(e)).attr("height",e.getXAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForYAxis).select("rect").attr("x",e.getYAxisClipX.bind(e)).attr("y",e.getYAxisClipY.bind(e)).attr("width",e.getYAxisClipWidth.bind(e)).attr("height",e.getYAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForSubchart).select("rect").attr("width",e.width).attr("height",i.size()&&i.attr("height")||0),e.selectChart.style("max-height",e.currentHeight+"px")},s.prototype.updateDimension=function(e){var i=this;e||(i.config.axis_rotated?(i.axes.x.call(i.xAxis),i.axes.subx.call(i.subXAxis)):(i.axes.y.call(i.yAxis),i.axes.y2.call(i.y2Axis))),i.updateSizes(),i.updateScales(),i.updateSvgSize(),i.transformAll(!1)},s.prototype.observeInserted=function(e){var i=this,u;if(typeof MutationObserver>"u"){window.console.error("MutationObserver not defined.");return}u=new MutationObserver(function(d){d.forEach(function(m){m.type==="childList"&&m.previousSibling&&(u.disconnect(),i.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(i.intervalForObserveInserted),i.updateDimension(),i.brush&&i.brush.update(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),u.observe(e.node(),{attributes:!0,childList:!0,characterData:!0})},s.prototype.bindResize=function(){var e=this,i=e.config;e.resizeFunction=e.generateResize(),e.resizeFunction.add(function(){i.onresize.call(e)}),i.resize_auto&&e.resizeFunction.add(function(){e.resizeTimeout!==void 0&&window.clearTimeout(e.resizeTimeout),e.resizeTimeout=window.setTimeout(function(){delete e.resizeTimeout,e.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.brush&&e.brush.update()},100)}),e.resizeFunction.add(function(){i.onresized.call(e)}),e.resizeIfElementDisplayed=function(){e.api==null||!e.api.element.offsetParent||e.resizeFunction()},window.addEventListener("resize",e.resizeIfElementDisplayed,!1)},s.prototype.bindWindowFocus=function(){var e=this;this.windowFocusHandler||(this.windowFocusHandler=function(){e.redraw()},window.addEventListener("focus",this.windowFocusHandler))},s.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},s.prototype.generateResize=function(){var e=[];function i(){e.forEach(function(u){u()})}return i.add=function(u){e.push(u)},i.remove=function(u){for(var d=0;d<e.length;d++)if(e[d]===u){e.splice(d,1);break}},i},s.prototype.endall=function(e,i){var u=0;e.each(function(){++u}).on("end",function(){--u||i.apply(this,arguments)})},s.prototype.generateWait=function(){var e=this,i=[],u=function(d){var m=setInterval(function(){if(e.isTabVisible()){var S=0;i.forEach(function(L){if(L.empty()){S+=1;return}try{L.transition()}catch{S+=1}}),S===i.length&&(clearInterval(m),d&&d())}},50)};return u.add=function(d){i.push(d)},u},s.prototype.parseDate=function(e){var i=this,u;return e instanceof Date?u=e:typeof e=="string"?u=i.dataTimeParse(e):typeof e=="object"?u=new Date(+e):typeof e=="number"&&!isNaN(e)&&(u=new Date(+e)),(!u||isNaN(+u))&&window.console.error("Failed to parse x '"+e+"' to Date object"),u},s.prototype.isTabVisible=function(){return!document.hidden},s.prototype.getPathBox=T,s.prototype.CLASS=F,function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(e,i,u){this.pathSegType=e,this.pathSegTypeAsLetter=i,this._owningPathSegList=u},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(e,i,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=i,this._y=u},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(e,i,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=i,this._y=u},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(e,i,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=i,this._y=u},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(e,i,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=i,this._y=u},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(e,i,u,d,m,S,L){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e),this._x=i,this._y=u,this._x1=d,this._y1=m,this._x2=S,this._y2=L},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(e,i,u,d,m,S,L){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e),this._x=i,this._y=u,this._x1=d,this._y1=m,this._x2=S,this._y2=L},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(e,i,u,d,m){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e),this._x=i,this._y=u,this._x1=d,this._y1=m},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(e,i,u,d,m){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e),this._x=i,this._y=u,this._x1=d,this._y1=m},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(e,i,u,d,m,S,L,M){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",e),this._x=i,this._y=u,this._r1=d,this._r2=m,this._angle=S,this._largeArcFlag=L,this._sweepFlag=M},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(e,i,u,d,m,S,L,M){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",e),this._x=i,this._y=u,this._r1=d,this._r2=m,this._angle=S,this._largeArcFlag=L,this._sweepFlag=M},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e),this._x=i},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e),this._x=i},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e),this._y=i},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e),this._y=i},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(e,i,u,d,m){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e),this._x=i,this._y=u,this._x2=d,this._y2=m},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(e,i,u,d,m){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e),this._x=i,this._y=u,this._x2=d,this._y2=m},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,i,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=i,this._y=u},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(e,i,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=i,this._y=u},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,i){return new window.SVGPathSegMovetoAbs(void 0,e,i)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,i){return new window.SVGPathSegMovetoRel(void 0,e,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,i){return new window.SVGPathSegLinetoAbs(void 0,e,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,i){return new window.SVGPathSegLinetoRel(void 0,e,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,i,u,d,m,S){return new window.SVGPathSegCurvetoCubicAbs(void 0,e,i,u,d,m,S)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,i,u,d,m,S){return new window.SVGPathSegCurvetoCubicRel(void 0,e,i,u,d,m,S)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,i,u,d){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,e,i,u,d)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,i,u,d){return new window.SVGPathSegCurvetoQuadraticRel(void 0,e,i,u,d)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,i,u,d,m,S,L){return new window.SVGPathSegArcAbs(void 0,e,i,u,d,m,S,L)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(e,i,u,d,m,S,L){return new window.SVGPathSegArcRel(void 0,e,i,u,d,m,S,L)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new window.SVGPathSegLinetoHorizontalAbs(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new window.SVGPathSegLinetoHorizontalRel(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new window.SVGPathSegLinetoVerticalAbs(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new window.SVGPathSegLinetoVerticalRel(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,i,u,d){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,e,i,u,d)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,i,u,d){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,e,i,u,d)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,i){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,e,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,i){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,e,i)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(e){if(e===void 0||!isFinite(e))throw"Invalid arguments.";var i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",this.getAttribute("d"));var u=i.pathSegList.numberOfItems-1;if(u<=0)return 0;do{if(i.pathSegList.removeItem(u),e>i.getTotalLength())break;u--}while(u>0);return u})),"SVGPathSegList"in window||(window.SVGPathSegList=function(e){this._pathElement=e,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(this._pathElement){var i=!1;e.forEach(function(u){u.attributeName=="d"&&(i=!0)}),i&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(e){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(e){e._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(e){return this._checkPathSynchronizedToList(),this._list=[e],e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||e<0||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(e){return this._checkPathSynchronizedToList(),this._checkValidIndex(e),this._list[e]},window.SVGPathSegList.prototype.insertItemBefore=function(e,i){return this._checkPathSynchronizedToList(),i>this.numberOfItems&&(i=this.numberOfItems),e._owningPathSegList&&(e=e.clone()),this._list.splice(i,0,e),e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype.replaceItem=function(e,i){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._checkValidIndex(i),this._list[i]=e,e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList(),this._checkValidIndex(e);var i=this._list[e];return this._list.splice(e,1),this._writeListToPath(),i},window.SVGPathSegList.prototype.appendItem=function(e){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._list.push(e),e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList._pathSegArrayAsString=function(e){var i="",u=!0;return e.forEach(function(d){u?(u=!1,i+=d._asPathString()):i+=" "+d._asPathString()}),i},window.SVGPathSegList.prototype._parsePath=function(e){if(!e||e.length==0)return[];var i=this,u=function(){this.pathSegList=[]};u.prototype.appendSegment=function(M){this.pathSegList.push(M)};var d=function(M){this._string=M,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};d.prototype._isCurrentSpace=function(){var M=this._string[this._currentIndex];return M<=" "&&(M==" "||M==`
`||M=="	"||M=="\r"||M=="\f")},d.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},d.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},d.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},d.prototype.peekSegmentType=function(){var M=this._string[this._currentIndex];return this._pathSegTypeFromChar(M)},d.prototype._pathSegTypeFromChar=function(M){switch(M){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},d.prototype._nextCommandHelper=function(M,N){return(M=="+"||M=="-"||M=="."||M>="0"&&M<="9")&&N!=window.SVGPathSeg.PATHSEG_CLOSEPATH?N==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:N==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:N:window.SVGPathSeg.PATHSEG_UNKNOWN},d.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var M=this.peekSegmentType();return M==window.SVGPathSeg.PATHSEG_MOVETO_ABS||M==window.SVGPathSeg.PATHSEG_MOVETO_REL},d.prototype._parseNumber=function(){var M=0,N=0,O=1,H=0,z=1,nt=1,Q=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,z=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")){for(var ut=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=ut)for(var ct=this._currentIndex-1,St=1;ct>=ut;)N+=St*(this._string.charAt(ct--)-"0"),St*=10;if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)O*=10,H+=(this._string.charAt(this._currentIndex)-"0")/O,this._currentIndex+=1}if(this._currentIndex!=Q&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,nt=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)M*=10,M+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var Ct=N+H;if(Ct*=z,M&&(Ct*=Math.pow(10,nt*M)),Q!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),Ct}},d.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var M=!1,N=this._string.charAt(this._currentIndex++);if(N=="0")M=!1;else if(N=="1")M=!0;else return;return this._skipOptionalSpacesOrDelimiter(),M}},d.prototype.parseSegment=function(){var M=this._string[this._currentIndex],N=this._pathSegTypeFromChar(M);if(N==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(N=this._nextCommandHelper(M,this._previousCommand),N==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;switch(this._previousCommand=N,N){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(i);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var O={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(i,O.x,O.y,O.x1,O.y1,O.x2,O.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var O={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(i,O.x,O.y,O.x1,O.y1,O.x2,O.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var O={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(i,O.x,O.y,O.x2,O.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var O={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(i,O.x,O.y,O.x2,O.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var O={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(i,O.x,O.y,O.x1,O.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var O={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(i,O.x,O.y,O.x1,O.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var O={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(i,O.x,O.y,O.x1,O.y1,O.arcAngle,O.arcLarge,O.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var O={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(i,O.x,O.y,O.x1,O.y1,O.arcAngle,O.arcLarge,O.arcSweep);default:throw"Unknown path seg type."}};var m=new u,S=new d(e);if(!S.initialCommandIsMoveTo())return[];for(;S.hasMoreData();){var L=S.parseSegment();if(!L)return[];m.appendSegment(L)}return m.pathSegList})}(),String.prototype.padEnd||(String.prototype.padEnd=function(i,u){return i=i>>0,u=String(typeof u<"u"?u:" "),this.length>i?String(this):(i=i-this.length,i>u.length&&(u+=u.repeat(i/u.length)),String(this)+u.slice(0,i))}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(i,u){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(i),m=1;m<arguments.length;m++){var S=arguments[m];if(S!=null)for(var L in S)Object.prototype.hasOwnProperty.call(S,L)&&(d[L]=S[L])}return d},writable:!0,configurable:!0}),l.prototype.axis=function(){},l.prototype.axis.labels=function(e){var i=this.internal;arguments.length&&(Object.keys(e).forEach(function(u){i.axis.setLabelText(u,e[u])}),i.axis.updateLabels())},l.prototype.axis.max=function(e){var i=this.internal,u=i.config;if(arguments.length)typeof e=="object"?(tt(e.x)&&(u.axis_x_max=e.x),tt(e.y)&&(u.axis_y_max=e.y),tt(e.y2)&&(u.axis_y2_max=e.y2)):u.axis_y_max=u.axis_y2_max=e,i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:u.axis_x_max,y:u.axis_y_max,y2:u.axis_y2_max}},l.prototype.axis.min=function(e){var i=this.internal,u=i.config;if(arguments.length)typeof e=="object"?(tt(e.x)&&(u.axis_x_min=e.x),tt(e.y)&&(u.axis_y_min=e.y),tt(e.y2)&&(u.axis_y2_min=e.y2)):u.axis_y_min=u.axis_y2_min=e,i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:u.axis_x_min,y:u.axis_y_min,y2:u.axis_y2_min}},l.prototype.axis.range=function(e){if(arguments.length)$(e.max)&&this.axis.max(e.max),$(e.min)&&this.axis.min(e.min);else return{max:this.axis.max(),min:this.axis.min()}},l.prototype.axis.types=function(e){var i=this.internal;if(e===void 0)return{y:i.config.axis_y_type,y2:i.config.axis_y2_type};$(e.y)&&(i.config.axis_y_type=e.y),$(e.y2)&&(i.config.axis_y2_type=e.y2),i.updateScales(),i.redraw()},l.prototype.category=function(e,i){var u=this.internal,d=u.config;return arguments.length>1&&(d.axis_x_categories[e]=i,u.redraw()),d.axis_x_categories[e]},l.prototype.categories=function(e){var i=this.internal,u=i.config;return arguments.length&&(u.axis_x_categories=e,i.redraw()),u.axis_x_categories},l.prototype.resize=function(e){var i=this.internal,u=i.config;u.size_width=e?e.width:null,u.size_height=e?e.height:null,this.flush()},l.prototype.flush=function(){var e=this.internal;e.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},l.prototype.destroy=function(){var e=this.internal;return window.clearInterval(e.intervalForObserveInserted),e.resizeTimeout!==void 0&&window.clearTimeout(e.resizeTimeout),window.removeEventListener("resize",e.resizeIfElementDisplayed),e.resizeFunction.remove(),e.unbindWindowFocus(),e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(i){e[i]=null}),null},l.prototype.color=function(e){var i=this.internal;return i.color(e)},l.prototype.data=function(e){var i=this.internal.data.targets;return typeof e>"u"?i:i.filter(function(u){return[].concat(e).indexOf(u.id)>=0})},l.prototype.data.shown=function(e){return this.internal.filterTargetsToShow(this.data(e))},l.prototype.data.values=function(e,i){i===void 0&&(i=!0);var u=null;if(e){var d=this.data(e);d&&V(d)&&(u=d.reduce(function(m,S){var L=S.values.map(function(M){return M.value});return i?m=m.concat(L):m.push(L),m},[]))}return u},l.prototype.data.names=function(e){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",e)},l.prototype.data.colors=function(e){return this.internal.updateDataAttributes("colors",e)},l.prototype.data.axes=function(e){return this.internal.updateDataAttributes("axes",e)},l.prototype.data.stackNormalized=function(e){if(e===void 0)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!e,this.internal.redraw()},l.prototype.donut=function(){},l.prototype.donut.padAngle=function(e){if(e===void 0)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=e,this.flush()},l.prototype.flow=function(e){var i=this.internal,u,d,m=[],S=i.getMaxDataCount(),L,M,N,O=0,H=0,z,nt;if(e.json)d=i.convertJsonToData(e.json,e.keys);else if(e.rows)d=i.convertRowsToData(e.rows);else if(e.columns)d=i.convertColumnsToData(e.columns);else return;u=i.convertDataToTargets(d,!0),i.data.targets.forEach(function(Q){var ut=!1,ct,St;for(ct=0;ct<u.length;ct++)if(Q.id===u[ct].id){for(ut=!0,Q.values[Q.values.length-1]&&(H=Q.values[Q.values.length-1].index+1),O=u[ct].values.length,St=0;St<O;St++)u[ct].values[St].index=H+St,i.isTimeSeries()||(u[ct].values[St].x=H+St);Q.values=Q.values.concat(u[ct].values),u.splice(ct,1);break}ut||m.push(Q.id)}),i.data.targets.forEach(function(Q){var ut,ct;for(ut=0;ut<m.length;ut++)if(Q.id===m[ut])for(H=Q.values[Q.values.length-1].index+1,ct=0;ct<O;ct++)Q.values.push({id:Q.id,index:H+ct,x:i.isTimeSeries()?i.getOtherTargetX(H+ct):H+ct,value:null})}),i.data.targets.length&&u.forEach(function(Q){var ut,ct=[];for(ut=i.data.targets[0].values[0].index;ut<H;ut++)ct.push({id:Q.id,index:ut,x:i.isTimeSeries()?i.getOtherTargetX(ut):ut,value:null});Q.values.forEach(function(St){St.index+=H,i.isTimeSeries()||(St.x+=H)}),Q.values=ct.concat(Q.values)}),i.data.targets=i.data.targets.concat(u),i.getMaxDataCount(),M=i.data.targets[0],N=M.values[0],$(e.to)?(O=0,nt=i.isTimeSeries()?i.parseDate(e.to):e.to,M.values.forEach(function(Q){Q.x<nt&&O++})):$(e.length)&&(O=e.length),S?S===1&&i.isTimeSeries()&&(z=(M.values[M.values.length-1].x-N.x)/2,L=[new Date(+N.x-z),new Date(+N.x+z)],i.updateXDomain(null,!0,!0,!1,L)):(i.isTimeSeries()?M.values.length>1?z=M.values[M.values.length-1].x-N.x:z=N.x-i.getXDomain(i.data.targets)[0]:z=1,L=[N.x-z,N.x],i.updateXDomain(null,!0,!0,!1,L)),i.updateTargets(i.data.targets),i.redraw({flow:{index:N.index,length:O,duration:tt(e.duration)?e.duration:i.config.transition_duration,done:e.done,orgDataCount:S},withLegend:!0,withTransition:S>1,withTrimXDomain:!1,withUpdateXAxis:!0})},s.prototype.generateFlow=function(e){var i=this,u=i.config,d=i.d3;return function(){var m=e.targets,S=e.flow,L=e.drawBar,M=e.drawLine,N=e.drawArea,O=e.cx,H=e.cy,z=e.xv,nt=e.xForText,Q=e.yForText,ut=e.duration,ct,St=1,Ct,It=S.index,Dt=S.length,Wt=i.getValueOnIndex(i.data.targets[0].values,It),Ft=i.getValueOnIndex(i.data.targets[0].values,It+Dt),Ht=i.x.domain(),Nt,Yt=S.duration||ut,kt=S.done||function(){},Gt=i.generateWait(),zt,Xt,de,Pe,we,Ae,se,Et;i.flowing=!0,i.data.targets.forEach(function(Vt){Vt.values.splice(0,Dt)}),Nt=i.updateXDomain(m,!0,!0),i.updateXGrid&&i.updateXGrid(!0),zt=i.xgrid||d.selectAll([]),Xt=i.xgridLines||d.selectAll([]),de=i.mainRegion||d.selectAll([]),Pe=i.mainText||d.selectAll([]),we=i.mainBar||d.selectAll([]),Ae=i.mainLine||d.selectAll([]),se=i.mainArea||d.selectAll([]),Et=i.mainCircle||d.selectAll([]),S.orgDataCount?S.orgDataCount===1||(Wt&&Wt.x)===(Ft&&Ft.x)||i.isTimeSeries()?ct=i.x(Ht[0])-i.x(Nt[0]):ct=i.x(Wt.x)-i.x(Ft.x):i.data.targets[0].values.length!==1?ct=i.x(Ht[0])-i.x(Nt[0]):i.isTimeSeries()?(Wt=i.getValueOnIndex(i.data.targets[0].values,0),Ft=i.getValueOnIndex(i.data.targets[0].values,i.data.targets[0].values.length-1),ct=i.x(Wt.x)-i.x(Ft.x)):ct=v(Nt)/2,St=v(Ht)/v(Nt),Ct="translate("+ct+",0) scale("+St+",1)",i.hideXGridFocus();var Bt=d.transition().ease(d.easeLinear).duration(Yt);Gt.add(i.xAxis(i.axes.x,Bt)),Gt.add(we.transition(Bt).attr("transform",Ct)),Gt.add(Ae.transition(Bt).attr("transform",Ct)),Gt.add(se.transition(Bt).attr("transform",Ct)),Gt.add(Et.transition(Bt).attr("transform",Ct)),Gt.add(Pe.transition(Bt).attr("transform",Ct)),Gt.add(de.filter(i.isRegionOnX).transition(Bt).attr("transform",Ct)),Gt.add(zt.transition(Bt).attr("transform",Ct)),Gt.add(Xt.transition(Bt).attr("transform",Ct)),Gt(function(){var Vt,oe=[],Ze=[];if(Dt){for(Vt=0;Vt<Dt;Vt++)oe.push("."+F.shape+"-"+(It+Vt)),Ze.push("."+F.text+"-"+(It+Vt));i.svg.selectAll("."+F.shapes).selectAll(oe).remove(),i.svg.selectAll("."+F.texts).selectAll(Ze).remove(),i.svg.select("."+F.xgrid).remove()}zt.attr("transform",null).attr("x1",i.xgridAttr.x1).attr("x2",i.xgridAttr.x2).attr("y1",i.xgridAttr.y1).attr("y2",i.xgridAttr.y2).style("opacity",i.xgridAttr.opacity),Xt.attr("transform",null),Xt.select("line").attr("x1",u.axis_rotated?0:z).attr("x2",u.axis_rotated?i.width:z),Xt.select("text").attr("x",u.axis_rotated?i.width:0).attr("y",z),we.attr("transform",null).attr("d",L),Ae.attr("transform",null).attr("d",M),se.attr("transform",null).attr("d",N),Et.attr("transform",null).attr("cx",O).attr("cy",H),Pe.attr("transform",null).attr("x",nt).attr("y",Q).style("fill-opacity",i.opacityForText.bind(i)),de.attr("transform",null),de.filter(i.isRegionOnX).attr("x",i.regionX.bind(i)).attr("width",i.regionWidth.bind(i)),kt(),i.flowing=!1})}},l.prototype.focus=function(e){var i=this.internal,u;e=i.mapToTargetIds(e),u=i.svg.selectAll(i.selectorTargets(e.filter(i.isTargetToShow,i))),this.revert(),this.defocus(),u.classed(F.focused,!0).classed(F.defocused,!1),i.hasArcType()&&i.expandArc(e),i.toggleFocusLegend(e,!0),i.focusedTargetIds=e,i.defocusedTargetIds=i.defocusedTargetIds.filter(function(d){return e.indexOf(d)<0})},l.prototype.defocus=function(e){var i=this.internal,u;e=i.mapToTargetIds(e),u=i.svg.selectAll(i.selectorTargets(e.filter(i.isTargetToShow,i))),u.classed(F.focused,!1).classed(F.defocused,!0),i.hasArcType()&&i.unexpandArc(e),i.toggleFocusLegend(e,!1),i.focusedTargetIds=i.focusedTargetIds.filter(function(d){return e.indexOf(d)<0}),i.defocusedTargetIds=e},l.prototype.revert=function(e){var i=this.internal,u;e=i.mapToTargetIds(e),u=i.svg.selectAll(i.selectorTargets(e)),u.classed(F.focused,!1).classed(F.defocused,!1),i.hasArcType()&&i.unexpandArc(e),i.config.legend_show&&(i.showLegend(e.filter(i.isLegendToShow.bind(i))),i.legend.selectAll(i.selectorLegends(e)).filter(function(){return i.d3.select(this).classed(F.legendItemFocused)}).classed(F.legendItemFocused,!1)),i.focusedTargetIds=[],i.defocusedTargetIds=[]},l.prototype.xgrids=function(e){var i=this.internal,u=i.config;return e&&(u.grid_x_lines=e,i.redrawWithoutRescale()),u.grid_x_lines},l.prototype.xgrids.add=function(e){var i=this.internal;return this.xgrids(i.config.grid_x_lines.concat(e||[]))},l.prototype.xgrids.remove=function(e){var i=this.internal;i.removeGridLines(e,!0)},l.prototype.ygrids=function(e){var i=this.internal,u=i.config;return e&&(u.grid_y_lines=e,i.redrawWithoutRescale()),u.grid_y_lines},l.prototype.ygrids.add=function(e){var i=this.internal;return this.ygrids(i.config.grid_y_lines.concat(e||[]))},l.prototype.ygrids.remove=function(e){var i=this.internal;i.removeGridLines(e,!1)},l.prototype.groups=function(e){var i=this.internal,u=i.config;return Z(e)||(u.data_groups=e,i.redraw()),u.data_groups},l.prototype.legend=function(){},l.prototype.legend.show=function(e){var i=this.internal;i.showLegend(i.mapToTargetIds(e)),i.updateAndRedraw({withLegend:!0})},l.prototype.legend.hide=function(e){var i=this.internal;i.hideLegend(i.mapToTargetIds(e)),i.updateAndRedraw({withLegend:!1})},l.prototype.load=function(e){var i=this.internal,u=i.config;if(e.xs&&i.addXs(e.xs),"names"in e&&l.prototype.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(d){u.data_classes[d]=e.classes[d]}),"categories"in e&&i.isCategorized()&&(u.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(d){u.data_axes[d]=e.axes[d]}),"colors"in e&&Object.keys(e.colors).forEach(function(d){u.data_colors[d]=e.colors[d]}),"cacheIds"in e&&i.hasCaches(e.cacheIds)){i.load(i.getCaches(e.cacheIds),e.done);return}e.unload?i.unload(i.mapToTargetIds(e.unload===!0?null:e.unload),function(){i.loadFromArgs(e)}):i.loadFromArgs(e)},l.prototype.unload=function(e){var i=this.internal;e=e||{},e instanceof Array?e={ids:e}:typeof e=="string"&&(e={ids:[e]}),i.unload(i.mapToTargetIds(e.ids),function(){i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()})},l.prototype.pie=function(){},l.prototype.pie.padAngle=function(e){if(e===void 0)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=e,this.flush()},l.prototype.regions=function(e){var i=this.internal,u=i.config;return e&&(u.regions=e,i.redrawWithoutRescale()),u.regions},l.prototype.regions.add=function(e){var i=this.internal,u=i.config;return e&&(u.regions=u.regions.concat(e),i.redrawWithoutRescale()),u.regions},l.prototype.regions.remove=function(e){var i=this.internal,u=i.config,d,m,S;return e=e||{},d=w(e,"duration",u.transition_duration),m=w(e,"classes",[F.region]),S=i.main.select("."+F.regions).selectAll(m.map(function(L){return"."+L})),(d?S.transition().duration(d):S).style("opacity",0).remove(),u.regions=u.regions.filter(function(L){var M=!1;return L.class?(L.class.split(" ").forEach(function(N){m.indexOf(N)>=0&&(M=!0)}),!M):!0}),u.regions},l.prototype.selected=function(e){var i=this.internal,u=i.d3;return i.main.selectAll("."+F.shapes+i.getTargetSelectorSuffix(e)).selectAll("."+F.shape).filter(function(){return u.select(this).classed(F.SELECTED)}).nodes().map(function(d){var m=d.__data__;return m.data?m.data:m})},l.prototype.select=function(e,i,u){var d=this.internal,m=d.d3,S=d.config;S.data_selection_enabled&&d.main.selectAll("."+F.shapes).selectAll("."+F.shape).each(function(L,M){var N=m.select(this),O=L.data?L.data.id:L.id,H=d.getToggle(this,L).bind(d),z=S.data_selection_grouped||!e||e.indexOf(O)>=0,nt=!i||i.indexOf(M)>=0,Q=N.classed(F.SELECTED);N.classed(F.line)||N.classed(F.area)||(z&&nt?S.data_selection_isselectable(L)&&!Q&&H(!0,N.classed(F.SELECTED,!0),L,M):$(u)&&u&&Q&&H(!1,N.classed(F.SELECTED,!1),L,M))})},l.prototype.unselect=function(e,i){var u=this.internal,d=u.d3,m=u.config;m.data_selection_enabled&&u.main.selectAll("."+F.shapes).selectAll("."+F.shape).each(function(S,L){var M=d.select(this),N=S.data?S.data.id:S.id,O=u.getToggle(this,S).bind(u),H=m.data_selection_grouped||!e||e.indexOf(N)>=0,z=!i||i.indexOf(L)>=0,nt=M.classed(F.SELECTED);M.classed(F.line)||M.classed(F.area)||H&&z&&m.data_selection_isselectable(S)&&nt&&O(!1,M.classed(F.SELECTED,!1),S,L)})},l.prototype.show=function(e,i){var u=this.internal,d;e=u.mapToTargetIds(e),i=i||{},u.removeHiddenTargetIds(e),d=u.svg.selectAll(u.selectorTargets(e)),d.transition().style("display",W()?"block":"initial","important").style("opacity",1,"important").call(u.endall,function(){d.style("opacity",null).style("opacity",1)}),i.withLegend&&u.showLegend(e),u.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},l.prototype.hide=function(e,i){var u=this.internal,d;e=u.mapToTargetIds(e),i=i||{},u.addHiddenTargetIds(e),d=u.svg.selectAll(u.selectorTargets(e)),d.transition().style("opacity",0,"important").call(u.endall,function(){d.style("opacity",null).style("opacity",0),d.style("display","none")}),i.withLegend&&u.hideLegend(e),u.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},l.prototype.toggle=function(e,i){var u=this,d=this.internal;d.mapToTargetIds(e).forEach(function(m){d.isTargetToShow(m)?u.hide(m,i):u.show(m,i)})},l.prototype.subchart=function(){},l.prototype.subchart.isShown=function(){var e=this.internal;return e.config.subchart_show},l.prototype.subchart.show=function(){var e=this.internal;e.config.subchart_show||(e.config.subchart_show=!0,e.initSubchart(),e.updateDimension(),e.initSubchartBrush(),e.updateTargetsForSubchart(e.getTargets()),e.mapToIds(e.data.targets).forEach(function(i){e.withoutFadeIn[i]=!1}),e.updateAndRedraw(),e.showTargets())},l.prototype.subchart.hide=function(){var e=this.internal;e.config.subchart_show&&(e.config.subchart_show=!1,e.removeSubchart(),e.redraw())},l.prototype.tooltip=function(){},l.prototype.tooltip.show=function(e){var i=this.internal,u,d,m={};e.mouse?m=e.mouse:(e.data?d=e.data:typeof e.x<"u"&&(e.id?u=i.data.targets.filter(function(S){return S.id===e.id}):u=i.data.targets,d=i.filterByX(u,e.x).slice(0,1)[0]),m=d?i.getMousePosition(d):null),i.dispatchEvent("mousemove",m),i.config.tooltip_onshow.call(i,d)},l.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},l.prototype.transform=function(e,i){var u=this.internal,d=["pie","donut"].indexOf(e)>=0?{withTransform:!0}:null;u.transformTo(i,e,d)},s.prototype.transformTo=function(e,i,u){var d=this,m=!d.hasArcType(),S=u||{withTransitionForAxis:m};S.withTransitionForTransform=!1,d.transiting=!1,d.setTargetType(e,i),d.updateTargets(d.data.targets),d.updateAndRedraw(S)},l.prototype.x=function(e){var i=this.internal;return arguments.length&&(i.updateTargetX(i.data.targets,e),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),i.data.xs},l.prototype.xs=function(e){var i=this.internal;return arguments.length&&(i.updateTargetXs(i.data.targets,e),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),i.data.xs},l.prototype.zoom=function(e){var i=this.internal;return e?(i.isTimeSeries()&&(e=e.map(function(u){return i.parseDate(u)})),i.config.subchart_show?i.brush.selectionAsValue(e,!0):(i.updateXDomain(null,!0,!1,!1,e),i.redraw({withY:i.config.zoom_rescale,withSubchart:!1})),i.config.zoom_onzoom.call(this,i.x.orgDomain()),e):i.x.domain()},l.prototype.zoom.enable=function(e){var i=this.internal;i.config.zoom_enabled=e,i.updateAndRedraw()},l.prototype.unzoom=function(){var e=this.internal;e.config.subchart_show?e.brush.clear():(e.updateXDomain(null,!0,!1,!1,e.subX.domain()),e.redraw({withY:e.config.zoom_rescale,withSubchart:!1}))},l.prototype.zoom.max=function(e){var i=this.internal,u=i.config,d=i.d3;if(e===0||e)u.zoom_x_max=d.max([i.orgXDomain[1],e]);else return u.zoom_x_max},l.prototype.zoom.min=function(e){var i=this.internal,u=i.config,d=i.d3;if(e===0||e)u.zoom_x_min=d.min([i.orgXDomain[0],e]);else return u.zoom_x_min},l.prototype.zoom.range=function(e){if(arguments.length)$(e.max)&&this.domain.max(e.max),$(e.min)&&this.domain.min(e.min);else return{max:this.domain.max(),min:this.domain.min()}},s.prototype.initPie=function(){var e=this,i=e.d3;e.pie=i.pie().padAngle(this.getPadAngle.bind(this)).value(function(m){return m.values.reduce(function(S,L){return S+L.value},0)});var u=e.getOrderFunction();if(u&&(e.isOrderAsc()||e.isOrderDesc())){var d=u;u=function(m,S){return d(m,S)*-1}}e.pie.sort(u||null)},s.prototype.updateRadius=function(){var e=this,i=e.config,u=i.gauge_width||i.donut_width,d=e.filterTargetsToShow(e.data.targets).length*e.config.gauge_arcs_minWidth;e.radiusExpanded=Math.min(e.arcWidth,e.arcHeight)/2*(e.hasType("gauge")?.85:1),e.radius=e.radiusExpanded*.95,e.innerRadiusRatio=u?(e.radius-u)/e.radius:.6,e.innerRadius=e.hasType("donut")||e.hasType("gauge")?e.radius*e.innerRadiusRatio:0,e.gaugeArcWidth=u||(d<=e.radius-e.innerRadius?e.radius-e.innerRadius:d<=e.radius?d:e.radius)},s.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},s.prototype.updateArc=function(){var e=this;e.svgArc=e.getSvgArc(),e.svgArcExpanded=e.getSvgArcExpanded(),e.svgArcExpandedSub=e.getSvgArcExpanded(.98)},s.prototype.updateAngle=function(e){var i=this,u=i.config,d=!1,m=0,S,L,M,N;return u?(i.pie(i.filterTargetsToShow(i.data.targets)).forEach(function(O){!d&&O.data.id===e.data.id&&(d=!0,e=O,e.index=m),m++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),i.isGaugeType(e.data)&&(S=u.gauge_min,L=u.gauge_max,M=Math.PI*(u.gauge_fullCircle?2:1)/(L-S),N=e.value<S?0:e.value<L?e.value-S:L-S,e.startAngle=u.gauge_startingAngle,e.endAngle=e.startAngle+M*N),d?e:null):null},s.prototype.getSvgArc=function(){var e=this,i=e.hasType("gauge"),u=e.gaugeArcWidth/e.filterTargetsToShow(e.data.targets).length,d=e.d3.arc().outerRadius(function(S){return i?e.radius-u*S.index:e.radius}).innerRadius(function(S){return i?e.radius-u*(S.index+1):e.innerRadius}),m=function(S,L){var M;return L?d(S):(M=e.updateAngle(S),M?d(M):"M 0 0")};return m.centroid=d.centroid,m},s.prototype.getSvgArcExpanded=function(e){e=e||1;var i=this,u=i.hasType("gauge"),d=i.gaugeArcWidth/i.filterTargetsToShow(i.data.targets).length,m=Math.min(i.radiusExpanded*e-i.radius,d*.8-(1-e)*100),S=i.d3.arc().outerRadius(function(L){return u?i.radius-d*L.index+m:i.radiusExpanded*e}).innerRadius(function(L){return u?i.radius-d*(L.index+1):i.innerRadius});return function(L){var M=i.updateAngle(L);return M?S(M):"M 0 0"}},s.prototype.getArc=function(e,i,u){return u||this.isArcType(e.data)?this.svgArc(e,i):"M 0 0"},s.prototype.transformForArcLabel=function(e){var i=this,u=i.config,d=i.updateAngle(e),m,S,L,M,N,O="",H=i.hasType("gauge");if(d&&!H)m=this.svgArc.centroid(d),S=isNaN(m[0])?0:m[0],L=isNaN(m[1])?0:m[1],M=Math.sqrt(S*S+L*L),i.hasType("donut")&&u.donut_label_ratio?N=X(u.donut_label_ratio)?u.donut_label_ratio(e,i.radius,M):u.donut_label_ratio:i.hasType("pie")&&u.pie_label_ratio?N=X(u.pie_label_ratio)?u.pie_label_ratio(e,i.radius,M):u.pie_label_ratio:N=i.radius&&M?(36/i.radius>.375?1.175-36/i.radius:.8)*i.radius/M:0,O="translate("+S*N+","+L*N+")";else if(d&&H&&i.filterTargetsToShow(i.data.targets).length>1){var z=Math.sin(d.endAngle-Math.PI/2);S=Math.cos(d.endAngle-Math.PI/2)*(i.radiusExpanded+25),L=z*(i.radiusExpanded+15-Math.abs(z*10))+3,O="translate("+S+","+L+")"}return O},s.prototype.getArcRatio=function(e){return this.getRatio("arc",e)},s.prototype.convertToArcData=function(e){return this.addName({id:e.data.id,value:e.value,ratio:this.getRatio("arc",e),index:e.index})},s.prototype.textForArcLabel=function(e){var i=this,u,d,m,S,L;return!i.shouldShowArcLabel()||(u=i.updateAngle(e),d=u?u.value:null,m=i.getRatio("arc",u),S=e.data.id,!i.hasType("gauge")&&!i.meetsArcLabelThreshold(m))?"":(L=i.getArcLabelFormat(),L?L(d,m,S):i.defaultArcValueFormat(d,m))},s.prototype.textForGaugeMinMax=function(e,i){var u=this,d=u.getGaugeLabelExtents();return d?d(e,i):e},s.prototype.expandArc=function(e){var i=this,u;if(i.transiting){u=window.setInterval(function(){i.transiting||(window.clearInterval(u),i.legend.selectAll(".c3-legend-item-focused").size()>0&&i.expandArc(e))},10);return}e=i.mapToTargetIds(e),i.svg.selectAll(i.selectorTargets(e,"."+F.chartArc)).each(function(d){i.shouldExpand(d.data.id)&&i.d3.select(this).selectAll("path").transition().duration(i.expandDuration(d.data.id)).attr("d",i.svgArcExpanded).transition().duration(i.expandDuration(d.data.id)*2).attr("d",i.svgArcExpandedSub).each(function(m){i.isDonutType(m.data)})})},s.prototype.unexpandArc=function(e){var i=this;i.transiting||(e=i.mapToTargetIds(e),i.svg.selectAll(i.selectorTargets(e,"."+F.chartArc)).selectAll("path").transition().duration(function(u){return i.expandDuration(u.data.id)}).attr("d",i.svgArc),i.svg.selectAll("."+F.arc))},s.prototype.expandDuration=function(e){var i=this,u=i.config;return i.isDonutType(e)?u.donut_expand_duration:i.isGaugeType(e)?u.gauge_expand_duration:i.isPieType(e)?u.pie_expand_duration:50},s.prototype.shouldExpand=function(e){var i=this,u=i.config;return i.isDonutType(e)&&u.donut_expand||i.isGaugeType(e)&&u.gauge_expand||i.isPieType(e)&&u.pie_expand},s.prototype.shouldShowArcLabel=function(){var e=this,i=e.config,u=!0;return e.hasType("donut")?u=i.donut_label_show:e.hasType("pie")&&(u=i.pie_label_show),u},s.prototype.meetsArcLabelThreshold=function(e){var i=this,u=i.config,d=i.hasType("donut")?u.donut_label_threshold:u.pie_label_threshold;return e>=d},s.prototype.getArcLabelFormat=function(){var e=this,i=e.config,u=i.pie_label_format;return e.hasType("gauge")?u=i.gauge_label_format:e.hasType("donut")&&(u=i.donut_label_format),u},s.prototype.getGaugeLabelExtents=function(){var e=this,i=e.config;return i.gauge_label_extents},s.prototype.getArcTitle=function(){var e=this;return e.hasType("donut")?e.config.donut_title:""},s.prototype.updateTargetsForArc=function(e){var i=this,u=i.main,d,m,S=i.classChartArc.bind(i),L=i.classArcs.bind(i),M=i.classFocus.bind(i);d=u.select("."+F.chartArcs).selectAll("."+F.chartArc).data(i.pie(e)).attr("class",function(N){return S(N)+M(N.data)}),m=d.enter().append("g").attr("class",S),m.append("g").attr("class",L),m.append("text").attr("dy",i.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},s.prototype.initArc=function(){var e=this;e.arcs=e.main.select("."+F.chart).append("g").attr("class",F.chartArcs).attr("transform",e.getTranslate("arc")),e.arcs.append("text").attr("class",F.chartArcsTitle).style("text-anchor","middle").text(e.getArcTitle())},s.prototype.redrawArc=function(e,i,u){var d=this,m=d.d3,S=d.config,L=d.main,M,N,O,H,z=d.hasType("gauge");if(M=L.selectAll("."+F.arcs).selectAll("."+F.arc).data(d.arcData.bind(d)),N=M.enter().append("path").attr("class",d.classArc.bind(d)).style("fill",function(ut){return d.color(ut.data)}).style("cursor",function(ut){return S.interaction_enabled&&S.data_selection_isselectable(ut)?"pointer":null}).each(function(ut){d.isGaugeType(ut.data)&&(ut.startAngle=ut.endAngle=S.gauge_startingAngle),this._current=ut}).merge(M),z&&(O=L.selectAll("."+F.arcs).selectAll("."+F.arcLabelLine).data(d.arcData.bind(d)),H=O.enter().append("rect").attr("class",function(ut){return F.arcLabelLine+" "+F.target+" "+F.target+"-"+ut.data.id}).merge(O),d.filterTargetsToShow(d.data.targets).length===1?H.style("display","none"):H.style("fill",function(ut){return d.levelColor?d.levelColor(ut.data.values.reduce(function(ct,St){return ct+St.value},0)):d.color(ut.data)}).style("display",S.gauge_labelLine_show?"":"none").each(function(ut){var ct=0,St=2,Ct=0,It=0,Dt="";if(d.hiddenTargetIds.indexOf(ut.data.id)<0){var Wt=d.updateAngle(ut),Ft=d.gaugeArcWidth/d.filterTargetsToShow(d.data.targets).length*(Wt.index+1),Ht=Wt.endAngle-Math.PI/2,Nt=d.radius-Ft,Yt=Ht-(Nt===0?0:1/Nt);ct=d.radiusExpanded-d.radius+Ft,Ct=Math.cos(Yt)*Nt,It=Math.sin(Yt)*Nt,Dt="rotate("+Ht*180/Math.PI+", "+Ct+", "+It+")"}m.select(this).attr("x",Ct).attr("y",It).attr("width",ct).attr("height",St).attr("transform",Dt).style("stroke-dasharray","0, "+(ct+St)+", 0")})),N.attr("transform",function(ut){return!d.isGaugeType(ut.data)&&u?"scale(0)":""}).on("mouseover",S.interaction_enabled?function(ut){var ct,St;d.transiting||(ct=d.updateAngle(ut),ct&&(St=d.convertToArcData(ct),d.expandArc(ct.data.id),d.api.focus(ct.data.id),d.toggleFocusLegend(ct.data.id,!0),d.config.data_onmouseover(St,this)))}:null).on("mousemove",S.interaction_enabled?function(ut){var ct=d.updateAngle(ut),St,Ct;ct&&(St=d.convertToArcData(ct),Ct=[St],d.showTooltip(Ct,this))}:null).on("mouseout",S.interaction_enabled?function(ut){var ct,St;d.transiting||(ct=d.updateAngle(ut),ct&&(St=d.convertToArcData(ct),d.unexpandArc(ct.data.id),d.api.revert(),d.revertLegend(),d.hideTooltip(),d.config.data_onmouseout(St,this)))}:null).on("click",S.interaction_enabled?function(ut,ct){var St=d.updateAngle(ut),Ct;St&&(Ct=d.convertToArcData(St),d.toggleShape&&d.toggleShape(this,Ct,ct),d.config.data_onclick.call(d.api,Ct,this))}:null).each(function(){d.transiting=!0}).transition().duration(e).attrTween("d",function(ut){var ct=d.updateAngle(ut),St;return ct?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),St=m.interpolate(this._current,ct),this._current=St(0),function(Ct){if(d.config===null)return"M 0 0";var It=St(Ct);return It.data=ut.data,d.getArc(It,!0)}):function(){return"M 0 0"}}).attr("transform",u?"scale(1)":"").style("fill",function(ut){return d.levelColor?d.levelColor(ut.data.values.reduce(function(ct,St){return ct+St.value},0)):d.color(ut.data.id)}).call(d.endall,function(){d.transiting=!1}),M.exit().transition().duration(i).style("opacity",0).remove(),L.selectAll("."+F.chartArc).select("text").style("opacity",0).attr("class",function(ut){return d.isGaugeType(ut.data)?F.gaugeValue:""}).text(d.textForArcLabel.bind(d)).attr("transform",d.transformForArcLabel.bind(d)).style("font-size",function(ut){return d.isGaugeType(ut.data)&&d.filterTargetsToShow(d.data.targets).length===1?Math.round(d.radius/5)+"px":""}).transition().duration(e).style("opacity",function(ut){return d.isTargetToShow(ut.data.id)&&d.isArcType(ut.data)?1:0}),L.select("."+F.chartArcsTitle).style("opacity",d.hasType("donut")||z?1:0),z){var nt=0,Q=d.arcs.select("g."+F.chartArcsBackground).selectAll("path."+F.chartArcsBackground).data(d.data.targets);Q.enter().append("path").attr("class",function(ut,ct){return F.chartArcsBackground+" "+F.chartArcsBackground+"-"+ct}).merge(Q).attr("d",function(ut){if(d.hiddenTargetIds.indexOf(ut.id)>=0)return"M 0 0";var ct={data:[{value:S.gauge_max}],startAngle:S.gauge_startingAngle,endAngle:-1*S.gauge_startingAngle*(S.gauge_fullCircle?Math.PI:1),index:nt++};return d.getArc(ct,!0,!0)}),Q.exit().remove(),d.arcs.select("."+F.chartArcsGaugeUnit).attr("dy",".75em").text(S.gauge_label_show?S.gauge_units:""),d.arcs.select("."+F.chartArcsGaugeMin).attr("dx",-1*(d.innerRadius+(d.radius-d.innerRadius)/(S.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(S.gauge_label_show?d.textForGaugeMinMax(S.gauge_min,!1):""),d.arcs.select("."+F.chartArcsGaugeMax).attr("dx",d.innerRadius+(d.radius-d.innerRadius)/(S.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(S.gauge_label_show?d.textForGaugeMinMax(S.gauge_max,!0):"")}},s.prototype.initGauge=function(){var e=this.arcs;this.hasType("gauge")&&(e.append("g").attr("class",F.chartArcsBackground),e.append("text").attr("class",F.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",F.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",F.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},s.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},s.prototype.addToCache=function(e,i){this.cache["$"+e]=i},s.prototype.getFromCache=function(e){return this.cache["$"+e]},s.prototype.resetCache=function(){var e=this;Object.keys(this.cache).filter(function(i){return/^\$/.test(i)}).forEach(function(i){delete e.cache[i]})},s.prototype.hasCaches=function(e){for(var i=0;i<e.length;i++)if(!(e[i]in this.cache))return!1;return!0},s.prototype.addCache=function(e,i){this.cache[e]=this.cloneTarget(i)},s.prototype.getCaches=function(e){var i=[],u;for(u=0;u<e.length;u++)e[u]in this.cache&&i.push(this.cloneTarget(this.cache[e[u]]));return i},s.prototype.categoryName=function(e){var i=this.config;return e<i.axis_x_categories.length?i.axis_x_categories[e]:e},s.prototype.generateTargetClass=function(e){return e||e===0?("-"+e).replace(/\s/g,"-"):""},s.prototype.generateClass=function(e,i){return" "+e+" "+e+this.generateTargetClass(i)},s.prototype.classText=function(e){return this.generateClass(F.text,e.index)},s.prototype.classTexts=function(e){return this.generateClass(F.texts,e.id)},s.prototype.classShape=function(e){return this.generateClass(F.shape,e.index)},s.prototype.classShapes=function(e){return this.generateClass(F.shapes,e.id)},s.prototype.classLine=function(e){return this.classShape(e)+this.generateClass(F.line,e.id)},s.prototype.classLines=function(e){return this.classShapes(e)+this.generateClass(F.lines,e.id)},s.prototype.classCircle=function(e){return this.classShape(e)+this.generateClass(F.circle,e.index)},s.prototype.classCircles=function(e){return this.classShapes(e)+this.generateClass(F.circles,e.id)},s.prototype.classBar=function(e){return this.classShape(e)+this.generateClass(F.bar,e.index)},s.prototype.classBars=function(e){return this.classShapes(e)+this.generateClass(F.bars,e.id)},s.prototype.classArc=function(e){return this.classShape(e.data)+this.generateClass(F.arc,e.data.id)},s.prototype.classArcs=function(e){return this.classShapes(e.data)+this.generateClass(F.arcs,e.data.id)},s.prototype.classArea=function(e){return this.classShape(e)+this.generateClass(F.area,e.id)},s.prototype.classAreas=function(e){return this.classShapes(e)+this.generateClass(F.areas,e.id)},s.prototype.classRegion=function(e,i){return this.generateClass(F.region,i)+" "+("class"in e?e.class:"")},s.prototype.classEvent=function(e){return this.generateClass(F.eventRect,e.index)},s.prototype.classTarget=function(e){var i=this,u=i.config.data_classes[e],d="";return u&&(d=" "+F.target+"-"+u),i.generateClass(F.target,e)+d},s.prototype.classFocus=function(e){return this.classFocused(e)+this.classDefocused(e)},s.prototype.classFocused=function(e){return" "+(this.focusedTargetIds.indexOf(e.id)>=0?F.focused:"")},s.prototype.classDefocused=function(e){return" "+(this.defocusedTargetIds.indexOf(e.id)>=0?F.defocused:"")},s.prototype.classChartText=function(e){return F.chartText+this.classTarget(e.id)},s.prototype.classChartLine=function(e){return F.chartLine+this.classTarget(e.id)},s.prototype.classChartBar=function(e){return F.chartBar+this.classTarget(e.id)},s.prototype.classChartArc=function(e){return F.chartArc+this.classTarget(e.data.id)},s.prototype.getTargetSelectorSuffix=function(e){var i=this.generateTargetClass(e);return window.CSS&&window.CSS.escape?window.CSS.escape(i):i.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},s.prototype.selectorTarget=function(e,i){return(i||"")+"."+F.target+this.getTargetSelectorSuffix(e)},s.prototype.selectorTargets=function(e,i){var u=this;return e=e||[],e.length?e.map(function(d){return u.selectorTarget(d,i)}):null},s.prototype.selectorLegend=function(e){return"."+F.legendItem+this.getTargetSelectorSuffix(e)},s.prototype.selectorLegends=function(e){var i=this;return e&&e.length?e.map(function(u){return i.selectorLegend(u)}):null},s.prototype.getClipPath=function(e){return"url("+(W(9)?"":document.URL.split("#")[0])+"#"+e+")"},s.prototype.appendClip=function(e,i){return e.append("clipPath").attr("id",i).append("rect")},s.prototype.getAxisClipX=function(e){var i=Math.max(30,this.margin.left);return e?-(1+i):-(i-1)},s.prototype.getAxisClipY=function(e){return e?-20:-this.margin.top},s.prototype.getXAxisClipX=function(){var e=this;return e.getAxisClipX(!e.config.axis_rotated)},s.prototype.getXAxisClipY=function(){var e=this;return e.getAxisClipY(!e.config.axis_rotated)},s.prototype.getYAxisClipX=function(){var e=this;return e.config.axis_y_inner?-1:e.getAxisClipX(e.config.axis_rotated)},s.prototype.getYAxisClipY=function(){var e=this;return e.getAxisClipY(e.config.axis_rotated)},s.prototype.getAxisClipWidth=function(e){var i=this,u=Math.max(30,i.margin.left),d=Math.max(30,i.margin.right);return e?i.width+2+u+d:i.margin.left+20},s.prototype.getAxisClipHeight=function(e){return(e?this.margin.bottom:this.margin.top+this.height)+20},s.prototype.getXAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(!e.config.axis_rotated)},s.prototype.getXAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(!e.config.axis_rotated)},s.prototype.getYAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(e.config.axis_rotated)+(e.config.axis_y_inner?20:0)},s.prototype.getYAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(e.config.axis_rotated)},s.prototype.generateColor=function(){var e=this,i=e.config,u=e.d3,d=i.data_colors,m=J(i.color_pattern)?i.color_pattern:u.schemeCategory10,S=i.data_color,L=[];return function(M){var N=M.id||M.data&&M.data.id||M,O;return d[N]instanceof Function?O=d[N](M):d[N]?O=d[N]:(L.indexOf(N)<0&&L.push(N),O=m[L.indexOf(N)%m.length],d[N]=O),S instanceof Function?S(O,M):O}},s.prototype.generateLevelColor=function(){var e=this,i=e.config,u=i.color_pattern,d=i.color_threshold,m=d.unit==="value",S=d.values&&d.values.length?d.values:[],L=d.max||100;return J(d)&&J(u)?function(M){var N,O,H=u[u.length-1];for(N=0;N<S.length;N++)if(O=m?M:M*100/L,O<S[N]){H=u[N];break}return H}:null},s.prototype.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(i){return i},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(i,u,d,m){return this.getTooltipContent?this.getTooltipContent(i,u,d,m):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(i){e[i]=this.additionalConfig[i]},this),e},s.prototype.additionalConfig={},s.prototype.loadConfig=function(e){var i=this.config,u,d,m;function S(){var L=d.shift();return L&&u&&typeof u=="object"&&L in u?(u=u[L],S()):L?void 0:u}Object.keys(i).forEach(function(L){u=e,d=L.split("_"),m=S(),$(m)&&(i[L]=m)})},s.prototype.convertUrlToData=function(e,i,u,d,m){var S=this,L=i||"csv",M,N;L==="json"?(M=S.d3.json,N=S.convertJsonToData):L==="tsv"?(M=S.d3.tsv,N=S.convertXsvToData):(M=S.d3.csv,N=S.convertXsvToData),M(e,u).then(function(O){m.call(S,N.call(S,O,d))}).catch(function(O){throw O})},s.prototype.convertXsvToData=function(e){var i=e.columns,u=e;return u.length===0?{keys:i,rows:[i.reduce(function(d,m){var S;return Object.assign(d,(S={},S[m]=null,S))},{})]}:{keys:i,rows:[].concat(e)}},s.prototype.convertJsonToData=function(e,i){var u=this,d=[],m,S;return i?(i.x?(m=i.value.concat(i.x),u.config.data_x=i.x):m=i.value,d.push(m),e.forEach(function(L){var M=[];m.forEach(function(N){var O=u.findValueInJson(L,N);Z(O)&&(O=null),M.push(O)}),d.push(M)}),S=u.convertRowsToData(d)):(Object.keys(e).forEach(function(L){d.push([L].concat(e[L]))}),S=u.convertColumnsToData(d)),S},s.prototype.findValueInJson=function(e,i){if(i in e)return e[i];i=i.replace(/\[(\w+)\]/g,".$1"),i=i.replace(/^\./,"");for(var u=i.split("."),d=0;d<u.length;++d){var m=u[d];if(m in e)e=e[m];else return}return e},s.prototype.convertRowsToData=function(e){for(var i=[],u=e[0],d=1;d<e.length;d++){for(var m={},S=0;S<e[d].length;S++){if(Z(e[d][S]))throw new Error("Source data is missing a component at ("+d+","+S+")!");m[u[S]]=e[d][S]}i.push(m)}return{keys:u,rows:i}},s.prototype.convertColumnsToData=function(e){for(var i=[],u=[],d=0;d<e.length;d++){for(var m=e[d][0],S=1;S<e[d].length;S++){if(Z(i[S-1])&&(i[S-1]={}),Z(e[d][S]))throw new Error("Source data is missing a component at ("+d+","+S+")!");i[S-1][m]=e[d][S]}u.push(m)}return{keys:u,rows:i}},s.prototype.convertDataToTargets=function(e,i){var u=this,d=u.config,m,S,L,M,N;if(V(e)?M=Object.keys(e[0]):(M=e.keys,e=e.rows),L=M.filter(u.isX,u),!u.isStanfordGraphType())S=M.filter(u.isNotX,u);else if(N=M.filter(u.isEpochs,u),S=M.filter(u.isNotXAndNotEpochs,u),L.length!==1||N.length!==1||S.length!==1)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams");return S.forEach(function(O){var H=u.getXKey(O);u.isCustomX()||u.isTimeSeries()?L.indexOf(H)>=0?u.data.xs[O]=(i&&u.data.xs[O]?u.data.xs[O]:[]).concat(e.map(function(z){return z[H]}).filter(tt).map(function(z,nt){return u.generateTargetX(z,O,nt)})):d.data_x?u.data.xs[O]=u.getOtherTargetXs():J(d.data_xs)&&(u.data.xs[O]=u.getXValuesOfXKey(H,u.data.targets)):u.data.xs[O]=e.map(function(z,nt){return nt})}),S.forEach(function(O){if(!u.data.xs[O])throw new Error('x is not defined for id = "'+O+'".')}),m=S.map(function(O,H){var z=d.data_idConverter(O);return{id:z,id_org:O,values:e.map(function(nt,Q){var ut=u.getXKey(O),ct=nt[ut],St=nt[O]!==null&&!isNaN(nt[O])?+nt[O]:null,Ct,It;return u.isCustomX()&&u.isCategorized()&&!Z(ct)?(H===0&&Q===0&&(d.axis_x_categories=[]),Ct=d.axis_x_categories.indexOf(ct),Ct===-1&&(Ct=d.axis_x_categories.length,d.axis_x_categories.push(ct))):Ct=u.generateTargetX(ct,O,Q),(Z(nt[O])||u.data.xs[O].length<=Q)&&(Ct=void 0),It={x:Ct,value:St,id:z},u.isStanfordGraphType()&&(It.epochs=nt[N]),It}).filter(function(nt){return $(nt.x)})}}),m.forEach(function(O){var H;d.data_xSort&&(O.values=O.values.sort(function(z,nt){var Q=z.x||z.x===0?z.x:1/0,ut=nt.x||nt.x===0?nt.x:1/0;return Q-ut})),H=0,O.values.forEach(function(z){z.index=H++}),u.data.xs[O.id].sort(function(z,nt){return z-nt})}),u.hasNegativeValue=u.hasNegativeValueInTargets(m),u.hasPositiveValue=u.hasPositiveValueInTargets(m),d.data_type&&u.setTargetType(u.mapToIds(m).filter(function(O){return!(O in d.data_types)}),d.data_type),m.forEach(function(O){u.addCache(O.id_org,O)}),m},s.prototype.isEpochs=function(e){var i=this,u=i.config;return u.data_epochs&&e===u.data_epochs},s.prototype.isX=function(e){var i=this,u=i.config;return u.data_x&&e===u.data_x||J(u.data_xs)&&E(u.data_xs,e)},s.prototype.isNotX=function(e){return!this.isX(e)},s.prototype.isNotXAndNotEpochs=function(e){return!this.isX(e)&&!this.isEpochs(e)},s.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},s.prototype.isAxisNormalized=function(e){var i=this;return i.isStackNormalized()?i.data.targets.filter(function(u){return i.axis.getId(u.id)===e}).some(function(u){return i.isTargetNormalized(u.id)}):!1},s.prototype.isTargetNormalized=function(e){var i=this;return i.isStackNormalized()&&i.config.data_groups.some(function(u){return u.includes(e)})},s.prototype.getXKey=function(e){var i=this,u=i.config;return u.data_x?u.data_x:J(u.data_xs)?u.data_xs[e]:null},s.prototype.getTotalPerIndex=function(e){var i=this;if(!i.isStackNormalized())return null;var u=i.getFromCache("getTotalPerIndex");if(u!==void 0)return u[e];var d={y:[],y2:[]};return i.data.targets.filter(function(m){return i.isTargetNormalized(m.id)}).filter(function(m){return i.isTargetToShow(m.id)}).forEach(function(m){var S=d[i.axis.getId(m.id)];m.values.forEach(function(L,M){S[M]||(S[M]=0),S[M]+=B(L.value)?L.value:0})}),i.addToCache("getTotalPerIndex",d),d[e]},s.prototype.getTotalDataSum=function(){var e=this,i=e.getFromCache("getTotalDataSum");if(i!==void 0)return i;var u=ft(e.data.targets.filter(function(d){return e.isTargetToShow(d.id)}).map(function(d){return d.values})).map(function(d){return d.value}).reduce(function(d,m){return d+m},0);return e.addToCache("getTotalDataSum",u),u},s.prototype.getXValuesOfXKey=function(e,i){var u=this,d,m=i&&J(i)?u.mapToIds(i):[];return m.forEach(function(S){u.getXKey(S)===e&&(d=u.data.xs[S])}),d},s.prototype.getXValue=function(e,i){var u=this;return e in u.data.xs&&u.data.xs[e]&&tt(u.data.xs[e][i])?u.data.xs[e][i]:i},s.prototype.getOtherTargetXs=function(){var e=this,i=Object.keys(e.data.xs);return i.length?e.data.xs[i[0]]:null},s.prototype.getOtherTargetX=function(e){var i=this.getOtherTargetXs();return i&&e<i.length?i[e]:null},s.prototype.addXs=function(e){var i=this;Object.keys(e).forEach(function(u){i.config.data_xs[u]=e[u]})},s.prototype.addName=function(e){var i=this,u;return e&&(u=i.config.data_names[e.id],e.name=u!==void 0?u:e.id),e},s.prototype.getValueOnIndex=function(e,i){var u=e.filter(function(d){return d.index===i});return u.length?u[0]:null},s.prototype.updateTargetX=function(e,i){var u=this;e.forEach(function(d){d.values.forEach(function(m,S){m.x=u.generateTargetX(i[S],d.id,S)}),u.data.xs[d.id]=i})},s.prototype.updateTargetXs=function(e,i){var u=this;e.forEach(function(d){i[d.id]&&u.updateTargetX([d],i[d.id])})},s.prototype.generateTargetX=function(e,i,u){var d=this,m;return d.isTimeSeries()?m=e?d.parseDate(e):d.parseDate(d.getXValue(i,u)):d.isCustomX()&&!d.isCategorized()?m=tt(e)?+e:d.getXValue(i,u):m=u,m},s.prototype.cloneTarget=function(e){return{id:e.id,id_org:e.id_org,values:e.values.map(function(i){return{x:i.x,value:i.value,id:i.id}})}},s.prototype.getMaxDataCount=function(){var e=this;return e.d3.max(e.data.targets,function(i){return i.values.length})},s.prototype.mapToIds=function(e){return e.map(function(i){return i.id})},s.prototype.mapToTargetIds=function(e){var i=this;return e?[].concat(e):i.mapToIds(i.data.targets)},s.prototype.hasTarget=function(e,i){var u=this.mapToIds(e),d;for(d=0;d<u.length;d++)if(u[d]===i)return!0;return!1},s.prototype.isTargetToShow=function(e){return this.hiddenTargetIds.indexOf(e)<0},s.prototype.isLegendToShow=function(e){return this.hiddenLegendIds.indexOf(e)<0},s.prototype.getTargetsToShow=function(){var e=this;return e.filterTargetsToShow(e.data.targets)},s.prototype.filterTargetsToShow=function(e){var i=this;return e.filter(function(u){return i.isTargetToShow(u.id)})},s.prototype.getTargets=function(){var e=this;return e.data.targets},s.prototype.mapTargetsToUniqueXs=function(e){var i=this,u=i.d3.set(i.d3.merge(e.map(function(d){return d.values.map(function(m){return+m.x})}))).values();return u=i.isTimeSeries()?u.map(function(d){return new Date(+d)}):u.map(function(d){return+d}),u.sort(function(d,m){return d<m?-1:d>m?1:d>=m?0:NaN})},s.prototype.addHiddenTargetIds=function(e){e=e instanceof Array?e:new Array(e);for(var i=0;i<e.length;i++)this.hiddenTargetIds.indexOf(e[i])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(e[i]));this.resetCache()},s.prototype.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(i){return e.indexOf(i)<0}),this.resetCache()},s.prototype.addHiddenLegendIds=function(e){e=e instanceof Array?e:new Array(e);for(var i=0;i<e.length;i++)this.hiddenLegendIds.indexOf(e[i])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(e[i]))},s.prototype.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(i){return e.indexOf(i)<0})},s.prototype.getValuesAsIdKeyed=function(e){var i={};return e.forEach(function(u){i[u.id]=[],u.values.forEach(function(d){i[u.id].push(d.value)})}),i},s.prototype.checkValueInTargets=function(e,i){var u=Object.keys(e),d,m,S;for(d=0;d<u.length;d++)for(S=e[u[d]].values,m=0;m<S.length;m++)if(i(S[m].value))return!0;return!1},s.prototype.hasNegativeValueInTargets=function(e){return this.checkValueInTargets(e,function(i){return i<0})},s.prototype.hasPositiveValueInTargets=function(e){return this.checkValueInTargets(e,function(i){return i>0})},s.prototype.isOrderDesc=function(){var e=this.config;return typeof e.data_order=="string"&&e.data_order.toLowerCase()==="desc"},s.prototype.isOrderAsc=function(){var e=this.config;return typeof e.data_order=="string"&&e.data_order.toLowerCase()==="asc"},s.prototype.getOrderFunction=function(){var e=this,i=e.config,u=e.isOrderAsc(),d=e.isOrderDesc();if(u||d){var m=function(L,M){return L+Math.abs(M.value)};return function(L,M){var N=L.values.reduce(m,0),O=M.values.reduce(m,0);return u?O-N:N-O}}else{if(X(i.data_order))return i.data_order;if(V(i.data_order)){var S=i.data_order;return function(L,M){return S.indexOf(L.id)-S.indexOf(M.id)}}}},s.prototype.orderTargets=function(e){var i=this.getOrderFunction();return i&&e.sort(i),e},s.prototype.filterByIndex=function(e,i){return this.d3.merge(e.map(function(u){return u.values.filter(function(d){return d.index===i})}))},s.prototype.filterByX=function(e,i){return this.d3.merge(e.map(function(u){return u.values})).filter(function(u){return u.x-i===0})},s.prototype.filterRemoveNull=function(e){return e.filter(function(i){return tt(i.value)})},s.prototype.filterByXDomain=function(e,i){return e.map(function(u){return{id:u.id,id_org:u.id_org,values:u.values.filter(function(d){return i[0]<=d.x&&d.x<=i[1]})}})},s.prototype.hasDataLabel=function(){var e=this.config;return typeof e.data_labels=="boolean"&&e.data_labels?!0:!!(typeof e.data_labels=="object"&&J(e.data_labels))},s.prototype.getDataLabelLength=function(e,i,u){var d=this,m=[0,0],S=1.3;return d.selectChart.select("svg").selectAll(".dummy").data([e,i]).enter().append("text").text(function(L){return d.dataLabelFormat(L.id)(L)}).each(function(L,M){m[M]=P(this)[u]*S}).remove(),m},s.prototype.isNoneArc=function(e){return this.hasTarget(this.data.targets,e.id)},s.prototype.isArc=function(e){return"data"in e&&this.hasTarget(this.data.targets,e.data.id)},s.prototype.findClosestFromTargets=function(e,i){var u=this,d=e.map(function(m){return u.findClosest(m.values,i,u.config.tooltip_horizontal?u.horizontalDistance.bind(u):u.dist.bind(u),u.config.point_sensitivity)}).filter(function(m){return m});if(d.length!==0)return d.length===1?d[0]:u.findClosest(d,i,u.dist.bind(u))},s.prototype.findClosestFromTargetsByX=function(e,i){var u,d;return e.forEach(function(m){m.values.forEach(function(S){var L=Math.abs(i-S.x);(d===void 0||L<d)&&(u=S,d=L)})}),u},s.prototype.findClosest=function(e,i,u,d){d===void 0&&(d=1/0);var m=this,S;return e.filter(function(L){return L&&m.isBarType(L.id)}).forEach(function(L){if(!S){var M=m.main.select("."+F.bars+m.getTargetSelectorSuffix(L.id)+" ."+F.bar+"-"+L.index).node();m.isWithinBar(i,M)&&(S=L)}}),e.filter(function(L){return L&&!m.isBarType(L.id)}).forEach(function(L){var M=u(L,i);M<d&&(d=M,S=L)}),S},s.prototype.dist=function(e,i){var u=this,d=u.config,m=d.axis_rotated?1:0,S=d.axis_rotated?0:1,L=u.circleY(e,e.index),M=u.x(e.x);return Math.sqrt(Math.pow(M-i[m],2)+Math.pow(L-i[S],2))},s.prototype.horizontalDistance=function(e,i){var u=this,d=u.config,m=d.axis_rotated?1:0,S=u.x(e.x);return Math.abs(S-i[m])},s.prototype.convertValuesToStep=function(e){var i=[].concat(e),u;if(!this.isCategorized())return e;for(u=e.length+1;0<u;u--)i[u]=i[u-1];return i[0]={x:i[0].x-1,value:i[0].value,id:i[0].id},i[e.length+1]={x:i[e.length].x+1,value:i[e.length].value,id:i[e.length].id},i},s.prototype.getRatio=function(e,i,u){u===void 0&&(u=!1);var d=this,m=d.api,S=0;if(i&&m.data.shown.call(m).length){if(S=i.ratio||i.value,e==="arc")if(d.hasType("gauge"))S=(i.endAngle-i.startAngle)/(Math.PI*(d.config.gauge_fullCircle?2:1));else{var L=d.getTotalDataSum();S=i.value/L}else if(e==="index"){var L=d.getTotalPerIndex(d.axis.getId(i.id));i.ratio=B(i.value)&&L&&L[i.index]>0?i.value/L[i.index]:0,S=i.ratio}}return u&&S?S*100:S},s.prototype.updateDataAttributes=function(e,i){var u=this,d=u.config,m=d["data_"+e];return typeof i>"u"||(Object.keys(i).forEach(function(S){m[S]=i[S]}),u.redraw({withLegend:!0})),m},s.prototype.load=function(e,i){var u=this;e&&(i.filter&&(e=e.filter(i.filter)),(i.type||i.types)&&e.forEach(function(d){var m=i.types&&i.types[d.id]?i.types[d.id]:i.type;u.setTargetType(d.id,m)}),u.data.targets.forEach(function(d){for(var m=0;m<e.length;m++)if(d.id===e[m].id){d.values=e[m].values,e.splice(m,1);break}}),u.data.targets=u.data.targets.concat(e)),u.updateTargets(u.data.targets),u.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.done&&i.done()},s.prototype.loadFromArgs=function(e){var i=this;i.resetCache(),e.data?i.load(i.convertDataToTargets(e.data),e):e.url?i.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(u){i.load(i.convertDataToTargets(u),e)}):e.json?i.load(i.convertDataToTargets(i.convertJsonToData(e.json,e.keys)),e):e.rows?i.load(i.convertDataToTargets(i.convertRowsToData(e.rows)),e):e.columns?i.load(i.convertDataToTargets(i.convertColumnsToData(e.columns)),e):i.load(null,e)},s.prototype.unload=function(e,i){var u=this;if(u.resetCache(),i||(i=function(){}),e=e.filter(function(d){return u.hasTarget(u.data.targets,d)}),!e||e.length===0){i();return}u.svg.selectAll(e.map(function(d){return u.selectorTarget(d)})).transition().style("opacity",0).remove().call(u.endall,i),e.forEach(function(d){u.withoutFadeIn[d]=!1,u.legend&&u.legend.selectAll("."+F.legendItem+u.getTargetSelectorSuffix(d)).remove(),u.data.targets=u.data.targets.filter(function(m){return m.id!==d})})},s.prototype.getYDomainMin=function(e){var i=this,u=i.config,d=i.mapToIds(e),m=i.getValuesAsIdKeyed(e),S,L,M,N,O,H;if(u.data_groups.length>0){for(H=i.hasNegativeValueInTargets(e),S=0;S<u.data_groups.length;S++)if(N=u.data_groups[S].filter(function(z){return d.indexOf(z)>=0}),N.length!==0)for(M=N[0],H&&m[M]&&m[M].forEach(function(z,nt){m[M][nt]=z<0?z:0}),L=1;L<N.length;L++)O=N[L],m[O]&&m[O].forEach(function(z,nt){i.axis.getId(O)===i.axis.getId(M)&&m[M]&&!(H&&+z>0)&&(m[M][nt]+=+z)})}return i.d3.min(Object.keys(m).map(function(z){return i.d3.min(m[z])}))},s.prototype.getYDomainMax=function(e){var i=this,u=i.config,d=i.mapToIds(e),m=i.getValuesAsIdKeyed(e),S,L,M,N,O,H;if(u.data_groups.length>0){for(H=i.hasPositiveValueInTargets(e),S=0;S<u.data_groups.length;S++)if(N=u.data_groups[S].filter(function(z){return d.indexOf(z)>=0}),N.length!==0)for(M=N[0],H&&m[M]&&m[M].forEach(function(z,nt){m[M][nt]=z>0?z:0}),L=1;L<N.length;L++)O=N[L],m[O]&&m[O].forEach(function(z,nt){i.axis.getId(O)===i.axis.getId(M)&&m[M]&&!(H&&+z<0)&&(m[M][nt]+=+z)})}return i.d3.max(Object.keys(m).map(function(z){return i.d3.max(m[z])}))},s.prototype.getYDomain=function(e,i,u){var d=this,m=d.config;if(d.isAxisNormalized(i))return[0,100];var S=e.filter(function(zt){return d.axis.getId(zt.id)===i}),L=u?d.filterByXDomain(S,u):S,M=i==="y2"?m.axis_y2_min:m.axis_y_min,N=i==="y2"?m.axis_y2_max:m.axis_y_max,O=d.getYDomainMin(L),H=d.getYDomainMax(L),z,nt,Q,ut,ct=i==="y2"?m.axis_y2_center:m.axis_y_center,St,Ct,It,Dt,Wt,Ft,Ht=d.hasType("bar",L)&&m.bar_zerobased||d.hasType("area",L)&&m.area_zerobased,Nt=i==="y2"?m.axis_y2_inverted:m.axis_y_inverted,Yt=d.hasDataLabel()&&m.axis_rotated,kt=d.hasDataLabel()&&!m.axis_rotated;if(O=tt(M)?M:tt(N)?O<N?O:N-10:O,H=tt(N)?N:tt(M)?M<H?H:M+10:H,L.length===0)return i==="y2"?d.y2.domain():d.y.domain();if(isNaN(O)&&(O=0),isNaN(H)&&(H=O),O===H&&(O<0?H=0:O=0),Wt=O>=0&&H>=0,Ft=O<=0&&H<=0,(tt(M)&&Wt||tt(N)&&Ft)&&(Ht=!1),Ht&&(Wt&&(O=0),Ft&&(H=0)),nt=Math.abs(H-O),Q=ut=nt*.1,typeof ct<"u"&&(St=Math.max(Math.abs(O),Math.abs(H)),H=ct+St,O=ct-St),Yt)Ct=d.getDataLabelLength(O,H,"width"),It=v(d.y.range()),Dt=[Ct[0]/It,Ct[1]/It],Q+=nt*(Dt[1]/(1-Dt[0]-Dt[1])),ut+=nt*(Dt[0]/(1-Dt[0]-Dt[1]));else if(kt){Ct=d.getDataLabelLength(O,H,"height");var Gt=d.getY(m["axis_"+i+"_type"],[0,m.axis_rotated?d.width:d.height],[0,nt]);Q+=Gt(Ct[1]),ut+=Gt(Ct[0])}return i==="y"&&J(m.axis_y_padding)&&(Q=d.axis.getPadding(m.axis_y_padding,"top",Q,nt),ut=d.axis.getPadding(m.axis_y_padding,"bottom",ut,nt)),i==="y2"&&J(m.axis_y2_padding)&&(Q=d.axis.getPadding(m.axis_y2_padding,"top",Q,nt),ut=d.axis.getPadding(m.axis_y2_padding,"bottom",ut,nt)),Ht&&(Wt&&(ut=O),Ft&&(Q=-H)),z=[O-ut,H+Q],Nt?z.reverse():z},s.prototype.getXDomainMin=function(e){var i=this,u=i.config;return $(u.axis_x_min)?i.isTimeSeries()?this.parseDate(u.axis_x_min):u.axis_x_min:i.d3.min(e,function(d){return i.d3.min(d.values,function(m){return m.x})})},s.prototype.getXDomainMax=function(e){var i=this,u=i.config;return $(u.axis_x_max)?i.isTimeSeries()?this.parseDate(u.axis_x_max):u.axis_x_max:i.d3.max(e,function(d){return i.d3.max(d.values,function(m){return m.x})})},s.prototype.getXDomainPadding=function(e){var i=this,u=i.config,d=e[1]-e[0],m,S,L,M;return i.isCategorized()?S=0:i.hasType("bar")?(m=i.getMaxDataCount(),S=m>1?d/(m-1)/2:.5):S=d*.01,typeof u.axis_x_padding=="object"&&J(u.axis_x_padding)?(L=tt(u.axis_x_padding.left)?u.axis_x_padding.left:S,M=tt(u.axis_x_padding.right)?u.axis_x_padding.right:S):typeof u.axis_x_padding=="number"?L=M=u.axis_x_padding:L=M=S,{left:L,right:M}},s.prototype.getXDomain=function(e){var i=this,u=[i.getXDomainMin(e),i.getXDomainMax(e)],d=u[0],m=u[1],S=i.getXDomainPadding(u),L=0,M=0;return d-m===0&&!i.isCategorized()&&(i.isTimeSeries()?(d=new Date(d.getTime()*.5),m=new Date(m.getTime()*1.5)):(d=d===0?1:d*.5,m=m===0?-1:m*1.5)),(d||d===0)&&(L=i.isTimeSeries()?new Date(d.getTime()-S.left):d-S.left),(m||m===0)&&(M=i.isTimeSeries()?new Date(m.getTime()+S.right):m+S.right),[L,M]},s.prototype.updateXDomain=function(e,i,u,d,m){var S=this,L=S.config;return u&&(S.x.domain(m||S.d3.extent(S.getXDomain(e))),S.orgXDomain=S.x.domain(),L.zoom_enabled&&S.zoom.update(),S.subX.domain(S.x.domain()),S.brush&&S.brush.updateScale(S.subX)),i&&S.x.domain(m||(!S.brush||S.brush.empty()?S.orgXDomain:S.brush.selectionAsValue())),d&&S.x.domain(S.trimXDomain(S.x.orgDomain())),S.x.domain()},s.prototype.trimXDomain=function(e){var i=this.getZoomDomain(),u=i[0],d=i[1];return e[0]<=u&&(e[1]=+e[1]+(u-e[0]),e[0]=u),d<=e[1]&&(e[0]=+e[0]-(e[1]-d),e[1]=d),e},s.prototype.drag=function(e){var i=this,u=i.config,d=i.main,m=i.d3,S,L,M,N,O,H,z,nt;i.hasArcType()||u.data_selection_enabled&&u.data_selection_multiple&&(S=i.dragStart[0],L=i.dragStart[1],M=e[0],N=e[1],O=Math.min(S,M),H=Math.max(S,M),z=u.data_selection_grouped?i.margin.top:Math.min(L,N),nt=u.data_selection_grouped?i.height:Math.max(L,N),d.select("."+F.dragarea).attr("x",O).attr("y",z).attr("width",H-O).attr("height",nt-z),d.selectAll("."+F.shapes).selectAll("."+F.shape).each(function(Q,ut){if(u.data_selection_isselectable(Q)){var ct=m.select(this),St=ct.classed(F.SELECTED),Ct=ct.classed(F.INCLUDED),It,Dt,Wt,Ft,Ht,Nt=!1,Yt;if(ct.classed(F.circle))It=ct.attr("cx")*1,Dt=ct.attr("cy")*1,Ht=i.togglePoint,Nt=O<It&&It<H&&z<Dt&&Dt<nt;else if(ct.classed(F.bar))Yt=T(this),It=Yt.x,Dt=Yt.y,Wt=Yt.width,Ft=Yt.height,Ht=i.togglePath,Nt=!(H<It||It+Wt<O)&&!(nt<Dt||Dt+Ft<z);else return;Nt^Ct&&(ct.classed(F.INCLUDED,!Ct),ct.classed(F.SELECTED,!St),Ht.call(i,!St,ct,Q,ut))}}))},s.prototype.dragstart=function(e){var i=this,u=i.config;i.hasArcType()||u.data_selection_enabled&&(i.dragStart=e,i.main.select("."+F.chart).append("rect").attr("class",F.dragarea).style("opacity",.1),i.dragging=!0)},s.prototype.dragend=function(){var e=this,i=e.config;e.hasArcType()||i.data_selection_enabled&&(e.main.select("."+F.dragarea).transition().duration(100).style("opacity",0).remove(),e.main.selectAll("."+F.shape).classed(F.INCLUDED,!1),e.dragging=!1)},s.prototype.getYFormat=function(e){var i=this,u=e&&!i.hasType("gauge")?i.defaultArcValueFormat:i.yFormat,d=e&&!i.hasType("gauge")?i.defaultArcValueFormat:i.y2Format;return function(m,S,L){var M=i.axis.getId(L)==="y2"?d:u;return M.call(i,m,S)}},s.prototype.yFormat=function(e){var i=this,u=i.config,d=u.axis_y_tick_format?u.axis_y_tick_format:i.defaultValueFormat;return d(e)},s.prototype.y2Format=function(e){var i=this,u=i.config,d=u.axis_y2_tick_format?u.axis_y2_tick_format:i.defaultValueFormat;return d(e)},s.prototype.defaultValueFormat=function(e){return tt(e)?+e:""},s.prototype.defaultArcValueFormat=function(e,i){return(i*100).toFixed(1)+"%"},s.prototype.dataLabelFormat=function(e){var i=this,u=i.config.data_labels,d,m=function(S){return tt(S)?+S:""};return typeof u.format=="function"?d=u.format:typeof u.format=="object"?u.format[e]?d=u.format[e]===!0?m:u.format[e]:d=function(){return""}:d=m,d},s.prototype.initGrid=function(){var e=this,i=e.config,u=e.d3;e.grid=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",F.grid),i.grid_x_show&&e.grid.append("g").attr("class",F.xgrids),i.grid_y_show&&e.grid.append("g").attr("class",F.ygrids),i.grid_focus_show&&e.grid.append("g").attr("class",F.xgridFocus).append("line").attr("class",F.xgridFocus),e.xgrid=u.selectAll([]),i.grid_lines_front||e.initGridLines()},s.prototype.initGridLines=function(){var e=this,i=e.d3;e.gridLines=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",F.grid+" "+F.gridLines),e.gridLines.append("g").attr("class",F.xgridLines),e.gridLines.append("g").attr("class",F.ygridLines),e.xgridLines=i.selectAll([])},s.prototype.updateXGrid=function(e){var i=this,u=i.config,d=i.d3,m=i.generateGridData(u.grid_x_type,i.x),S=i.isCategorized()?i.xAxis.tickOffset():0;i.xgridAttr=u.axis_rotated?{x1:0,x2:i.width,y1:function(N){return i.x(N)-S},y2:function(N){return i.x(N)-S}}:{x1:function(N){return i.x(N)+S},x2:function(N){return i.x(N)+S},y1:0,y2:i.height},i.xgridAttr.opacity=function(){var N=+d.select(this).attr(u.axis_rotated?"y1":"x1");return N===(u.axis_rotated?i.height:0)?0:1};var L=i.main.select("."+F.xgrids).selectAll("."+F.xgrid).data(m),M=L.enter().append("line").attr("class",F.xgrid).attr("x1",i.xgridAttr.x1).attr("x2",i.xgridAttr.x2).attr("y1",i.xgridAttr.y1).attr("y2",i.xgridAttr.y2).style("opacity",0);i.xgrid=M.merge(L),e||i.xgrid.attr("x1",i.xgridAttr.x1).attr("x2",i.xgridAttr.x2).attr("y1",i.xgridAttr.y1).attr("y2",i.xgridAttr.y2).style("opacity",i.xgridAttr.opacity),L.exit().remove()},s.prototype.updateYGrid=function(){var e=this,i=e.config,u=e.yAxis.tickValues()||e.y.ticks(i.grid_y_ticks),d=e.main.select("."+F.ygrids).selectAll("."+F.ygrid).data(u),m=d.enter().append("line").attr("class",F.ygrid);e.ygrid=m.merge(d),e.ygrid.attr("x1",i.axis_rotated?e.y:0).attr("x2",i.axis_rotated?e.y:e.width).attr("y1",i.axis_rotated?0:e.y).attr("y2",i.axis_rotated?e.height:e.y),d.exit().remove(),e.smoothLines(e.ygrid,"grid")},s.prototype.gridTextAnchor=function(e){return e.position?e.position:"end"},s.prototype.gridTextDx=function(e){return e.position==="start"?4:e.position==="middle"?0:-4},s.prototype.xGridTextX=function(e){return e.position==="start"?-this.height:e.position==="middle"?-this.height/2:0},s.prototype.yGridTextX=function(e){return e.position==="start"?0:e.position==="middle"?this.width/2:this.width},s.prototype.updateGrid=function(e){var i=this,u=i.main,d=i.config,m,S,L,M,N=i.xv.bind(i),O=i.yv.bind(i),H=i.xGridTextX.bind(i),z=i.yGridTextX.bind(i);i.grid.style("visibility",i.hasArcType()?"hidden":"visible"),u.select("line."+F.xgridFocus).style("visibility","hidden"),d.grid_x_show&&i.updateXGrid(),m=u.select("."+F.xgridLines).selectAll("."+F.xgridLine).data(d.grid_x_lines),S=m.enter().append("g").attr("class",function(nt){return F.xgridLine+(nt.class?" "+nt.class:"")}),S.append("line").attr("x1",d.axis_rotated?0:N).attr("x2",d.axis_rotated?i.width:N).attr("y1",d.axis_rotated?N:0).attr("y2",d.axis_rotated?N:i.height).style("opacity",0),S.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",d.axis_rotated?"":"rotate(-90)").attr("x",d.axis_rotated?z:H).attr("y",N).attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),i.xgridLines=S.merge(m),m.exit().transition().duration(e).style("opacity",0).remove(),d.grid_y_show&&i.updateYGrid(),L=u.select("."+F.ygridLines).selectAll("."+F.ygridLine).data(d.grid_y_lines),M=L.enter().append("g").attr("class",function(nt){return F.ygridLine+(nt.class?" "+nt.class:"")}),M.append("line").attr("x1",d.axis_rotated?O:0).attr("x2",d.axis_rotated?O:i.width).attr("y1",d.axis_rotated?0:O).attr("y2",d.axis_rotated?i.height:O).style("opacity",0),M.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",d.axis_rotated?"rotate(-90)":"").attr("x",d.axis_rotated?H:z).attr("y",O).attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),i.ygridLines=M.merge(L),i.ygridLines.select("line").transition().duration(e).attr("x1",d.axis_rotated?O:0).attr("x2",d.axis_rotated?O:i.width).attr("y1",d.axis_rotated?0:O).attr("y2",d.axis_rotated?i.height:O).style("opacity",1),i.ygridLines.select("text").transition().duration(e).attr("x",d.axis_rotated?i.xGridTextX.bind(i):i.yGridTextX.bind(i)).attr("y",O).text(function(nt){return nt.text}).style("opacity",1),L.exit().transition().duration(e).style("opacity",0).remove()},s.prototype.redrawGrid=function(e,i){var u=this,d=u.config,m=u.xv.bind(u),S=u.xgridLines.select("line"),L=u.xgridLines.select("text");return[(e?S.transition(i):S).attr("x1",d.axis_rotated?0:m).attr("x2",d.axis_rotated?u.width:m).attr("y1",d.axis_rotated?m:0).attr("y2",d.axis_rotated?m:u.height).style("opacity",1),(e?L.transition(i):L).attr("x",d.axis_rotated?u.yGridTextX.bind(u):u.xGridTextX.bind(u)).attr("y",m).text(function(M){return M.text}).style("opacity",1)]},s.prototype.showXGridFocus=function(e){var i=this,u=i.config,d=e.filter(function(L){return L&&tt(L.value)}),m=i.main.selectAll("line."+F.xgridFocus),S=i.xx.bind(i);u.tooltip_show&&(i.hasType("stanford")||i.hasArcType()||(m.style("visibility","visible").data([d[0]]).attr(u.axis_rotated?"y1":"x1",S).attr(u.axis_rotated?"y2":"x2",S),i.smoothLines(m,"grid")))},s.prototype.hideXGridFocus=function(){this.main.select("line."+F.xgridFocus).style("visibility","hidden")},s.prototype.updateXgridFocus=function(){var e=this,i=e.config;e.main.select("line."+F.xgridFocus).attr("x1",i.axis_rotated?0:-10).attr("x2",i.axis_rotated?e.width:-10).attr("y1",i.axis_rotated?-10:0).attr("y2",i.axis_rotated?-10:e.height)},s.prototype.generateGridData=function(e,i){var u=this,d=[],m,S,L,M,N=u.main.select("."+F.axisX).selectAll(".tick").size();if(e==="year")for(m=u.getXDomain(),S=m[0].getFullYear(),L=m[1].getFullYear(),M=S;M<=L;M++)d.push(new Date(M+"-01-01 00:00:00"));else d=i.ticks(10),d.length>N&&(d=d.filter(function(O){return(""+O).indexOf(".")<0}));return d},s.prototype.getGridFilterToRemove=function(e){return e?function(i){var u=!1;return[].concat(e).forEach(function(d){("value"in d&&i.value===d.value||"class"in d&&i.class===d.class)&&(u=!0)}),u}:function(){return!0}},s.prototype.removeGridLines=function(e,i){var u=this,d=u.config,m=u.getGridFilterToRemove(e),S=function(N){return!m(N)},L=i?F.xgridLines:F.ygridLines,M=i?F.xgridLine:F.ygridLine;u.main.select("."+L).selectAll("."+M).filter(m).transition().duration(d.transition_duration).style("opacity",0).remove(),i?d.grid_x_lines=d.grid_x_lines.filter(S):d.grid_y_lines=d.grid_y_lines.filter(S)},s.prototype.initEventRect=function(){var e=this,i=e.config;e.main.select("."+F.chart).append("g").attr("class",F.eventRects).style("fill-opacity",0),e.eventRect=e.main.select("."+F.eventRects).append("rect").attr("class",F.eventRect),i.zoom_enabled&&e.zoom&&(e.eventRect.call(e.zoom).on("dblclick.zoom",null),i.zoom_initialRange&&e.eventRect.transition().duration(0).call(e.zoom.transform,e.zoomTransform(i.zoom_initialRange)))},s.prototype.redrawEventRect=function(){var e=this,i=e.d3,u=e.config;function d(){e.svg.select("."+F.eventRect).style("cursor",null),e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars()}var m=function(L,M){return M&&(e.isBarType(M.id)||e.dist(M,L)<u.point_sensitivity)},S=function(L){return L?e.addName(Object.assign({},L)):null};e.main.select("."+F.eventRects).style("cursor",u.zoom_enabled?u.axis_rotated?"ns-resize":"ew-resize":null),e.eventRect.attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).on("mouseout",u.interaction_enabled?function(){u&&(e.hasArcType()||(e.mouseover&&(u.data_onmouseout.call(e.api,e.mouseover),e.mouseover=void 0),d()))}:null).on("mousemove",u.interaction_enabled?function(){if(!e.dragging){var L=e.getTargetsToShow();if(!e.hasArcType(L)){var M=i.mouse(this),N=S(e.findClosestFromTargets(L,M)),O=m(M,N);e.mouseover&&(!N||N.id!==e.mouseover.id||N.index!==e.mouseover.index)&&(u.data_onmouseout.call(e.api,e.mouseover),e.mouseover=void 0),N&&!e.mouseover&&(u.data_onmouseover.call(e.api,N),e.mouseover=N),e.svg.select("."+F.eventRect).style("cursor",O?"pointer":null);var H=!u.tooltip_grouped||e.hasType("stanford",L),z;if(H)N&&(z=[N]);else{var nt=void 0;if(N)nt=N;else{var Q=u.axis_rotated?M[1]:M[0];nt=e.findClosestFromTargetsByX(L,e.x.invert(Q))}nt&&(z=e.filterByX(L,nt.x))}if(!z||z.length===0)return d();z=z.map(S),e.showTooltip(z,this),u.point_focus_expand_enabled&&(e.unexpandCircles(),z.forEach(function(ut){e.expandCircles(ut.index,ut.id,!1)})),e.unexpandBars(),z.forEach(function(ut){e.expandBars(ut.index,ut.id,!1)}),e.showXGridFocus(z)}}}:null).on("click",u.interaction_enabled?function(){var L=e.getTargetsToShow();if(!e.hasArcType(L)){var M=i.mouse(this),N=S(e.findClosestFromTargets(L,M));if(m(M,N)){var O;if(!u.data_selection_grouped||e.isStanfordType(N)?O=[N]:O=e.filterByX(L,N.x),O.forEach(function(z){e.main.selectAll("."+F.shapes+e.getTargetSelectorSuffix(z.id)).selectAll("."+F.shape+"-"+z.index).each(function(){(u.data_selection_grouped||e.isWithinShape(this,z))&&e.toggleShape(this,z,z.index)})}),N){var H=e.main.selectAll("."+F.shapes+e.getTargetSelectorSuffix(N.id)).select("."+F.shape+"-"+N.index);u.data_onclick.call(e.api,N,H.node())}}}}:null).call(u.interaction_enabled&&u.data_selection_draggable&&e.drag?i.drag().on("drag",function(){e.drag(i.mouse(this))}).on("start",function(){e.dragstart(i.mouse(this))}).on("end",function(){e.dragend()}):function(){})},s.prototype.getMousePosition=function(e){var i=this;return[i.x(e.x),i.getYScale(e.id)(e.value)]},s.prototype.dispatchEvent=function(e,i){var u=this,d="."+F.eventRect,m=u.main.select(d).node(),S=m.getBoundingClientRect(),L=S.left+(i?i[0]:0),M=S.top+(i?i[1]:0),N=document.createEvent("MouseEvents");N.initMouseEvent(e,!0,!0,window,0,L,M,L,M,!1,!1,!1,!1,0,null),m.dispatchEvent(N)},s.prototype.initLegend=function(){var e=this;if(e.legendItemTextBox={},e.legendHasRendered=!1,e.legend=e.svg.append("g").attr("transform",e.getTranslate("legend")),!e.config.legend_show){e.legend.style("visibility","hidden"),e.hiddenLegendIds=e.mapToIds(e.data.targets);return}e.updateLegendWithDefaults()},s.prototype.updateLegendWithDefaults=function(){var e=this;e.updateLegend(e.mapToIds(e.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},s.prototype.updateSizeForLegend=function(e,i){var u=this,d=u.config,m={top:u.isLegendTop?u.getCurrentPaddingTop()+d.legend_inset_y+5.5:u.currentHeight-e-u.getCurrentPaddingBottom()-d.legend_inset_y,left:u.isLegendLeft?u.getCurrentPaddingLeft()+d.legend_inset_x+.5:u.currentWidth-i-u.getCurrentPaddingRight()-d.legend_inset_x+.5};u.margin3={top:u.isLegendRight?0:u.isLegendInset?m.top:u.currentHeight-e,right:NaN,bottom:0,left:u.isLegendRight?u.currentWidth-i:u.isLegendInset?m.left:0}},s.prototype.transformLegend=function(e){var i=this;(e?i.legend.transition():i.legend).attr("transform",i.getTranslate("legend"))},s.prototype.updateLegendStep=function(e){this.legendStep=e},s.prototype.updateLegendItemWidth=function(e){this.legendItemWidth=e},s.prototype.updateLegendItemHeight=function(e){this.legendItemHeight=e},s.prototype.getLegendWidth=function(){var e=this;return e.config.legend_show?e.isLegendRight||e.isLegendInset?e.legendItemWidth*(e.legendStep+1):e.currentWidth:0},s.prototype.getLegendHeight=function(){var e=this,i=0;return e.config.legend_show&&(e.isLegendRight?i=e.currentHeight:i=Math.max(20,e.legendItemHeight)*(e.legendStep+1)),i},s.prototype.opacityForLegend=function(e){return e.classed(F.legendItemHidden)?null:1},s.prototype.opacityForUnfocusedLegend=function(e){return e.classed(F.legendItemHidden)?null:.3},s.prototype.toggleFocusLegend=function(e,i){var u=this;e=u.mapToTargetIds(e),u.legend.selectAll("."+F.legendItem).filter(function(d){return e.indexOf(d)>=0}).classed(F.legendItemFocused,i).transition().duration(100).style("opacity",function(){var d=i?u.opacityForLegend:u.opacityForUnfocusedLegend;return d.call(u,u.d3.select(this))})},s.prototype.revertLegend=function(){var e=this,i=e.d3;e.legend.selectAll("."+F.legendItem).classed(F.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return e.opacityForLegend(i.select(this))})},s.prototype.showLegend=function(e){var i=this,u=i.config;u.legend_show||(u.legend_show=!0,i.legend.style("visibility","visible"),i.legendHasRendered||i.updateLegendWithDefaults()),i.removeHiddenLegendIds(e),i.legend.selectAll(i.selectorLegends(e)).style("visibility","visible").transition().style("opacity",function(){return i.opacityForLegend(i.d3.select(this))})},s.prototype.hideLegend=function(e){var i=this,u=i.config;u.legend_show&&I(e)&&(u.legend_show=!1,i.legend.style("visibility","hidden")),i.addHiddenLegendIds(e),i.legend.selectAll(i.selectorLegends(e)).style("opacity",0).style("visibility","hidden")},s.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},s.prototype.updateLegend=function(e,i,u){var d=this,m=d.config,S,L,M,N,O,H,z,nt,Q,ut=4,ct=10,St=0,Ct=0,It=10,Dt=m.legend_item_tile_width+5,Wt,Ft=0,Ht={},Nt={},Yt={},kt=[0],Gt={},zt=0,Xt,de,Pe,we,Ae,se;e=e.filter(function(Vt){return!$(m.data_names[Vt])||m.data_names[Vt]!==null}),i=i||{},Xt=w(i,"withTransition",!0),de=w(i,"withTransitionForTransform",!0);function Et(Vt,oe){return d.legendItemTextBox[oe]||(d.legendItemTextBox[oe]=d.getTextRect(Vt.textContent,F.legendItem,Vt)),d.legendItemTextBox[oe]}function Bt(Vt,oe,Ze){var dn=Ze===0,je=Ze===e.length-1,Oe=Et(Vt,oe),He=Oe.width+Dt+(je&&!(d.isLegendRight||d.isLegendInset)?0:ct)+m.legend_padding,We=Oe.height+ut,sn=d.isLegendRight||d.isLegendInset?We:He,$i=d.isLegendRight||d.isLegendInset?d.getLegendHeight():d.getLegendWidth(),ni,zn;function Br(qn,ad){ad||(ni=($i-Ft-sn)/2,ni<It&&(ni=($i-sn)/2,Ft=0,zt++)),Gt[qn]=zt,kt[zt]=d.isLegendInset?10:ni,Ht[qn]=Ft,Ft+=sn}if(dn&&(Ft=0,zt=0,St=0,Ct=0),m.legend_show&&!d.isLegendToShow(oe)){Nt[oe]=Yt[oe]=Gt[oe]=Ht[oe]=0;return}Nt[oe]=He,Yt[oe]=We,(!St||He>=St)&&(St=He),(!Ct||We>=Ct)&&(Ct=We),zn=d.isLegendRight||d.isLegendInset?Ct:St,m.legend_equally?(Object.keys(Nt).forEach(function(qn){Nt[qn]=St}),Object.keys(Yt).forEach(function(qn){Yt[qn]=Ct}),ni=($i-zn*e.length)/2,ni<It?(Ft=0,zt=0,e.forEach(function(qn){Br(qn)})):Br(oe,!0)):Br(oe)}d.isLegendInset&&(zt=m.legend_inset_step?m.legend_inset_step:e.length,d.updateLegendStep(zt)),d.isLegendRight?(S=function(Vt){return St*Gt[Vt]},N=function(Vt){return kt[Gt[Vt]]+Ht[Vt]}):d.isLegendInset?(S=function(Vt){return St*Gt[Vt]+10},N=function(Vt){return kt[Gt[Vt]]+Ht[Vt]}):(S=function(Vt){return kt[Gt[Vt]]+Ht[Vt]},N=function(Vt){return Ct*Gt[Vt]}),L=function(Vt,oe){return S(Vt,oe)+4+m.legend_item_tile_width},O=function(Vt,oe){return N(Vt,oe)+9},M=function(Vt,oe){return S(Vt,oe)},H=function(Vt,oe){return N(Vt,oe)-5},z=function(Vt,oe){return S(Vt,oe)-2},nt=function(Vt,oe){return S(Vt,oe)-2+m.legend_item_tile_width},Q=function(Vt,oe){return N(Vt,oe)+4},Wt=d.legend.selectAll("."+F.legendItem).data(e).enter().append("g").attr("class",function(Vt){return d.generateClass(F.legendItem,Vt)}).style("visibility",function(Vt){return d.isLegendToShow(Vt)?"visible":"hidden"}).style("cursor",function(){return m.interaction_enabled?"pointer":"auto"}).on("click",m.interaction_enabled?function(Vt){m.legend_item_onclick?m.legend_item_onclick.call(d,Vt):d.d3.event.altKey?(d.api.hide(),d.api.show(Vt)):(d.api.toggle(Vt),d.isTargetToShow(Vt)?d.api.focus(Vt):d.api.revert())}:null).on("mouseover",m.interaction_enabled?function(Vt){m.legend_item_onmouseover?m.legend_item_onmouseover.call(d,Vt):(d.d3.select(this).classed(F.legendItemFocused,!0),!d.transiting&&d.isTargetToShow(Vt)&&d.api.focus(Vt))}:null).on("mouseout",m.interaction_enabled?function(Vt){m.legend_item_onmouseout?m.legend_item_onmouseout.call(d,Vt):(d.d3.select(this).classed(F.legendItemFocused,!1),d.api.revert())}:null),Wt.append("text").text(function(Vt){return $(m.data_names[Vt])?m.data_names[Vt]:Vt}).each(function(Vt,oe){Bt(this,Vt,oe)}).style("pointer-events","none").attr("x",d.isLegendRight||d.isLegendInset?L:-200).attr("y",d.isLegendRight||d.isLegendInset?-200:O),Wt.append("rect").attr("class",F.legendItemEvent).style("fill-opacity",0).attr("x",d.isLegendRight||d.isLegendInset?M:-200).attr("y",d.isLegendRight||d.isLegendInset?-200:H),Wt.append("line").attr("class",F.legendItemTile).style("stroke",d.color).style("pointer-events","none").attr("x1",d.isLegendRight||d.isLegendInset?z:-200).attr("y1",d.isLegendRight||d.isLegendInset?-200:Q).attr("x2",d.isLegendRight||d.isLegendInset?nt:-200).attr("y2",d.isLegendRight||d.isLegendInset?-200:Q).attr("stroke-width",m.legend_item_tile_height),se=d.legend.select("."+F.legendBackground+" rect"),d.isLegendInset&&St>0&&se.size()===0&&(se=d.legend.insert("g","."+F.legendItem).attr("class",F.legendBackground).append("rect")),Pe=d.legend.selectAll("text").data(e).text(function(Vt){return $(m.data_names[Vt])?m.data_names[Vt]:Vt}).each(function(Vt,oe){Bt(this,Vt,oe)}),(Xt?Pe.transition():Pe).attr("x",L).attr("y",O),we=d.legend.selectAll("rect."+F.legendItemEvent).data(e),(Xt?we.transition():we).attr("width",function(Vt){return Nt[Vt]}).attr("height",function(Vt){return Yt[Vt]}).attr("x",M).attr("y",H),Ae=d.legend.selectAll("line."+F.legendItemTile).data(e),(Xt?Ae.transition():Ae).style("stroke",d.levelColor?function(Vt){return d.levelColor(d.cache[Vt].values.reduce(function(oe,Ze){return oe+Ze.value},0))}:d.color).attr("x1",z).attr("y1",Q).attr("x2",nt).attr("y2",Q),se&&(Xt?se.transition():se).attr("height",d.getLegendHeight()-12).attr("width",St*(zt+1)+10),d.legend.selectAll("."+F.legendItem).classed(F.legendItemHidden,function(Vt){return!d.isTargetToShow(Vt)}),d.updateLegendItemWidth(St),d.updateLegendItemHeight(Ct),d.updateLegendStep(zt),d.updateSizes(),d.updateScales(),d.updateSvgSize(),d.transformAll(de,u),d.legendHasRendered=!0},s.prototype.initRegion=function(){var e=this;e.region=e.main.append("g").attr("clip-path",e.clipPath).attr("class",F.regions)},s.prototype.updateRegion=function(e){var i=this,u=i.config;i.region.style("visibility",i.hasArcType()?"hidden":"visible");var d=i.main.select("."+F.regions).selectAll("."+F.region).data(u.regions),m=d.enter().append("g");m.append("rect").attr("x",i.regionX.bind(i)).attr("y",i.regionY.bind(i)).attr("width",i.regionWidth.bind(i)).attr("height",i.regionHeight.bind(i)).style("fill-opacity",function(S){return tt(S.opacity)?S.opacity:.1}),m.append("text").text(i.labelRegion.bind(i)),i.mainRegion=m.merge(d).attr("class",i.classRegion.bind(i)),d.exit().transition().duration(e).style("opacity",0).remove()},s.prototype.redrawRegion=function(e,i){var u=this,d=u.mainRegion,m=u.mainRegion.selectAll("text");return[(e?d.transition(i):d).attr("x",u.regionX.bind(u)).attr("y",u.regionY.bind(u)).attr("width",u.regionWidth.bind(u)).attr("height",u.regionHeight.bind(u)).style("fill-opacity",function(S){return tt(S.opacity)?S.opacity:.1}),(e?m.transition(i):m).attr("x",u.labelOffsetX.bind(u)).attr("y",u.labelOffsetY.bind(u)).attr("transform",u.labelTransform.bind(u)).attr("style","text-anchor: left;")]},s.prototype.regionX=function(e){var i=this,u=i.config,d,m=e.axis==="y"?i.y:i.y2;return e.axis==="y"||e.axis==="y2"?d=u.axis_rotated&&"start"in e?m(e.start):0:d=u.axis_rotated?0:"start"in e?i.x(i.isTimeSeries()?i.parseDate(e.start):e.start):0,d},s.prototype.regionY=function(e){var i=this,u=i.config,d,m=e.axis==="y"?i.y:i.y2;return e.axis==="y"||e.axis==="y2"?d=u.axis_rotated?0:"end"in e?m(e.end):0:d=u.axis_rotated&&"start"in e?i.x(i.isTimeSeries()?i.parseDate(e.start):e.start):0,d},s.prototype.regionWidth=function(e){var i=this,u=i.config,d=i.regionX(e),m,S=e.axis==="y"?i.y:i.y2;return e.axis==="y"||e.axis==="y2"?m=u.axis_rotated&&"end"in e?S(e.end):i.width:m=u.axis_rotated?i.width:"end"in e?i.x(i.isTimeSeries()?i.parseDate(e.end):e.end):i.width,m<d?0:m-d},s.prototype.regionHeight=function(e){var i=this,u=i.config,d=this.regionY(e),m,S=e.axis==="y"?i.y:i.y2;return e.axis==="y"||e.axis==="y2"?m=u.axis_rotated?i.height:"start"in e?S(e.start):i.height:m=u.axis_rotated&&"end"in e?i.x(i.isTimeSeries()?i.parseDate(e.end):e.end):i.height,m<d?0:m-d},s.prototype.isRegionOnX=function(e){return!e.axis||e.axis==="x"},s.prototype.labelRegion=function(e){return"label"in e?e.label:""},s.prototype.labelTransform=function(e){return"vertical"in e&&e.vertical?"rotate(90)":""},s.prototype.labelOffsetX=function(e){var i="paddingX"in e?e.paddingX:3,u="paddingY"in e?e.paddingY:3;return"vertical"in e&&e.vertical?this.regionY(e)+u:this.regionX(e)+i},s.prototype.labelOffsetY=function(e){var i="paddingX"in e?e.paddingX:3,u="paddingY"in e?e.paddingY:3;return"vertical"in e&&e.vertical?-(this.regionX(e)+i):this.regionY(e)+10+u};function Mt(e,i,u){var d=[.01,10];i||(i=e.scaleLinear(),i.range(d)),u||(u=e.scaleLog(),u.domain(d),u.nice());function m(L,M,N){var O,H,z,nt;if(arguments.length<3)N=10;else if(N===0)return[];H=N-1,nt=(M-L)/H,O=new Array(N),z=L,O[0]=Math.pow(10,z);for(var Q=1;Q<H;Q++)z+=nt,O[Q]=Math.pow(10,z);return O[H]=Math.pow(10,M),O}function S(L){return u(i(L))}return S.domain=function(L){return arguments.length?(i.domain(L),S):i.domain()},S.range=function(L){return arguments.length?(u.range(L),S):u.range()},S.ticks=function(L){return m(-2,1,L||10).map(function(M){return i.invert(M)})},S.copy=function(){return Mt(e,i.copy(),u.copy())},S}s.prototype.getScale=function(e,i,u){return(u?this.d3.scaleTime():this.d3.scaleLinear()).range([e,i])},s.prototype.getX=function(e,i,u,d){var m=this,S=m.getScale(e,i,m.isTimeSeries()),L=u?S.domain(u):S,M;m.isCategorized()?(d=d||function(){return 0},S=function(N,O){var H=L(N)+d(N);return O?H:Math.ceil(H)}):S=function(N,O){var H=L(N);return O?H:Math.ceil(H)};for(M in L)S[M]=L[M];return S.orgDomain=function(){return L.domain()},m.isCategorized()&&(S.domain=function(N){return arguments.length?(L.domain(N),S):(N=this.orgDomain(),[N[0],N[1]+1])}),S},s.prototype.getY=function(e,i,u){var d;if(e==="timeseries"||e==="time")d=this.d3.scaleTime();else if(e==="log")d=Mt(this.d3);else if(e==="linear"||e===void 0)d=this.d3.scaleLinear();else throw new Error('Invalid Y axis type: "'+e+'"');return i&&d.domain(i),u&&d.range(u),d},s.prototype.getYScale=function(e){return this.axis.getId(e)==="y2"?this.y2:this.y},s.prototype.getSubYScale=function(e){return this.axis.getId(e)==="y2"?this.subY2:this.subY},s.prototype.updateScales=function(){var e=this,i=e.config,u=!e.x;e.xMin=i.axis_rotated?1:0,e.xMax=i.axis_rotated?e.height:e.width,e.yMin=i.axis_rotated?0:e.height,e.yMax=i.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=i.axis_rotated?0:e.height2,e.subYMax=i.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,u?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(i.axis_y_type,u?i.axis_y_default:e.y.domain(),[e.yMin,e.yMax]),e.y2=e.getY(i.axis_y2_type,u?i.axis_y2_default:e.y2.domain(),[e.yMin,e.yMax]),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(d){return d%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(i.axis_y_type,u?i.axis_y_default:e.subY.domain(),[e.subYMin,e.subYMax]),e.subY2=e.getY(i.axis_y2_type,u?i.axis_y2_default:e.subY2.domain(),[e.subYMin,e.subYMax]),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,i.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,i.axis_x_tick_outer),e.yAxis=e.axis.getYAxis("y",e.y,e.yOrient,e.yAxisTickValues,i.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis("y2",e.y2,e.y2Orient,e.y2AxisTickValues,i.axis_y2_tick_outer),u||e.brush&&e.brush.updateScale(e.subX),e.updateArc&&e.updateArc()},s.prototype.selectPoint=function(e,i,u){var d=this,m=d.config,S=(m.axis_rotated?d.circleY:d.circleX).bind(d),L=(m.axis_rotated?d.circleX:d.circleY).bind(d),M=d.pointSelectR.bind(d);m.data_onselected.call(d.api,i,e.node()),d.main.select("."+F.selectedCircles+d.getTargetSelectorSuffix(i.id)).selectAll("."+F.selectedCircle+"-"+u).data([i]).enter().append("circle").attr("class",function(){return d.generateClass(F.selectedCircle,u)}).attr("cx",S).attr("cy",L).attr("stroke",function(){return d.color(i)}).attr("r",function(N){return d.pointSelectR(N)*1.4}).transition().duration(100).attr("r",M)},s.prototype.unselectPoint=function(e,i,u){var d=this;d.config.data_onunselected.call(d.api,i,e.node()),d.main.select("."+F.selectedCircles+d.getTargetSelectorSuffix(i.id)).selectAll("."+F.selectedCircle+"-"+u).transition().duration(100).attr("r",0).remove()},s.prototype.togglePoint=function(e,i,u,d){e?this.selectPoint(i,u,d):this.unselectPoint(i,u,d)},s.prototype.selectPath=function(e,i){var u=this;u.config.data_onselected.call(u,i,e.node()),u.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return u.d3.rgb(u.color(i)).brighter(.75)})},s.prototype.unselectPath=function(e,i){var u=this;u.config.data_onunselected.call(u,i,e.node()),u.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return u.color(i)})},s.prototype.togglePath=function(e,i,u,d){e?this.selectPath(i,u,d):this.unselectPath(i,u,d)},s.prototype.getToggle=function(e,i){var u=this,d;return e.nodeName==="circle"?u.isStepType(i)?d=function(){}:d=u.togglePoint:e.nodeName==="path"&&(d=u.togglePath),d},s.prototype.toggleShape=function(e,i,u){var d=this,m=d.d3,S=d.config,L=m.select(e),M=L.classed(F.SELECTED),N=d.getToggle(e,i).bind(d);S.data_selection_enabled&&S.data_selection_isselectable(i)&&(S.data_selection_multiple||d.main.selectAll("."+F.shapes+(S.data_selection_grouped?d.getTargetSelectorSuffix(i.id):"")).selectAll("."+F.shape).each(function(O,H){var z=m.select(this);z.classed(F.SELECTED)&&N(!1,z.classed(F.SELECTED,!1),O,H)}),L.classed(F.SELECTED,!M),N(!M,L,i,u))},s.prototype.initBar=function(){var e=this;e.main.select("."+F.chart).append("g").attr("class",F.chartBars)},s.prototype.updateTargetsForBar=function(e){var i=this,u=i.config,d,m,S=i.classChartBar.bind(i),L=i.classBars.bind(i),M=i.classFocus.bind(i);d=i.main.select("."+F.chartBars).selectAll("."+F.chartBar).data(e).attr("class",function(N){return S(N)+M(N)}),m=d.enter().append("g").attr("class",S).style("pointer-events","none"),m.append("g").attr("class",L).style("cursor",function(N){return u.data_selection_isselectable(N)?"pointer":null})},s.prototype.updateBar=function(e){var i=this,u=i.barData.bind(i),d=i.classBar.bind(i),m=i.initialOpacity.bind(i),S=function(N){return i.color(N.id)},L=i.main.selectAll("."+F.bars).selectAll("."+F.bar).data(u),M=L.enter().append("path").attr("class",d).style("stroke",S).style("fill",S);i.mainBar=M.merge(L).style("opacity",m),L.exit().transition().duration(e).style("opacity",0)},s.prototype.redrawBar=function(e,i,u){var d=this;return[(i?this.mainBar.transition(u):this.mainBar).attr("d",e).style("stroke",this.color).style("fill",this.color).style("opacity",function(m){return d.isTargetToShow(m.id)?1:0})]},s.prototype.getBarW=function(e,i){var u=this,d=u.config,m=typeof d.bar_width=="number"?d.bar_width:i?e.tickInterval()*d.bar_width_ratio/i:0;return d.bar_width_max&&m>d.bar_width_max?d.bar_width_max:m},s.prototype.getBars=function(e,i){var u=this;return(i?u.main.selectAll("."+F.bars+u.getTargetSelectorSuffix(i)):u.main).selectAll("."+F.bar+(tt(e)?"-"+e:""))},s.prototype.expandBars=function(e,i,u){var d=this;u&&d.unexpandBars(),d.getBars(e,i).classed(F.EXPANDED,!0)},s.prototype.unexpandBars=function(e){var i=this;i.getBars(e).classed(F.EXPANDED,!1)},s.prototype.generateDrawBar=function(e,i){var u=this,d=u.config,m=u.generateGetBarPoints(e,i);return function(S,L){var M=m(S,L),N=d.axis_rotated?1:0,O=d.axis_rotated?0:1,H="M "+M[0][N]+","+M[0][O]+" L"+M[1][N]+","+M[1][O]+" L"+M[2][N]+","+M[2][O]+" L"+M[3][N]+","+M[3][O]+" z";return H}},s.prototype.generateGetBarPoints=function(e,i){var u=this,d=i?u.subXAxis:u.xAxis,m=e.__max__+1,S=u.getBarW(d,m),L=u.getShapeX(S,m,e,!!i),M=u.getShapeY(!!i),N=u.getShapeOffset(u.isBarType,e,!!i),O=S*(u.config.bar_space/2),H=i?u.getSubYScale:u.getYScale;return function(z,nt){var Q=H.call(u,z.id)(0),ut=N(z,nt)||Q,ct=L(z),St=M(z);return u.config.axis_rotated&&(0<z.value&&St<Q||z.value<0&&Q<St)&&(St=Q),St-=Q-ut,[[ct+O,ut],[ct+O,St],[ct+S-O,St],[ct+S-O,ut]]}},s.prototype.isWithinBar=function(e,i){return gt(e,P(i),2)},s.prototype.getShapeIndices=function(e){var i=this,u=i.config,d={},m=0,S,L;return i.filterTargetsToShow(i.data.targets.filter(e,i)).forEach(function(M){for(S=0;S<u.data_groups.length;S++)if(!(u.data_groups[S].indexOf(M.id)<0)){for(L=0;L<u.data_groups[S].length;L++)if(u.data_groups[S][L]in d){d[M.id]=d[u.data_groups[S][L]];break}}Z(d[M.id])&&(d[M.id]=m++)}),d.__max__=m-1,d},s.prototype.getShapeX=function(e,i,u,d){var m=this,S=d?m.subX:m.x;return function(L){var M=L.id in u?u[L.id]:0;return L.x||L.x===0?S(L.x)-e*(i/2-M):0}},s.prototype.getShapeY=function(e){var i=this;return function(u){var d=e?i.getSubYScale(u.id):i.getYScale(u.id);return d(i.isTargetNormalized(u.id)?i.getRatio("index",u,!0):u.value)}},s.prototype.getShapeOffset=function(e,i,u){var d=this,m=d.orderTargets(d.filterTargetsToShow(d.data.targets.filter(e,d))),S=m.map(function(L){return L.id});return function(L,M){var N=u?d.getSubYScale(L.id):d.getYScale(L.id),O=N(0),H=O;return m.forEach(function(z){var nt=d.isStepType(L)?d.convertValuesToStep(z.values):z.values,Q=d.isTargetNormalized(L.id),ut=nt.map(function(ct){return Q?d.getRatio("index",ct,!0):ct.value});z.id===L.id||i[z.id]!==i[L.id]||S.indexOf(z.id)<S.indexOf(L.id)&&((Z(nt[M])||+nt[M].x!=+L.x)&&(M=-1,nt.forEach(function(ct,St){var Ct=ct.x.constructor===Date?+ct.x:ct.x,It=L.x.constructor===Date?+L.x:L.x;Ct===It&&(M=St)})),M in nt&&nt[M].value*L.value>=0&&(H+=N(ut[M])-O))}),H}},s.prototype.isWithinShape=function(e,i){var u=this,d=u.d3.select(e),m;return u.isTargetToShow(i.id)?e.nodeName==="circle"?m=u.isStepType(i)?u.isWithinStep(e,u.getYScale(i.id)(i.value)):u.isWithinCircle(e,u.pointSelectR(i)*1.5):e.nodeName==="path"&&(m=d.classed(F.bar)?u.isWithinBar(u.d3.mouse(e),e):!0):m=!1,m},s.prototype.getInterpolate=function(e){var i=this,u=i.d3,d={linear:u.curveLinear,"linear-closed":u.curveLinearClosed,basis:u.curveBasis,"basis-open":u.curveBasisOpen,"basis-closed":u.curveBasisClosed,bundle:u.curveBundle,cardinal:u.curveCardinal,"cardinal-open":u.curveCardinalOpen,"cardinal-closed":u.curveCardinalClosed,monotone:u.curveMonotoneX,step:u.curveStep,"step-before":u.curveStepBefore,"step-after":u.curveStepAfter},m;return i.isSplineType(e)?m=d[i.config.spline_interpolation_type]||d.cardinal:i.isStepType(e)?m=d[i.config.line_step_type]:m=d.linear,m},s.prototype.initLine=function(){var e=this;e.main.select("."+F.chart).append("g").attr("class",F.chartLines)},s.prototype.updateTargetsForLine=function(e){var i=this,u=i.config,d,m,S=i.classChartLine.bind(i),L=i.classLines.bind(i),M=i.classAreas.bind(i),N=i.classCircles.bind(i),O=i.classFocus.bind(i);d=i.main.select("."+F.chartLines).selectAll("."+F.chartLine).data(e).attr("class",function(H){return S(H)+O(H)}),m=d.enter().append("g").attr("class",S).style("opacity",0).style("pointer-events","none"),m.append("g").attr("class",L),m.append("g").attr("class",M),m.append("g").attr("class",function(H){return i.generateClass(F.selectedCircles,H.id)}),m.append("g").attr("class",N).style("cursor",function(H){return u.data_selection_isselectable(H)?"pointer":null}),e.forEach(function(H){i.main.selectAll("."+F.selectedCircles+i.getTargetSelectorSuffix(H.id)).selectAll("."+F.selectedCircle).each(function(z){z.value=H.values[z.index].value})})},s.prototype.updateLine=function(e){var i=this,u=i.main.selectAll("."+F.lines).selectAll("."+F.line).data(i.lineData.bind(i)),d=u.enter().append("path").attr("class",i.classLine.bind(i)).style("stroke",i.color);i.mainLine=d.merge(u).style("opacity",i.initialOpacity.bind(i)).style("shape-rendering",function(m){return i.isStepType(m)?"crispEdges":""}).attr("transform",null),u.exit().transition().duration(e).style("opacity",0)},s.prototype.redrawLine=function(e,i,u){return[(i?this.mainLine.transition(u):this.mainLine).attr("d",e).style("stroke",this.color).style("opacity",1)]},s.prototype.generateDrawLine=function(e,i){var u=this,d=u.config,m=u.d3.line(),S=u.generateGetLinePoints(e,i),L=i?u.getSubYScale:u.getYScale,M=function(O){return(i?u.subxx:u.xx).call(u,O)},N=function(O,H){return d.data_groups.length>0?S(O,H)[0][1]:L.call(u,O.id)(O.value)};return m=d.axis_rotated?m.x(N).y(M):m.x(M).y(N),d.line_connectNull||(m=m.defined(function(O){return O.value!=null})),function(O){var H=d.line_connectNull?u.filterRemoveNull(O.values):O.values,z=i?u.subX:u.x,nt=L.call(u,O.id),Q=0,ut=0,ct;return u.isLineType(O)?d.data_regions[O.id]?ct=u.lineWithRegions(H,z,nt,d.data_regions[O.id]):(u.isStepType(O)&&(H=u.convertValuesToStep(H)),ct=m.curve(u.getInterpolate(O))(H)):(H[0]&&(Q=z(H[0].x),ut=nt(H[0].value)),ct=d.axis_rotated?"M "+ut+" "+Q:"M "+Q+" "+ut),ct||"M 0 0"}},s.prototype.generateGetLinePoints=function(e,i){var u=this,d=u.config,m=e.__max__+1,S=u.getShapeX(0,m,e,!!i),L=u.getShapeY(!!i),M=u.getShapeOffset(u.isLineType,e,!!i),N=i?u.getSubYScale:u.getYScale;return function(O,H){var z=N.call(u,O.id)(0),nt=M(O,H)||z,Q=S(O),ut=L(O);return d.axis_rotated&&(0<O.value&&ut<z||O.value<0&&z<ut)&&(ut=z),[[Q,ut-(z-nt)],[Q,ut-(z-nt)],[Q,ut-(z-nt)],[Q,ut-(z-nt)]]}},s.prototype.lineWithRegions=function(e,i,u,d){var m=this,S=m.config,L,M,N="M",O,H,z,nt,Q,ut,ct,St,Ct=m.isCategorized()?.5:0,It,Dt,Wt=[];function Ft(Nt,Yt){var kt;for(kt=0;kt<Yt.length;kt++)if(Yt[kt].start<Nt&&Nt<=Yt[kt].end)return!0;return!1}if($(d))for(L=0;L<d.length;L++)Wt[L]={},Z(d[L].start)?Wt[L].start=e[0].x:Wt[L].start=m.isTimeSeries()?m.parseDate(d[L].start):d[L].start,Z(d[L].end)?Wt[L].end=e[e.length-1].x:Wt[L].end=m.isTimeSeries()?m.parseDate(d[L].end):d[L].end;It=S.axis_rotated?function(Nt){return u(Nt.value)}:function(Nt){return i(Nt.x)},Dt=S.axis_rotated?function(Nt){return i(Nt.x)}:function(Nt){return u(Nt.value)};function Ht(Nt){return"M"+Nt[0][0]+" "+Nt[0][1]+" "+Nt[1][0]+" "+Nt[1][1]}for(m.isTimeSeries()?O=function(Nt,Yt,kt,Gt){var zt=Nt.x.getTime(),Xt=Yt.x-Nt.x,de=new Date(zt+Xt*kt),Pe=new Date(zt+Xt*(kt+Gt)),we;return S.axis_rotated?we=[[u(z(kt)),i(de)],[u(z(kt+Gt)),i(Pe)]]:we=[[i(de),u(z(kt))],[i(Pe),u(z(kt+Gt))]],Ht(we)}:O=function(Nt,Yt,kt,Gt){var zt;return S.axis_rotated?zt=[[u(z(kt),!0),i(H(kt))],[u(z(kt+Gt),!0),i(H(kt+Gt))]]:zt=[[i(H(kt),!0),u(z(kt))],[i(H(kt+Gt),!0),u(z(kt+Gt))]],Ht(zt)},L=0;L<e.length;L++){if(Z(Wt)||!Ft(e[L].x,Wt))N+=" "+It(e[L])+" "+Dt(e[L]);else for(H=m.getScale(e[L-1].x+Ct,e[L].x+Ct,m.isTimeSeries()),z=m.getScale(e[L-1].value,e[L].value),nt=i(e[L].x)-i(e[L-1].x),Q=u(e[L].value)-u(e[L-1].value),ut=Math.sqrt(Math.pow(nt,2)+Math.pow(Q,2)),ct=2/ut,St=ct*2,M=ct;M<=1;M+=St)N+=O(e[L-1],e[L],M,ct);e[L].x}return N},s.prototype.updateArea=function(e){var i=this,u=i.d3,d=i.main.selectAll("."+F.areas).selectAll("."+F.area).data(i.lineData.bind(i)),m=d.enter().append("path").attr("class",i.classArea.bind(i)).style("fill",i.color).style("opacity",function(){return i.orgAreaOpacity=+u.select(this).style("opacity"),0});i.mainArea=m.merge(d).style("opacity",i.orgAreaOpacity),d.exit().transition().duration(e).style("opacity",0)},s.prototype.redrawArea=function(e,i,u){return[(i?this.mainArea.transition(u):this.mainArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},s.prototype.generateDrawArea=function(e,i){var u=this,d=u.config,m=u.d3.area(),S=u.generateGetAreaPoints(e,i),L=i?u.getSubYScale:u.getYScale,M=function(H){return(i?u.subxx:u.xx).call(u,H)},N=function(H,z){return d.data_groups.length>0?S(H,z)[0][1]:L.call(u,H.id)(u.getAreaBaseValue(H.id))},O=function(H,z){return d.data_groups.length>0?S(H,z)[1][1]:L.call(u,H.id)(H.value)};return m=d.axis_rotated?m.x0(N).x1(O).y(M):m.x(M).y0(d.area_above?0:N).y1(O),d.line_connectNull||(m=m.defined(function(H){return H.value!==null})),function(H){var z=d.line_connectNull?u.filterRemoveNull(H.values):H.values,nt=0,Q=0,ut;return u.isAreaType(H)?(u.isStepType(H)&&(z=u.convertValuesToStep(z)),ut=m.curve(u.getInterpolate(H))(z)):(z[0]&&(nt=u.x(z[0].x),Q=u.getYScale(H.id)(z[0].value)),ut=d.axis_rotated?"M "+Q+" "+nt:"M "+nt+" "+Q),ut||"M 0 0"}},s.prototype.getAreaBaseValue=function(){return 0},s.prototype.generateGetAreaPoints=function(e,i){var u=this,d=u.config,m=e.__max__+1,S=u.getShapeX(0,m,e,!!i),L=u.getShapeY(!!i),M=u.getShapeOffset(u.isAreaType,e,!!i),N=i?u.getSubYScale:u.getYScale;return function(O,H){var z=N.call(u,O.id)(0),nt=M(O,H)||z,Q=S(O),ut=L(O);return d.axis_rotated&&(0<O.value&&ut<z||O.value<0&&z<ut)&&(ut=z),[[Q,nt],[Q,ut-(z-nt)],[Q,ut-(z-nt)],[Q,nt]]}},s.prototype.updateCircle=function(e,i){var u=this,d=u.main.selectAll("."+F.circles).selectAll("."+F.circle).data(u.lineOrScatterOrStanfordData.bind(u)),m=d.enter().append("circle").attr("shape-rendering",u.isStanfordGraphType()?"crispEdges":"").attr("class",u.classCircle.bind(u)).attr("cx",e).attr("cy",i).attr("r",u.pointR.bind(u)).style("color",u.isStanfordGraphType()?u.getStanfordPointColor.bind(u):u.color);u.mainCircle=m.merge(d).style("opacity",u.isStanfordGraphType()?1:u.initialOpacityForCircle.bind(u)),d.exit().style("opacity",0)},s.prototype.redrawCircle=function(e,i,u,d){var m=this,S=m.main.selectAll("."+F.selectedCircle);return[(u?m.mainCircle.transition(d):m.mainCircle).style("opacity",this.opacityForCircle.bind(m)).style("color",m.isStanfordGraphType()?m.getStanfordPointColor.bind(m):m.color).attr("cx",e).attr("cy",i),(u?S.transition(d):S).attr("cx",e).attr("cy",i)]},s.prototype.circleX=function(e){return e.x||e.x===0?this.x(e.x):null},s.prototype.updateCircleY=function(){var e=this,i,u;e.config.data_groups.length>0?(i=e.getShapeIndices(e.isLineType),u=e.generateGetLinePoints(i),e.circleY=function(d,m){return u(d,m)[0][1]}):e.circleY=function(d){return e.getYScale(d.id)(d.value)}},s.prototype.getCircles=function(e,i){var u=this;return(i?u.main.selectAll("."+F.circles+u.getTargetSelectorSuffix(i)):u.main).selectAll("."+F.circle+(tt(e)?"-"+e:""))},s.prototype.expandCircles=function(e,i,u){var d=this,m=d.pointExpandedR.bind(d);u&&d.unexpandCircles(),d.getCircles(e,i).classed(F.EXPANDED,!0).attr("r",m)},s.prototype.unexpandCircles=function(e){var i=this,u=i.pointR.bind(i);i.getCircles(e).filter(function(){return i.d3.select(this).classed(F.EXPANDED)}).classed(F.EXPANDED,!1).attr("r",u)},s.prototype.pointR=function(e){var i=this,u=i.config;return i.isStepType(e)?0:X(u.point_r)?u.point_r(e):u.point_r},s.prototype.pointExpandedR=function(e){var i=this,u=i.config;return u.point_focus_expand_enabled?X(u.point_focus_expand_r)?u.point_focus_expand_r(e):u.point_focus_expand_r?u.point_focus_expand_r:i.pointR(e)*1.75:i.pointR(e)},s.prototype.pointSelectR=function(e){var i=this,u=i.config;return X(u.point_select_r)?u.point_select_r(e):u.point_select_r?u.point_select_r:i.pointR(e)*4},s.prototype.isWithinCircle=function(e,i){var u=this.d3,d=u.mouse(e),m=u.select(e),S=+m.attr("cx"),L=+m.attr("cy");return Math.sqrt(Math.pow(S-d[0],2)+Math.pow(L-d[1],2))<i},s.prototype.isWithinStep=function(e,i){return Math.abs(i-this.d3.mouse(e)[1])<30},s.prototype.getCurrentWidth=function(){var e=this,i=e.config;return i.size_width?i.size_width:e.getParentWidth()},s.prototype.getCurrentHeight=function(){var e=this,i=e.config,u=i.size_height?i.size_height:e.getParentHeight();return u>0?u:320/(e.hasType("gauge")&&!i.gauge_fullCircle?2:1)},s.prototype.getCurrentPaddingTop=function(){var e=this,i=e.config,u=tt(i.padding_top)?i.padding_top:0;return e.title&&e.title.node()&&(u+=e.getTitlePadding()),u},s.prototype.getCurrentPaddingBottom=function(){var e=this.config;return tt(e.padding_bottom)?e.padding_bottom:0},s.prototype.getCurrentPaddingLeft=function(e){var i=this,u=i.config;return tt(u.padding_left)?u.padding_left:u.axis_rotated?!u.axis_x_show||u.axis_x_inner?1:Math.max(y(i.getAxisWidthByAxisId("x",e)),40):!u.axis_y_show||u.axis_y_inner?i.axis.getYAxisLabelPosition().isOuter?30:1:y(i.getAxisWidthByAxisId("y",e))},s.prototype.getCurrentPaddingRight=function(){var e=this,i=e.config,u=0,d=10,m=e.isLegendRight?e.getLegendWidth()+20:0;return tt(i.padding_right)?u=i.padding_right+1:i.axis_rotated?u=d+m:!i.axis_y2_show||i.axis_y2_inner?u=2+m+(e.axis.getY2AxisLabelPosition().isOuter?20:0):u=y(e.getAxisWidthByAxisId("y2"))+m,e.colorScale&&e.colorScale.node()&&(u+=e.getColorScalePadding()),u},s.prototype.getParentRectValue=function(e){for(var i=this.selectChart.node(),u;i&&i.tagName!=="BODY";){try{u=i.getBoundingClientRect()[e]}catch{e==="width"&&(u=i.offsetWidth)}if(u)break;i=i.parentNode}return u},s.prototype.getParentWidth=function(){return this.getParentRectValue("width")},s.prototype.getParentHeight=function(){var e=this.selectChart.style("height");return e.indexOf("px")>0?+e.replace("px",""):0},s.prototype.getSvgLeft=function(e){var i=this,u=i.config,d=u.axis_rotated||!u.axis_rotated&&!u.axis_y_inner,m=u.axis_rotated?F.axisX:F.axisY,S=i.main.select("."+m).node(),L=S&&d?S.getBoundingClientRect():{right:0},M=i.selectChart.node().getBoundingClientRect(),N=i.hasArcType(),O=L.right-M.left-(N?0:i.getCurrentPaddingLeft(e));return O>0?O:0},s.prototype.getAxisWidthByAxisId=function(e,i){var u=this,d=u.axis.getLabelPositionById(e);return u.axis.getMaxTickWidth(e,i)+(d.isInner?20:40)},s.prototype.getHorizontalAxisHeight=function(e,i){var u=this,d=u.config,m=30;return e==="x"&&!($(i)&&i?d.subchart_axis_x_show:d.axis_x_show)?8:e==="x"&&d.axis_x_height?d.axis_x_height:e==="y"&&!d.axis_y_show?d.legend_show&&!u.isLegendRight&&!u.isLegendInset?10:1:e==="y2"&&!d.axis_y2_show?u.rotated_padding_top:(e==="x"&&!d.axis_rotated&&d.axis_x_tick_rotate&&(m=30+u.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-Math.abs(d.axis_x_tick_rotate))/180)),e==="y"&&d.axis_rotated&&d.axis_y_tick_rotate&&(m=30+u.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-Math.abs(d.axis_y_tick_rotate))/180)),m+(u.axis.getLabelPositionById(e).isInner?0:10)+(e==="y2"?-10:0))},s.prototype.initBrush=function(e){var i=this,u=i.d3;return i.brush=(i.config.axis_rotated?u.brushY():u.brushX()).on("brush",function(){var d=u.event.sourceEvent;d&&d.type==="zoom"||i.redrawForBrush()}).on("end",function(){var d=u.event.sourceEvent;d&&d.type==="zoom"||i.brush.empty()&&d&&d.type!=="end"&&i.brush.clear()}),i.brush.updateExtent=function(){var d=this.scale.range(),m;return i.config.axis_rotated?m=[[0,d[0]],[i.width2,d[1]]]:m=[[d[0],0],[d[1],i.height2]],this.extent(m),this},i.brush.updateScale=function(d){return this.scale=d,this},i.brush.update=function(d){this.updateScale(d||i.subX).updateExtent(),i.context.select("."+F.brush).call(this)},i.brush.clear=function(){i.context.select("."+F.brush).call(i.brush.move,null)},i.brush.selection=function(){return u.brushSelection(i.context.select("."+F.brush).node())},i.brush.selectionAsValue=function(d,m){var S,L;return d?(i.context&&(S=[this.scale(d[0]),this.scale(d[1])],L=i.context.select("."+F.brush),m&&(L=L.transition()),i.brush.move(L,S)),[]):(S=i.brush.selection()||[0,0],[this.scale.invert(S[0]),this.scale.invert(S[1])])},i.brush.empty=function(){var d=i.brush.selection();return!d||d[0]===d[1]},i.brush.updateScale(e)},s.prototype.initSubchart=function(){var e=this,i=e.config,u=e.context=e.svg.append("g").attr("transform",e.getTranslate("context"));u.style("visibility","visible"),u.append("g").attr("clip-path",e.clipPathForSubchart).attr("class",F.chart),u.select("."+F.chart).append("g").attr("class",F.chartBars),u.select("."+F.chart).append("g").attr("class",F.chartLines),u.append("g").attr("clip-path",e.clipPath).attr("class",F.brush),e.axes.subx=u.append("g").attr("class",F.axisX).attr("transform",e.getTranslate("subx")).attr("clip-path",i.axis_rotated?"":e.clipPathForXAxis).style("visibility",i.subchart_axis_x_show?"visible":"hidden")},s.prototype.initSubchartBrush=function(){var e=this;e.initBrush(e.subX).updateExtent(),e.context.select("."+F.brush).call(e.brush)},s.prototype.updateTargetsForSubchart=function(e){var i=this,u=i.context,d=i.config,m,S,L,M,N=i.classChartBar.bind(i),O=i.classBars.bind(i),H=i.classChartLine.bind(i),z=i.classLines.bind(i),nt=i.classAreas.bind(i);M=u.select("."+F.chartBars).selectAll("."+F.chartBar).data(e),L=M.enter().append("g").style("opacity",0),L.merge(M).attr("class",N),L.append("g").attr("class",O),S=u.select("."+F.chartLines).selectAll("."+F.chartLine).data(e),m=S.enter().append("g").style("opacity",0),m.merge(S).attr("class",H),m.append("g").attr("class",z),m.append("g").attr("class",nt),u.selectAll("."+F.brush+" rect").attr(d.axis_rotated?"width":"height",d.axis_rotated?i.width2:i.height2)},s.prototype.updateBarForSubchart=function(e){var i=this,u=i.context.selectAll("."+F.bars).selectAll("."+F.bar).data(i.barData.bind(i)),d=u.enter().append("path").attr("class",i.classBar.bind(i)).style("stroke","none").style("fill",i.color);u.exit().transition().duration(e).style("opacity",0).remove(),i.contextBar=d.merge(u).style("opacity",i.initialOpacity.bind(i))},s.prototype.redrawBarForSubchart=function(e,i,u){(i?this.contextBar.transition(Math.random().toString()).duration(u):this.contextBar).attr("d",e).style("opacity",1)},s.prototype.updateLineForSubchart=function(e){var i=this,u=i.context.selectAll("."+F.lines).selectAll("."+F.line).data(i.lineData.bind(i)),d=u.enter().append("path").attr("class",i.classLine.bind(i)).style("stroke",i.color);u.exit().transition().duration(e).style("opacity",0).remove(),i.contextLine=d.merge(u).style("opacity",i.initialOpacity.bind(i))},s.prototype.redrawLineForSubchart=function(e,i,u){(i?this.contextLine.transition(Math.random().toString()).duration(u):this.contextLine).attr("d",e).style("opacity",1)},s.prototype.updateAreaForSubchart=function(e){var i=this,u=i.d3,d=i.context.selectAll("."+F.areas).selectAll("."+F.area).data(i.lineData.bind(i)),m=d.enter().append("path").attr("class",i.classArea.bind(i)).style("fill",i.color).style("opacity",function(){return i.orgAreaOpacity=+u.select(this).style("opacity"),0});d.exit().transition().duration(e).style("opacity",0).remove(),i.contextArea=m.merge(d).style("opacity",0)},s.prototype.redrawAreaForSubchart=function(e,i,u){(i?this.contextArea.transition(Math.random().toString()).duration(u):this.contextArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)},s.prototype.redrawSubchart=function(e,i,u,d,m,S,L){var M=this,N=M.d3,O,H,z;N.event&&N.event.type==="zoom"&&M.brush.selectionAsValue(M.x.orgDomain()),e&&(M.brush.empty()||M.brush.selectionAsValue(M.x.orgDomain()),O=M.generateDrawArea(m,!0),H=M.generateDrawBar(S,!0),z=M.generateDrawLine(L,!0),M.updateBarForSubchart(u),M.updateLineForSubchart(u),M.updateAreaForSubchart(u),M.redrawBarForSubchart(H,u,u),M.redrawLineForSubchart(z,u,u),M.redrawAreaForSubchart(O,u,u))},s.prototype.redrawForBrush=function(){var e=this,i=e.x,u=e.d3,d;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),d=u.event.selection||e.brush.scale.range(),e.main.select("."+F.eventRect).call(e.zoom.transform,u.zoomIdentity.scale(e.width/(d[1]-d[0])).translate(-d[0],0)),e.config.subchart_onbrush.call(e.api,i.orgDomain())},s.prototype.transformContext=function(e,i){var u=this,d;i&&i.axisSubX?d=i.axisSubX:(d=u.context.select("."+F.axisX),e&&(d=d.transition())),u.context.attr("transform",u.getTranslate("context")),d.attr("transform",u.getTranslate("subx"))},s.prototype.getDefaultSelection=function(){var e=this,i=e.config,u=X(i.axis_x_selection)?i.axis_x_selection(e.getXDomain(e.data.targets)):i.axis_x_selection;return e.isTimeSeries()&&(u=[e.parseDate(u[0]),e.parseDate(u[1])]),u},s.prototype.removeSubchart=function(){var e=this;e.brush=null,e.context.remove(),e.context=null},s.prototype.initText=function(){var e=this;e.main.select("."+F.chart).append("g").attr("class",F.chartTexts),e.mainText=e.d3.selectAll([])},s.prototype.updateTargetsForText=function(e){var i=this,u=i.classChartText.bind(i),d=i.classTexts.bind(i),m=i.classFocus.bind(i),S=i.main.select("."+F.chartTexts).selectAll("."+F.chartText).data(e),L=S.enter().append("g").attr("class",u).style("opacity",0).style("pointer-events","none");L.append("g").attr("class",d),L.merge(S).attr("class",function(M){return u(M)+m(M)})},s.prototype.updateText=function(e,i,u){var d=this,m=d.config,S=d.barOrLineData.bind(d),L=d.classText.bind(d),M=d.main.selectAll("."+F.texts).selectAll("."+F.text).data(S),N=M.enter().append("text").attr("class",L).attr("text-anchor",function(O){return m.axis_rotated?O.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",e).attr("y",i).style("fill",function(O){return d.color(O)}).style("fill-opacity",0);d.mainText=N.merge(M).text(function(O,H,z){return d.dataLabelFormat(O.id)(O.value,O.id,H,z)}),M.exit().transition().duration(u).style("fill-opacity",0).remove()},s.prototype.redrawText=function(e,i,u,d,m){return[(d?this.mainText.transition(m):this.mainText).attr("x",e).attr("y",i).style("fill",this.color).style("fill-opacity",u?0:this.opacityForText.bind(this))]},s.prototype.getTextRect=function(e,i,u){var d=this.d3.select("body").append("div").classed("c3",!0),m=d.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),S=this.d3.select(u).style("font"),L;return m.selectAll(".dummy").data([e]).enter().append("text").classed(i||"",!0).style("font",S).text(e).each(function(){L=P(this)}),d.remove(),L},s.prototype.generateXYForText=function(e,i,u,d){var m=this,S=m.generateGetAreaPoints(e,!1),L=m.generateGetBarPoints(i,!1),M=m.generateGetLinePoints(u,!1),N=d?m.getXForText:m.getYForText;return function(O,H){var z=m.isAreaType(O)?S:m.isBarType(O)?L:M;return N.call(m,z(O,H),O,this)}},s.prototype.getXForText=function(e,i,u){var d=this,m=P(u),S,L;return d.config.axis_rotated?(L=d.isBarType(i)?4:6,S=e[2][1]+L*(i.value<0?-1:1)):S=d.hasType("bar")?(e[2][0]+e[0][0])/2:e[0][0],i.value===null&&(S>d.width?S=d.width-m.width:S<0&&(S=4)),S},s.prototype.getYForText=function(e,i,u){var d=this,m=P(u),S;return d.config.axis_rotated?S=(e[0][0]+e[2][0]+m.height*.6)/2:(S=e[2][1],i.value<0||i.value===0&&!d.hasPositiveValue?(S+=m.height,d.isBarType(i)&&d.isSafari()?S-=3:!d.isBarType(i)&&d.isChrome()&&(S+=3)):S+=d.isBarType(i)?-3:-6),i.value===null&&!d.config.axis_rotated&&(S<m.height?S=m.height:S>this.height&&(S=this.height-4)),S},s.prototype.initTitle=function(){var e=this;e.title=e.svg.append("text").text(e.config.title_text).attr("class",e.CLASS.title)},s.prototype.redrawTitle=function(){var e=this;e.title.attr("x",e.xForTitle.bind(e)).attr("y",e.yForTitle.bind(e))},s.prototype.xForTitle=function(){var e=this,i=e.config,u=i.title_position||"left",d;return u.indexOf("right")>=0?d=e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width-i.title_padding.right:u.indexOf("center")>=0?d=Math.max((e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width)/2,0):d=i.title_padding.left,d},s.prototype.yForTitle=function(){var e=this;return e.config.title_padding.top+e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).height},s.prototype.getTitlePadding=function(){var e=this;return e.yForTitle()+e.config.title_padding.bottom};function pt(e){return e/Math.pow(10,Math.ceil(Math.log(e)/Math.LN10-1e-12))===1}s.prototype.drawColorScale=function(){var e=this,i=e.d3,u=e.config,d=e.data.targets[0],m,S,L,M,N,O,H,z;if(m=isNaN(u.stanford_scaleWidth)?20:u.stanford_scaleWidth,S=5,S<0||m<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");z=e.height-u.stanford_padding.bottom-u.stanford_padding.top,M=i.range(u.stanford_padding.bottom,z,S),H=i.scaleSequential(d.colors).domain([M[M.length-1],M[0]]),e.colorScale&&e.colorScale.remove(),e.colorScale=e.svg.append("g").attr("width",50).attr("height",z).attr("class",F.colorScale),e.colorScale.append("g").attr("transform","translate(0, "+u.stanford_padding.top+")").selectAll("bars").data(M).enter().append("rect").attr("y",function(nt,Q){return Q*S}).attr("x",0).attr("width",m).attr("height",S).attr("fill",function(nt){return H(nt)}),O=i.scaleLog().domain([d.minEpochs,d.maxEpochs]).range([M[0]+u.stanford_padding.top+M[M.length-1]+S-1,M[0]+u.stanford_padding.top]),N=i.axisRight(O),u.stanford_scaleFormat==="pow10"?N.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):X(u.stanford_scaleFormat)?N.tickFormat(u.stanford_scaleFormat):N.tickFormat(i.format("d")),X(u.stanford_scaleValues)&&N.tickValues(u.stanford_scaleValues(d.minEpochs,d.maxEpochs)),L=e.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+m+",0)").call(N),u.stanford_scaleFormat==="pow10"&&L.selectAll(".tick text").text(null).filter(pt).text(10).append("tspan").attr("dy","-.7em").text(function(nt){return Math.round(Math.log(nt)/Math.LN10)}),e.colorScale.attr("transform","translate("+(e.currentWidth-e.xForColorScale())+", 0)")},s.prototype.xForColorScale=function(){var e=this;return e.config.stanford_padding.right+P(e.colorScale.node()).width},s.prototype.getColorScalePadding=function(){var e=this;return e.xForColorScale()+e.config.stanford_padding.left+20},s.prototype.isStanfordGraphType=function(){var e=this;return e.config.data_type==="stanford"},s.prototype.initStanfordData=function(){var e=this,i=e.d3,u=e.config,d=e.data.targets[0],m,S,L;if(d.values.sort(f),m=d.values.map(function(M){return M.epochs}),L=isNaN(u.stanford_scaleMin)?i.min(m):u.stanford_scaleMin,S=isNaN(u.stanford_scaleMax)?i.max(m):u.stanford_scaleMax,L>S)throw Error("Number of minEpochs has to be smaller than maxEpochs");d.colors=X(u.stanford_colors)?u.stanford_colors:i.interpolateHslLong(i.hsl(250,1,.5),i.hsl(0,1,.5)),d.colorscale=i.scaleSequentialLog(d.colors).domain([L,S]),d.minEpochs=L,d.maxEpochs=S},s.prototype.getStanfordPointColor=function(e){var i=this,u=i.data.targets[0];return u.colorscale(e.epochs)},s.prototype.getCentroid=function(e){var i=Lt(e),u=0,d=0,m,S,L,M,N;for(m=0,S=e.length-1;m<e.length;S=m,m+=1)M=e[m],N=e[S],L=M.x*N.y-N.x*M.y,u+=(M.x+N.x)*L,d+=(M.y+N.y)*L;return L=i*6,{x:u/L,y:d/L}},s.prototype.getStanfordTooltipTitle=function(e){var i=this,u=i.axis.getLabelText("x"),d=i.axis.getLabelText("y");return`
      <tr><th>`+(u?rt(u):"x")+"</th><th class='value'>"+e.x+`</th></tr>
      <tr><th>`+(d?rt(d):"y")+"</th><th class='value'>"+e.value+`</th></tr>
    `},s.prototype.countEpochsInRegion=function(e){var i=this,u=i.data.targets[0],d,m;return d=u.values.reduce(function(S,L){return S+Number(L.epochs)},0),m=u.values.reduce(function(S,L){return o(L,e)?S+Number(L.epochs):S},0),{value:m,percentage:m!==0?(m/d*100).toFixed(1):0}};var Lt=function(e){var i=0,u,d,m,S;for(u=0,d=e.length-1;u<e.length;d=u,u+=1)m=e[u],S=e[d],i+=m.x*S.y,i-=m.y*S.x;return i/=2,i},o=function(e,i){for(var u,d,m,S,L,M=e.x,N=e.value,O=!1,H=0,z=i.length-1;H<i.length;z=H++)u=i[H].x,d=i[H].y,S=i[z].x,m=i[z].y,L=d>N!=m>N&&M<(S-u)*(N-d)/(m-d)+u,L&&(O=!O);return O},f=function(e,i){return e.epochs<i.epochs?-1:e.epochs>i.epochs?1:0};return s.prototype.initStanfordElements=function(){var e=this;e.stanfordElements=e.main.select("."+F.chart).append("g").attr("class",F.stanfordElements),e.stanfordElements.append("g").attr("class",F.stanfordLines),e.stanfordElements.append("g").attr("class",F.stanfordTexts),e.stanfordElements.append("g").attr("class",F.stanfordRegions)},s.prototype.updateStanfordElements=function(e){var i=this,u=i.main,d=i.config,m,S,L,M,N,O,H=i.xvCustom.bind(i),z=i.yvCustom.bind(i),nt=i.countEpochsInRegion.bind(i);m=u.select("."+F.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+F.stanfordLine).data(d.stanford_lines),S=m.enter().append("g").attr("class",function(Q){return F.stanfordLine+(Q.class?" "+Q.class:"")}),S.append("line").attr("x1",function(Q){return d.axis_rotated?z(Q,"value_y1"):H(Q,"value_x1")}).attr("x2",function(Q){return d.axis_rotated?z(Q,"value_y2"):H(Q,"value_x2")}).attr("y1",function(Q){return d.axis_rotated?H(Q,"value_x1"):z(Q,"value_y1")}).attr("y2",function(Q){return d.axis_rotated?H(Q,"value_x2"):z(Q,"value_y2")}).style("opacity",0),i.stanfordLines=S.merge(m),i.stanfordLines.select("line").transition().duration(e).attr("x1",function(Q){return d.axis_rotated?z(Q,"value_y1"):H(Q,"value_x1")}).attr("x2",function(Q){return d.axis_rotated?z(Q,"value_y2"):H(Q,"value_x2")}).attr("y1",function(Q){return d.axis_rotated?H(Q,"value_x1"):z(Q,"value_y1")}).attr("y2",function(Q){return d.axis_rotated?H(Q,"value_x2"):z(Q,"value_y2")}).style("opacity",1),m.exit().transition().duration(e).style("opacity",0).remove(),N=u.select("."+F.stanfordTexts).selectAll("."+F.stanfordText).data(d.stanford_texts),O=N.enter().append("g").attr("class",function(Q){return F.stanfordText+(Q.class?" "+Q.class:"")}),O.append("text").attr("x",function(Q){return d.axis_rotated?z(Q,"y"):H(Q,"x")}).attr("y",function(Q){return d.axis_rotated?H(Q,"x"):z(Q,"y")}).style("opacity",0),i.stanfordTexts=O.merge(N),i.stanfordTexts.select("text").transition().duration(e).attr("x",function(Q){return d.axis_rotated?z(Q,"y"):H(Q,"x")}).attr("y",function(Q){return d.axis_rotated?H(Q,"x"):z(Q,"y")}).text(function(Q){return Q.content}).style("opacity",1),N.exit().transition().duration(e).style("opacity",0).remove(),L=u.select("."+F.stanfordRegions).selectAll("."+F.stanfordRegion).data(d.stanford_regions),M=L.enter().append("g").attr("class",function(Q){return F.stanfordRegion+(Q.class?" "+Q.class:"")}),M.append("polygon").attr("points",function(Q){return Q.points.map(function(ut){return[d.axis_rotated?z(ut,"y"):H(ut,"x"),d.axis_rotated?H(ut,"x"):z(ut,"y")].join(",")}).join(" ")}).style("opacity",0),M.append("text").attr("x",function(Q){return i.getCentroid(Q.points).x}).attr("y",function(Q){return i.getCentroid(Q.points).y}).style("opacity",0),i.stanfordRegions=M.merge(L),i.stanfordRegions.select("polygon").transition().duration(e).attr("points",function(Q){return Q.points.map(function(ut){return[d.axis_rotated?z(ut,"y"):H(ut,"x"),d.axis_rotated?H(ut,"x"):z(ut,"y")].join(",")}).join(" ")}).style("opacity",function(Q){return Q.opacity?Q.opacity:.2}),i.stanfordRegions.select("text").transition().duration(e).attr("x",function(Q){return d.axis_rotated?z(i.getCentroid(Q.points),"y"):H(i.getCentroid(Q.points),"x")}).attr("y",function(Q){return d.axis_rotated?H(i.getCentroid(Q.points),"x"):z(i.getCentroid(Q.points),"y")}).text(function(Q){if(Q.text){var ut,ct,St;return i.isStanfordGraphType()&&(St=nt(Q.points),ut=St.value,ct=St.percentage),Q.text(ut,ct)}return""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),L.exit().transition().duration(e).style("opacity",0).remove()},s.prototype.initTooltip=function(){var e=this,i=e.config,u;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",F.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),i.tooltip_init_show){if(e.isTimeSeries()&&Y(i.tooltip_init_x)){for(i.tooltip_init_x=e.parseDate(i.tooltip_init_x),u=0;u<e.data.targets[0].values.length&&e.data.targets[0].values[u].x-i.tooltip_init_x!==0;u++);i.tooltip_init_x=u}e.tooltip.html(i.tooltip_contents.call(e,e.data.targets.map(function(d){return e.addName(d.values[i.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",i.tooltip_init_position.top).style("left",i.tooltip_init_position.left).style("display","block")}},s.prototype.getTooltipSortFunction=function(){var e=this,i=e.config;if(i.data_groups.length===0||i.tooltip_order!==void 0){var u=i.tooltip_order;u===void 0&&(u=i.data_order);var d=function(L){return L?L.value:null};if(Y(u)&&u.toLowerCase()==="asc")return function(L,M){return d(L)-d(M)};if(Y(u)&&u.toLowerCase()==="desc")return function(L,M){return d(M)-d(L)};if(X(u)){var m=u;return i.tooltip_order===void 0&&(m=function(L,M){return u(L?{id:L.id,values:[L]}:null,M?{id:M.id,values:[M]}:null)}),m}else if(V(u))return function(L,M){return u.indexOf(L.id)-u.indexOf(M.id)}}else{var S=e.orderTargets(e.data.targets).map(function(L){return L.id});return(e.isOrderAsc()||e.isOrderDesc())&&(S=S.reverse()),function(L,M){return S.indexOf(L.id)-S.indexOf(M.id)}}},s.prototype.getTooltipContent=function(e,i,u,d){var m=this,S=m.config,L=S.tooltip_format_title||i,M=S.tooltip_format_name||function(St){return St},N,O,H,z,nt,Q,ut=S.tooltip_format_value;ut||(ut=m.isTargetNormalized(e.id)?function(St,Ct){return(Ct*100).toFixed(2)+"%"}:u);var ct=this.getTooltipSortFunction();for(ct&&e.sort(ct),O=0;O<e.length;O++)if(e[O]&&(e[O].value||e[O].value===0)){if(m.isStanfordGraphType())N||(H=m.getStanfordTooltipTitle(e[O]),N="<table class='"+m.CLASS.tooltip+"'>"+H),Q=m.getStanfordPointColor(e[O]),nt=rt(S.data_epochs),z=e[O].epochs;else if(N||(H=rt(L?L(e[O].x,e[O].index):e[O].x),N="<table class='"+m.CLASS.tooltip+"'>"+(H||H===0?"<tr><th colspan='2'>"+H+"</th></tr>":"")),z=rt(ut(e[O].value,e[O].ratio,e[O].id,e[O].index,e)),z!==void 0){if(e[O].name===null)continue;nt=rt(M(e[O].name,e[O].ratio,e[O].id,e[O].index)),Q=m.levelColor?m.levelColor(e[O].value):d(e[O].id)}z!==void 0&&(N+="<tr class='"+m.CLASS.tooltipName+"-"+m.getTargetSelectorSuffix(e[O].id)+"'>",N+="<td class='name'><span style='background-color:"+Q+"'></span>"+nt+"</td>",N+="<td class='value'>"+z+"</td>",N+="</tr>")}return N+"</table>"},s.prototype.tooltipPosition=function(e,i,u,d){var m=this,S=m.config,L=m.d3,M,N,O,H,z,nt=m.hasArcType(),Q=L.mouse(d);return nt?(N=(m.width-(m.isLegendRight?m.getLegendWidth():0))/2+Q[0],H=(m.hasType("gauge")?m.height:m.height/2)+Q[1]+20):(M=m.getSvgLeft(!0),S.axis_rotated?(N=M+Q[0]+100,O=N+i,z=m.currentWidth-m.getCurrentPaddingRight(),H=m.x(e[0].x)+20):(N=M+m.getCurrentPaddingLeft(!0)+m.x(e[0].x)+20,O=N+i,z=M+m.currentWidth-m.getCurrentPaddingRight(),H=Q[1]+15),O>z&&(N-=O-z+20),H+u>m.currentHeight&&(H-=u+30)),H<0&&(H=0),{top:H,left:N}},s.prototype.showTooltip=function(e,i){var u=this,d=u.config,m,S,L,M=u.hasArcType(),N=e.filter(function(H){return H&&tt(H.value)}),O=d.tooltip_position||s.prototype.tooltipPosition;if(N.length===0||!d.tooltip_show){u.hideTooltip();return}u.tooltip.html(d.tooltip_contents.call(u,e,u.axis.getXAxisTickFormat(),u.getYFormat(M),u.color)).style("display","block"),m=u.tooltip.property("offsetWidth"),S=u.tooltip.property("offsetHeight"),L=O.call(this,N,m,S,i),u.tooltip.style("top",L.top+"px").style("left",L.left+"px")},s.prototype.hideTooltip=function(){this.tooltip.style("display","none")},s.prototype.setTargetType=function(e,i){var u=this,d=u.config;u.mapToTargetIds(e).forEach(function(m){u.withoutFadeIn[m]=i===d.data_types[m],d.data_types[m]=i}),e||(d.data_type=i)},s.prototype.hasType=function(e,i){var u=this,d=u.config.data_types,m=!1;return i=i||u.data.targets,i&&i.length?i.forEach(function(S){var L=d[S.id];(L&&L.indexOf(e)>=0||!L&&e==="line")&&(m=!0)}):Object.keys(d).length?Object.keys(d).forEach(function(S){d[S]===e&&(m=!0)}):m=u.config.data_type===e,m},s.prototype.hasArcType=function(e){return this.hasType("pie",e)||this.hasType("donut",e)||this.hasType("gauge",e)},s.prototype.isLineType=function(e){var i=this.config,u=Y(e)?e:e.id;return!i.data_types[u]||["line","spline","area","area-spline","step","area-step"].indexOf(i.data_types[u])>=0},s.prototype.isStepType=function(e){var i=Y(e)?e:e.id;return["step","area-step"].indexOf(this.config.data_types[i])>=0},s.prototype.isSplineType=function(e){var i=Y(e)?e:e.id;return["spline","area-spline"].indexOf(this.config.data_types[i])>=0},s.prototype.isAreaType=function(e){var i=Y(e)?e:e.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[i])>=0},s.prototype.isBarType=function(e){var i=Y(e)?e:e.id;return this.config.data_types[i]==="bar"},s.prototype.isScatterType=function(e){var i=Y(e)?e:e.id;return this.config.data_types[i]==="scatter"},s.prototype.isStanfordType=function(e){var i=Y(e)?e:e.id;return this.config.data_types[i]==="stanford"},s.prototype.isPieType=function(e){var i=Y(e)?e:e.id;return this.config.data_types[i]==="pie"},s.prototype.isGaugeType=function(e){var i=Y(e)?e:e.id;return this.config.data_types[i]==="gauge"},s.prototype.isDonutType=function(e){var i=Y(e)?e:e.id;return this.config.data_types[i]==="donut"},s.prototype.isArcType=function(e){return this.isPieType(e)||this.isDonutType(e)||this.isGaugeType(e)},s.prototype.lineData=function(e){return this.isLineType(e)?[e]:[]},s.prototype.arcData=function(e){return this.isArcType(e.data)?[e]:[]},s.prototype.barData=function(e){return this.isBarType(e)?e.values:[]},s.prototype.lineOrScatterOrStanfordData=function(e){return this.isLineType(e)||this.isScatterType(e)||this.isStanfordType(e)?e.values:[]},s.prototype.barOrLineData=function(e){return this.isBarType(e)||this.isLineType(e)?e.values:[]},s.prototype.isSafari=function(){var e=window.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0},s.prototype.isChrome=function(){var e=window.navigator.userAgent;return e.indexOf("Chrome")>=0},s.prototype.initZoom=function(){var e=this,i=e.d3,u=e.config,d;return e.zoom=i.zoom().on("start",function(){if(u.zoom_type==="scroll"){var m=i.event.sourceEvent;m&&m.type==="brush"||(d=m,u.zoom_onzoomstart.call(e.api,m))}}).on("zoom",function(){if(u.zoom_type==="scroll"){var m=i.event.sourceEvent;m&&m.type==="brush"||(e.redrawForZoom(),u.zoom_onzoom.call(e.api,e.x.orgDomain()))}}).on("end",function(){if(u.zoom_type==="scroll"){var m=i.event.sourceEvent;m&&m.type==="brush"||m&&d.clientX===m.clientX&&d.clientY===m.clientY||u.zoom_onzoomend.call(e.api,e.x.orgDomain())}}),e.zoom.updateDomain=function(){return i.event&&i.event.transform&&(u.axis_rotated&&u.zoom_type==="scroll"&&i.event.sourceEvent.type==="mousemove"?e.x.domain(i.event.transform.rescaleY(e.subX).domain()):e.x.domain(i.event.transform.rescaleX(e.subX).domain())),this},e.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[e.width,e.height]]).extent([[0,0],[e.width,e.height]]),this},e.zoom.update=function(){return this.updateExtent().updateDomain()},e.zoom.updateExtent()},s.prototype.zoomTransform=function(e){var i=this,u=[i.x(e[0]),i.x(e[1])];return i.d3.zoomIdentity.scale(i.width/(u[1]-u[0])).translate(-u[0],0)},s.prototype.initDragZoom=function(){var e=this,i=e.d3,u=e.config,d=e.context=e.svg,m=e.margin.left+20.5,S=e.margin.top+.5;if(u.zoom_type==="drag"&&u.zoom_enabled){var L=function(N){return N&&N.map(function(O){return e.x.invert(O)})},M=e.dragZoomBrush=i.brushX().on("start",function(){e.api.unzoom(),e.svg.select("."+F.dragZoom).classed("disabled",!1),u.zoom_onzoomstart.call(e.api,i.event.sourceEvent)}).on("brush",function(){u.zoom_onzoom.call(e.api,L(i.event.selection))}).on("end",function(){if(i.event.selection!=null){var N=L(i.event.selection);u.zoom_disableDefaultBehavior||e.api.zoom(N),e.svg.select("."+F.dragZoom).classed("disabled",!0),u.zoom_onzoomend.call(e.api,N)}});d.append("g").classed(F.dragZoom,!0).attr("clip-path",e.clipPath).attr("transform","translate("+m+","+S+")").call(M)}},s.prototype.getZoomDomain=function(){var e=this,i=e.config,u=e.d3,d=u.min([e.orgXDomain[0],i.zoom_x_min]),m=u.max([e.orgXDomain[1],i.zoom_x_max]);return[d,m]},s.prototype.redrawForZoom=function(){var e=this,i=e.d3,u=e.config,d=e.zoom,m=e.x;u.zoom_enabled&&e.filterTargetsToShow(e.data.targets).length!==0&&(d.update(),!u.zoom_disableDefaultBehavior&&(e.isCategorized()&&m.orgDomain()[0]===e.orgXDomain[0]&&m.domain([e.orgXDomain[0]-1e-10,m.orgDomain()[1]]),e.redraw({withTransition:!1,withY:u.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),i.event.sourceEvent&&i.event.sourceEvent.type==="mousemove"&&(e.cancelClick=!0)))},_t})})(ZS);var lU=ZS.exports;lU.generate({bindto:"#chart",data:{type:"pie",columns:[["Louvre ",1],["Antony ",2],["Anty ",3],["",4]],colors:{"Louvre ":"#DACBFF","Antony ":"#9D7FEA","Anty ":"#5434A7",:"#301E5F"}}})});export default hU();
